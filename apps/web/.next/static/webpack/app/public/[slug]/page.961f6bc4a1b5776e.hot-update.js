"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/public/[slug]/page",{

/***/ "(app-pages-browser)/./src/components/public-booking/booking-flow.tsx":
/*!********************************************************!*\
  !*** ./src/components/public-booking/booking-flow.tsx ***!
  \********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PublicBookingExperience: function() { return /* binding */ PublicBookingExperience; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/shield-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/credit-card.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar-days.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/party-popper.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _stripe_stripe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stripe/stripe-js */ \"(app-pages-browser)/../../node_modules/@stripe/stripe-js/lib/index.mjs\");\n/* harmony import */ var _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @stripe/react-stripe-js */ \"(app-pages-browser)/../../node_modules/@stripe/react-stripe-js/dist/react-stripe.esm.mjs\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/badge */ \"(app-pages-browser)/./src/components/ui/badge.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/helper-text */ \"(app-pages-browser)/./src/components/ui/helper-text.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./src/components/ui/input.tsx\");\n/* harmony import */ var _components_ui_toast__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/toast */ \"(app-pages-browser)/./src/components/ui/toast.tsx\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* harmony import */ var _lib_availability_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/availability-utils */ \"(app-pages-browser)/./src/lib/availability-utils.ts\");\n/* harmony import */ var _lib_timezone__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/timezone */ \"(app-pages-browser)/./src/lib/timezone.ts\");\n/* __next_internal_client_entry_do_not_use__ PublicBookingExperience auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Initialize Stripe\nconst stripePromise = (0,_stripe_stripe_js__WEBPACK_IMPORTED_MODULE_4__.loadStripe)(\"pk_test_51SLrw1RtjyTFPgioLF9XPNjoWfEznrkim8IdiBxqaqM22ZJKT9FchK6d3DRWIVvPkmkdgH8aEFFneAKcM0z7yllt00l3anN4rc\" || 0);\nfunction PublicBookingExperience(param) {\n    let { business, workspace, recordBooking } = param;\n    _s();\n    const toast = (0,_components_ui_toast__WEBPACK_IMPORTED_MODULE_10__.useToast)();\n    const [step, setStep] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"catalog\");\n    const [selectedServiceId, setSelectedServiceId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [selectedStaffId, setSelectedStaffId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"any\");\n    const [selectedSlot, setSelectedSlot] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [giftCardState, setGiftCardState] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [giftCardInput, setGiftCardInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [giftCardError, setGiftCardError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [customerName, setCustomerName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [customerEmail, setCustomerEmail] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [customerPhone, setCustomerPhone] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [setupIntentClientSecret, setSetupIntentClientSecret] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [paymentMethodId, setPaymentMethodId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [createdBookingId, setCreatedBookingId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [createdBookingCode, setCreatedBookingCode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [consentChecked, setConsentChecked] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isPolicyModalOpen, setIsPolicyModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [createdBooking, setCreatedBooking] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [fetchedSlots, setFetchedSlots] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [isLoadingAvailability, setIsLoadingAvailability] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [availabilityError, setAvailabilityError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const selectedService = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (!selectedServiceId) return undefined;\n        for (const category of workspace.catalog){\n            const service = category.services.find((svc)=>svc.id === selectedServiceId);\n            if (service) {\n                return {\n                    ...service,\n                    categoryName: category.name,\n                    categoryColor: category.color\n                };\n            }\n        }\n        return undefined;\n    }, [\n        selectedServiceId,\n        workspace.catalog\n    ]);\n    // Fetch availability from API when service is selected\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!selectedService || step !== \"availability\") {\n            setFetchedSlots([]);\n            return;\n        }\n        async function fetchAvailability() {\n            setIsLoadingAvailability(true);\n            setAvailabilityError(null);\n            try {\n                // Fetch availability for the next 14 days (2 weeks)\n                const today = new Date();\n                const allSlots = [];\n                const timezone = workspace.identity.location.timezone || \"UTC\";\n                const dayFormatter = new Intl.DateTimeFormat(\"en-US\", {\n                    timeZone: timezone,\n                    weekday: \"long\"\n                });\n                for(let i = 0; i < 14; i++){\n                    const date = new Date(today);\n                    date.setDate(today.getDate() + i);\n                    const dateStr = date.toISOString().split(\"T\")[0]; // YYYY-MM-DD\n                    try {\n                        var _data_slots, _data_slots1;\n                        const response = await fetch(\"/api/public/\".concat(business.slug, \"/availability?service_id=\").concat(selectedService.id, \"&date=\").concat(dateStr));\n                        if (!response.ok) {\n                            console.warn(\"Failed to fetch availability for \".concat(dateStr, \":\"), response.status);\n                            continue;\n                        }\n                        const data = await response.json();\n                        console.log(\"[booking-flow] Fetched availability for \".concat(dateStr, \":\"), {\n                            slotsCount: ((_data_slots = data.slots) === null || _data_slots === void 0 ? void 0 : _data_slots.length) || 0,\n                            hasSlots: Array.isArray(data.slots),\n                            sampleSlot: (_data_slots1 = data.slots) === null || _data_slots1 === void 0 ? void 0 : _data_slots1[0]\n                        });\n                        if (data.slots && Array.isArray(data.slots)) {\n                            // Transform API slots to ExpandedAvailabilitySlot format\n                            for (const slot of data.slots){\n                                const startDate = new Date(slot.start_at);\n                                const endDate = new Date(slot.end_at);\n                                const dayLabel = dayFormatter.format(startDate);\n                                // Find staff member to get color\n                                const staffMember = workspace.staff.find((s)=>s.id === slot.staff_id);\n                                const staffColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) || \"#000000\";\n                                allSlots.push({\n                                    id: \"\".concat(slot.staff_id, \"-\").concat(slot.start_at),\n                                    serviceId: selectedService.id,\n                                    staffId: slot.staff_id,\n                                    staffName: slot.staff_name,\n                                    staffColor: staffColor,\n                                    startDateTime: slot.start_at,\n                                    endDateTime: slot.end_at,\n                                    dayLabel: dayLabel\n                                });\n                            }\n                        } else {\n                            console.warn(\"[booking-flow] No slots array in response for \".concat(dateStr, \":\"), data);\n                        }\n                    } catch (err) {\n                        console.error(\"Error fetching availability for \".concat(dateStr, \":\"), err);\n                    }\n                }\n                setFetchedSlots(allSlots);\n            } catch (error) {\n                console.error(\"Error fetching availability:\", error);\n                setAvailabilityError(\"Failed to load availability. Please try again.\");\n            } finally{\n                setIsLoadingAvailability(false);\n            }\n        }\n        fetchAvailability();\n    }, [\n        selectedService,\n        step,\n        business.slug,\n        workspace.staff,\n        workspace.identity.location.timezone\n    ]);\n    const serviceAvailability = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        // Use fetched slots from API instead of workspace.availability\n        return fetchedSlots;\n    }, [\n        fetchedSlots\n    ]);\n    const groupedSlots = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (!selectedService) return {};\n        const filtered = selectedStaffId === \"any\" ? serviceAvailability : serviceAvailability.filter((slot)=>slot.staffId === selectedStaffId);\n        return (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_12__.groupSlotsByDay)(filtered, workspace.identity.location.timezone || \"UTC\");\n    }, [\n        serviceAvailability,\n        selectedStaffId,\n        workspace.identity.location.timezone,\n        selectedService\n    ]);\n    var _selectedService_priceCents;\n    const listPriceCents = (_selectedService_priceCents = selectedService === null || selectedService === void 0 ? void 0 : selectedService.priceCents) !== null && _selectedService_priceCents !== void 0 ? _selectedService_priceCents : 0;\n    var _giftCardState_amountCents;\n    const appliedGiftCardCents = (_giftCardState_amountCents = giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) !== null && _giftCardState_amountCents !== void 0 ? _giftCardState_amountCents : 0;\n    const amountDueCents = Math.max(listPriceCents - appliedGiftCardCents, 0);\n    // Card is always required for all bookings (even cash) as backup for no-show fees\n    // But we display the business's accepted methods from onboarding for information\n    const businessAcceptedMethods = workspace.payment.acceptedMethods || [];\n    const acceptedMethodsForDisplay = businessAcceptedMethods.length > 0 ? businessAcceptedMethods : [\n        \"card\"\n    ]; // Default to card if no methods specified\n    const policies = workspace.policies;\n    const timezone = workspace.identity.location.timezone || \"UTC\";\n    const handleSelectService = (serviceId)=>{\n        setSelectedServiceId(serviceId);\n        setSelectedStaffId(\"any\");\n        setSelectedSlot(null);\n        setStep(\"availability\");\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n    };\n    const handleSelectSlot = (slot)=>{\n        setSelectedSlot(slot);\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n        setStep(\"checkout\");\n        window.scrollTo({\n            top: 0,\n            behavior: \"smooth\"\n        });\n    };\n    const handleApplyGiftCard = ()=>{\n        if (!selectedService) return;\n        const code = giftCardInput.trim().toUpperCase();\n        if (code.length === 0) {\n            setGiftCardError(\"Enter a gift card code to apply.\");\n            return;\n        }\n        const program = workspace.giftCards;\n        if (!program.config.enabled) {\n            setGiftCardError(\"Gift cards are not enabled for this business.\");\n            return;\n        }\n        const allCodes = new Set([\n            ...program.config.generatedCodes.map((entry)=>entry.toUpperCase()),\n            ...program.ledger.map((entry)=>entry.code.toUpperCase())\n        ]);\n        if (!allCodes.has(code)) {\n            setGiftCardError(\"That code is not recognized. Check the spelling and try again.\");\n            return;\n        }\n        const amountCents = program.config.amountType === \"amount\" ? program.config.amountValue : Math.round(selectedService.priceCents * program.config.amountValue / 100);\n        const appliedAmount = Math.min(amountCents, selectedService.priceCents);\n        if (appliedAmount <= 0) {\n            setGiftCardError(\"This gift card has no balance remaining.\");\n            return;\n        }\n        setGiftCardError(null);\n        setGiftCardState({\n            code,\n            amountCents: appliedAmount,\n            description: program.config.amountType === \"amount\" ? \"\".concat(formatCurrency(appliedAmount), \" applied\") : \"\".concat(program.config.amountValue, \"% off (\").concat(formatCurrency(appliedAmount), \")\")\n        });\n        toast.pushToast({\n            title: \"Gift card applied\",\n            description: \"We deducted \".concat(formatCurrency(appliedAmount), \" from today's total.\"),\n            intent: \"success\"\n        });\n    };\n    const handleSubmitCheckout = async ()=>{\n        if (!selectedService || !selectedSlot) return;\n        if (customerName.trim().length < 2) {\n            toast.pushToast({\n                title: \"Add your name\",\n                description: \"We need your first and last name to personalize notifications.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!isValidEmail(customerEmail)) {\n            toast.pushToast({\n                title: \"Enter a valid email\",\n                description: \"We use your email for confirmations and receipts.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!isValidPhone(customerPhone)) {\n            toast.pushToast({\n                title: \"Phone number required\",\n                description: \"Add a phone number so we can send reminders or reach you about changes.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!consentChecked) {\n            toast.pushToast({\n                title: \"Consent required\",\n                description: \"Review the policies and confirm you agree before booking.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        // If payment method is already confirmed, booking is already created and we're done\n        if (paymentMethodId && createdBookingId) {\n            // Booking is complete, show confirmation\n            if (selectedService && selectedSlot) {\n                var _workspace_staff_find;\n                const booking = {\n                    id: createdBookingId,\n                    code: createdBookingCode || \"TITHI-\".concat(createdBookingId.slice(0, 8).toUpperCase()),\n                    status: \"pending\",\n                    serviceId: selectedService.id,\n                    serviceName: selectedService.name,\n                    categoryName: selectedService.categoryName,\n                    durationMinutes: selectedService.durationMinutes,\n                    startDateTime: selectedSlot.startDateTime,\n                    endDateTime: selectedSlot.endDateTime,\n                    staff: {\n                        id: selectedSlot.staffId,\n                        name: selectedSlot.staffName,\n                        color: ((_workspace_staff_find = workspace.staff.find((s)=>s.id === selectedSlot.staffId)) === null || _workspace_staff_find === void 0 ? void 0 : _workspace_staff_find.color) || \"#000000\"\n                    },\n                    customer: {\n                        name: customerName.trim(),\n                        email: customerEmail.trim().toLowerCase(),\n                        phone: customerPhone.trim()\n                    },\n                    payments: [],\n                    financials: {\n                        listPriceCents: listPriceCents,\n                        giftCardAmountCents: (giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) || 0,\n                        platformFeeCents: 0,\n                        stripeFeeEstimateCents: 0,\n                        netPayoutCents: 0,\n                        currency: \"usd\"\n                    },\n                    policyConsent: createPolicyConsent(policies),\n                    requiresAction: false\n                };\n                setCreatedBooking(booking);\n                setStep(\"confirmation\");\n            }\n            return;\n        }\n        // Payment method must be set via Stripe Elements\n        if (!paymentMethodId) {\n            toast.pushToast({\n                title: \"Payment method required\",\n                description: \"Please complete the payment form above. Your card will be saved securely but not charged.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        // If we have paymentMethodId but no booking ID, the booking was created in useEffect\n        // We just need to wait for the payment to be processed (it should already be done)\n        if (paymentMethodId && !createdBookingId) {\n            // This shouldn't happen, but handle it gracefully\n            toast.pushToast({\n                title: \"Processing payment\",\n                description: \"Please wait while we complete your booking.\",\n                intent: \"info\"\n            });\n            return;\n        }\n    };\n    const handleResetFlow = ()=>{\n        setStep(\"catalog\");\n        setSelectedServiceId(null);\n        setSelectedStaffId(\"any\");\n        setSelectedSlot(null);\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n        setCustomerName(\"\");\n        setCustomerEmail(\"\");\n        setCustomerPhone(\"\");\n        setSetupIntentClientSecret(null);\n        setPaymentMethodId(null);\n        setCreatedBookingId(null);\n        setCreatedBookingCode(null);\n        setConsentChecked(false);\n        setIsPolicyModalOpen(false);\n        setCreatedBooking(null);\n    };\n    // Get branding from workspace\n    const branding = workspace.identity.branding;\n    const primaryColor1 = (branding === null || branding === void 0 ? void 0 : branding.primaryColor) || \"#5B64FF\";\n    const logoUrl = branding === null || branding === void 0 ? void 0 : branding.logoUrl;\n    var _selectedService_name;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative min-h-screen bg-gradient-to-br from-black via-slate-950 to-[#0b0d1a] text-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 -z-10\",\n                style: {\n                    background: \"radial-gradient(circle at top, \".concat(primaryColor1, \"25, transparent 60%)\")\n                }\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 406,\n                columnNumber: 7\n            }, this),\n            step === \"confirmation\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfettiOverlay, {}, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 410,\n                columnNumber: 34\n            }, this) : null,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"mx-auto max-w-5xl px-4 py-12 sm:px-6 lg:px-8\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-6 md:flex-row md:items-start md:justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-4\",\n                                    children: [\n                                        logoUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative h-16 w-16 flex-shrink-0 overflow-hidden rounded-2xl border border-white/10 bg-white/10\",\n                                            style: {\n                                                boxShadow: \"0 8px 16px -8px \".concat(primaryColor1, \"55\")\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                src: logoUrl,\n                                                alt: \"\".concat(workspace.identity.business.businessName, \" logo\"),\n                                                fill: true,\n                                                className: \"object-cover\",\n                                                unoptimized: true\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 421,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 417,\n                                            columnNumber: 17\n                                        }, this) : null,\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                    className: \"font-display text-4xl sm:text-5xl\",\n                                                    children: workspace.identity.business.businessName\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 431,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mt-1 text-sm text-white/60\",\n                                                    children: workspace.identity.business.description || \"booking app for local businesses\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 434,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 430,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 415,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                    intent: \"info\",\n                                    className: \"w-fit\",\n                                    children: \"Manual capture — no charge at booking\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 439,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mt-2 max-w-2xl text-base text-white/70\",\n                                        children: \"Select a service, choose the best time, and secure your appointment. Your card is stored securely and only charged after the visit or if a policy fee applies.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 443,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 442,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap items-center gap-3 text-sm text-white/60\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 449,\n                                                    columnNumber: 17\n                                                }, this),\n                                                formatAddress(workspace.identity.location)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 448,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 453,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"All times shown in \",\n                                                timezone\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 452,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 457,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Card saved securely — capture happens later\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 456,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 447,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 413,\n                            columnNumber: 11\n                        }, this),\n                        createdBooking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-3xl border border-emerald-400/30 bg-emerald-500/10 p-6 text-emerald-100 shadow-[0_0_40px_rgba(52,211,153,0.25)]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm uppercase tracking-[0.35em] text-emerald-200/70\",\n                                    children: \"Confirmation\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 464,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 font-display text-2xl\",\n                                    children: (_selectedService_name = selectedService === null || selectedService === void 0 ? void 0 : selectedService.name) !== null && _selectedService_name !== void 0 ? _selectedService_name : createdBooking.serviceName\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 467,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-sm text-emerald-100/80\",\n                                    children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(createdBooking.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\",\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 470,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-3 text-sm text-emerald-100/80\",\n                                    children: [\n                                        \"We sent a confirmation email to \",\n                                        createdBooking.customer.email,\n                                        \". Manual capture keeps you in control—nothing charges unless you press a money button.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 479,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 463,\n                            columnNumber: 13\n                        }, this) : null\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 412,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 411,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"mx-auto max-w-5xl px-4 pb-16 sm:px-6 lg:px-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StepIndicator, {\n                        currentStep: step,\n                        onReset: handleResetFlow,\n                        primaryColor: primaryColor1\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 489,\n                        columnNumber: 9\n                    }, this),\n                    step === \"catalog\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CatalogStep, {\n                        catalog: workspace.catalog,\n                        onSelectService: handleSelectService,\n                        primaryColor: primaryColor1\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 492,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"availability\" && selectedService ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AvailabilityStep, {\n                        service: selectedService,\n                        slotsByDay: groupedSlots,\n                        selectedStaffId: selectedStaffId,\n                        setSelectedStaffId: setSelectedStaffId,\n                        onBack: ()=>setStep(\"catalog\"),\n                        onSelectSlot: handleSelectSlot,\n                        staff: workspace.staff,\n                        timezone: timezone,\n                        supportEmail: workspace.identity.location.supportEmail,\n                        isLoading: isLoadingAvailability,\n                        primaryColor: primaryColor1,\n                        error: availabilityError\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 500,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"checkout\" && selectedService && selectedSlot ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CheckoutStep, {\n                        service: selectedService,\n                        slot: selectedSlot,\n                        onBack: ()=>setStep(\"availability\"),\n                        customerName: customerName,\n                        setCustomerName: setCustomerName,\n                        customerEmail: customerEmail,\n                        setCustomerEmail: setCustomerEmail,\n                        customerPhone: customerPhone,\n                        setCustomerPhone: setCustomerPhone,\n                        setupIntentClientSecret: setupIntentClientSecret,\n                        setSetupIntentClientSecret: setSetupIntentClientSecret,\n                        paymentMethodId: paymentMethodId,\n                        setPaymentMethodId: setPaymentMethodId,\n                        createdBookingId: createdBookingId,\n                        setCreatedBookingId: setCreatedBookingId,\n                        createdBookingCode: createdBookingCode,\n                        setCreatedBookingCode: setCreatedBookingCode,\n                        workspace: workspace,\n                        customerName: customerName,\n                        customerEmail: customerEmail,\n                        customerPhone: customerPhone,\n                        listPriceCents: listPriceCents,\n                        giftCardState: giftCardState,\n                        policies: policies,\n                        timezone: timezone,\n                        selectedService: selectedService,\n                        selectedSlot: selectedSlot,\n                        setCreatedBooking: setCreatedBooking,\n                        setStep: setStep,\n                        toast: toast,\n                        consentChecked: consentChecked,\n                        setConsentChecked: setConsentChecked,\n                        giftCardInput: giftCardInput,\n                        setGiftCardInput: setGiftCardInput,\n                        giftCardError: giftCardError,\n                        giftCardState: giftCardState,\n                        onApplyGiftCard: handleApplyGiftCard,\n                        acceptedMethods: acceptedMethodsForDisplay,\n                        policies: policies,\n                        timezone: timezone,\n                        amountDueCents: amountDueCents,\n                        listPriceCents: listPriceCents,\n                        isSubmitting: isSubmitting,\n                        onSubmit: handleSubmitCheckout,\n                        onOpenPolicies: ()=>setIsPolicyModalOpen(true),\n                        business: business\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 517,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"confirmation\" && createdBooking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfirmationStep, {\n                        booking: createdBooking,\n                        service: selectedService,\n                        amountDueCents: amountDueCents,\n                        policies: policies,\n                        timezone: timezone,\n                        onBookAnother: handleResetFlow\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 568,\n                        columnNumber: 11\n                    }, this) : null\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 488,\n                columnNumber: 7\n            }, this),\n            isPolicyModalOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyModal, {\n                policies: policies,\n                onClose: ()=>setIsPolicyModalOpen(false),\n                timezone: timezone\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 580,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 405,\n        columnNumber: 5\n    }, this);\n}\n_s(PublicBookingExperience, \"w6ubhzjkeGca4HprC4KtxJdYIOU=\", false, function() {\n    return [\n        _components_ui_toast__WEBPACK_IMPORTED_MODULE_10__.useToast\n    ];\n});\n_c = PublicBookingExperience;\nfunction CatalogStep(param) {\n    let { catalog, onSelectService, primaryColor: primaryColor1 } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"space-y-12\",\n        children: catalog.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-5\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-white/55\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                        className: \"h-3.5 w-3.5\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 605,\n                                        columnNumber: 15\n                                    }, this),\n                                    category.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 604,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-3 text-base text-white/70 max-w-2xl\",\n                                children: category.description\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 608,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 603,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid gap-6 md:grid-cols-2\",\n                        children: category.services.map((service)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>onSelectService(service.id),\n                                className: \"group flex flex-col gap-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-left transition hover:border-white/25 hover:bg-white/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-start justify-between gap-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                        className: \"font-display text-2xl text-white\",\n                                                        children: service.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 620,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"mt-2 text-sm text-white/60\",\n                                                        children: service.description\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 621,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 619,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold uppercase tracking-[0.25em] text-white/60\",\n                                                children: formatDuration(service.durationMinutes)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 623,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 618,\n                                        columnNumber: 17\n                                    }, this),\n                                    service.instructions ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-white/40\",\n                                        children: service.instructions\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 628,\n                                        columnNumber: 19\n                                    }, this) : null,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-auto flex items-center justify-between text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white/60\",\n                                                children: [\n                                                    \"Starting at \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        className: \"text-white\",\n                                                        children: formatCurrency(service.priceCents)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 632,\n                                                        columnNumber: 33\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 631,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-2 group-hover:translate-x-1 transition\",\n                                                style: {\n                                                    color: primaryColor1\n                                                },\n                                                children: [\n                                                    \"Select \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                        className: \"h-4 w-4\",\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 638,\n                                                        columnNumber: 28\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 634,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 630,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, service.id, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 612,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 610,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, category.id, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 602,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 600,\n        columnNumber: 5\n    }, this);\n}\n_c1 = CatalogStep;\nfunction AvailabilityStep(param) {\n    let { service, slotsByDay, selectedStaffId, setSelectedStaffId, onBack, onSelectSlot, staff, timezone, supportEmail, isLoading, error, primaryColor: primaryColor1 } = param;\n    _s1();\n    const [currentWeekStart, setCurrentWeekStart] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(()=>{\n        const today = new Date();\n        const dayOfWeek = today.getDay();\n        const diff = today.getDate() - dayOfWeek; // Get Sunday of this week\n        const sunday = new Date(today.setDate(diff));\n        sunday.setHours(0, 0, 0, 0);\n        return sunday;\n    });\n    const staffOptions = staff.filter((member)=>service.staffIds.includes(member.id));\n    const totalSlots = Object.values(slotsByDay).reduce((sum, entries)=>sum + entries.length, 0);\n    // Generate hours from 8 AM to 8 PM\n    const hours = Array.from({\n        length: 13\n    }, (_, i)=>i + 8); // 8 AM to 8 PM\n    // Generate days of the week\n    const weekDays = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        const days = [];\n        for(let i = 0; i < 7; i++){\n            const date = new Date(currentWeekStart);\n            date.setDate(currentWeekStart.getDate() + i);\n            days.push(date);\n        }\n        return days;\n    }, [\n        currentWeekStart\n    ]);\n    // Group slots by day and hour, removing duplicates\n    const slotsByDayAndHour = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        const grouped = {};\n        // Flatten all slots from all days\n        const allSlots = Object.values(slotsByDay).flat();\n        allSlots.forEach((slot)=>{\n            const slotDate = new Date(slot.startDateTime);\n            const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(slotDate, timezone, \"yyyy-MM-dd\");\n            const hour = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(slotDate, timezone, {\n                hour: \"numeric\",\n                hour12: false\n            });\n            const hourNum = parseInt(hour, 10);\n            // Only include slots that are in the current week\n            const isInCurrentWeek = weekDays.some((day)=>{\n                const dayKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                return dayKey === dateKey;\n            });\n            if (!isInCurrentWeek) return;\n            if (!grouped[dateKey]) {\n                grouped[dateKey] = {};\n            }\n            if (!grouped[dateKey][hourNum]) {\n                grouped[dateKey][hourNum] = [];\n            }\n            // Check for duplicates (same hour, same staff, same date)\n            const isDuplicate = grouped[dateKey][hourNum].some((existing)=>existing.staffId === slot.staffId);\n            if (!isDuplicate) {\n                grouped[dateKey][hourNum].push(slot);\n            }\n        });\n        return grouped;\n    }, [\n        slotsByDay,\n        weekDays,\n        timezone\n    ]);\n    const navigateWeek = (direction)=>{\n        const newDate = new Date(currentWeekStart);\n        newDate.setDate(newDate.getDate() + (direction === \"next\" ? 7 : -7));\n        setCurrentWeekStart(newDate);\n    };\n    const monthYear = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(weekDays[0], timezone, {\n        month: \"long\",\n        year: \"numeric\"\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.15)]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                children: \"Step 2 \\xb7 Choose your time\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 764,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"mt-2 font-display text-3xl text-white\",\n                                children: service.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 765,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 text-sm text-white/60\",\n                                children: [\n                                    formatCurrency(service.priceCents),\n                                    \" \\xb7 \",\n                                    formatDuration(service.durationMinutes),\n                                    \" — All slots shown in \",\n                                    timezone\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 766,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 763,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                        variant: \"ghost\",\n                        onClick: onBack,\n                        className: \"inline-flex items-center gap-2 text-white/70\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 772,\n                                columnNumber: 11\n                            }, this),\n                            \"Back to services\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 771,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 762,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-8 flex flex-wrap items-center gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                        label: \"I don't mind\",\n                        active: selectedStaffId === \"any\",\n                        onClick: ()=>setSelectedStaffId(\"any\")\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 778,\n                        columnNumber: 9\n                    }, this),\n                    staffOptions.map((member)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                            label: member.name,\n                            color: member.color,\n                            active: selectedStaffId === member.id,\n                            onClick: ()=>setSelectedStaffId(member.id)\n                        }, member.id, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 784,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 777,\n                columnNumber: 7\n            }, this),\n            isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                        className: \"mx-auto h-8 w-8 animate-spin text-white/40\",\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 796,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-base\",\n                        children: \"Loading availability...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 797,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 795,\n                columnNumber: 9\n            }, this) : error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-red-500/20 bg-red-500/10 p-8 text-center text-red-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-base\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 801,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 800,\n                columnNumber: 9\n            }, this) : totalSlots === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-base\",\n                        children: \"No availability found in the next two weeks.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 805,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-sm\",\n                        children: [\n                            \"Try selecting a different staff member or contact us at\",\n                            \" \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: \"mailto:\".concat(supportEmail !== null && supportEmail !== void 0 ? supportEmail : \"support@tithi.com\"),\n                                className: \"underline\",\n                                children: supportEmail !== null && supportEmail !== void 0 ? supportEmail : \"support@tithi.com\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 808,\n                                columnNumber: 13\n                            }, this),\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 806,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 804,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-6 flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                                variant: \"ghost\",\n                                onClick: ()=>navigateWeek(\"prev\"),\n                                className: \"text-white/70 hover:text-white\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 823,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 818,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-white\",\n                                    children: monthYear\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 826,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 825,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                                variant: \"ghost\",\n                                onClick: ()=>navigateWeek(\"next\"),\n                                className: \"text-white/70 hover:text-white\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 833,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 828,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 817,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-x-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"min-w-full\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-8 gap-2 border-b border-white/10 pb-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-semibold text-white/60\",\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 842,\n                                            columnNumber: 17\n                                        }, this),\n                                        weekDays.map((day, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs font-semibold text-white/60\",\n                                                        children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(day, timezone, {\n                                                            weekday: \"short\"\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 845,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm font-semibold text-white\",\n                                                        children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(day, timezone, {\n                                                            day: \"numeric\"\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 848,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, idx, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 844,\n                                                columnNumber: 19\n                                            }, this))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 841,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-2 space-y-1\",\n                                    children: hours.map((hour)=>{\n                                        const hourLabel = hour === 12 ? \"12 PM\" : hour > 12 ? \"\".concat(hour - 12, \" PM\") : \"\".concat(hour, \" AM\");\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-8 gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center text-xs text-white/60 py-2\",\n                                                    children: hourLabel\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 861,\n                                                    columnNumber: 23\n                                                }, this),\n                                                weekDays.map((day, dayIdx)=>{\n                                                    var _slotsByDayAndHour_dateKey;\n                                                    const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                                                    const slotsForHour = ((_slotsByDayAndHour_dateKey = slotsByDayAndHour[dateKey]) === null || _slotsByDayAndHour_dateKey === void 0 ? void 0 : _slotsByDayAndHour_dateKey[hour]) || [];\n                                                    const filteredSlots = selectedStaffId === \"any\" ? slotsForHour : slotsForHour.filter((slot)=>slot.staffId === selectedStaffId);\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"py-1\",\n                                                        children: filteredSlots.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-1\",\n                                                            children: filteredSlots.map((slot)=>{\n                                                                const staffMember = staff.find((s)=>s.id === slot.staffId);\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    onClick: ()=>onSelectSlot(slot),\n                                                                    className: \"w-full rounded-lg px-2 py-1.5 text-left transition focus-visible:outline-none focus-visible:ring-2\",\n                                                                    style: {\n                                                                        borderColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"80\") : \"\".concat(primaryColor1, \"66\"),\n                                                                        backgroundColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"20\") : \"\".concat(primaryColor1, \"20\"),\n                                                                        borderWidth: \"1px\",\n                                                                        \"--tw-ring-color\": primaryColor1\n                                                                    },\n                                                                    onMouseEnter: (e)=>{\n                                                                        e.currentTarget.style.borderColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"99\") : \"\".concat(primaryColor1, \"99\");\n                                                                        e.currentTarget.style.backgroundColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"30\") : \"\".concat(primaryColor1, \"30\");\n                                                                    },\n                                                                    onMouseLeave: (e)=>{\n                                                                        e.currentTarget.style.borderColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"80\") : \"\".concat(primaryColor1, \"66\");\n                                                                        e.currentTarget.style.backgroundColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"20\") : \"\".concat(primaryColor1, \"20\");\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs font-semibold text-white\",\n                                                                            children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(new Date(slot.startDateTime), timezone, {\n                                                                                hour: \"numeric\",\n                                                                                minute: \"2-digit\"\n                                                                            })\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                            lineNumber: 898,\n                                                                            columnNumber: 39\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-white/70 mt-0.5 truncate\",\n                                                                            children: slot.staffName\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                            lineNumber: 901,\n                                                                            columnNumber: 39\n                                                                        }, this)\n                                                                    ]\n                                                                }, slot.id, true, {\n                                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                    lineNumber: 878,\n                                                                    columnNumber: 37\n                                                                }, this);\n                                                            })\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                            lineNumber: 874,\n                                                            columnNumber: 31\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"h-full rounded-lg bg-white/5 border border-white/5 py-1.5\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-[10px] text-white/20 text-center\",\n                                                                children: \"—\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                lineNumber: 910,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                            lineNumber: 909,\n                                                            columnNumber: 31\n                                                        }, this)\n                                                    }, dayIdx, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 872,\n                                                        columnNumber: 27\n                                                    }, this);\n                                                })\n                                            ]\n                                        }, hour, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 860,\n                                            columnNumber: 21\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 856,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 839,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 838,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 815,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 761,\n        columnNumber: 5\n    }, this);\n}\n_s1(AvailabilityStep, \"4TSl4BCFSPcIY68khkbi7X3vqV0=\");\n_c2 = AvailabilityStep;\nfunction CheckoutStep(props) {\n    _s2();\n    const { service, slot, onBack, customerName, setCustomerName, customerEmail, setCustomerEmail, customerPhone, setCustomerPhone, setupIntentClientSecret, setSetupIntentClientSecret, paymentMethodId, setPaymentMethodId, createdBookingId, setCreatedBookingId, createdBookingCode, setCreatedBookingCode, workspace, listPriceCents, giftCardState, policies, timezone, selectedService, selectedSlot, setCreatedBooking, setStep, toast, consentChecked, setConsentChecked, giftCardInput, setGiftCardInput, giftCardError, onApplyGiftCard, acceptedMethods, amountDueCents, isSubmitting, onSubmit, onOpenPolicies, business } = props;\n    // Create SetupIntent when user has filled required fields so payment form appears immediately\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Helper functions (defined later in file, but accessible here)\n        const isValidEmail = (email)=>/\\S+@\\S+\\.\\S+/.test(email);\n        const isValidPhone = (phone)=>phone.trim().length >= 7;\n        // Only create if we don't already have one and user has entered name, email, and phone\n        const hasRequiredFields = customerName.trim().length >= 2 && isValidEmail(customerEmail) && isValidPhone(customerPhone);\n        if (!setupIntentClientSecret && selectedService && selectedSlot && hasRequiredFields) {\n            // Create booking to get SetupIntent - this allows the payment form to show immediately\n            const createSetupIntent = async ()=>{\n                try {\n                    const apiPayload = {\n                        service_id: selectedService.id,\n                        staff_id: selectedSlot.staffId,\n                        start_at: selectedSlot.startDateTime,\n                        customer: {\n                            name: customerName.trim(),\n                            email: customerEmail.trim().toLowerCase(),\n                            phone: customerPhone.trim()\n                        },\n                        gift_card_code: giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.code\n                    };\n                    const response = await fetch(\"/api/public/\".concat(business.slug, \"/bookings\"), {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(apiPayload)\n                    });\n                    if (!response.ok) {\n                        // Don't show error if booking creation fails - user hasn't clicked confirm yet\n                        console.error(\"Failed to create SetupIntent:\", await response.text());\n                        return;\n                    }\n                    const apiResponse = await response.json();\n                    if (apiResponse.client_secret) {\n                        setSetupIntentClientSecret(apiResponse.client_secret);\n                        // Store booking IDs so we can use them when payment is confirmed\n                        if (apiResponse.booking_id) {\n                            setCreatedBookingId(apiResponse.booking_id);\n                        }\n                        if (apiResponse.booking_code) {\n                            setCreatedBookingCode(apiResponse.booking_code);\n                        }\n                    }\n                } catch (error) {\n                    console.error(\"Error creating SetupIntent:\", error);\n                // Don't show error to user - they haven't tried to submit yet\n                }\n            };\n            createSetupIntent();\n        }\n    }, [\n        setupIntentClientSecret,\n        selectedService,\n        selectedSlot,\n        customerName,\n        customerEmail,\n        customerPhone,\n        business.slug,\n        giftCardState,\n        setSetupIntentClientSecret,\n        setCreatedBookingId,\n        setCreatedBookingCode\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"grid gap-8 rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.2)] md:grid-cols-[1.4fr_1fr]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                        children: \"Step 3 \\xb7 Checkout\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1099,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"mt-2 font-display text-3xl text-white\",\n                                        children: service.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1100,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mt-1 text-sm text-white/60\",\n                                        children: [\n                                            formatDuration(service.durationMinutes),\n                                            \" \\xb7 \",\n                                            formatCurrency(listPriceCents),\n                                            \" — with\",\n                                            \" \",\n                                            slot.staffName\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1101,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1098,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                                variant: \"ghost\",\n                                onClick: onBack,\n                                className: \"inline-flex items-center gap-2 text-white/70\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1107,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Pick another slot\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1106,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1097,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid gap-4 md:grid-cols-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Full name\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                    value: customerName,\n                                    onChange: (event)=>setCustomerName(event.target.value),\n                                    placeholder: \"Jordan Blake\",\n                                    autoComplete: \"name\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1114,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1113,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Email\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                    type: \"email\",\n                                    value: customerEmail,\n                                    onChange: (event)=>setCustomerEmail(event.target.value),\n                                    placeholder: \"you@example.com\",\n                                    autoComplete: \"email\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1122,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1121,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Phone\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                    type: \"tel\",\n                                    value: customerPhone,\n                                    onChange: (event)=>setCustomerPhone(event.target.value),\n                                    placeholder: \"+1 555 010 2030\",\n                                    autoComplete: \"tel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1131,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1130,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Gift card or code\",\n                                helper: \"Optional — amount or percent off will apply immediately.\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                                value: giftCardInput,\n                                                onChange: (event)=>setGiftCardInput(event.target.value),\n                                                placeholder: \"WELCOME120\",\n                                                className: \"flex-1 uppercase\",\n                                                autoCapitalize: \"characters\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1141,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                                                type: \"button\",\n                                                variant: \"outline\",\n                                                onClick: onApplyGiftCard,\n                                                children: \"Apply\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1148,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1140,\n                                        columnNumber: 13\n                                    }, this),\n                                    giftCardError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                        intent: \"error\",\n                                        className: \"mt-2\",\n                                        children: giftCardError\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1153,\n                                        columnNumber: 15\n                                    }, this) : null,\n                                    giftCardState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                        intent: \"success\",\n                                        className: \"mt-2 text-emerald-200\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                className: \"mr-1.5 inline h-4 w-4\",\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1159,\n                                                columnNumber: 17\n                                            }, this),\n                                            giftCardState.description,\n                                            \" (\",\n                                            giftCardState.code,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1158,\n                                        columnNumber: 15\n                                    }, this) : null\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1139,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1112,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-white/10 bg-black/60 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"flex items-center gap-2 text-sm font-semibold text-white\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1168,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Payment method — card saved now, charged later\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1167,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 text-xs text-white/50\",\n                                children: [\n                                    acceptedMethods.length > 0 ? \"\".concat(describeAcceptedMethods(acceptedMethods), \". \") : \"\",\n                                    \"A credit card is required for all bookings. Even if you plan to pay with cash, we store a card in case a policy fee applies (e.g., no-show fees).\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1171,\n                                columnNumber: 11\n                            }, this),\n                            setupIntentClientSecret ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.Elements, {\n                                    stripe: stripePromise,\n                                    options: {\n                                        clientSecret: setupIntentClientSecret,\n                                        appearance: {\n                                            theme: \"night\",\n                                            variables: {\n                                                colorPrimary: primaryColor,\n                                                colorBackground: \"#000000\",\n                                                colorText: \"#ffffff\",\n                                                colorDanger: \"#ef4444\",\n                                                fontFamily: \"system-ui, sans-serif\",\n                                                spacingUnit: \"4px\",\n                                                borderRadius: \"8px\"\n                                            }\n                                        }\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StripePaymentForm, {\n                                        onPaymentMethodReady: async (pmId)=>{\n                                            setPaymentMethodId(pmId);\n                                            // Once payment method is confirmed, proceed to confirmation\n                                            // The booking was already created by the API\n                                            if (selectedService && selectedSlot && createdBookingId) {\n                                                var _workspace_staff_find;\n                                                const booking = {\n                                                    id: createdBookingId,\n                                                    code: createdBookingCode || \"TITHI-\".concat(createdBookingId.slice(0, 8).toUpperCase()),\n                                                    status: \"pending\",\n                                                    serviceId: selectedService.id,\n                                                    serviceName: selectedService.name,\n                                                    categoryName: selectedService.categoryName,\n                                                    durationMinutes: selectedService.durationMinutes,\n                                                    startDateTime: selectedSlot.startDateTime,\n                                                    endDateTime: selectedSlot.endDateTime,\n                                                    staff: {\n                                                        id: selectedSlot.staffId,\n                                                        name: selectedSlot.staffName,\n                                                        color: ((_workspace_staff_find = workspace.staff.find((s)=>s.id === selectedSlot.staffId)) === null || _workspace_staff_find === void 0 ? void 0 : _workspace_staff_find.color) || \"#000000\"\n                                                    },\n                                                    customer: {\n                                                        name: customerName.trim(),\n                                                        email: customerEmail.trim().toLowerCase(),\n                                                        phone: customerPhone.trim()\n                                                    },\n                                                    payments: [],\n                                                    financials: {\n                                                        listPriceCents: listPriceCents,\n                                                        giftCardAmountCents: (giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) || 0,\n                                                        platformFeeCents: 0,\n                                                        stripeFeeEstimateCents: 0,\n                                                        netPayoutCents: 0,\n                                                        currency: \"usd\"\n                                                    },\n                                                    policyConsent: createPolicyConsent(policies),\n                                                    requiresAction: false\n                                                };\n                                                setCreatedBooking(booking);\n                                                setStep(\"confirmation\");\n                                                toast.pushToast({\n                                                    title: \"Booking confirmed\",\n                                                    description: \"\".concat(selectedService.name, \" on \").concat((0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(selectedSlot.startDateTime, timezone, {\n                                                        weekday: \"long\",\n                                                        month: \"short\",\n                                                        day: \"numeric\",\n                                                        hour: \"numeric\",\n                                                        minute: \"2-digit\"\n                                                    }), \". No charge yet—card saved securely.\"),\n                                                    intent: \"success\"\n                                                });\n                                            }\n                                        },\n                                        acceptedMethods: acceptedMethods,\n                                        businessSlug: business.slug,\n                                        bookingId: createdBookingId || \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1197,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1179,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1178,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                    className: \"text-white/60\",\n                                    children: 'Click \"Confirm booking\" below to set up your payment method. Your card will be saved securely but not charged.'\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1256,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1255,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                className: \"mt-2\",\n                                children: \"You're authorizing a card on file. Per Tithi's manual capture rules, nothing is charged until your appointment is completed or a policy fee applies.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1261,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1166,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col gap-4 rounded-3xl border border-white/10 bg-black/60 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        id: \"policy-consent\",\n                                        type: \"checkbox\",\n                                        checked: consentChecked,\n                                        onChange: (event)=>setConsentChecked(event.target.checked),\n                                        className: \"mt-1 h-5 w-5 rounded border-white/20 bg-black focus:ring-2\",\n                                        style: {\n                                            accentColor: primaryColor,\n                                            \"--tw-ring-color\": primaryColor\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1269,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"policy-consent\",\n                                        className: \"text-sm text-white/70\",\n                                        children: [\n                                            \"I agree to the cancellation, no-show, refund, and cash policies. My card is saved via Stripe for manual capture later.\",\n                                            \" \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: onOpenPolicies,\n                                                className: \"underline-offset-2 hover:underline\",\n                                                style: {\n                                                    color: primaryColor\n                                                },\n                                                children: \"View policies\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1283,\n                                                columnNumber: 15\n                                            }, this),\n                                            \".\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1280,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1268,\n                                columnNumber: 11\n                            }, this),\n                            !paymentMethodId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                                size: \"lg\",\n                                onClick: onSubmit,\n                                isLoading: isSubmitting,\n                                disabled: isSubmitting || !!setupIntentClientSecret,\n                                className: \"inline-flex items-center justify-center gap-2 text-base\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                        className: \"h-5 w-5\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1302,\n                                        columnNumber: 15\n                                    }, this),\n                                    setupIntentClientSecret ? \"Complete payment setup below\" : \"Confirm booking — no charge today\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1295,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                intent: \"success\",\n                                className: \"text-emerald-200\",\n                                children: \"Payment method saved! Your booking is complete.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1306,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1267,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1096,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"flex flex-col gap-4 rounded-3xl border border-white/10 bg-black/60 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                children: \"Summary\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1315,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"mt-2 font-display text-2xl text-white\",\n                                children: service.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1316,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-2 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1318,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(slot.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1317,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1326,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(slot.startDateTime, timezone, {\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    }),\n                                    \" \",\n                                    \"— \",\n                                    formatDuration(service.durationMinutes)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1325,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1334,\n                                        columnNumber: 13\n                                    }, this),\n                                    slot.staffName\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1333,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1314,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-t border-white/10 pt-4 text-sm text-white/60\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Service price\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1340,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-white\",\n                                        children: formatCurrency(listPriceCents)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1341,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1339,\n                                columnNumber: 11\n                            }, this),\n                            giftCardState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 flex items-center justify-between text-emerald-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Gift card (\",\n                                            giftCardState.code,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1345,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"-\",\n                                            formatCurrency(giftCardState.amountCents)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1346,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1344,\n                                columnNumber: 13\n                            }, this) : null,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 flex items-center justify-between text-base font-semibold text-white\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Due today\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1350,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: formatCurrency(amountDueCents)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1351,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1349,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                className: \"mt-3\",\n                                children: \"This amount is authorized but not captured. Manual capture ensures you only charge customers after services are delivered or if a policy fee applies.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1353,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1338,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1313,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1095,\n        columnNumber: 5\n    }, this);\n}\n_s2(CheckoutStep, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c3 = CheckoutStep;\nfunction ConfirmationStep(param) {\n    let { booking, service, amountDueCents, policies, timezone, onBookAnother } = param;\n    var _service_name, _service_durationMinutes, _service_priceCents, _service_priceCents1, _service_priceCents2;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"rounded-3xl border border-emerald-400/40 bg-emerald-500/10 p-10 text-emerald-50 shadow-[0_0_80px_rgba(16,185,129,0.35)]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col gap-6 md:flex-row md:items-center md:justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"inline-flex items-center gap-2 rounded-full border border-emerald-400/50 bg-emerald-400/20 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-emerald-100\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1387,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Booking confirmed\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1386,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"mt-4 font-display text-4xl text-emerald-50\",\n                                children: (_service_name = service === null || service === void 0 ? void 0 : service.name) !== null && _service_name !== void 0 ? _service_name : booking.serviceName\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1390,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-2 text-sm text-emerald-100/80\",\n                                children: [\n                                    \"We emailed \",\n                                    booking.customer.email,\n                                    \" and will send reminders via SMS. Your card is saved but won’t be charged until the appointment is completed—or if a manual policy fee applies.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1393,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1385,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/50 bg-black/40 p-6 text-sm text-emerald-100/80\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1400,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(booking.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\",\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1399,\n                                columnNumber: 11\n                            }, this),\n                            booking.staff ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1411,\n                                        columnNumber: 15\n                                    }, this),\n                                    booking.staff.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1410,\n                                columnNumber: 13\n                            }, this) : null,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1416,\n                                        columnNumber: 13\n                                    }, this),\n                                    formatDuration((_service_durationMinutes = service === null || service === void 0 ? void 0 : service.durationMinutes) !== null && _service_durationMinutes !== void 0 ? _service_durationMinutes : booking.durationMinutes)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1415,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 border-t border-emerald-400/30 pt-3 text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Authorized\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1421,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: formatCurrency((_service_priceCents = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents !== void 0 ? _service_priceCents : booking.financials.listPriceCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1422,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1420,\n                                        columnNumber: 13\n                                    }, this),\n                                    amountDueCents < ((_service_priceCents1 = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents1 !== void 0 ? _service_priceCents1 : booking.financials.listPriceCents) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between text-emerald-200\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Gift card\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1426,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    \"-\",\n                                                    formatCurrency(((_service_priceCents2 = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents2 !== void 0 ? _service_priceCents2 : booking.financials.listPriceCents) - amountDueCents)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1427,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1425,\n                                        columnNumber: 15\n                                    }, this) : null,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 flex items-center justify-between text-base font-semibold text-emerald-50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Due after appointment\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1431,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: formatCurrency(amountDueCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1432,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1430,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1419,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1398,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1384,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 grid gap-6 md:grid-cols-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/40 bg-emerald-400/10 p-6 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-emerald-200/90\",\n                                children: \"What happens next\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1440,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"mt-3 space-y-2 text-emerald-100/80\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Check your email and SMS for confirmation details and reminders.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1442,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Reschedule or cancel at least 24h in advance to avoid policy fees.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1443,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Manual capture keeps money in your control—no charges run automatically.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1444,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1441,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1439,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/40 bg-black/40 p-6 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-emerald-200/90\",\n                                children: \"Policies snapshot\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1448,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"mt-3 space-y-2 text-emerald-100/80\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.cancellationPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1450,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.noShowPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1451,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.refundPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1452,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.cashPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1453,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1449,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1447,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1438,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 flex flex-wrap items-center gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                        variant: \"outline\",\n                        onClick: onBookAnother,\n                        className: \"inline-flex items-center gap-2 border-emerald-400/40 text-emerald-100 hover:border-emerald-300 hover:text-emerald-50\",\n                        children: \"Book another appointment\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1459,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-emerald-100/70\",\n                        children: [\n                            \"Need help? Reply to the confirmation email or text us at \",\n                            booking.customer.phone,\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1466,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1458,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1383,\n        columnNumber: 5\n    }, this);\n}\n_c4 = ConfirmationStep;\nfunction PolicyModal(param) {\n    let { policies, onClose, timezone } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/80 px-4 py-8\",\n        role: \"dialog\",\n        \"aria-modal\": \"true\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative max-h-[90vh] w-full max-w-3xl overflow-y-auto rounded-3xl border border-white/10 bg-white/10 p-8 backdrop-blur\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    onClick: onClose,\n                    className: \"absolute right-6 top-6 text-white/60 transition hover:text-white\",\n                    \"aria-label\": \"Close policies\",\n                    children: \"✕\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1490,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"font-display text-3xl text-white\",\n                    children: \"Booking policies\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1498,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-2 text-sm text-white/60\",\n                    children: [\n                        \"All times referenced align to \",\n                        timezone,\n                        \". Consent is required before submitting your booking.\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1499,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-6 space-y-5 text-sm leading-relaxed text-white/75\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cancellation policy\",\n                            body: policies.cancellationPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1503,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cancellation fees\",\n                            body: describeFee(policies.cancellationFeeType, policies.cancellationFeeValue)\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1504,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"No-show policy\",\n                            body: policies.noShowPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1505,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"No-show fee\",\n                            body: describeFee(policies.noShowFeeType, policies.noShowFeeValue)\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1506,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Refund policy\",\n                            body: policies.refundPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1507,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cash policy\",\n                            body: policies.cashPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1508,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1502,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 flex justify-end\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                        onClick: onClose,\n                        className: \"inline-flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1512,\n                                columnNumber: 13\n                            }, this),\n                            \"I understand\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1511,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1510,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n            lineNumber: 1489,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1484,\n        columnNumber: 5\n    }, this);\n}\n_c5 = PolicyModal;\nfunction StepIndicator(param) {\n    let { currentStep, onReset, primaryColor: primaryColor1 } = param;\n    const steps = [\n        {\n            id: \"catalog\",\n            label: \"Service\"\n        },\n        {\n            id: \"availability\",\n            label: \"Time\"\n        },\n        {\n            id: \"checkout\",\n            label: \"Checkout\"\n        },\n        {\n            id: \"confirmation\",\n            label: \"Done\"\n        }\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap items-center justify-between gap-3 rounded-3xl border border-white/10 bg-white/5 px-6 py-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-white/40\",\n                children: steps.map((step, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_11__.cn)(\"inline-flex h-8 w-8 items-center justify-center rounded-full border text-sm font-semibold\", currentStep === step.id ? \"text-white\" : \"border-white/20 bg-white/10 text-white/50\"),\n                                style: currentStep === step.id ? {\n                                    borderColor: primaryColor1,\n                                    backgroundColor: \"\".concat(primaryColor1, \"30\")\n                                } : undefined,\n                                children: index + 1\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1533,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: currentStep === step.id ? \"text-white\" : \"text-white/50\",\n                                children: step.label\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1547,\n                                columnNumber: 13\n                            }, this),\n                            index < steps.length - 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"h-px w-12 bg-white/10\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1551,\n                                columnNumber: 15\n                            }, this) : null\n                        ]\n                    }, step.id, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1532,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1530,\n                columnNumber: 7\n            }, this),\n            currentStep !== \"catalog\" && currentStep !== \"confirmation\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                variant: \"ghost\",\n                onClick: onReset,\n                className: \"text-white/70\",\n                children: \"Start over\"\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1557,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1529,\n        columnNumber: 5\n    }, this);\n}\n_c6 = StepIndicator;\nfunction Field(param) {\n    let { label, helper, children } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n        className: \"flex flex-col gap-2 text-sm text-white/70\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-semibold text-white\",\n                children: label\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1576,\n                columnNumber: 7\n            }, this),\n            children,\n            helper ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                className: \"text-[13px] text-white/40\",\n                children: helper\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1578,\n                columnNumber: 17\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1575,\n        columnNumber: 5\n    }, this);\n}\n_c7 = Field;\nfunction StaffPill(param) {\n    let { label, color, active, onClick } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"button\",\n        onClick: onClick,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_11__.cn)(\"rounded-full border px-4 py-2 text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black\", active ? \"border-white/60 bg-white/15 text-white\" : \"border-white/10 bg-white/5 text-white/60 hover:text-white/80\"),\n        style: active && color ? {\n            borderColor: color,\n            boxShadow: \"0 0 25px \".concat(color, \"33\")\n        } : undefined,\n        children: label\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1595,\n        columnNumber: 5\n    }, this);\n}\n_c8 = StaffPill;\nfunction PolicyBlock(param) {\n    let { title, body } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                children: title\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1612,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-2 text-sm text-white/70 leading-relaxed\",\n                children: body\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1613,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1611,\n        columnNumber: 5\n    }, this);\n}\n_c9 = PolicyBlock;\nfunction ConfettiOverlay() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"jsx-394d523ece4eb4fd\" + \" \" + \"pointer-events-none absolute inset-0 overflow-hidden\",\n        children: [\n            Array.from({\n                length: 150\n            }).map((_, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        left: \"\".concat(Math.random() * 100, \"%\"),\n                        animationDelay: \"\".concat(Math.random() * 0.5, \"s\"),\n                        backgroundColor: randomConfettiColor()\n                    },\n                    className: \"jsx-394d523ece4eb4fd\" + \" \" + \"confetti-piece\"\n                }, index, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1622,\n                    columnNumber: 9\n                }, this)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"394d523ece4eb4fd\",\n                children: \"@-webkit-keyframes confetti-fall{0%{-webkit-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-webkit-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@-moz-keyframes confetti-fall{0%{-moz-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-moz-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@-o-keyframes confetti-fall{0%{-o-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-o-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@keyframes confetti-fall{0%{-webkit-transform:translatey(-10vh)rotate(0deg);-moz-transform:translatey(-10vh)rotate(0deg);-o-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-webkit-transform:translatey(110vh)rotate(720deg);-moz-transform:translatey(110vh)rotate(720deg);-o-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}.confetti-piece.jsx-394d523ece4eb4fd{position:absolute;width:6px;height:12px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;opacity:0;-webkit-animation:confetti-fall 2.3s ease-in both;-moz-animation:confetti-fall 2.3s ease-in both;-o-animation:confetti-fall 2.3s ease-in both;animation:confetti-fall 2.3s ease-in both}\"\n            }, void 0, false, void 0, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1620,\n        columnNumber: 5\n    }, this);\n}\n_c10 = ConfettiOverlay;\nfunction randomConfettiColor() {\n    const palette = [\n        \"#5B64FF\",\n        \"#57D0FF\",\n        \"#FF9A8B\",\n        \"#FFD166\",\n        \"#8AFFCF\",\n        \"#C4A5FF\"\n    ];\n    return palette[Math.floor(Math.random() * palette.length)];\n}\nfunction formatDuration(minutes) {\n    if (minutes < 60) return \"\".concat(minutes, \" min\");\n    const hrs = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return mins === 0 ? \"\".concat(hrs, \" hr\") : \"\".concat(hrs, \" hr \").concat(mins, \" min\");\n}\nfunction formatCurrency(cents) {\n    return new Intl.NumberFormat(\"en-US\", {\n        style: \"currency\",\n        currency: \"USD\"\n    }).format(cents / 100);\n}\nfunction describeAcceptedMethods(methods) {\n    const unique = Array.from(new Set(methods));\n    const methodLabels = {\n        card: \"Credit & Debit Cards\",\n        cash: \"Cash\",\n        wallets: \"Digital Wallets (Apple Pay, Google Pay)\",\n        apple_pay: \"Apple Pay\",\n        \"apple-pay\": \"Apple Pay\",\n        google_pay: \"Google Pay\",\n        \"google-pay\": \"Google Pay\"\n    };\n    const labels = unique.map((method)=>methodLabels[method.toLowerCase()] || method.toUpperCase());\n    return labels.length > 0 ? \"Accepted: \".concat(labels.join(\", \")) : \"Accepted: Credit & Debit Cards\";\n}\nfunction describeFee(type, value) {\n    if (value <= 0) return \"No fee\";\n    return type === \"percent\" ? \"\".concat(value, \"% of the service price\") : formatCurrency(Math.round(value * 100));\n}\nfunction formatAddress(location) {\n    const parts = [\n        location.addressLine1,\n        location.addressLine2,\n        \"\".concat(location.city, \", \").concat(location.stateProvince),\n        location.country\n    ].filter(Boolean);\n    return parts.join(\" \\xb7 \");\n}\nfunction isValidEmail(email) {\n    return /\\S+@\\S+\\.\\S+/.test(email);\n}\nfunction isValidPhone(phone) {\n    return phone.trim().length >= 7;\n}\nfunction createPolicyConsent(policies) {\n    const hashBase = JSON.stringify(policies);\n    const hash = simpleHash(hashBase);\n    return {\n        hash,\n        acceptedAt: new Date().toISOString(),\n        ip: \"203.0.113.5\",\n        userAgent: navigator.userAgent\n    };\n}\nfunction simpleHash(input) {\n    let hash = 0;\n    for(let index = 0; index < input.length; index += 1){\n        hash = (hash << 5) - hash + input.charCodeAt(index);\n        hash |= 0;\n    }\n    return Math.abs(hash).toString(16);\n}\n// Stripe Payment Form Component\nfunction StripePaymentForm(param) {\n    let { onPaymentMethodReady, acceptedMethods, businessSlug, bookingId, createdBookingId, createdBookingCode, workspace, customerName, customerEmail, customerPhone, listPriceCents, giftCardState, policies, timezone, selectedService, selectedSlot, setCreatedBooking, setStep, toast } = param;\n    _s3();\n    const stripe = (0,_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.useStripe)();\n    const elements = (0,_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.useElements)();\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (!stripe || !elements) {\n            return;\n        }\n        setIsProcessing(true);\n        setError(null);\n        try {\n            // Confirm the SetupIntent\n            const { error: confirmError, setupIntent } = await stripe.confirmSetup({\n                elements,\n                redirect: \"if_required\"\n            });\n            if (confirmError) {\n                setError(confirmError.message || \"Failed to save payment method\");\n                setIsProcessing(false);\n                return;\n            }\n            if (setupIntent && setupIntent.payment_method) {\n                const pmId = typeof setupIntent.payment_method === \"string\" ? setupIntent.payment_method : setupIntent.payment_method.id;\n                onPaymentMethodReady(pmId);\n                setError(null);\n                // Create booking object and proceed to confirmation\n                if (selectedService && selectedSlot && createdBookingId) {\n                    var _workspace_staff_find;\n                    const booking = {\n                        id: createdBookingId,\n                        code: createdBookingCode || \"TITHI-\".concat(createdBookingId.slice(0, 8).toUpperCase()),\n                        status: \"pending\",\n                        serviceId: selectedService.id,\n                        serviceName: selectedService.name,\n                        categoryName: selectedService.categoryName,\n                        durationMinutes: selectedService.durationMinutes,\n                        startDateTime: selectedSlot.startDateTime,\n                        endDateTime: selectedSlot.endDateTime,\n                        staff: {\n                            id: selectedSlot.staffId,\n                            name: selectedSlot.staffName,\n                            color: ((_workspace_staff_find = workspace.staff.find((s)=>s.id === selectedSlot.staffId)) === null || _workspace_staff_find === void 0 ? void 0 : _workspace_staff_find.color) || \"#000000\"\n                        },\n                        customer: {\n                            name: customerName.trim(),\n                            email: customerEmail.trim().toLowerCase(),\n                            phone: customerPhone.trim()\n                        },\n                        payments: [],\n                        financials: {\n                            listPriceCents: listPriceCents,\n                            giftCardAmountCents: (giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) || 0,\n                            platformFeeCents: 0,\n                            stripeFeeEstimateCents: 0,\n                            netPayoutCents: 0,\n                            currency: \"usd\"\n                        },\n                        policyConsent: createPolicyConsent(policies),\n                        requiresAction: false\n                    };\n                    setCreatedBooking(booking);\n                    setStep(\"confirmation\");\n                    toast.pushToast({\n                        title: \"Booking confirmed\",\n                        description: \"\".concat(selectedService.name, \" on \").concat((0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(selectedSlot.startDateTime, timezone, {\n                            weekday: \"long\",\n                            month: \"short\",\n                            day: \"numeric\",\n                            hour: \"numeric\",\n                            minute: \"2-digit\"\n                        }), \". No charge yet—card saved securely.\"),\n                        intent: \"success\"\n                    });\n                }\n            }\n        } catch (err) {\n            setError(err instanceof Error ? err.message : \"An error occurred\");\n        } finally{\n            setIsProcessing(false);\n        }\n    };\n    // Configure payment method types - card is ALWAYS required regardless of business settings\n    // This ensures card is always available as backup for no-show fees (even for cash payments)\n    const paymentMethodTypes = [\n        \"card\"\n    ];\n    // Map accepted methods to Stripe payment method types\n    // Note: card is always included above, so we only add additional methods\n    if (acceptedMethods.includes(\"apple_pay\") || acceptedMethods.includes(\"apple-pay\")) {\n        paymentMethodTypes.push(\"apple_pay\");\n    }\n    if (acceptedMethods.includes(\"google_pay\") || acceptedMethods.includes(\"google-pay\")) {\n        paymentMethodTypes.push(\"google_pay\");\n    }\n    // Also check for 'wallets' which might include both\n    if (acceptedMethods.includes(\"wallets\")) {\n        if (!paymentMethodTypes.includes(\"apple_pay\")) paymentMethodTypes.push(\"apple_pay\");\n        if (!paymentMethodTypes.includes(\"google_pay\")) paymentMethodTypes.push(\"google_pay\");\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"mt-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.PaymentElement, {\n                    options: {\n                        paymentMethodTypes: paymentMethodTypes,\n                        // Use tabs only if we have multiple payment methods, otherwise use default layout\n                        ...paymentMethodTypes.length > 1 ? {\n                            layout: \"tabs\"\n                        } : {}\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1894,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                    intent: \"error\",\n                    className: \"text-red-400 mt-2\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1902,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                    type: \"submit\",\n                    disabled: isProcessing || !stripe,\n                    isLoading: isProcessing,\n                    className: \"w-full mt-4\",\n                    children: isProcessing ? \"Saving payment method...\" : \"Save payment method\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1906,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n            lineNumber: 1893,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1892,\n        columnNumber: 5\n    }, this);\n}\n_s3(StripePaymentForm, \"ry5YNiexQ39a2DMSlb42IDsQbf4=\", false, function() {\n    return [\n        _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.useStripe,\n        _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.useElements\n    ];\n});\n_c11 = StripePaymentForm;\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n$RefreshReg$(_c, \"PublicBookingExperience\");\n$RefreshReg$(_c1, \"CatalogStep\");\n$RefreshReg$(_c2, \"AvailabilityStep\");\n$RefreshReg$(_c3, \"CheckoutStep\");\n$RefreshReg$(_c4, \"ConfirmationStep\");\n$RefreshReg$(_c5, \"PolicyModal\");\n$RefreshReg$(_c6, \"StepIndicator\");\n$RefreshReg$(_c7, \"Field\");\n$RefreshReg$(_c8, \"StaffPill\");\n$RefreshReg$(_c9, \"PolicyBlock\");\n$RefreshReg$(_c10, \"ConfettiOverlay\");\n$RefreshReg$(_c11, \"StripePaymentForm\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3B1YmxpYy1ib29raW5nL2Jvb2tpbmctZmxvdy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXFEO0FBQ3RCO0FBa0JUO0FBQ3lCO0FBQzRDO0FBRTdDO0FBQ0U7QUFDUztBQUNYO0FBQ0c7QUFDaEI7QUFHNkU7QUFDNUQ7QUFFbEQsb0JBQW9CO0FBQ3BCLE1BQU1pQyxnQkFBZ0JiLDZEQUFVQSxDQUFDYyw2R0FBOEMsSUFBSTtBQWdCNUUsU0FBU0csd0JBQXdCLEtBSVQ7UUFKUyxFQUN0Q0MsUUFBUSxFQUNSQyxTQUFTLEVBQ1RDLGFBQWEsRUFDZ0IsR0FKUzs7SUFLdEMsTUFBTUMsUUFBUVosK0RBQVFBO0lBQ3RCLE1BQU0sQ0FBQ2EsTUFBTUMsUUFBUSxHQUFHekMsK0NBQVFBLENBQU87SUFDdkMsTUFBTSxDQUFDMEMsbUJBQW1CQyxxQkFBcUIsR0FBRzNDLCtDQUFRQSxDQUFnQjtJQUMxRSxNQUFNLENBQUM0QyxpQkFBaUJDLG1CQUFtQixHQUFHN0MsK0NBQVFBLENBQVM7SUFDL0QsTUFBTSxDQUFDOEMsY0FBY0MsZ0JBQWdCLEdBQUcvQywrQ0FBUUEsQ0FBa0M7SUFDbEYsTUFBTSxDQUFDZ0QsZUFBZUMsaUJBQWlCLEdBQUdqRCwrQ0FBUUEsQ0FBdUI7SUFDekUsTUFBTSxDQUFDa0QsZUFBZUMsaUJBQWlCLEdBQUduRCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNvRCxlQUFlQyxpQkFBaUIsR0FBR3JELCtDQUFRQSxDQUFnQjtJQUNsRSxNQUFNLENBQUNzRCxjQUFjQyxnQkFBZ0IsR0FBR3ZELCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3dELGVBQWVDLGlCQUFpQixHQUFHekQsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDMEQsZUFBZUMsaUJBQWlCLEdBQUczRCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUM0RCx5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QWMySyxtQkFBbUJ2VCxJQUFJLENBQUM7UUFDdkUsSUFBSSxDQUFDdVQsbUJBQW1CM0ssUUFBUSxDQUFDLGVBQWUySyxtQkFBbUJ2VCxJQUFJLENBQUM7SUFDMUU7SUFFQSxxQkFDRSw4REFBQ3dUO1FBQUtwTSxVQUFVMEw7UUFBYzVOLFdBQVU7a0JBQ3RDLDRFQUFDRDtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQzdNLG1FQUFjQTtvQkFDYnFWLFNBQVM7d0JBQ1A2RixvQkFBb0JBO3dCQUNwQixrRkFBa0Y7d0JBQ2xGLEdBQUlBLG1CQUFtQnhVLE1BQU0sR0FBRyxJQUFJOzRCQUFFMFUsUUFBUTt3QkFBZ0IsSUFBSSxDQUFDLENBQUM7b0JBQ3RFOzs7Ozs7Z0JBRURqVCx1QkFDQyw4REFBQzlILGtFQUFVQTtvQkFBQzZLLFFBQU87b0JBQVEyQixXQUFVOzhCQUNsQzFFOzs7Ozs7OEJBR0wsOERBQUMvSCx5REFBTUE7b0JBQ0xtUCxNQUFLO29CQUNMb0gsVUFBVTJELGdCQUFnQixDQUFDbEY7b0JBQzNCeEcsV0FBVzBMO29CQUNYek4sV0FBVTs4QkFFVHlOLGVBQWUsNkJBQTZCOzs7Ozs7Ozs7Ozs7Ozs7OztBQUt2RDtJQXBMU3JFOztRQStDUWhXLDhEQUFTQTtRQUNQQyxnRUFBV0E7OztPQWhEckIrViIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9wdWJsaWMtYm9va2luZy9ib29raW5nLWZsb3cudHN4P2FjOTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBJbWFnZSBmcm9tIFwibmV4dC9pbWFnZVwiO1xuaW1wb3J0IHtcbiAgQXJyb3dMZWZ0LFxuICBBcnJvd1JpZ2h0LFxuICBDYWxlbmRhckRheXMsXG4gIENoZWNrLFxuICBDaGVja0NpcmNsZTIsXG4gIENoZXZyb25MZWZ0LFxuICBDaGV2cm9uUmlnaHQsXG4gIENsb2NrLFxuICBDcmVkaXRDYXJkLFxuICBHaWZ0LFxuICBMb2FkZXIyLFxuICBNYXBQaW4sXG4gIFBhcnR5UG9wcGVyLFxuICBTaGllbGRDaGVjayxcbiAgU3BhcmtsZXMsXG4gIFVzZXJzXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IGxvYWRTdHJpcGUgfSBmcm9tIFwiQHN0cmlwZS9zdHJpcGUtanNcIjtcbmltcG9ydCB7IEVsZW1lbnRzLCBQYXltZW50RWxlbWVudCwgdXNlU3RyaXBlLCB1c2VFbGVtZW50cyB9IGZyb20gXCJAc3RyaXBlL3JlYWN0LXN0cmlwZS1qc1wiO1xuXG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYmFkZ2VcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyBIZWxwZXJUZXh0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9oZWxwZXItdGV4dFwiO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2lucHV0XCI7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdG9hc3RcIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgdHlwZSB7IEZha2VCb29raW5nLCBGYWtlQnVzaW5lc3NXb3Jrc3BhY2UgfSBmcm9tIFwiQC9saWIvYWRtaW4td29ya3NwYWNlXCI7XG5pbXBvcnQgdHlwZSB7IEZha2VCdXNpbmVzcywgUHVibGljQm9va2luZ1BheWxvYWQgfSBmcm9tIFwiQC9saWIvZmFrZS1idXNpbmVzc1wiO1xuaW1wb3J0IHsgYnVpbGRFeHBhbmRlZFNsb3RzLCBncm91cFNsb3RzQnlEYXksIHR5cGUgRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90IH0gZnJvbSBcIkAvbGliL2F2YWlsYWJpbGl0eS11dGlsc1wiO1xuaW1wb3J0IHsgZm9ybWF0SW5UaW1lWm9uZSB9IGZyb20gXCJAL2xpYi90aW1lem9uZVwiO1xuXG4vLyBJbml0aWFsaXplIFN0cmlwZVxuY29uc3Qgc3RyaXBlUHJvbWlzZSA9IGxvYWRTdHJpcGUocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSB8fCAnJyk7XG5cbnR5cGUgU3RlcCA9IFwiY2F0YWxvZ1wiIHwgXCJhdmFpbGFiaWxpdHlcIiB8IFwiY2hlY2tvdXRcIiB8IFwiY29uZmlybWF0aW9uXCI7XG5cbmludGVyZmFjZSBQdWJsaWNCb29raW5nRXhwZXJpZW5jZVByb3BzIHtcbiAgYnVzaW5lc3M6IEZha2VCdXNpbmVzcztcbiAgd29ya3NwYWNlOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2U7XG4gIHJlY29yZEJvb2tpbmc6IChwYXlsb2FkOiBQdWJsaWNCb29raW5nUGF5bG9hZCkgPT4gRmFrZUJvb2tpbmcgfCB1bmRlZmluZWQ7XG59XG5cbmludGVyZmFjZSBHaWZ0Q2FyZFN0YXRlIHtcbiAgY29kZTogc3RyaW5nO1xuICBhbW91bnRDZW50czogbnVtYmVyO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHVibGljQm9va2luZ0V4cGVyaWVuY2Uoe1xuICBidXNpbmVzcyxcbiAgd29ya3NwYWNlLFxuICByZWNvcmRCb29raW5nXG59OiBQdWJsaWNCb29raW5nRXhwZXJpZW5jZVByb3BzKSB7XG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgW3N0ZXAsIHNldFN0ZXBdID0gdXNlU3RhdGU8U3RlcD4oXCJjYXRhbG9nXCIpO1xuICBjb25zdCBbc2VsZWN0ZWRTZXJ2aWNlSWQsIHNldFNlbGVjdGVkU2VydmljZUlkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWRTdGFmZklkLCBzZXRTZWxlY3RlZFN0YWZmSWRdID0gdXNlU3RhdGU8c3RyaW5nPihcImFueVwiKTtcbiAgY29uc3QgW3NlbGVjdGVkU2xvdCwgc2V0U2VsZWN0ZWRTbG90XSA9IHVzZVN0YXRlPEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZ2lmdENhcmRTdGF0ZSwgc2V0R2lmdENhcmRTdGF0ZV0gPSB1c2VTdGF0ZTxHaWZ0Q2FyZFN0YXRlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtnaWZ0Q2FyZElucHV0LCBzZXRHaWZ0Q2FyZElucHV0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZ2lmdENhcmRFcnJvciwgc2V0R2lmdENhcmRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1c3RvbWVyTmFtZSwgc2V0Q3VzdG9tZXJOYW1lXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VzdG9tZXJFbWFpbCwgc2V0Q3VzdG9tZXJFbWFpbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1c3RvbWVyUGhvbmUsIHNldEN1c3RvbWVyUGhvbmVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzZXR1cEludGVudENsaWVudFNlY3JldCwgc2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwYXltZW50TWV0aG9kSWQsIHNldFBheW1lbnRNZXRob2RJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NyZWF0ZWRCb29raW5nSWQsIHNldENyZWF0ZWRCb29raW5nSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjcmVhdGVkQm9va2luZ0NvZGUsIHNldENyZWF0ZWRCb29raW5nQ29kZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NvbnNlbnRDaGVja2VkLCBzZXRDb25zZW50Q2hlY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1BvbGljeU1vZGFsT3Blbiwgc2V0SXNQb2xpY3lNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3JlYXRlZEJvb2tpbmcsIHNldENyZWF0ZWRCb29raW5nXSA9IHVzZVN0YXRlPEZha2VCb29raW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtmZXRjaGVkU2xvdHMsIHNldEZldGNoZWRTbG90c10gPSB1c2VTdGF0ZTxFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3RbXT4oW10pO1xuICBjb25zdCBbaXNMb2FkaW5nQXZhaWxhYmlsaXR5LCBzZXRJc0xvYWRpbmdBdmFpbGFiaWxpdHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYXZhaWxhYmlsaXR5RXJyb3IsIHNldEF2YWlsYWJpbGl0eUVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlSWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiB3b3Jrc3BhY2UuY2F0YWxvZykge1xuICAgICAgY29uc3Qgc2VydmljZSA9IGNhdGVnb3J5LnNlcnZpY2VzLmZpbmQoKHN2YykgPT4gc3ZjLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG4gICAgICBpZiAoc2VydmljZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnNlcnZpY2UsXG4gICAgICAgICAgY2F0ZWdvcnlOYW1lOiBjYXRlZ29yeS5uYW1lLFxuICAgICAgICAgIGNhdGVnb3J5Q29sb3I6IGNhdGVnb3J5LmNvbG9yXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtzZWxlY3RlZFNlcnZpY2VJZCwgd29ya3NwYWNlLmNhdGFsb2ddKTtcblxuICAvLyBGZXRjaCBhdmFpbGFiaWxpdHkgZnJvbSBBUEkgd2hlbiBzZXJ2aWNlIGlzIHNlbGVjdGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2UgfHwgc3RlcCAhPT0gXCJhdmFpbGFiaWxpdHlcIikge1xuICAgICAgc2V0RmV0Y2hlZFNsb3RzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBmZXRjaEF2YWlsYWJpbGl0eSgpIHtcbiAgICAgIHNldElzTG9hZGluZ0F2YWlsYWJpbGl0eSh0cnVlKTtcbiAgICAgIHNldEF2YWlsYWJpbGl0eUVycm9yKG51bGwpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBGZXRjaCBhdmFpbGFiaWxpdHkgZm9yIHRoZSBuZXh0IDE0IGRheXMgKDIgd2Vla3MpXG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgYWxsU2xvdHM6IEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdFtdID0gW107XG4gICAgICAgIGNvbnN0IHRpbWV6b25lID0gd29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uLnRpbWV6b25lIHx8IFwiVVRDXCI7XG4gICAgICAgIGNvbnN0IGRheUZvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZW4tVVNcIiwgeyBcbiAgICAgICAgICB0aW1lWm9uZTogdGltZXpvbmUsIFxuICAgICAgICAgIHdlZWtkYXk6IFwibG9uZ1wiIFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTQ7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0b2RheSk7XG4gICAgICAgICAgZGF0ZS5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIGkpO1xuICAgICAgICAgIGNvbnN0IGRhdGVTdHIgPSBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsgLy8gWVlZWS1NTS1ERFxuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgICAgICBgL2FwaS9wdWJsaWMvJHtidXNpbmVzcy5zbHVnfS9hdmFpbGFiaWxpdHk/c2VydmljZV9pZD0ke3NlbGVjdGVkU2VydmljZS5pZH0mZGF0ZT0ke2RhdGVTdHJ9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBmZXRjaCBhdmFpbGFiaWxpdHkgZm9yICR7ZGF0ZVN0cn06YCwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW2Jvb2tpbmctZmxvd10gRmV0Y2hlZCBhdmFpbGFiaWxpdHkgZm9yICR7ZGF0ZVN0cn06YCwge1xuICAgICAgICAgICAgICBzbG90c0NvdW50OiBkYXRhLnNsb3RzPy5sZW5ndGggfHwgMCxcbiAgICAgICAgICAgICAgaGFzU2xvdHM6IEFycmF5LmlzQXJyYXkoZGF0YS5zbG90cyksXG4gICAgICAgICAgICAgIHNhbXBsZVNsb3Q6IGRhdGEuc2xvdHM/LlswXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZGF0YS5zbG90cyAmJiBBcnJheS5pc0FycmF5KGRhdGEuc2xvdHMpKSB7XG4gICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBBUEkgc2xvdHMgdG8gRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90IGZvcm1hdFxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNsb3Qgb2YgZGF0YS5zbG90cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHNsb3Quc3RhcnRfYXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShzbG90LmVuZF9hdCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF5TGFiZWwgPSBkYXlGb3JtYXR0ZXIuZm9ybWF0KHN0YXJ0RGF0ZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRmluZCBzdGFmZiBtZW1iZXIgdG8gZ2V0IGNvbG9yXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhZmZNZW1iZXIgPSB3b3Jrc3BhY2Uuc3RhZmYuZmluZChzID0+IHMuaWQgPT09IHNsb3Quc3RhZmZfaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YWZmQ29sb3IgPSBzdGFmZk1lbWJlcj8uY29sb3IgfHwgXCIjMDAwMDAwXCI7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWxsU2xvdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICBpZDogYCR7c2xvdC5zdGFmZl9pZH0tJHtzbG90LnN0YXJ0X2F0fWAsXG4gICAgICAgICAgICAgICAgICBzZXJ2aWNlSWQ6IHNlbGVjdGVkU2VydmljZS5pZCxcbiAgICAgICAgICAgICAgICAgIHN0YWZmSWQ6IHNsb3Quc3RhZmZfaWQsXG4gICAgICAgICAgICAgICAgICBzdGFmZk5hbWU6IHNsb3Quc3RhZmZfbmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YWZmQ29sb3I6IHN0YWZmQ29sb3IsXG4gICAgICAgICAgICAgICAgICBzdGFydERhdGVUaW1lOiBzbG90LnN0YXJ0X2F0LFxuICAgICAgICAgICAgICAgICAgZW5kRGF0ZVRpbWU6IHNsb3QuZW5kX2F0LFxuICAgICAgICAgICAgICAgICAgZGF5TGFiZWw6IGRheUxhYmVsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFtib29raW5nLWZsb3ddIE5vIHNsb3RzIGFycmF5IGluIHJlc3BvbnNlIGZvciAke2RhdGVTdHJ9OmAsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgYXZhaWxhYmlsaXR5IGZvciAke2RhdGVTdHJ9OmAsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRGZXRjaGVkU2xvdHMoYWxsU2xvdHMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXZhaWxhYmlsaXR5OicsIGVycm9yKTtcbiAgICAgICAgc2V0QXZhaWxhYmlsaXR5RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGF2YWlsYWJpbGl0eS4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZ0F2YWlsYWJpbGl0eShmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hBdmFpbGFiaWxpdHkoKTtcbiAgfSwgW3NlbGVjdGVkU2VydmljZSwgc3RlcCwgYnVzaW5lc3Muc2x1Zywgd29ya3NwYWNlLnN0YWZmLCB3b3Jrc3BhY2UuaWRlbnRpdHkubG9jYXRpb24udGltZXpvbmVdKTtcblxuICBjb25zdCBzZXJ2aWNlQXZhaWxhYmlsaXR5ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgLy8gVXNlIGZldGNoZWQgc2xvdHMgZnJvbSBBUEkgaW5zdGVhZCBvZiB3b3Jrc3BhY2UuYXZhaWxhYmlsaXR5XG4gICAgcmV0dXJuIGZldGNoZWRTbG90cztcbiAgfSwgW2ZldGNoZWRTbG90c10pO1xuXG4gIGNvbnN0IGdyb3VwZWRTbG90cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlKSByZXR1cm4ge307XG4gICAgY29uc3QgZmlsdGVyZWQgPVxuICAgICAgc2VsZWN0ZWRTdGFmZklkID09PSBcImFueVwiXG4gICAgICAgID8gc2VydmljZUF2YWlsYWJpbGl0eVxuICAgICAgICA6IHNlcnZpY2VBdmFpbGFiaWxpdHkuZmlsdGVyKChzbG90KSA9PiBzbG90LnN0YWZmSWQgPT09IHNlbGVjdGVkU3RhZmZJZCk7XG4gICAgcmV0dXJuIGdyb3VwU2xvdHNCeURheShmaWx0ZXJlZCwgd29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uLnRpbWV6b25lIHx8IFwiVVRDXCIpO1xuICB9LCBbXG4gICAgc2VydmljZUF2YWlsYWJpbGl0eSxcbiAgICBzZWxlY3RlZFN0YWZmSWQsXG4gICAgd29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uLnRpbWV6b25lLFxuICAgIHNlbGVjdGVkU2VydmljZVxuICBdKTtcblxuICBjb25zdCBsaXN0UHJpY2VDZW50cyA9IHNlbGVjdGVkU2VydmljZT8ucHJpY2VDZW50cyA/PyAwO1xuICBjb25zdCBhcHBsaWVkR2lmdENhcmRDZW50cyA9IGdpZnRDYXJkU3RhdGU/LmFtb3VudENlbnRzID8/IDA7XG4gIGNvbnN0IGFtb3VudER1ZUNlbnRzID0gTWF0aC5tYXgobGlzdFByaWNlQ2VudHMgLSBhcHBsaWVkR2lmdENhcmRDZW50cywgMCk7XG5cbiAgLy8gQ2FyZCBpcyBhbHdheXMgcmVxdWlyZWQgZm9yIGFsbCBib29raW5ncyAoZXZlbiBjYXNoKSBhcyBiYWNrdXAgZm9yIG5vLXNob3cgZmVlc1xuICAvLyBCdXQgd2UgZGlzcGxheSB0aGUgYnVzaW5lc3MncyBhY2NlcHRlZCBtZXRob2RzIGZyb20gb25ib2FyZGluZyBmb3IgaW5mb3JtYXRpb25cbiAgY29uc3QgYnVzaW5lc3NBY2NlcHRlZE1ldGhvZHMgPSB3b3Jrc3BhY2UucGF5bWVudC5hY2NlcHRlZE1ldGhvZHMgfHwgW107XG4gIGNvbnN0IGFjY2VwdGVkTWV0aG9kc0ZvckRpc3BsYXkgPSBidXNpbmVzc0FjY2VwdGVkTWV0aG9kcy5sZW5ndGggPiAwIFxuICAgID8gYnVzaW5lc3NBY2NlcHRlZE1ldGhvZHMgXG4gICAgOiBbXCJjYXJkXCJdOyAvLyBEZWZhdWx0IHRvIGNhcmQgaWYgbm8gbWV0aG9kcyBzcGVjaWZpZWRcblxuICBjb25zdCBwb2xpY2llcyA9IHdvcmtzcGFjZS5wb2xpY2llcztcbiAgY29uc3QgdGltZXpvbmUgPSB3b3Jrc3BhY2UuaWRlbnRpdHkubG9jYXRpb24udGltZXpvbmUgfHwgXCJVVENcIjtcblxuICBjb25zdCBoYW5kbGVTZWxlY3RTZXJ2aWNlID0gKHNlcnZpY2VJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRTZXJ2aWNlSWQoc2VydmljZUlkKTtcbiAgICBzZXRTZWxlY3RlZFN0YWZmSWQoXCJhbnlcIik7XG4gICAgc2V0U2VsZWN0ZWRTbG90KG51bGwpO1xuICAgIHNldFN0ZXAoXCJhdmFpbGFiaWxpdHlcIik7XG4gICAgc2V0R2lmdENhcmRTdGF0ZShudWxsKTtcbiAgICBzZXRHaWZ0Q2FyZElucHV0KFwiXCIpO1xuICAgIHNldEdpZnRDYXJkRXJyb3IobnVsbCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VsZWN0U2xvdCA9IChzbG90OiBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QpID0+IHtcbiAgICBzZXRTZWxlY3RlZFNsb3Qoc2xvdCk7XG4gICAgc2V0R2lmdENhcmRTdGF0ZShudWxsKTtcbiAgICBzZXRHaWZ0Q2FyZElucHV0KFwiXCIpO1xuICAgIHNldEdpZnRDYXJkRXJyb3IobnVsbCk7XG4gICAgc2V0U3RlcChcImNoZWNrb3V0XCIpO1xuICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6IFwic21vb3RoXCIgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQXBwbHlHaWZ0Q2FyZCA9ICgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSkgcmV0dXJuO1xuICAgIGNvbnN0IGNvZGUgPSBnaWZ0Q2FyZElucHV0LnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgIGlmIChjb2RlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0R2lmdENhcmRFcnJvcihcIkVudGVyIGEgZ2lmdCBjYXJkIGNvZGUgdG8gYXBwbHkuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm9ncmFtID0gd29ya3NwYWNlLmdpZnRDYXJkcztcbiAgICBpZiAoIXByb2dyYW0uY29uZmlnLmVuYWJsZWQpIHtcbiAgICAgIHNldEdpZnRDYXJkRXJyb3IoXCJHaWZ0IGNhcmRzIGFyZSBub3QgZW5hYmxlZCBmb3IgdGhpcyBidXNpbmVzcy5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFsbENvZGVzID0gbmV3IFNldChbXG4gICAgICAuLi5wcm9ncmFtLmNvbmZpZy5nZW5lcmF0ZWRDb2Rlcy5tYXAoKGVudHJ5KSA9PiBlbnRyeS50b1VwcGVyQ2FzZSgpKSxcbiAgICAgIC4uLnByb2dyYW0ubGVkZ2VyLm1hcCgoZW50cnkpID0+IGVudHJ5LmNvZGUudG9VcHBlckNhc2UoKSlcbiAgICBdKTtcbiAgICBpZiAoIWFsbENvZGVzLmhhcyhjb2RlKSkge1xuICAgICAgc2V0R2lmdENhcmRFcnJvcihcIlRoYXQgY29kZSBpcyBub3QgcmVjb2duaXplZC4gQ2hlY2sgdGhlIHNwZWxsaW5nIGFuZCB0cnkgYWdhaW4uXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhbW91bnRDZW50cyA9XG4gICAgICBwcm9ncmFtLmNvbmZpZy5hbW91bnRUeXBlID09PSBcImFtb3VudFwiXG4gICAgICAgID8gcHJvZ3JhbS5jb25maWcuYW1vdW50VmFsdWVcbiAgICAgICAgOiBNYXRoLnJvdW5kKChzZWxlY3RlZFNlcnZpY2UucHJpY2VDZW50cyAqIHByb2dyYW0uY29uZmlnLmFtb3VudFZhbHVlKSAvIDEwMCk7XG4gICAgY29uc3QgYXBwbGllZEFtb3VudCA9IE1hdGgubWluKGFtb3VudENlbnRzLCBzZWxlY3RlZFNlcnZpY2UucHJpY2VDZW50cyk7XG4gICAgaWYgKGFwcGxpZWRBbW91bnQgPD0gMCkge1xuICAgICAgc2V0R2lmdENhcmRFcnJvcihcIlRoaXMgZ2lmdCBjYXJkIGhhcyBubyBiYWxhbmNlIHJlbWFpbmluZy5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldEdpZnRDYXJkRXJyb3IobnVsbCk7XG4gICAgc2V0R2lmdENhcmRTdGF0ZSh7XG4gICAgICBjb2RlLFxuICAgICAgYW1vdW50Q2VudHM6IGFwcGxpZWRBbW91bnQsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgcHJvZ3JhbS5jb25maWcuYW1vdW50VHlwZSA9PT0gXCJhbW91bnRcIlxuICAgICAgICAgID8gYCR7Zm9ybWF0Q3VycmVuY3koYXBwbGllZEFtb3VudCl9IGFwcGxpZWRgXG4gICAgICAgICAgOiBgJHtwcm9ncmFtLmNvbmZpZy5hbW91bnRWYWx1ZX0lIG9mZiAoJHtmb3JtYXRDdXJyZW5jeShhcHBsaWVkQW1vdW50KX0pYFxuICAgIH0pO1xuICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICB0aXRsZTogXCJHaWZ0IGNhcmQgYXBwbGllZFwiLFxuICAgICAgZGVzY3JpcHRpb246IGBXZSBkZWR1Y3RlZCAke2Zvcm1hdEN1cnJlbmN5KGFwcGxpZWRBbW91bnQpfSBmcm9tIHRvZGF5J3MgdG90YWwuYCxcbiAgICAgIGludGVudDogXCJzdWNjZXNzXCJcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXRDaGVja291dCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSB8fCAhc2VsZWN0ZWRTbG90KSByZXR1cm47XG4gICAgaWYgKGN1c3RvbWVyTmFtZS50cmltKCkubGVuZ3RoIDwgMikge1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiQWRkIHlvdXIgbmFtZVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJXZSBuZWVkIHlvdXIgZmlyc3QgYW5kIGxhc3QgbmFtZSB0byBwZXJzb25hbGl6ZSBub3RpZmljYXRpb25zLlwiLFxuICAgICAgICBpbnRlbnQ6IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNWYWxpZEVtYWlsKGN1c3RvbWVyRW1haWwpKSB7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJFbnRlciBhIHZhbGlkIGVtYWlsXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIldlIHVzZSB5b3VyIGVtYWlsIGZvciBjb25maXJtYXRpb25zIGFuZCByZWNlaXB0cy5cIixcbiAgICAgICAgaW50ZW50OiBcImVycm9yXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWRQaG9uZShjdXN0b21lclBob25lKSkge1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiUGhvbmUgbnVtYmVyIHJlcXVpcmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkFkZCBhIHBob25lIG51bWJlciBzbyB3ZSBjYW4gc2VuZCByZW1pbmRlcnMgb3IgcmVhY2ggeW91IGFib3V0IGNoYW5nZXMuXCIsXG4gICAgICAgIGludGVudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFjb25zZW50Q2hlY2tlZCkge1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiQ29uc2VudCByZXF1aXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJSZXZpZXcgdGhlIHBvbGljaWVzIGFuZCBjb25maXJtIHlvdSBhZ3JlZSBiZWZvcmUgYm9va2luZy5cIixcbiAgICAgICAgaW50ZW50OiBcImVycm9yXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBJZiBwYXltZW50IG1ldGhvZCBpcyBhbHJlYWR5IGNvbmZpcm1lZCwgYm9va2luZyBpcyBhbHJlYWR5IGNyZWF0ZWQgYW5kIHdlJ3JlIGRvbmVcbiAgICBpZiAocGF5bWVudE1ldGhvZElkICYmIGNyZWF0ZWRCb29raW5nSWQpIHtcbiAgICAgIC8vIEJvb2tpbmcgaXMgY29tcGxldGUsIHNob3cgY29uZmlybWF0aW9uXG4gICAgICBpZiAoc2VsZWN0ZWRTZXJ2aWNlICYmIHNlbGVjdGVkU2xvdCkge1xuICAgICAgICBjb25zdCBib29raW5nOiBGYWtlQm9va2luZyA9IHtcbiAgICAgICAgICBpZDogY3JlYXRlZEJvb2tpbmdJZCxcbiAgICAgICAgICBjb2RlOiBjcmVhdGVkQm9va2luZ0NvZGUgfHwgYFRJVEhJLSR7Y3JlYXRlZEJvb2tpbmdJZC5zbGljZSgwLCA4KS50b1VwcGVyQ2FzZSgpfWAsXG4gICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgICAgc2VydmljZUlkOiBzZWxlY3RlZFNlcnZpY2UuaWQsXG4gICAgICAgICAgc2VydmljZU5hbWU6IHNlbGVjdGVkU2VydmljZS5uYW1lLFxuICAgICAgICAgIGNhdGVnb3J5TmFtZTogc2VsZWN0ZWRTZXJ2aWNlLmNhdGVnb3J5TmFtZSxcbiAgICAgICAgICBkdXJhdGlvbk1pbnV0ZXM6IHNlbGVjdGVkU2VydmljZS5kdXJhdGlvbk1pbnV0ZXMsXG4gICAgICAgICAgc3RhcnREYXRlVGltZTogc2VsZWN0ZWRTbG90LnN0YXJ0RGF0ZVRpbWUsXG4gICAgICAgICAgZW5kRGF0ZVRpbWU6IHNlbGVjdGVkU2xvdC5lbmREYXRlVGltZSxcbiAgICAgICAgICBzdGFmZjoge1xuICAgICAgICAgICAgaWQ6IHNlbGVjdGVkU2xvdC5zdGFmZklkLFxuICAgICAgICAgICAgbmFtZTogc2VsZWN0ZWRTbG90LnN0YWZmTmFtZSxcbiAgICAgICAgICAgIGNvbG9yOiB3b3Jrc3BhY2Uuc3RhZmYuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2xvdC5zdGFmZklkKT8uY29sb3IgfHwgXCIjMDAwMDAwXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjdXN0b21lcjoge1xuICAgICAgICAgICAgbmFtZTogY3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgICAgIGVtYWlsOiBjdXN0b21lckVtYWlsLnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgcGhvbmU6IGN1c3RvbWVyUGhvbmUudHJpbSgpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGF5bWVudHM6IFtdLFxuICAgICAgICAgIGZpbmFuY2lhbHM6IHtcbiAgICAgICAgICAgIGxpc3RQcmljZUNlbnRzOiBsaXN0UHJpY2VDZW50cyxcbiAgICAgICAgICAgIGdpZnRDYXJkQW1vdW50Q2VudHM6IGdpZnRDYXJkU3RhdGU/LmFtb3VudENlbnRzIHx8IDAsXG4gICAgICAgICAgICBwbGF0Zm9ybUZlZUNlbnRzOiAwLFxuICAgICAgICAgICAgc3RyaXBlRmVlRXN0aW1hdGVDZW50czogMCxcbiAgICAgICAgICAgIG5ldFBheW91dENlbnRzOiAwLFxuICAgICAgICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcG9saWN5Q29uc2VudDogY3JlYXRlUG9saWN5Q29uc2VudChwb2xpY2llcyksXG4gICAgICAgICAgcmVxdWlyZXNBY3Rpb246IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICBzZXRDcmVhdGVkQm9va2luZyhib29raW5nKTtcbiAgICAgICAgc2V0U3RlcChcImNvbmZpcm1hdGlvblwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQYXltZW50IG1ldGhvZCBtdXN0IGJlIHNldCB2aWEgU3RyaXBlIEVsZW1lbnRzXG4gICAgaWYgKCFwYXltZW50TWV0aG9kSWQpIHtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIlBheW1lbnQgbWV0aG9kIHJlcXVpcmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlBsZWFzZSBjb21wbGV0ZSB0aGUgcGF5bWVudCBmb3JtIGFib3ZlLiBZb3VyIGNhcmQgd2lsbCBiZSBzYXZlZCBzZWN1cmVseSBidXQgbm90IGNoYXJnZWQuXCIsXG4gICAgICAgIGludGVudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBoYXZlIHBheW1lbnRNZXRob2RJZCBidXQgbm8gYm9va2luZyBJRCwgdGhlIGJvb2tpbmcgd2FzIGNyZWF0ZWQgaW4gdXNlRWZmZWN0XG4gICAgLy8gV2UganVzdCBuZWVkIHRvIHdhaXQgZm9yIHRoZSBwYXltZW50IHRvIGJlIHByb2Nlc3NlZCAoaXQgc2hvdWxkIGFscmVhZHkgYmUgZG9uZSlcbiAgICBpZiAocGF5bWVudE1ldGhvZElkICYmICFjcmVhdGVkQm9va2luZ0lkKSB7XG4gICAgICAvLyBUaGlzIHNob3VsZG4ndCBoYXBwZW4sIGJ1dCBoYW5kbGUgaXQgZ3JhY2VmdWxseVxuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiUHJvY2Vzc2luZyBwYXltZW50XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlBsZWFzZSB3YWl0IHdoaWxlIHdlIGNvbXBsZXRlIHlvdXIgYm9va2luZy5cIixcbiAgICAgICAgaW50ZW50OiBcImluZm9cIlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVJlc2V0RmxvdyA9ICgpID0+IHtcbiAgICBzZXRTdGVwKFwiY2F0YWxvZ1wiKTtcbiAgICBzZXRTZWxlY3RlZFNlcnZpY2VJZChudWxsKTtcbiAgICBzZXRTZWxlY3RlZFN0YWZmSWQoXCJhbnlcIik7XG4gICAgc2V0U2VsZWN0ZWRTbG90KG51bGwpO1xuICAgIHNldEdpZnRDYXJkU3RhdGUobnVsbCk7XG4gICAgc2V0R2lmdENhcmRJbnB1dChcIlwiKTtcbiAgICBzZXRHaWZ0Q2FyZEVycm9yKG51bGwpO1xuICAgIHNldEN1c3RvbWVyTmFtZShcIlwiKTtcbiAgICBzZXRDdXN0b21lckVtYWlsKFwiXCIpO1xuICAgIHNldEN1c3RvbWVyUGhvbmUoXCJcIik7XG4gICAgc2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXQobnVsbCk7XG4gICAgc2V0UGF5bWVudE1ldGhvZElkKG51bGwpO1xuICAgIHNldENyZWF0ZWRCb29raW5nSWQobnVsbCk7XG4gICAgc2V0Q3JlYXRlZEJvb2tpbmdDb2RlKG51bGwpO1xuICAgIHNldENvbnNlbnRDaGVja2VkKGZhbHNlKTtcbiAgICBzZXRJc1BvbGljeU1vZGFsT3BlbihmYWxzZSk7XG4gICAgc2V0Q3JlYXRlZEJvb2tpbmcobnVsbCk7XG4gIH07XG5cbiAgLy8gR2V0IGJyYW5kaW5nIGZyb20gd29ya3NwYWNlXG4gIGNvbnN0IGJyYW5kaW5nID0gd29ya3NwYWNlLmlkZW50aXR5LmJyYW5kaW5nO1xuICBjb25zdCBwcmltYXJ5Q29sb3IgPSBicmFuZGluZz8ucHJpbWFyeUNvbG9yIHx8IFwiIzVCNjRGRlwiO1xuICBjb25zdCBsb2dvVXJsID0gYnJhbmRpbmc/LmxvZ29Vcmw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIG1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsYWNrIHZpYS1zbGF0ZS05NTAgdG8tWyMwYjBkMWFdIHRleHQtd2hpdGVcIj5cbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgLXotMTBcIlxuICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiBgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCB0b3AsICR7cHJpbWFyeUNvbG9yfTI1LCB0cmFuc3BhcmVudCA2MCUpYCB9fVxuICAgICAgLz5cbiAgICAgIHtzdGVwID09PSBcImNvbmZpcm1hdGlvblwiID8gPENvbmZldHRpT3ZlcmxheSAvPiA6IG51bGx9XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cIm14LWF1dG8gbWF4LXctNXhsIHB4LTQgcHktMTIgc206cHgtNiBsZzpweC04XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtNiBtZDpmbGV4LXJvdyBtZDppdGVtcy1zdGFydCBtZDpqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgey8qIExvZ28gYW5kIEJ1c2luZXNzIE5hbWUgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgICAgIHtsb2dvVXJsID8gKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGgtMTYgdy0xNiBmbGV4LXNocmluay0wIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzEwXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJveFNoYWRvdzogYDAgOHB4IDE2cHggLThweCAke3ByaW1hcnlDb2xvcn01NWAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtsb2dvVXJsfVxuICAgICAgICAgICAgICAgICAgICBhbHQ9e2Ake3dvcmtzcGFjZS5pZGVudGl0eS5idXNpbmVzcy5idXNpbmVzc05hbWV9IGxvZ29gfVxuICAgICAgICAgICAgICAgICAgICBmaWxsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgIHVub3B0aW1pemVkXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1kaXNwbGF5IHRleHQtNHhsIHNtOnRleHQtNXhsXCI+XG4gICAgICAgICAgICAgICAgICB7d29ya3NwYWNlLmlkZW50aXR5LmJ1c2luZXNzLmJ1c2luZXNzTmFtZX1cbiAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgICAgICB7d29ya3NwYWNlLmlkZW50aXR5LmJ1c2luZXNzLmRlc2NyaXB0aW9uIHx8IFwiYm9va2luZyBhcHAgZm9yIGxvY2FsIGJ1c2luZXNzZXNcIn1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8QmFkZ2UgaW50ZW50PVwiaW5mb1wiIGNsYXNzTmFtZT1cInctZml0XCI+XG4gICAgICAgICAgICAgIE1hbnVhbCBjYXB0dXJlIOKAlCBubyBjaGFyZ2UgYXQgYm9va2luZ1xuICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgbWF4LXctMnhsIHRleHQtYmFzZSB0ZXh0LXdoaXRlLzcwXCI+XG4gICAgICAgICAgICAgICAgU2VsZWN0IGEgc2VydmljZSwgY2hvb3NlIHRoZSBiZXN0IHRpbWUsIGFuZCBzZWN1cmUgeW91ciBhcHBvaW50bWVudC4gWW91ciBjYXJkIGlzIHN0b3JlZCBzZWN1cmVseSBhbmQgb25seSBjaGFyZ2VkIGFmdGVyIHRoZSB2aXNpdCBvciBpZiBhIHBvbGljeSBmZWUgYXBwbGllcy5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMyB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0xXCI+XG4gICAgICAgICAgICAgICAgPE1hcFBpbiBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICB7Zm9ybWF0QWRkcmVzcyh3b3Jrc3BhY2UuaWRlbnRpdHkubG9jYXRpb24pfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMVwiPlxuICAgICAgICAgICAgICAgIDxDbG9jayBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICBBbGwgdGltZXMgc2hvd24gaW4ge3RpbWV6b25lfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMVwiPlxuICAgICAgICAgICAgICAgIDxTaGllbGRDaGVjayBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICBDYXJkIHNhdmVkIHNlY3VyZWx5IOKAlCBjYXB0dXJlIGhhcHBlbnMgbGF0ZXJcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2NyZWF0ZWRCb29raW5nID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNDAwLzMwIGJnLWVtZXJhbGQtNTAwLzEwIHAtNiB0ZXh0LWVtZXJhbGQtMTAwIHNoYWRvdy1bMF8wXzQwcHhfcmdiYSg1MiwyMTEsMTUzLDAuMjUpXVwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHVwcGVyY2FzZSB0cmFja2luZy1bMC4zNWVtXSB0ZXh0LWVtZXJhbGQtMjAwLzcwXCI+XG4gICAgICAgICAgICAgICAgQ29uZmlybWF0aW9uXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiBmb250LWRpc3BsYXkgdGV4dC0yeGxcIj5cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRTZXJ2aWNlPy5uYW1lID8/IGNyZWF0ZWRCb29raW5nLnNlcnZpY2VOYW1lfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LWVtZXJhbGQtMTAwLzgwXCI+XG4gICAgICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUoY3JlYXRlZEJvb2tpbmcuc3RhcnREYXRlVGltZSwgdGltZXpvbmUsIHtcbiAgICAgICAgICAgICAgICAgIHdlZWtkYXk6IFwibG9uZ1wiLFxuICAgICAgICAgICAgICAgICAgbW9udGg6IFwic2hvcnRcIixcbiAgICAgICAgICAgICAgICAgIGRheTogXCJudW1lcmljXCIsXG4gICAgICAgICAgICAgICAgICBob3VyOiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgICAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCJcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0zIHRleHQtc20gdGV4dC1lbWVyYWxkLTEwMC84MFwiPlxuICAgICAgICAgICAgICAgIFdlIHNlbnQgYSBjb25maXJtYXRpb24gZW1haWwgdG8ge2NyZWF0ZWRCb29raW5nLmN1c3RvbWVyLmVtYWlsfS4gTWFudWFsIGNhcHR1cmUga2VlcHNcbiAgICAgICAgICAgICAgICB5b3UgaW4gY29udHJvbOKAlG5vdGhpbmcgY2hhcmdlcyB1bmxlc3MgeW91IHByZXNzIGEgbW9uZXkgYnV0dG9uLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgPG1haW4gY2xhc3NOYW1lPVwibXgtYXV0byBtYXgtdy01eGwgcHgtNCBwYi0xNiBzbTpweC02IGxnOnB4LThcIj5cbiAgICAgICAgPFN0ZXBJbmRpY2F0b3IgY3VycmVudFN0ZXA9e3N0ZXB9IG9uUmVzZXQ9e2hhbmRsZVJlc2V0Rmxvd30gcHJpbWFyeUNvbG9yPXtwcmltYXJ5Q29sb3J9IC8+XG5cbiAgICAgICAge3N0ZXAgPT09IFwiY2F0YWxvZ1wiID8gKFxuICAgICAgICAgIDxDYXRhbG9nU3RlcFxuICAgICAgICAgICAgY2F0YWxvZz17d29ya3NwYWNlLmNhdGFsb2d9XG4gICAgICAgICAgICBvblNlbGVjdFNlcnZpY2U9e2hhbmRsZVNlbGVjdFNlcnZpY2V9XG4gICAgICAgICAgICBwcmltYXJ5Q29sb3I9e3ByaW1hcnlDb2xvcn1cbiAgICAgICAgICAvPlxuICAgICAgICApIDogbnVsbH1cblxuICAgICAgICB7c3RlcCA9PT0gXCJhdmFpbGFiaWxpdHlcIiAmJiBzZWxlY3RlZFNlcnZpY2UgPyAoXG4gICAgICAgICAgPEF2YWlsYWJpbGl0eVN0ZXBcbiAgICAgICAgICAgIHNlcnZpY2U9e3NlbGVjdGVkU2VydmljZX1cbiAgICAgICAgICAgIHNsb3RzQnlEYXk9e2dyb3VwZWRTbG90c31cbiAgICAgICAgICAgIHNlbGVjdGVkU3RhZmZJZD17c2VsZWN0ZWRTdGFmZklkfVxuICAgICAgICAgICAgc2V0U2VsZWN0ZWRTdGFmZklkPXtzZXRTZWxlY3RlZFN0YWZmSWR9XG4gICAgICAgICAgICBvbkJhY2s9eygpID0+IHNldFN0ZXAoXCJjYXRhbG9nXCIpfVxuICAgICAgICAgICAgb25TZWxlY3RTbG90PXtoYW5kbGVTZWxlY3RTbG90fVxuICAgICAgICAgICAgc3RhZmY9e3dvcmtzcGFjZS5zdGFmZn1cbiAgICAgICAgICAgIHRpbWV6b25lPXt0aW1lem9uZX1cbiAgICAgICAgICAgIHN1cHBvcnRFbWFpbD17d29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uLnN1cHBvcnRFbWFpbH1cbiAgICAgICAgICAgIGlzTG9hZGluZz17aXNMb2FkaW5nQXZhaWxhYmlsaXR5fVxuICAgICAgICAgICAgcHJpbWFyeUNvbG9yPXtwcmltYXJ5Q29sb3J9XG4gICAgICAgICAgICBlcnJvcj17YXZhaWxhYmlsaXR5RXJyb3J9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge3N0ZXAgPT09IFwiY2hlY2tvdXRcIiAmJiBzZWxlY3RlZFNlcnZpY2UgJiYgc2VsZWN0ZWRTbG90ID8gKFxuICAgICAgICAgIDxDaGVja291dFN0ZXBcbiAgICAgICAgICAgIHNlcnZpY2U9e3NlbGVjdGVkU2VydmljZX1cbiAgICAgICAgICAgIHNsb3Q9e3NlbGVjdGVkU2xvdH1cbiAgICAgICAgICAgIG9uQmFjaz17KCkgPT4gc2V0U3RlcChcImF2YWlsYWJpbGl0eVwiKX1cbiAgICAgICAgICAgIGN1c3RvbWVyTmFtZT17Y3VzdG9tZXJOYW1lfVxuICAgICAgICAgICAgc2V0Q3VzdG9tZXJOYW1lPXtzZXRDdXN0b21lck5hbWV9XG4gICAgICAgICAgICBjdXN0b21lckVtYWlsPXtjdXN0b21lckVtYWlsfVxuICAgICAgICAgICAgc2V0Q3VzdG9tZXJFbWFpbD17c2V0Q3VzdG9tZXJFbWFpbH1cbiAgICAgICAgICAgIGN1c3RvbWVyUGhvbmU9e2N1c3RvbWVyUGhvbmV9XG4gICAgICAgICAgICBzZXRDdXN0b21lclBob25lPXtzZXRDdXN0b21lclBob25lfVxuICAgICAgICAgICAgc2V0dXBJbnRlbnRDbGllbnRTZWNyZXQ9e3NldHVwSW50ZW50Q2xpZW50U2VjcmV0fVxuICAgICAgICAgICAgc2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXQ9e3NldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0fVxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZElkPXtwYXltZW50TWV0aG9kSWR9XG4gICAgICAgICAgICBzZXRQYXltZW50TWV0aG9kSWQ9e3NldFBheW1lbnRNZXRob2RJZH1cbiAgICAgICAgICAgIGNyZWF0ZWRCb29raW5nSWQ9e2NyZWF0ZWRCb29raW5nSWR9XG4gICAgICAgICAgICBzZXRDcmVhdGVkQm9va2luZ0lkPXtzZXRDcmVhdGVkQm9va2luZ0lkfVxuICAgICAgICAgICAgY3JlYXRlZEJvb2tpbmdDb2RlPXtjcmVhdGVkQm9va2luZ0NvZGV9XG4gICAgICAgICAgICBzZXRDcmVhdGVkQm9va2luZ0NvZGU9e3NldENyZWF0ZWRCb29raW5nQ29kZX1cbiAgICAgICAgICAgIHdvcmtzcGFjZT17d29ya3NwYWNlfVxuICAgICAgICAgICAgY3VzdG9tZXJOYW1lPXtjdXN0b21lck5hbWV9XG4gICAgICAgICAgICBjdXN0b21lckVtYWlsPXtjdXN0b21lckVtYWlsfVxuICAgICAgICAgICAgY3VzdG9tZXJQaG9uZT17Y3VzdG9tZXJQaG9uZX1cbiAgICAgICAgICAgIGxpc3RQcmljZUNlbnRzPXtsaXN0UHJpY2VDZW50c31cbiAgICAgICAgICAgIGdpZnRDYXJkU3RhdGU9e2dpZnRDYXJkU3RhdGV9XG4gICAgICAgICAgICBwb2xpY2llcz17cG9saWNpZXN9XG4gICAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgICAgICBzZWxlY3RlZFNlcnZpY2U9e3NlbGVjdGVkU2VydmljZX1cbiAgICAgICAgICAgIHNlbGVjdGVkU2xvdD17c2VsZWN0ZWRTbG90fVxuICAgICAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmc9e3NldENyZWF0ZWRCb29raW5nfVxuICAgICAgICAgICAgc2V0U3RlcD17c2V0U3RlcH1cbiAgICAgICAgICAgIHRvYXN0PXt0b2FzdH1cbiAgICAgICAgICAgIGNvbnNlbnRDaGVja2VkPXtjb25zZW50Q2hlY2tlZH1cbiAgICAgICAgICAgIHNldENvbnNlbnRDaGVja2VkPXtzZXRDb25zZW50Q2hlY2tlZH1cbiAgICAgICAgICAgIGdpZnRDYXJkSW5wdXQ9e2dpZnRDYXJkSW5wdXR9XG4gICAgICAgICAgICBzZXRHaWZ0Q2FyZElucHV0PXtzZXRHaWZ0Q2FyZElucHV0fVxuICAgICAgICAgICAgZ2lmdENhcmRFcnJvcj17Z2lmdENhcmRFcnJvcn1cbiAgICAgICAgICAgIGdpZnRDYXJkU3RhdGU9e2dpZnRDYXJkU3RhdGV9XG4gICAgICAgICAgICBvbkFwcGx5R2lmdENhcmQ9e2hhbmRsZUFwcGx5R2lmdENhcmR9XG4gICAgICAgICAgICBhY2NlcHRlZE1ldGhvZHM9e2FjY2VwdGVkTWV0aG9kc0ZvckRpc3BsYXl9XG4gICAgICAgICAgICBwb2xpY2llcz17cG9saWNpZXN9XG4gICAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgICAgICBhbW91bnREdWVDZW50cz17YW1vdW50RHVlQ2VudHN9XG4gICAgICAgICAgICBsaXN0UHJpY2VDZW50cz17bGlzdFByaWNlQ2VudHN9XG4gICAgICAgICAgICBpc1N1Ym1pdHRpbmc9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgIG9uU3VibWl0PXtoYW5kbGVTdWJtaXRDaGVja291dH1cbiAgICAgICAgICAgIG9uT3BlblBvbGljaWVzPXsoKSA9PiBzZXRJc1BvbGljeU1vZGFsT3Blbih0cnVlKX1cbiAgICAgICAgICAgIGJ1c2luZXNzPXtidXNpbmVzc31cbiAgICAgICAgICAvPlxuICAgICAgICApIDogbnVsbH1cblxuICAgICAgICB7c3RlcCA9PT0gXCJjb25maXJtYXRpb25cIiAmJiBjcmVhdGVkQm9va2luZyA/IChcbiAgICAgICAgICA8Q29uZmlybWF0aW9uU3RlcFxuICAgICAgICAgICAgYm9va2luZz17Y3JlYXRlZEJvb2tpbmd9XG4gICAgICAgICAgICBzZXJ2aWNlPXtzZWxlY3RlZFNlcnZpY2V9XG4gICAgICAgICAgICBhbW91bnREdWVDZW50cz17YW1vdW50RHVlQ2VudHN9XG4gICAgICAgICAgICBwb2xpY2llcz17cG9saWNpZXN9XG4gICAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgICAgICBvbkJvb2tBbm90aGVyPXtoYW5kbGVSZXNldEZsb3d9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8L21haW4+XG5cbiAgICAgIHtpc1BvbGljeU1vZGFsT3BlbiA/IChcbiAgICAgICAgPFBvbGljeU1vZGFsXG4gICAgICAgICAgcG9saWNpZXM9e3BvbGljaWVzfVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzUG9saWN5TW9kYWxPcGVuKGZhbHNlKX1cbiAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgIC8+XG4gICAgICApIDogbnVsbH1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ2F0YWxvZ1N0ZXAoe1xuICBjYXRhbG9nLFxuICBvblNlbGVjdFNlcnZpY2UsXG4gIHByaW1hcnlDb2xvclxufToge1xuICBjYXRhbG9nOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJjYXRhbG9nXCJdO1xuICBvblNlbGVjdFNlcnZpY2U6IChzZXJ2aWNlSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgcHJpbWFyeUNvbG9yOiBzdHJpbmc7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwic3BhY2UteS0xMlwiPlxuICAgICAge2NhdGFsb2cubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICA8ZGl2IGtleT17Y2F0ZWdvcnkuaWR9IGNsYXNzTmFtZT1cInNwYWNlLXktNVwiPlxuICAgICAgICAgIDxoZWFkZXI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xNSBiZy13aGl0ZS81IHB4LTQgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLVswLjM1ZW1dIHRleHQtd2hpdGUvNTVcIj5cbiAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cImgtMy41IHctMy41XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTMgdGV4dC1iYXNlIHRleHQtd2hpdGUvNzAgbWF4LXctMnhsXCI+e2NhdGVnb3J5LmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICA8L2hlYWRlcj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTYgbWQ6Z3JpZC1jb2xzLTJcIj5cbiAgICAgICAgICAgIHtjYXRlZ29yeS5zZXJ2aWNlcy5tYXAoKHNlcnZpY2UpID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17c2VydmljZS5pZH1cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNlbGVjdFNlcnZpY2Uoc2VydmljZS5pZCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ3JvdXAgZmxleCBmbGV4LWNvbCBnYXAtNCByb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcC02IHRleHQtbGVmdCB0cmFuc2l0aW9uIGhvdmVyOmJvcmRlci13aGl0ZS8yNSBob3ZlcjpiZy13aGl0ZS8xMCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcHJpbWFyeS83MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1ibGFja1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZm9udC1kaXNwbGF5IHRleHQtMnhsIHRleHQtd2hpdGVcIj57c2VydmljZS5uYW1lfTwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+e3NlcnZpY2UuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLVswLjI1ZW1dIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgICAgICAgICAge2Zvcm1hdER1cmF0aW9uKHNlcnZpY2UuZHVyYXRpb25NaW51dGVzKX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7c2VydmljZS5pbnN0cnVjdGlvbnMgPyAoXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtd2hpdGUvNDBcIj57c2VydmljZS5pbnN0cnVjdGlvbnN9PC9wPlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtYXV0byBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICAgICAgICBTdGFydGluZyBhdCA8c3Ryb25nIGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIj57Zm9ybWF0Q3VycmVuY3koc2VydmljZS5wcmljZUNlbnRzKX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZ3JvdXAtaG92ZXI6dHJhbnNsYXRlLXgtMSB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6IHByaW1hcnlDb2xvciB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBTZWxlY3QgPEFycm93UmlnaHQgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSl9XG4gICAgPC9zZWN0aW9uPlxuICApO1xufVxuXG5mdW5jdGlvbiBBdmFpbGFiaWxpdHlTdGVwKHtcbiAgc2VydmljZSxcbiAgc2xvdHNCeURheSxcbiAgc2VsZWN0ZWRTdGFmZklkLFxuICBzZXRTZWxlY3RlZFN0YWZmSWQsXG4gIG9uQmFjayxcbiAgb25TZWxlY3RTbG90LFxuICBzdGFmZixcbiAgdGltZXpvbmUsXG4gIHN1cHBvcnRFbWFpbCxcbiAgaXNMb2FkaW5nLFxuICBlcnJvcixcbiAgcHJpbWFyeUNvbG9yXG59OiB7XG4gIHNlcnZpY2U6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlcjtcbiAgICBwcmljZUNlbnRzOiBudW1iZXI7XG4gICAgY2F0ZWdvcnlOYW1lOiBzdHJpbmc7XG4gICAgc3RhZmZJZHM6IHN0cmluZ1tdO1xuICB9O1xuICBzbG90c0J5RGF5OiBSZWNvcmQ8c3RyaW5nLCBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3RbXT47XG4gIHNlbGVjdGVkU3RhZmZJZDogc3RyaW5nO1xuICBzZXRTZWxlY3RlZFN0YWZmSWQ6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkJhY2s6ICgpID0+IHZvaWQ7XG4gIG9uU2VsZWN0U2xvdDogKHNsb3Q6IEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdCkgPT4gdm9pZDtcbiAgc3RhZmY6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInN0YWZmXCJdO1xuICB0aW1lem9uZTogc3RyaW5nO1xuICBzdXBwb3J0RW1haWw/OiBzdHJpbmc7XG4gIGlzTG9hZGluZz86IGJvb2xlYW47XG4gIGVycm9yPzogc3RyaW5nIHwgbnVsbDtcbiAgcHJpbWFyeUNvbG9yOiBzdHJpbmc7XG59KSB7XG4gIGNvbnN0IFtjdXJyZW50V2Vla1N0YXJ0LCBzZXRDdXJyZW50V2Vla1N0YXJ0XSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZGF5T2ZXZWVrID0gdG9kYXkuZ2V0RGF5KCk7XG4gICAgY29uc3QgZGlmZiA9IHRvZGF5LmdldERhdGUoKSAtIGRheU9mV2VlazsgLy8gR2V0IFN1bmRheSBvZiB0aGlzIHdlZWtcbiAgICBjb25zdCBzdW5kYXkgPSBuZXcgRGF0ZSh0b2RheS5zZXREYXRlKGRpZmYpKTtcbiAgICBzdW5kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgcmV0dXJuIHN1bmRheTtcbiAgfSk7XG5cbiAgY29uc3Qgc3RhZmZPcHRpb25zID0gc3RhZmYuZmlsdGVyKChtZW1iZXIpID0+IHNlcnZpY2Uuc3RhZmZJZHMuaW5jbHVkZXMobWVtYmVyLmlkKSk7XG4gIGNvbnN0IHRvdGFsU2xvdHMgPSBPYmplY3QudmFsdWVzKHNsb3RzQnlEYXkpLnJlZHVjZSgoc3VtLCBlbnRyaWVzKSA9PiBzdW0gKyBlbnRyaWVzLmxlbmd0aCwgMCk7XG5cbiAgLy8gR2VuZXJhdGUgaG91cnMgZnJvbSA4IEFNIHRvIDggUE1cbiAgY29uc3QgaG91cnMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMyB9LCAoXywgaSkgPT4gaSArIDgpOyAvLyA4IEFNIHRvIDggUE1cblxuICAvLyBHZW5lcmF0ZSBkYXlzIG9mIHRoZSB3ZWVrXG4gIGNvbnN0IHdlZWtEYXlzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZGF5cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoY3VycmVudFdlZWtTdGFydCk7XG4gICAgICBkYXRlLnNldERhdGUoY3VycmVudFdlZWtTdGFydC5nZXREYXRlKCkgKyBpKTtcbiAgICAgIGRheXMucHVzaChkYXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRheXM7XG4gIH0sIFtjdXJyZW50V2Vla1N0YXJ0XSk7XG5cbiAgLy8gR3JvdXAgc2xvdHMgYnkgZGF5IGFuZCBob3VyLCByZW1vdmluZyBkdXBsaWNhdGVzXG4gIGNvbnN0IHNsb3RzQnlEYXlBbmRIb3VyID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZ3JvdXBlZDogUmVjb3JkPHN0cmluZywgUmVjb3JkPG51bWJlciwgRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90W10+PiA9IHt9O1xuICAgIFxuICAgIC8vIEZsYXR0ZW4gYWxsIHNsb3RzIGZyb20gYWxsIGRheXNcbiAgICBjb25zdCBhbGxTbG90cyA9IE9iamVjdC52YWx1ZXMoc2xvdHNCeURheSkuZmxhdCgpO1xuICAgIFxuICAgIGFsbFNsb3RzLmZvckVhY2goc2xvdCA9PiB7XG4gICAgICBjb25zdCBzbG90RGF0ZSA9IG5ldyBEYXRlKHNsb3Quc3RhcnREYXRlVGltZSk7XG4gICAgICBjb25zdCBkYXRlS2V5ID0gZm9ybWF0SW5UaW1lWm9uZShzbG90RGF0ZSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgIGNvbnN0IGhvdXIgPSBmb3JtYXRJblRpbWVab25lKHNsb3REYXRlLCB0aW1lem9uZSwgeyBob3VyOiBcIm51bWVyaWNcIiwgaG91cjEyOiBmYWxzZSB9KTtcbiAgICAgIGNvbnN0IGhvdXJOdW0gPSBwYXJzZUludChob3VyLCAxMCk7XG4gICAgICBcbiAgICAgIC8vIE9ubHkgaW5jbHVkZSBzbG90cyB0aGF0IGFyZSBpbiB0aGUgY3VycmVudCB3ZWVrXG4gICAgICBjb25zdCBpc0luQ3VycmVudFdlZWsgPSB3ZWVrRGF5cy5zb21lKGRheSA9PiB7XG4gICAgICAgIGNvbnN0IGRheUtleSA9IGZvcm1hdEluVGltZVpvbmUoZGF5LCB0aW1lem9uZSwgXCJ5eXl5LU1NLWRkXCIpO1xuICAgICAgICByZXR1cm4gZGF5S2V5ID09PSBkYXRlS2V5O1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghaXNJbkN1cnJlbnRXZWVrKSByZXR1cm47XG4gICAgICBcbiAgICAgIGlmICghZ3JvdXBlZFtkYXRlS2V5XSkge1xuICAgICAgICBncm91cGVkW2RhdGVLZXldID0ge307XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghZ3JvdXBlZFtkYXRlS2V5XVtob3VyTnVtXSkge1xuICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dID0gW107XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBkdXBsaWNhdGVzIChzYW1lIGhvdXIsIHNhbWUgc3RhZmYsIHNhbWUgZGF0ZSlcbiAgICAgIGNvbnN0IGlzRHVwbGljYXRlID0gZ3JvdXBlZFtkYXRlS2V5XVtob3VyTnVtXS5zb21lKFxuICAgICAgICBleGlzdGluZyA9PiBleGlzdGluZy5zdGFmZklkID09PSBzbG90LnN0YWZmSWRcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmICghaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgZ3JvdXBlZFtkYXRlS2V5XVtob3VyTnVtXS5wdXNoKHNsb3QpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBncm91cGVkO1xuICB9LCBbc2xvdHNCeURheSwgd2Vla0RheXMsIHRpbWV6b25lXSk7XG5cbiAgY29uc3QgbmF2aWdhdGVXZWVrID0gKGRpcmVjdGlvbjogJ3ByZXYnIHwgJ25leHQnKSA9PiB7XG4gICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRXZWVrU3RhcnQpO1xuICAgIG5ld0RhdGUuc2V0RGF0ZShuZXdEYXRlLmdldERhdGUoKSArIChkaXJlY3Rpb24gPT09ICduZXh0JyA/IDcgOiAtNykpO1xuICAgIHNldEN1cnJlbnRXZWVrU3RhcnQobmV3RGF0ZSk7XG4gIH07XG5cbiAgY29uc3QgbW9udGhZZWFyID0gZm9ybWF0SW5UaW1lWm9uZSh3ZWVrRGF5c1swXSwgdGltZXpvbmUsIHsgbW9udGg6IFwibG9uZ1wiLCB5ZWFyOiBcIm51bWVyaWNcIiB9KTtcblxuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTggc2hhZG93LVswXzBfNjBweF9yZ2JhKDkxLDEwMCwyNTUsMC4xNSldXCI+XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTQgbWQ6ZmxleC1yb3cgbWQ6aXRlbXMtY2VudGVyIG1kOmp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLVswLjM1ZW1dIHRleHQtd2hpdGUvNDBcIj5TdGVwIDIgwrcgQ2hvb3NlIHlvdXIgdGltZTwvcD5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwibXQtMiBmb250LWRpc3BsYXkgdGV4dC0zeGwgdGV4dC13aGl0ZVwiPntzZXJ2aWNlLm5hbWV9PC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAge2Zvcm1hdEN1cnJlbmN5KHNlcnZpY2UucHJpY2VDZW50cyl9IMK3IHtmb3JtYXREdXJhdGlvbihzZXJ2aWNlLmR1cmF0aW9uTWludXRlcyl9IOKAlCBBbGwgc2xvdHNcbiAgICAgICAgICAgIHNob3duIGluIHt0aW1lem9uZX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIG9uQ2xpY2s9e29uQmFja30gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICA8QXJyb3dMZWZ0IGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgIEJhY2sgdG8gc2VydmljZXNcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IGZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICA8U3RhZmZQaWxsXG4gICAgICAgICAgbGFiZWw9XCJJIGRvbid0IG1pbmRcIlxuICAgICAgICAgIGFjdGl2ZT17c2VsZWN0ZWRTdGFmZklkID09PSBcImFueVwifVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkU3RhZmZJZChcImFueVwiKX1cbiAgICAgICAgLz5cbiAgICAgICAge3N0YWZmT3B0aW9ucy5tYXAoKG1lbWJlcikgPT4gKFxuICAgICAgICAgIDxTdGFmZlBpbGxcbiAgICAgICAgICAgIGtleT17bWVtYmVyLmlkfVxuICAgICAgICAgICAgbGFiZWw9e21lbWJlci5uYW1lfVxuICAgICAgICAgICAgY29sb3I9e21lbWJlci5jb2xvcn1cbiAgICAgICAgICAgIGFjdGl2ZT17c2VsZWN0ZWRTdGFmZklkID09PSBtZW1iZXIuaWR9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZFN0YWZmSWQobWVtYmVyLmlkKX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEwIHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNjAgcC04IHRleHQtY2VudGVyIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJteC1hdXRvIGgtOCB3LTggYW5pbWF0ZS1zcGluIHRleHQtd2hpdGUvNDBcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1iYXNlXCI+TG9hZGluZyBhdmFpbGFiaWxpdHkuLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IGVycm9yID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEwIHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMCBiZy1yZWQtNTAwLzEwIHAtOCB0ZXh0LWNlbnRlciB0ZXh0LXJlZC0yMDBcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2VcIj57ZXJyb3J9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiB0b3RhbFNsb3RzID09PSAwID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEwIHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNjAgcC04IHRleHQtY2VudGVyIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2VcIj5ObyBhdmFpbGFiaWxpdHkgZm91bmQgaW4gdGhlIG5leHQgdHdvIHdlZWtzLjwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgIFRyeSBzZWxlY3RpbmcgYSBkaWZmZXJlbnQgc3RhZmYgbWVtYmVyIG9yIGNvbnRhY3QgdXMgYXR7XCIgXCJ9XG4gICAgICAgICAgICA8YSBocmVmPXtgbWFpbHRvOiR7c3VwcG9ydEVtYWlsID8/IFwic3VwcG9ydEB0aXRoaS5jb21cIn1gfSBjbGFzc05hbWU9XCJ1bmRlcmxpbmVcIj5cbiAgICAgICAgICAgICAge3N1cHBvcnRFbWFpbCA/PyBcInN1cHBvcnRAdGl0aGkuY29tXCJ9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTBcIj5cbiAgICAgICAgICB7LyogV2VlayBOYXZpZ2F0aW9uICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbmF2aWdhdGVXZWVrKCdwcmV2Jyl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNzAgaG92ZXI6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDaGV2cm9uTGVmdCBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj57bW9udGhZZWFyfTwvaDM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbmF2aWdhdGVXZWVrKCduZXh0Jyl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNzAgaG92ZXI6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBDYWxlbmRhciBHcmlkICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LWZ1bGxcIj5cbiAgICAgICAgICAgICAgey8qIERheSBIZWFkZXJzICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTggZ2FwLTIgYm9yZGVyLWIgYm9yZGVyLXdoaXRlLzEwIHBiLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlLzYwXCI+VGltZTwvZGl2PlxuICAgICAgICAgICAgICAgIHt3ZWVrRGF5cy5tYXAoKGRheSwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIHsgd2Vla2RheTogXCJzaG9ydFwiIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUoZGF5LCB0aW1lem9uZSwgeyBkYXk6IFwibnVtZXJpY1wiIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIEhvdXIgUm93cyAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgIHtob3Vycy5tYXAoKGhvdXIpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJMYWJlbCA9IGhvdXIgPT09IDEyID8gJzEyIFBNJyA6IGhvdXIgPiAxMiA/IGAke2hvdXIgLSAxMn0gUE1gIDogYCR7aG91cn0gQU1gO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2hvdXJ9IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHMgdGV4dC13aGl0ZS82MCBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aG91ckxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIHt3ZWVrRGF5cy5tYXAoKGRheSwgZGF5SWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlS2V5ID0gZm9ybWF0SW5UaW1lWm9uZShkYXksIHRpbWV6b25lLCBcInl5eXktTU0tZGRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbG90c0ZvckhvdXIgPSBzbG90c0J5RGF5QW5kSG91cltkYXRlS2V5XT8uW2hvdXJdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRTbG90cyA9IHNlbGVjdGVkU3RhZmZJZCA9PT0gXCJhbnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNsb3RzRm9ySG91clxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNsb3RzRm9ySG91ci5maWx0ZXIoc2xvdCA9PiBzbG90LnN0YWZmSWQgPT09IHNlbGVjdGVkU3RhZmZJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtkYXlJZHh9IGNsYXNzTmFtZT1cInB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmlsdGVyZWRTbG90cy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkU2xvdHMubWFwKChzbG90KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhZmZNZW1iZXIgPSBzdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc2xvdC5zdGFmZklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3Nsb3QuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNlbGVjdFNsb3Qoc2xvdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLWxnIHB4LTIgcHktMS41IHRleHQtbGVmdCB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogc3RhZmZNZW1iZXI/LmNvbG9yID8gYCR7c3RhZmZNZW1iZXIuY29sb3J9ODBgIDogYCR7cHJpbWFyeUNvbG9yfTY2YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHN0YWZmTWVtYmVyPy5jb2xvciA/IGAke3N0YWZmTWVtYmVyLmNvbG9yfTIwYCA6IGAke3ByaW1hcnlDb2xvcn0yMGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6ICcxcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctLXR3LXJpbmctY29sb3InOiBwcmltYXJ5Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9IHN0YWZmTWVtYmVyPy5jb2xvciA/IGAke3N0YWZmTWVtYmVyLmNvbG9yfTk5YCA6IGAke3ByaW1hcnlDb2xvcn05OWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHN0YWZmTWVtYmVyPy5jb2xvciA/IGAke3N0YWZmTWVtYmVyLmNvbG9yfTMwYCA6IGAke3ByaW1hcnlDb2xvcn0zMGA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm9yZGVyQ29sb3IgPSBzdGFmZk1lbWJlcj8uY29sb3IgPyBgJHtzdGFmZk1lbWJlci5jb2xvcn04MGAgOiBgJHtwcmltYXJ5Q29sb3J9NjZgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBzdGFmZk1lbWJlcj8uY29sb3IgPyBgJHtzdGFmZk1lbWJlci5jb2xvcn0yMGAgOiBgJHtwcmltYXJ5Q29sb3J9MjBgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKG5ldyBEYXRlKHNsb3Quc3RhcnREYXRlVGltZSksIHRpbWV6b25lLCB7IGhvdXI6IFwibnVtZXJpY1wiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtd2hpdGUvNzAgbXQtMC41IHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nsb3Quc3RhZmZOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCByb3VuZGVkLWxnIGJnLXdoaXRlLzUgYm9yZGVyIGJvcmRlci13aGl0ZS81IHB5LTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXdoaXRlLzIwIHRleHQtY2VudGVyXCI+4oCUPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59XG5cbmZ1bmN0aW9uIENoZWNrb3V0U3RlcChwcm9wczoge1xuICBzZXJ2aWNlOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZHVyYXRpb25NaW51dGVzOiBudW1iZXI7XG4gICAgcHJpY2VDZW50czogbnVtYmVyO1xuICAgIGNhdGVnb3J5TmFtZTogc3RyaW5nO1xuICB9O1xuICBzbG90OiBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3Q7XG4gIG9uQmFjazogKCkgPT4gdm9pZDtcbiAgY3VzdG9tZXJOYW1lOiBzdHJpbmc7XG4gIHNldEN1c3RvbWVyTmFtZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGN1c3RvbWVyRW1haWw6IHN0cmluZztcbiAgc2V0Q3VzdG9tZXJFbWFpbDogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGN1c3RvbWVyUGhvbmU6IHN0cmluZztcbiAgc2V0Q3VzdG9tZXJQaG9uZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNldHVwSW50ZW50Q2xpZW50U2VjcmV0OiBzdHJpbmcgfCBudWxsO1xuICBzZXRTZXR1cEludGVudENsaWVudFNlY3JldDogKHZhbHVlOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBwYXltZW50TWV0aG9kSWQ6IHN0cmluZyB8IG51bGw7XG4gIHNldFBheW1lbnRNZXRob2RJZDogKHZhbHVlOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBjcmVhdGVkQm9va2luZ0lkOiBzdHJpbmcgfCBudWxsO1xuICBzZXRDcmVhdGVkQm9va2luZ0lkOiAodmFsdWU6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGNyZWF0ZWRCb29raW5nQ29kZTogc3RyaW5nIHwgbnVsbDtcbiAgc2V0Q3JlYXRlZEJvb2tpbmdDb2RlOiAodmFsdWU6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIHdvcmtzcGFjZTogRmFrZUJ1c2luZXNzV29ya3NwYWNlO1xuICBjdXN0b21lck5hbWU6IHN0cmluZztcbiAgY3VzdG9tZXJFbWFpbDogc3RyaW5nO1xuICBjdXN0b21lclBob25lOiBzdHJpbmc7XG4gIGxpc3RQcmljZUNlbnRzOiBudW1iZXI7XG4gIGdpZnRDYXJkU3RhdGU6IEdpZnRDYXJkU3RhdGUgfCBudWxsO1xuICBwb2xpY2llczogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicG9saWNpZXNcIl07XG4gIHRpbWV6b25lOiBzdHJpbmc7XG4gIHNlbGVjdGVkU2VydmljZToge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGR1cmF0aW9uTWludXRlczogbnVtYmVyO1xuICAgIHByaWNlQ2VudHM6IG51bWJlcjtcbiAgICBjYXRlZ29yeU5hbWU6IHN0cmluZztcbiAgfSB8IHVuZGVmaW5lZDtcbiAgc2VsZWN0ZWRTbG90OiBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QgfCBudWxsO1xuICBzZXRDcmVhdGVkQm9va2luZzogKGJvb2tpbmc6IEZha2VCb29raW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgc2V0U3RlcDogKHN0ZXA6IFN0ZXApID0+IHZvaWQ7XG4gIHRvYXN0OiBSZXR1cm5UeXBlPHR5cGVvZiB1c2VUb2FzdD47XG4gIGNvbnNlbnRDaGVja2VkOiBib29sZWFuO1xuICBzZXRDb25zZW50Q2hlY2tlZDogKHZhbHVlOiBib29sZWFuKSA9PiB2b2lkO1xuICBnaWZ0Q2FyZElucHV0OiBzdHJpbmc7XG4gIHNldEdpZnRDYXJkSW5wdXQ6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBnaWZ0Q2FyZEVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBnaWZ0Q2FyZFN0YXRlOiBHaWZ0Q2FyZFN0YXRlIHwgbnVsbDtcbiAgb25BcHBseUdpZnRDYXJkOiAoKSA9PiB2b2lkO1xuICBhY2NlcHRlZE1ldGhvZHM6IHN0cmluZ1tdO1xuICBwb2xpY2llczogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicG9saWNpZXNcIl07XG4gIHRpbWV6b25lOiBzdHJpbmc7XG4gIGFtb3VudER1ZUNlbnRzOiBudW1iZXI7XG4gIGxpc3RQcmljZUNlbnRzOiBudW1iZXI7XG4gIGlzU3VibWl0dGluZzogYm9vbGVhbjtcbiAgb25TdWJtaXQ6ICgpID0+IHZvaWQ7XG4gIG9uT3BlblBvbGljaWVzOiAoKSA9PiB2b2lkO1xuICBidXNpbmVzczogRmFrZUJ1c2luZXNzO1xuICBwcmltYXJ5Q29sb3I6IHN0cmluZztcbn0pIHtcbiAgY29uc3Qge1xuICAgIHNlcnZpY2UsXG4gICAgc2xvdCxcbiAgICBvbkJhY2ssXG4gICAgY3VzdG9tZXJOYW1lLFxuICAgIHNldEN1c3RvbWVyTmFtZSxcbiAgICBjdXN0b21lckVtYWlsLFxuICAgIHNldEN1c3RvbWVyRW1haWwsXG4gICAgY3VzdG9tZXJQaG9uZSxcbiAgICBzZXRDdXN0b21lclBob25lLFxuICAgIHNldHVwSW50ZW50Q2xpZW50U2VjcmV0LFxuICAgIHNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0LFxuICAgIHBheW1lbnRNZXRob2RJZCxcbiAgICBzZXRQYXltZW50TWV0aG9kSWQsXG4gICAgY3JlYXRlZEJvb2tpbmdJZCxcbiAgICBzZXRDcmVhdGVkQm9va2luZ0lkLFxuICAgIGNyZWF0ZWRCb29raW5nQ29kZSxcbiAgICBzZXRDcmVhdGVkQm9va2luZ0NvZGUsXG4gICAgd29ya3NwYWNlLFxuICAgIGxpc3RQcmljZUNlbnRzLFxuICAgIGdpZnRDYXJkU3RhdGUsXG4gICAgcG9saWNpZXMsXG4gICAgdGltZXpvbmUsXG4gICAgc2VsZWN0ZWRTZXJ2aWNlLFxuICAgIHNlbGVjdGVkU2xvdCxcbiAgICBzZXRDcmVhdGVkQm9va2luZyxcbiAgICBzZXRTdGVwLFxuICAgIHRvYXN0LFxuICAgIGNvbnNlbnRDaGVja2VkLFxuICAgIHNldENvbnNlbnRDaGVja2VkLFxuICAgIGdpZnRDYXJkSW5wdXQsXG4gICAgc2V0R2lmdENhcmRJbnB1dCxcbiAgICBnaWZ0Q2FyZEVycm9yLFxuICAgIG9uQXBwbHlHaWZ0Q2FyZCxcbiAgICBhY2NlcHRlZE1ldGhvZHMsXG4gICAgYW1vdW50RHVlQ2VudHMsXG4gICAgaXNTdWJtaXR0aW5nLFxuICAgIG9uU3VibWl0LFxuICAgIG9uT3BlblBvbGljaWVzLFxuICAgIGJ1c2luZXNzXG4gIH0gPSBwcm9wcztcblxuICAvLyBDcmVhdGUgU2V0dXBJbnRlbnQgd2hlbiB1c2VyIGhhcyBmaWxsZWQgcmVxdWlyZWQgZmllbGRzIHNvIHBheW1lbnQgZm9ybSBhcHBlYXJzIGltbWVkaWF0ZWx5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSGVscGVyIGZ1bmN0aW9ucyAoZGVmaW5lZCBsYXRlciBpbiBmaWxlLCBidXQgYWNjZXNzaWJsZSBoZXJlKVxuICAgIGNvbnN0IGlzVmFsaWRFbWFpbCA9IChlbWFpbDogc3RyaW5nKSA9PiAvXFxTK0BcXFMrXFwuXFxTKy8udGVzdChlbWFpbCk7XG4gICAgY29uc3QgaXNWYWxpZFBob25lID0gKHBob25lOiBzdHJpbmcpID0+IHBob25lLnRyaW0oKS5sZW5ndGggPj0gNztcbiAgICBcbiAgICAvLyBPbmx5IGNyZWF0ZSBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgb25lIGFuZCB1c2VyIGhhcyBlbnRlcmVkIG5hbWUsIGVtYWlsLCBhbmQgcGhvbmVcbiAgICBjb25zdCBoYXNSZXF1aXJlZEZpZWxkcyA9IGN1c3RvbWVyTmFtZS50cmltKCkubGVuZ3RoID49IDIgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZEVtYWlsKGN1c3RvbWVyRW1haWwpICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWRQaG9uZShjdXN0b21lclBob25lKTtcbiAgICBcbiAgICBpZiAoIXNldHVwSW50ZW50Q2xpZW50U2VjcmV0ICYmIHNlbGVjdGVkU2VydmljZSAmJiBzZWxlY3RlZFNsb3QgJiYgaGFzUmVxdWlyZWRGaWVsZHMpIHtcbiAgICAgIC8vIENyZWF0ZSBib29raW5nIHRvIGdldCBTZXR1cEludGVudCAtIHRoaXMgYWxsb3dzIHRoZSBwYXltZW50IGZvcm0gdG8gc2hvdyBpbW1lZGlhdGVseVxuICAgICAgY29uc3QgY3JlYXRlU2V0dXBJbnRlbnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgYXBpUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIHNlcnZpY2VfaWQ6IHNlbGVjdGVkU2VydmljZS5pZCxcbiAgICAgICAgICAgIHN0YWZmX2lkOiBzZWxlY3RlZFNsb3Quc3RhZmZJZCxcbiAgICAgICAgICAgIHN0YXJ0X2F0OiBzZWxlY3RlZFNsb3Quc3RhcnREYXRlVGltZSxcbiAgICAgICAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgICAgICAgIG5hbWU6IGN1c3RvbWVyTmFtZS50cmltKCksXG4gICAgICAgICAgICAgIGVtYWlsOiBjdXN0b21lckVtYWlsLnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICBwaG9uZTogY3VzdG9tZXJQaG9uZS50cmltKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnaWZ0X2NhcmRfY29kZTogZ2lmdENhcmRTdGF0ZT8uY29kZSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9wdWJsaWMvJHtidXNpbmVzcy5zbHVnfS9ib29raW5nc2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGFwaVBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBlcnJvciBpZiBib29raW5nIGNyZWF0aW9uIGZhaWxzIC0gdXNlciBoYXNuJ3QgY2xpY2tlZCBjb25maXJtIHlldFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBTZXR1cEludGVudDonLCBhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGFwaVJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChhcGlSZXNwb25zZS5jbGllbnRfc2VjcmV0KSB7XG4gICAgICAgICAgICBzZXRTZXR1cEludGVudENsaWVudFNlY3JldChhcGlSZXNwb25zZS5jbGllbnRfc2VjcmV0KTtcbiAgICAgICAgICAgIC8vIFN0b3JlIGJvb2tpbmcgSURzIHNvIHdlIGNhbiB1c2UgdGhlbSB3aGVuIHBheW1lbnQgaXMgY29uZmlybWVkXG4gICAgICAgICAgICBpZiAoYXBpUmVzcG9uc2UuYm9va2luZ19pZCkge1xuICAgICAgICAgICAgICBzZXRDcmVhdGVkQm9va2luZ0lkKGFwaVJlc3BvbnNlLmJvb2tpbmdfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFwaVJlc3BvbnNlLmJvb2tpbmdfY29kZSkge1xuICAgICAgICAgICAgICBzZXRDcmVhdGVkQm9va2luZ0NvZGUoYXBpUmVzcG9uc2UuYm9va2luZ19jb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgU2V0dXBJbnRlbnQ6JywgZXJyb3IpO1xuICAgICAgICAgIC8vIERvbid0IHNob3cgZXJyb3IgdG8gdXNlciAtIHRoZXkgaGF2ZW4ndCB0cmllZCB0byBzdWJtaXQgeWV0XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNyZWF0ZVNldHVwSW50ZW50KCk7XG4gICAgfVxuICB9LCBbc2V0dXBJbnRlbnRDbGllbnRTZWNyZXQsIHNlbGVjdGVkU2VydmljZSwgc2VsZWN0ZWRTbG90LCBjdXN0b21lck5hbWUsIGN1c3RvbWVyRW1haWwsIGN1c3RvbWVyUGhvbmUsIGJ1c2luZXNzLnNsdWcsIGdpZnRDYXJkU3RhdGUsIHNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0LCBzZXRDcmVhdGVkQm9va2luZ0lkLCBzZXRDcmVhdGVkQm9va2luZ0NvZGVdKTtcblxuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTggcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHAtOCBzaGFkb3ctWzBfMF82MHB4X3JnYmEoOTEsMTAwLDI1NSwwLjIpXSBtZDpncmlkLWNvbHMtWzEuNGZyXzFmcl1cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLVswLjM1ZW1dIHRleHQtd2hpdGUvNDBcIj5TdGVwIDMgwrcgQ2hlY2tvdXQ8L3A+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwibXQtMiBmb250LWRpc3BsYXkgdGV4dC0zeGwgdGV4dC13aGl0ZVwiPntzZXJ2aWNlLm5hbWV9PC9oMj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICB7Zm9ybWF0RHVyYXRpb24oc2VydmljZS5kdXJhdGlvbk1pbnV0ZXMpfSDCtyB7Zm9ybWF0Q3VycmVuY3kobGlzdFByaWNlQ2VudHMpfSDigJQgd2l0aHtcIiBcIn1cbiAgICAgICAgICAgICAge3Nsb3Quc3RhZmZOYW1lfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgb25DbGljaz17b25CYWNrfSBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC13aGl0ZS83MFwiPlxuICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIFBpY2sgYW5vdGhlciBzbG90XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNCBtZDpncmlkLWNvbHMtMlwiPlxuICAgICAgICAgIDxGaWVsZCBsYWJlbD1cIkZ1bGwgbmFtZVwiPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21lck5hbWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldEN1c3RvbWVyTmFtZShldmVudC50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkpvcmRhbiBCbGFrZVwiXG4gICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cIm5hbWVcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0ZpZWxkPlxuICAgICAgICAgIDxGaWVsZCBsYWJlbD1cIkVtYWlsXCI+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbWVyRW1haWx9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldEN1c3RvbWVyRW1haWwoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5b3VAZXhhbXBsZS5jb21cIlxuICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRmllbGQ+XG4gICAgICAgICAgPEZpZWxkIGxhYmVsPVwiUGhvbmVcIj5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGVsXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbWVyUGhvbmV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldEN1c3RvbWVyUGhvbmUoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIrMSA1NTUgMDEwIDIwMzBcIlxuICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJ0ZWxcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0ZpZWxkPlxuICAgICAgICAgIDxGaWVsZCBsYWJlbD1cIkdpZnQgY2FyZCBvciBjb2RlXCIgaGVscGVyPVwiT3B0aW9uYWwg4oCUIGFtb3VudCBvciBwZXJjZW50IG9mZiB3aWxsIGFwcGx5IGltbWVkaWF0ZWx5LlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtnaWZ0Q2FyZElucHV0fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldEdpZnRDYXJkSW5wdXQoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIldFTENPTUUxMjBcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSB1cHBlcmNhc2VcIlxuICAgICAgICAgICAgICAgIGF1dG9DYXBpdGFsaXplPVwiY2hhcmFjdGVyc1wiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImJ1dHRvblwiIHZhcmlhbnQ9XCJvdXRsaW5lXCIgb25DbGljaz17b25BcHBseUdpZnRDYXJkfT5cbiAgICAgICAgICAgICAgICBBcHBseVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge2dpZnRDYXJkRXJyb3IgPyAoXG4gICAgICAgICAgICAgIDxIZWxwZXJUZXh0IGludGVudD1cImVycm9yXCIgY2xhc3NOYW1lPVwibXQtMlwiPlxuICAgICAgICAgICAgICAgIHtnaWZ0Q2FyZEVycm9yfVxuICAgICAgICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIHtnaWZ0Q2FyZFN0YXRlID8gKFxuICAgICAgICAgICAgICA8SGVscGVyVGV4dCBpbnRlbnQ9XCJzdWNjZXNzXCIgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWVtZXJhbGQtMjAwXCI+XG4gICAgICAgICAgICAgICAgPEdpZnQgY2xhc3NOYW1lPVwibXItMS41IGlubGluZSBoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICB7Z2lmdENhcmRTdGF0ZS5kZXNjcmlwdGlvbn0gKHtnaWZ0Q2FyZFN0YXRlLmNvZGV9KVxuICAgICAgICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8L0ZpZWxkPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNjAgcC02XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgIDxDcmVkaXRDYXJkIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgUGF5bWVudCBtZXRob2Qg4oCUIGNhcmQgc2F2ZWQgbm93LCBjaGFyZ2VkIGxhdGVyXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LXdoaXRlLzUwXCI+XG4gICAgICAgICAgICB7YWNjZXB0ZWRNZXRob2RzLmxlbmd0aCA+IDAgXG4gICAgICAgICAgICAgID8gYCR7ZGVzY3JpYmVBY2NlcHRlZE1ldGhvZHMoYWNjZXB0ZWRNZXRob2RzKX0uIGAgXG4gICAgICAgICAgICAgIDogJyd9QSBjcmVkaXQgY2FyZCBpcyByZXF1aXJlZCBmb3IgYWxsIGJvb2tpbmdzLiBFdmVuIGlmIHlvdSBwbGFuIHRvIHBheSB3aXRoIGNhc2gsIHdlIHN0b3JlIGEgY2FyZFxuICAgICAgICAgICAgaW4gY2FzZSBhIHBvbGljeSBmZWUgYXBwbGllcyAoZS5nLiwgbm8tc2hvdyBmZWVzKS5cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAge3NldHVwSW50ZW50Q2xpZW50U2VjcmV0ID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgICAgIDxFbGVtZW50c1xuICAgICAgICAgICAgICAgIHN0cmlwZT17c3RyaXBlUHJvbWlzZX1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXt7XG4gICAgICAgICAgICAgICAgICBjbGllbnRTZWNyZXQ6IHNldHVwSW50ZW50Q2xpZW50U2VjcmV0LFxuICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZToge1xuICAgICAgICAgICAgICAgICAgICB0aGVtZTogJ25pZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29sb3JQcmltYXJ5OiBwcmltYXJ5Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3JCYWNrZ3JvdW5kOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3JUZXh0OiAnI2ZmZmZmZicsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3JEYW5nZXI6ICcjZWY0NDQ0JyxcbiAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnc3lzdGVtLXVpLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgICAgICAgICAgICBzcGFjaW5nVW5pdDogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTdHJpcGVQYXltZW50Rm9ybVxuICAgICAgICAgICAgICAgICAgb25QYXltZW50TWV0aG9kUmVhZHk9e2FzeW5jIChwbUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGF5bWVudE1ldGhvZElkKHBtSWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmNlIHBheW1lbnQgbWV0aG9kIGlzIGNvbmZpcm1lZCwgcHJvY2VlZCB0byBjb25maXJtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJvb2tpbmcgd2FzIGFscmVhZHkgY3JlYXRlZCBieSB0aGUgQVBJXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlcnZpY2UgJiYgc2VsZWN0ZWRTbG90ICYmIGNyZWF0ZWRCb29raW5nSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBib29raW5nOiBGYWtlQm9va2luZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjcmVhdGVkQm9va2luZ0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY3JlYXRlZEJvb2tpbmdDb2RlIHx8IGBUSVRISS0ke2NyZWF0ZWRCb29raW5nSWQuc2xpY2UoMCwgOCkudG9VcHBlckNhc2UoKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlSWQ6IHNlbGVjdGVkU2VydmljZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBzZWxlY3RlZFNlcnZpY2UubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogc2VsZWN0ZWRTZXJ2aWNlLmNhdGVnb3J5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uTWludXRlczogc2VsZWN0ZWRTZXJ2aWNlLmR1cmF0aW9uTWludXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZVRpbWU6IHNlbGVjdGVkU2xvdC5zdGFydERhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZVRpbWU6IHNlbGVjdGVkU2xvdC5lbmREYXRlVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWZmOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBzZWxlY3RlZFNsb3Quc3RhZmZJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc2VsZWN0ZWRTbG90LnN0YWZmTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHdvcmtzcGFjZS5zdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTbG90LnN0YWZmSWQpPy5jb2xvciB8fCBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogY3VzdG9tZXJFbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGN1c3RvbWVyUGhvbmUudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFuY2lhbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFByaWNlQ2VudHM6IGxpc3RQcmljZUNlbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnaWZ0Q2FyZEFtb3VudENlbnRzOiBnaWZ0Q2FyZFN0YXRlPy5hbW91bnRDZW50cyB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybUZlZUNlbnRzOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXRQYXlvdXRDZW50czogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbGljeUNvbnNlbnQ6IGNyZWF0ZVBvbGljeUNvbnNlbnQocG9saWNpZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZXNBY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmcoYm9va2luZyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U3RlcChcImNvbmZpcm1hdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQm9va2luZyBjb25maXJtZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtzZWxlY3RlZFNlcnZpY2UubmFtZX0gb24gJHtmb3JtYXRJblRpbWVab25lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNsb3Quc3RhcnREYXRlVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXpvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgd2Vla2RheTogXCJsb25nXCIsIG1vbnRoOiBcInNob3J0XCIsIGRheTogXCJudW1lcmljXCIsIGhvdXI6IFwibnVtZXJpY1wiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICl9LiBObyBjaGFyZ2UgeWV04oCUY2FyZCBzYXZlZCBzZWN1cmVseS5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50OiBcInN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWNjZXB0ZWRNZXRob2RzPXthY2NlcHRlZE1ldGhvZHN9XG4gICAgICAgICAgICAgICAgICBidXNpbmVzc1NsdWc9e2J1c2luZXNzLnNsdWd9XG4gICAgICAgICAgICAgICAgICBib29raW5nSWQ9e2NyZWF0ZWRCb29raW5nSWQgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0VsZW1lbnRzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICA8SGVscGVyVGV4dCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgICAgQ2xpY2sgXCJDb25maXJtIGJvb2tpbmdcIiBiZWxvdyB0byBzZXQgdXAgeW91ciBwYXltZW50IG1ldGhvZC4gWW91ciBjYXJkIHdpbGwgYmUgc2F2ZWQgc2VjdXJlbHkgYnV0IG5vdCBjaGFyZ2VkLlxuICAgICAgICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxIZWxwZXJUZXh0IGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgIFlvdSdyZSBhdXRob3JpemluZyBhIGNhcmQgb24gZmlsZS4gUGVyIFRpdGhpJ3MgbWFudWFsIGNhcHR1cmUgcnVsZXMsIG5vdGhpbmcgaXMgY2hhcmdlZCB1bnRpbFxuICAgICAgICAgICAgeW91ciBhcHBvaW50bWVudCBpcyBjb21wbGV0ZWQgb3IgYSBwb2xpY3kgZmVlIGFwcGxpZXMuXG4gICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTQgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay82MCBwLTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBpZD1cInBvbGljeS1jb25zZW50XCJcbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgY2hlY2tlZD17Y29uc2VudENoZWNrZWR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldENvbnNlbnRDaGVja2VkKGV2ZW50LnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBoLTUgdy01IHJvdW5kZWQgYm9yZGVyLXdoaXRlLzIwIGJnLWJsYWNrIGZvY3VzOnJpbmctMlwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgIGFjY2VudENvbG9yOiBwcmltYXJ5Q29sb3IsXG4gICAgICAgICAgICAgICAgJy0tdHctcmluZy1jb2xvcic6IHByaW1hcnlDb2xvcixcbiAgICAgICAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicG9saWN5LWNvbnNlbnRcIiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICAgICAgSSBhZ3JlZSB0byB0aGUgY2FuY2VsbGF0aW9uLCBuby1zaG93LCByZWZ1bmQsIGFuZCBjYXNoIHBvbGljaWVzLiBNeSBjYXJkIGlzIHNhdmVkIHZpYSBTdHJpcGVcbiAgICAgICAgICAgICAgZm9yIG1hbnVhbCBjYXB0dXJlIGxhdGVyLntcIiBcIn1cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uT3BlblBvbGljaWVzfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVuZGVybGluZS1vZmZzZXQtMiBob3Zlcjp1bmRlcmxpbmVcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGNvbG9yOiBwcmltYXJ5Q29sb3IgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFZpZXcgcG9saWNpZXNcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIC5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgeyFwYXltZW50TWV0aG9kSWQgPyAoXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uU3VibWl0fVxuICAgICAgICAgICAgICBpc0xvYWRpbmc9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZyB8fCAhIXNldHVwSW50ZW50Q2xpZW50U2VjcmV0fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdGV4dC1iYXNlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlMiBjbGFzc05hbWU9XCJoLTUgdy01XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAge3NldHVwSW50ZW50Q2xpZW50U2VjcmV0ID8gJ0NvbXBsZXRlIHBheW1lbnQgc2V0dXAgYmVsb3cnIDogJ0NvbmZpcm0gYm9va2luZyDigJQgbm8gY2hhcmdlIHRvZGF5J31cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8SGVscGVyVGV4dCBpbnRlbnQ9XCJzdWNjZXNzXCIgY2xhc3NOYW1lPVwidGV4dC1lbWVyYWxkLTIwMFwiPlxuICAgICAgICAgICAgICBQYXltZW50IG1ldGhvZCBzYXZlZCEgWW91ciBib29raW5nIGlzIGNvbXBsZXRlLlxuICAgICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxhc2lkZSBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00IHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNjAgcC02XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS80MFwiPlN1bW1hcnk8L3A+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cIm10LTIgZm9udC1kaXNwbGF5IHRleHQtMnhsIHRleHQtd2hpdGVcIj57c2VydmljZS5uYW1lfTwvaDM+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgIDxDYWxlbmRhckRheXMgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShzbG90LnN0YXJ0RGF0ZVRpbWUsIHRpbWV6b25lLCB7XG4gICAgICAgICAgICAgIHdlZWtkYXk6IFwibG9uZ1wiLFxuICAgICAgICAgICAgICBtb250aDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgIDxDbG9jayBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKHNsb3Quc3RhcnREYXRlVGltZSwgdGltZXpvbmUsIHtcbiAgICAgICAgICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICAgICAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCJcbiAgICAgICAgICAgIH0pfXtcIiBcIn1cbiAgICAgICAgICAgIOKAlCB7Zm9ybWF0RHVyYXRpb24oc2VydmljZS5kdXJhdGlvbk1pbnV0ZXMpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAge3Nsb3Quc3RhZmZOYW1lfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwIHB0LTQgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxzcGFuPlNlcnZpY2UgcHJpY2U8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCI+e2Zvcm1hdEN1cnJlbmN5KGxpc3RQcmljZUNlbnRzKX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2dpZnRDYXJkU3RhdGUgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtZW1lcmFsZC0yMDBcIj5cbiAgICAgICAgICAgICAgPHNwYW4+R2lmdCBjYXJkICh7Z2lmdENhcmRTdGF0ZS5jb2RlfSk8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPi17Zm9ybWF0Q3VycmVuY3koZ2lmdENhcmRTdGF0ZS5hbW91bnRDZW50cyl9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICA8c3Bhbj5EdWUgdG9kYXk8L3NwYW4+XG4gICAgICAgICAgICA8c3Bhbj57Zm9ybWF0Q3VycmVuY3koYW1vdW50RHVlQ2VudHMpfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8SGVscGVyVGV4dCBjbGFzc05hbWU9XCJtdC0zXCI+XG4gICAgICAgICAgICBUaGlzIGFtb3VudCBpcyBhdXRob3JpemVkIGJ1dCBub3QgY2FwdHVyZWQuIE1hbnVhbCBjYXB0dXJlIGVuc3VyZXMgeW91IG9ubHkgY2hhcmdlIGN1c3RvbWVyc1xuICAgICAgICAgICAgYWZ0ZXIgc2VydmljZXMgYXJlIGRlbGl2ZXJlZCBvciBpZiBhIHBvbGljeSBmZWUgYXBwbGllcy5cbiAgICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9hc2lkZT5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59XG5cbmZ1bmN0aW9uIENvbmZpcm1hdGlvblN0ZXAoe1xuICBib29raW5nLFxuICBzZXJ2aWNlLFxuICBhbW91bnREdWVDZW50cyxcbiAgcG9saWNpZXMsXG4gIHRpbWV6b25lLFxuICBvbkJvb2tBbm90aGVyXG59OiB7XG4gIGJvb2tpbmc6IEZha2VCb29raW5nO1xuICBzZXJ2aWNlPzoge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlcjtcbiAgICBwcmljZUNlbnRzOiBudW1iZXI7XG4gIH07XG4gIGFtb3VudER1ZUNlbnRzOiBudW1iZXI7XG4gIHBvbGljaWVzOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJwb2xpY2llc1wiXTtcbiAgdGltZXpvbmU6IHN0cmluZztcbiAgb25Cb29rQW5vdGhlcjogKCkgPT4gdm9pZDtcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNDAwLzQwIGJnLWVtZXJhbGQtNTAwLzEwIHAtMTAgdGV4dC1lbWVyYWxkLTUwIHNoYWRvdy1bMF8wXzgwcHhfcmdiYSgxNiwxODUsMTI5LDAuMzUpXVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC02IG1kOmZsZXgtcm93IG1kOml0ZW1zLWNlbnRlciBtZDpqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTQwMC81MCBiZy1lbWVyYWxkLTQwMC8yMCBweC00IHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy1bMC4zNWVtXSB0ZXh0LWVtZXJhbGQtMTAwXCI+XG4gICAgICAgICAgICA8UGFydHlQb3BwZXIgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICBCb29raW5nIGNvbmZpcm1lZFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJtdC00IGZvbnQtZGlzcGxheSB0ZXh0LTR4bCB0ZXh0LWVtZXJhbGQtNTBcIj5cbiAgICAgICAgICAgIHtzZXJ2aWNlPy5uYW1lID8/IGJvb2tpbmcuc2VydmljZU5hbWV9XG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1lbWVyYWxkLTEwMC84MFwiPlxuICAgICAgICAgICAgV2UgZW1haWxlZCB7Ym9va2luZy5jdXN0b21lci5lbWFpbH0gYW5kIHdpbGwgc2VuZCByZW1pbmRlcnMgdmlhIFNNUy4gWW91ciBjYXJkIGlzIHNhdmVkIGJ1dFxuICAgICAgICAgICAgd29u4oCZdCBiZSBjaGFyZ2VkIHVudGlsIHRoZSBhcHBvaW50bWVudCBpcyBjb21wbGV0ZWTigJRvciBpZiBhIG1hbnVhbCBwb2xpY3kgZmVlIGFwcGxpZXMuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNDAwLzUwIGJnLWJsYWNrLzQwIHAtNiB0ZXh0LXNtIHRleHQtZW1lcmFsZC0xMDAvODBcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPENhbGVuZGFyRGF5cyBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKGJvb2tpbmcuc3RhcnREYXRlVGltZSwgdGltZXpvbmUsIHtcbiAgICAgICAgICAgICAgd2Vla2RheTogXCJsb25nXCIsXG4gICAgICAgICAgICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgICAgICAgICAgIGRheTogXCJudW1lcmljXCIsXG4gICAgICAgICAgICAgIGhvdXI6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAge2Jvb2tpbmcuc3RhZmYgPyAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxVc2VycyBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAge2Jvb2tpbmcuc3RhZmYubmFtZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICB7Zm9ybWF0RHVyYXRpb24oc2VydmljZT8uZHVyYXRpb25NaW51dGVzID8/IGJvb2tpbmcuZHVyYXRpb25NaW51dGVzKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGJvcmRlci10IGJvcmRlci1lbWVyYWxkLTQwMC8zMCBwdC0zIHRleHQtc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxzcGFuPkF1dGhvcml6ZWQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPntmb3JtYXRDdXJyZW5jeShzZXJ2aWNlPy5wcmljZUNlbnRzID8/IGJvb2tpbmcuZmluYW5jaWFscy5saXN0UHJpY2VDZW50cyl9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7YW1vdW50RHVlQ2VudHMgPCAoc2VydmljZT8ucHJpY2VDZW50cyA/PyBib29raW5nLmZpbmFuY2lhbHMubGlzdFByaWNlQ2VudHMpID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LWVtZXJhbGQtMjAwXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+R2lmdCBjYXJkPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPi17Zm9ybWF0Q3VycmVuY3koKHNlcnZpY2U/LnByaWNlQ2VudHMgPz8gYm9va2luZy5maW5hbmNpYWxzLmxpc3RQcmljZUNlbnRzKSAtIGFtb3VudER1ZUNlbnRzKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtZW1lcmFsZC01MFwiPlxuICAgICAgICAgICAgICA8c3Bhbj5EdWUgYWZ0ZXIgYXBwb2ludG1lbnQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPntmb3JtYXRDdXJyZW5jeShhbW91bnREdWVDZW50cyl9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgZ3JpZCBnYXAtNiBtZDpncmlkLWNvbHMtMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItZW1lcmFsZC00MDAvNDAgYmctZW1lcmFsZC00MDAvMTAgcC02IHRleHQtc21cIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWVtZXJhbGQtMjAwLzkwXCI+V2hhdCBoYXBwZW5zIG5leHQ8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm10LTMgc3BhY2UteS0yIHRleHQtZW1lcmFsZC0xMDAvODBcIj5cbiAgICAgICAgICAgIDxsaT5DaGVjayB5b3VyIGVtYWlsIGFuZCBTTVMgZm9yIGNvbmZpcm1hdGlvbiBkZXRhaWxzIGFuZCByZW1pbmRlcnMuPC9saT5cbiAgICAgICAgICAgIDxsaT5SZXNjaGVkdWxlIG9yIGNhbmNlbCBhdCBsZWFzdCAyNGggaW4gYWR2YW5jZSB0byBhdm9pZCBwb2xpY3kgZmVlcy48L2xpPlxuICAgICAgICAgICAgPGxpPk1hbnVhbCBjYXB0dXJlIGtlZXBzIG1vbmV5IGluIHlvdXIgY29udHJvbOKAlG5vIGNoYXJnZXMgcnVuIGF1dG9tYXRpY2FsbHkuPC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNDAwLzQwIGJnLWJsYWNrLzQwIHAtNiB0ZXh0LXNtXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1lbWVyYWxkLTIwMC85MFwiPlBvbGljaWVzIHNuYXBzaG90PC9wPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJtdC0zIHNwYWNlLXktMiB0ZXh0LWVtZXJhbGQtMTAwLzgwXCI+XG4gICAgICAgICAgICA8bGk+e3BvbGljaWVzLmNhbmNlbGxhdGlvblBvbGljeX08L2xpPlxuICAgICAgICAgICAgPGxpPntwb2xpY2llcy5ub1Nob3dQb2xpY3l9PC9saT5cbiAgICAgICAgICAgIDxsaT57cG9saWNpZXMucmVmdW5kUG9saWN5fTwvbGk+XG4gICAgICAgICAgICA8bGk+e3BvbGljaWVzLmNhc2hQb2xpY3l9PC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEwIGZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgIG9uQ2xpY2s9e29uQm9va0Fub3RoZXJ9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGJvcmRlci1lbWVyYWxkLTQwMC80MCB0ZXh0LWVtZXJhbGQtMTAwIGhvdmVyOmJvcmRlci1lbWVyYWxkLTMwMCBob3Zlcjp0ZXh0LWVtZXJhbGQtNTBcIlxuICAgICAgICA+XG4gICAgICAgICAgQm9vayBhbm90aGVyIGFwcG9pbnRtZW50XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZW1lcmFsZC0xMDAvNzBcIj5cbiAgICAgICAgICBOZWVkIGhlbHA/IFJlcGx5IHRvIHRoZSBjb25maXJtYXRpb24gZW1haWwgb3IgdGV4dCB1cyBhdCB7Ym9va2luZy5jdXN0b21lci5waG9uZX0uXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gUG9saWN5TW9kYWwoe1xuICBwb2xpY2llcyxcbiAgb25DbG9zZSxcbiAgdGltZXpvbmVcbn06IHtcbiAgcG9saWNpZXM6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInBvbGljaWVzXCJdO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICB0aW1lem9uZTogc3RyaW5nO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjay84MCBweC00IHB5LThcIlxuICAgICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtYXgtaC1bOTB2aF0gdy1mdWxsIG1heC13LTN4bCBvdmVyZmxvdy15LWF1dG8gcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS8xMCBwLTggYmFja2Ryb3AtYmx1clwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC02IHRvcC02IHRleHQtd2hpdGUvNjAgdHJhbnNpdGlvbiBob3Zlcjp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2UgcG9saWNpZXNcIlxuICAgICAgICA+XG4gICAgICAgICAg4pyVXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZm9udC1kaXNwbGF5IHRleHQtM3hsIHRleHQtd2hpdGVcIj5Cb29raW5nIHBvbGljaWVzPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICBBbGwgdGltZXMgcmVmZXJlbmNlZCBhbGlnbiB0byB7dGltZXpvbmV9LiBDb25zZW50IGlzIHJlcXVpcmVkIGJlZm9yZSBzdWJtaXR0aW5nIHlvdXIgYm9va2luZy5cbiAgICAgICAgPC9wPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgc3BhY2UteS01IHRleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtd2hpdGUvNzVcIj5cbiAgICAgICAgICA8UG9saWN5QmxvY2sgdGl0bGU9XCJDYW5jZWxsYXRpb24gcG9saWN5XCIgYm9keT17cG9saWNpZXMuY2FuY2VsbGF0aW9uUG9saWN5fSAvPlxuICAgICAgICAgIDxQb2xpY3lCbG9jayB0aXRsZT1cIkNhbmNlbGxhdGlvbiBmZWVzXCIgYm9keT17ZGVzY3JpYmVGZWUocG9saWNpZXMuY2FuY2VsbGF0aW9uRmVlVHlwZSwgcG9saWNpZXMuY2FuY2VsbGF0aW9uRmVlVmFsdWUpfSAvPlxuICAgICAgICAgIDxQb2xpY3lCbG9jayB0aXRsZT1cIk5vLXNob3cgcG9saWN5XCIgYm9keT17cG9saWNpZXMubm9TaG93UG9saWN5fSAvPlxuICAgICAgICAgIDxQb2xpY3lCbG9jayB0aXRsZT1cIk5vLXNob3cgZmVlXCIgYm9keT17ZGVzY3JpYmVGZWUocG9saWNpZXMubm9TaG93RmVlVHlwZSwgcG9saWNpZXMubm9TaG93RmVlVmFsdWUpfSAvPlxuICAgICAgICAgIDxQb2xpY3lCbG9jayB0aXRsZT1cIlJlZnVuZCBwb2xpY3lcIiBib2R5PXtwb2xpY2llcy5yZWZ1bmRQb2xpY3l9IC8+XG4gICAgICAgICAgPFBvbGljeUJsb2NrIHRpdGxlPVwiQ2FzaCBwb2xpY3lcIiBib2R5PXtwb2xpY2llcy5jYXNoUG9saWN5fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IGZsZXgganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPENoZWNrIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgSSB1bmRlcnN0YW5kXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFN0ZXBJbmRpY2F0b3IoeyBjdXJyZW50U3RlcCwgb25SZXNldCwgcHJpbWFyeUNvbG9yIH06IHsgY3VycmVudFN0ZXA6IFN0ZXA7IG9uUmVzZXQ6ICgpID0+IHZvaWQ7IHByaW1hcnlDb2xvcjogc3RyaW5nIH0pIHtcbiAgY29uc3Qgc3RlcHM6IEFycmF5PHsgaWQ6IFN0ZXA7IGxhYmVsOiBzdHJpbmcgfT4gPSBbXG4gICAgeyBpZDogXCJjYXRhbG9nXCIsIGxhYmVsOiBcIlNlcnZpY2VcIiB9LFxuICAgIHsgaWQ6IFwiYXZhaWxhYmlsaXR5XCIsIGxhYmVsOiBcIlRpbWVcIiB9LFxuICAgIHsgaWQ6IFwiY2hlY2tvdXRcIiwgbGFiZWw6IFwiQ2hlY2tvdXRcIiB9LFxuICAgIHsgaWQ6IFwiY29uZmlybWF0aW9uXCIsIGxhYmVsOiBcIkRvbmVcIiB9XG4gIF07XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0zIHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC02IHB5LTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgdGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS80MFwiPlxuICAgICAgICB7c3RlcHMubWFwKChzdGVwLCBpbmRleCkgPT4gKFxuICAgICAgICAgIDxkaXYga2V5PXtzdGVwLmlkfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICBcImlubGluZS1mbGV4IGgtOCB3LTggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBib3JkZXIgdGV4dC1zbSBmb250LXNlbWlib2xkXCIsXG4gICAgICAgICAgICAgICAgY3VycmVudFN0ZXAgPT09IHN0ZXAuaWRcbiAgICAgICAgICAgICAgICAgID8gXCJ0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgIDogXCJib3JkZXItd2hpdGUvMjAgYmctd2hpdGUvMTAgdGV4dC13aGl0ZS81MFwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHN0eWxlPXtjdXJyZW50U3RlcCA9PT0gc3RlcC5pZCA/IHtcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogcHJpbWFyeUNvbG9yLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYCR7cHJpbWFyeUNvbG9yfTMwYCxcbiAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2luZGV4ICsgMX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y3VycmVudFN0ZXAgPT09IHN0ZXAuaWQgPyBcInRleHQtd2hpdGVcIiA6IFwidGV4dC13aGl0ZS81MFwifT5cbiAgICAgICAgICAgICAge3N0ZXAubGFiZWx9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7aW5kZXggPCBzdGVwcy5sZW5ndGggLSAxID8gKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoLXB4IHctMTIgYmctd2hpdGUvMTBcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgICB7Y3VycmVudFN0ZXAgIT09IFwiY2F0YWxvZ1wiICYmIGN1cnJlbnRTdGVwICE9PSBcImNvbmZpcm1hdGlvblwiID8gKFxuICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIG9uQ2xpY2s9e29uUmVzZXR9IGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICBTdGFydCBvdmVyXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgKSA6IG51bGx9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIEZpZWxkKHtcbiAgbGFiZWwsXG4gIGhlbHBlcixcbiAgY2hpbGRyZW5cbn06IHtcbiAgbGFiZWw6IHN0cmluZztcbiAgaGVscGVyPzogc3RyaW5nO1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0yIHRleHQtc20gdGV4dC13aGl0ZS83MFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+e2xhYmVsfTwvc3Bhbj5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICAgIHtoZWxwZXIgPyA8SGVscGVyVGV4dCBjbGFzc05hbWU9XCJ0ZXh0LVsxM3B4XSB0ZXh0LXdoaXRlLzQwXCI+e2hlbHBlcn08L0hlbHBlclRleHQ+IDogbnVsbH1cbiAgICA8L2xhYmVsPlxuICApO1xufVxuXG5mdW5jdGlvbiBTdGFmZlBpbGwoe1xuICBsYWJlbCxcbiAgY29sb3IsXG4gIGFjdGl2ZSxcbiAgb25DbGlja1xufToge1xuICBsYWJlbDogc3RyaW5nO1xuICBjb2xvcj86IHN0cmluZztcbiAgYWN0aXZlOiBib29sZWFuO1xuICBvbkNsaWNrOiAoKSA9PiB2b2lkO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwicm91bmRlZC1mdWxsIGJvcmRlciBweC00IHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1wcmltYXJ5LzcwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LWJsYWNrXCIsXG4gICAgICAgIGFjdGl2ZSA/IFwiYm9yZGVyLXdoaXRlLzYwIGJnLXdoaXRlLzE1IHRleHQtd2hpdGVcIiA6IFwiYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgdGV4dC13aGl0ZS82MCBob3Zlcjp0ZXh0LXdoaXRlLzgwXCJcbiAgICAgICl9XG4gICAgICBzdHlsZT17YWN0aXZlICYmIGNvbG9yID8geyBib3JkZXJDb2xvcjogY29sb3IsIGJveFNoYWRvdzogYDAgMCAyNXB4ICR7Y29sb3J9MzNgIH0gOiB1bmRlZmluZWR9XG4gICAgPlxuICAgICAge2xhYmVsfVxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuXG5mdW5jdGlvbiBQb2xpY3lCbG9jayh7IHRpdGxlLCBib2R5IH06IHsgdGl0bGU6IHN0cmluZzsgYm9keTogc3RyaW5nIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS80MFwiPnt0aXRsZX08L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC13aGl0ZS83MCBsZWFkaW5nLXJlbGF4ZWRcIj57Ym9keX08L3A+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIENvbmZldHRpT3ZlcmxheSgpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgaW5zZXQtMCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiAxNTAgfSkubWFwKChfLCBpbmRleCkgPT4gKFxuICAgICAgICA8c3BhblxuICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiY29uZmV0dGktcGllY2VcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBsZWZ0OiBgJHtNYXRoLnJhbmRvbSgpICogMTAwfSVgLFxuICAgICAgICAgICAgYW5pbWF0aW9uRGVsYXk6IGAke01hdGgucmFuZG9tKCkgKiAwLjV9c2AsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHJhbmRvbUNvbmZldHRpQ29sb3IoKVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApKX1cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgQGtleWZyYW1lcyBjb25mZXR0aS1mYWxsIHtcbiAgICAgICAgICAwJSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwdmgpIHJvdGF0ZSgwZGVnKTtcbiAgICAgICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIDEwJSB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICAxMDAlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMTB2aCkgcm90YXRlKDcyMGRlZyk7XG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAuY29uZmV0dGktcGllY2Uge1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB3aWR0aDogNnB4O1xuICAgICAgICAgIGhlaWdodDogMTJweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICBhbmltYXRpb246IGNvbmZldHRpLWZhbGwgMi4zcyBlYXNlLWluIGJvdGg7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tQ29uZmV0dGlDb2xvcigpIHtcbiAgY29uc3QgcGFsZXR0ZSA9IFtcIiM1QjY0RkZcIiwgXCIjNTdEMEZGXCIsIFwiI0ZGOUE4QlwiLCBcIiNGRkQxNjZcIiwgXCIjOEFGRkNGXCIsIFwiI0M0QTVGRlwiXTtcbiAgcmV0dXJuIHBhbGV0dGVbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcGFsZXR0ZS5sZW5ndGgpXTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0RHVyYXRpb24obWludXRlczogbnVtYmVyKSB7XG4gIGlmIChtaW51dGVzIDwgNjApIHJldHVybiBgJHttaW51dGVzfSBtaW5gO1xuICBjb25zdCBocnMgPSBNYXRoLmZsb29yKG1pbnV0ZXMgLyA2MCk7XG4gIGNvbnN0IG1pbnMgPSBtaW51dGVzICUgNjA7XG4gIHJldHVybiBtaW5zID09PSAwID8gYCR7aHJzfSBocmAgOiBgJHtocnN9IGhyICR7bWluc30gbWluYDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0Q3VycmVuY3koY2VudHM6IG51bWJlcikge1xuICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KFwiZW4tVVNcIiwge1xuICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgY3VycmVuY3k6IFwiVVNEXCJcbiAgfSkuZm9ybWF0KGNlbnRzIC8gMTAwKTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVBY2NlcHRlZE1ldGhvZHMobWV0aG9kczogc3RyaW5nW10pIHtcbiAgY29uc3QgdW5pcXVlID0gQXJyYXkuZnJvbShuZXcgU2V0KG1ldGhvZHMpKTtcbiAgY29uc3QgbWV0aG9kTGFiZWxzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgIGNhcmQ6IFwiQ3JlZGl0ICYgRGViaXQgQ2FyZHNcIixcbiAgICBjYXNoOiBcIkNhc2hcIixcbiAgICB3YWxsZXRzOiBcIkRpZ2l0YWwgV2FsbGV0cyAoQXBwbGUgUGF5LCBHb29nbGUgUGF5KVwiLFxuICAgIGFwcGxlX3BheTogXCJBcHBsZSBQYXlcIixcbiAgICBcImFwcGxlLXBheVwiOiBcIkFwcGxlIFBheVwiLFxuICAgIGdvb2dsZV9wYXk6IFwiR29vZ2xlIFBheVwiLFxuICAgIFwiZ29vZ2xlLXBheVwiOiBcIkdvb2dsZSBQYXlcIixcbiAgfTtcbiAgY29uc3QgbGFiZWxzID0gdW5pcXVlLm1hcCgobWV0aG9kKSA9PiBtZXRob2RMYWJlbHNbbWV0aG9kLnRvTG93ZXJDYXNlKCldIHx8IG1ldGhvZC50b1VwcGVyQ2FzZSgpKTtcbiAgcmV0dXJuIGxhYmVscy5sZW5ndGggPiAwID8gYEFjY2VwdGVkOiAke2xhYmVscy5qb2luKFwiLCBcIil9YCA6IFwiQWNjZXB0ZWQ6IENyZWRpdCAmIERlYml0IENhcmRzXCI7XG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlRmVlKHR5cGU6IFwiZmxhdFwiIHwgXCJwZXJjZW50XCIsIHZhbHVlOiBudW1iZXIpIHtcbiAgaWYgKHZhbHVlIDw9IDApIHJldHVybiBcIk5vIGZlZVwiO1xuICByZXR1cm4gdHlwZSA9PT0gXCJwZXJjZW50XCIgPyBgJHt2YWx1ZX0lIG9mIHRoZSBzZXJ2aWNlIHByaWNlYCA6IGZvcm1hdEN1cnJlbmN5KE1hdGgucm91bmQodmFsdWUgKiAxMDApKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0QWRkcmVzcyhsb2NhdGlvbjogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wiaWRlbnRpdHlcIl1bXCJsb2NhdGlvblwiXSkge1xuICBjb25zdCBwYXJ0cyA9IFtcbiAgICBsb2NhdGlvbi5hZGRyZXNzTGluZTEsXG4gICAgbG9jYXRpb24uYWRkcmVzc0xpbmUyLFxuICAgIGAke2xvY2F0aW9uLmNpdHl9LCAke2xvY2F0aW9uLnN0YXRlUHJvdmluY2V9YCxcbiAgICBsb2NhdGlvbi5jb3VudHJ5XG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xuICByZXR1cm4gcGFydHMuam9pbihcIiDCtyBcIik7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRFbWFpbChlbWFpbDogc3RyaW5nKSB7XG4gIHJldHVybiAvXFxTK0BcXFMrXFwuXFxTKy8udGVzdChlbWFpbCk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRQaG9uZShwaG9uZTogc3RyaW5nKSB7XG4gIHJldHVybiBwaG9uZS50cmltKCkubGVuZ3RoID49IDc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvbGljeUNvbnNlbnQocG9saWNpZXM6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInBvbGljaWVzXCJdKSB7XG4gIGNvbnN0IGhhc2hCYXNlID0gSlNPTi5zdHJpbmdpZnkocG9saWNpZXMpO1xuICBjb25zdCBoYXNoID0gc2ltcGxlSGFzaChoYXNoQmFzZSk7XG4gIHJldHVybiB7XG4gICAgaGFzaCxcbiAgICBhY2NlcHRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgaXA6IFwiMjAzLjAuMTEzLjVcIixcbiAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnRcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlSGFzaChpbnB1dDogc3RyaW5nKSB7XG4gIGxldCBoYXNoID0gMDtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGlucHV0Lmxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBpbnB1dC5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICBoYXNoIHw9IDA7XG4gIH1cbiAgcmV0dXJuIE1hdGguYWJzKGhhc2gpLnRvU3RyaW5nKDE2KTtcbn1cblxuLy8gU3RyaXBlIFBheW1lbnQgRm9ybSBDb21wb25lbnRcbmZ1bmN0aW9uIFN0cmlwZVBheW1lbnRGb3JtKHtcbiAgb25QYXltZW50TWV0aG9kUmVhZHksXG4gIGFjY2VwdGVkTWV0aG9kcyxcbiAgYnVzaW5lc3NTbHVnLFxuICBib29raW5nSWQsXG4gIGNyZWF0ZWRCb29raW5nSWQsXG4gIGNyZWF0ZWRCb29raW5nQ29kZSxcbiAgd29ya3NwYWNlLFxuICBjdXN0b21lck5hbWUsXG4gIGN1c3RvbWVyRW1haWwsXG4gIGN1c3RvbWVyUGhvbmUsXG4gIGxpc3RQcmljZUNlbnRzLFxuICBnaWZ0Q2FyZFN0YXRlLFxuICBwb2xpY2llcyxcbiAgdGltZXpvbmUsXG4gIHNlbGVjdGVkU2VydmljZSxcbiAgc2VsZWN0ZWRTbG90LFxuICBzZXRDcmVhdGVkQm9va2luZyxcbiAgc2V0U3RlcCxcbiAgdG9hc3Rcbn06IHtcbiAgb25QYXltZW50TWV0aG9kUmVhZHk6IChwYXltZW50TWV0aG9kSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgYWNjZXB0ZWRNZXRob2RzOiBzdHJpbmdbXTtcbiAgYnVzaW5lc3NTbHVnOiBzdHJpbmc7XG4gIGJvb2tpbmdJZDogc3RyaW5nO1xuICBjcmVhdGVkQm9va2luZ0lkOiBzdHJpbmcgfCBudWxsO1xuICBjcmVhdGVkQm9va2luZ0NvZGU6IHN0cmluZyB8IG51bGw7XG4gIHdvcmtzcGFjZTogRmFrZUJ1c2luZXNzV29ya3NwYWNlO1xuICBjdXN0b21lck5hbWU6IHN0cmluZztcbiAgY3VzdG9tZXJFbWFpbDogc3RyaW5nO1xuICBjdXN0b21lclBob25lOiBzdHJpbmc7XG4gIGxpc3RQcmljZUNlbnRzOiBudW1iZXI7XG4gIGdpZnRDYXJkU3RhdGU6IEdpZnRDYXJkU3RhdGUgfCBudWxsO1xuICBwb2xpY2llczogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicG9saWNpZXNcIl07XG4gIHRpbWV6b25lOiBzdHJpbmc7XG4gIHNlbGVjdGVkU2VydmljZToge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGR1cmF0aW9uTWludXRlczogbnVtYmVyO1xuICAgIHByaWNlQ2VudHM6IG51bWJlcjtcbiAgICBjYXRlZ29yeU5hbWU6IHN0cmluZztcbiAgfSB8IHVuZGVmaW5lZDtcbiAgc2VsZWN0ZWRTbG90OiBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QgfCBudWxsO1xuICBzZXRDcmVhdGVkQm9va2luZzogKGJvb2tpbmc6IEZha2VCb29raW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgc2V0U3RlcDogKHN0ZXA6IFN0ZXApID0+IHZvaWQ7XG4gIHRvYXN0OiBSZXR1cm5UeXBlPHR5cGVvZiB1c2VUb2FzdD47XG59KSB7XG4gIGNvbnN0IHN0cmlwZSA9IHVzZVN0cmlwZSgpO1xuICBjb25zdCBlbGVtZW50cyA9IHVzZUVsZW1lbnRzKCk7XG4gIGNvbnN0IFtpc1Byb2Nlc3NpbmcsIHNldElzUHJvY2Vzc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICBpZiAoIXN0cmlwZSB8fCAhZWxlbWVudHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ29uZmlybSB0aGUgU2V0dXBJbnRlbnRcbiAgICAgIGNvbnN0IHsgZXJyb3I6IGNvbmZpcm1FcnJvciwgc2V0dXBJbnRlbnQgfSA9IGF3YWl0IHN0cmlwZS5jb25maXJtU2V0dXAoe1xuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgcmVkaXJlY3Q6ICdpZl9yZXF1aXJlZCcsXG4gICAgICB9KTtcblxuICAgICAgaWYgKGNvbmZpcm1FcnJvcikge1xuICAgICAgICBzZXRFcnJvcihjb25maXJtRXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNhdmUgcGF5bWVudCBtZXRob2QnKTtcbiAgICAgICAgc2V0SXNQcm9jZXNzaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2V0dXBJbnRlbnQgJiYgc2V0dXBJbnRlbnQucGF5bWVudF9tZXRob2QpIHtcbiAgICAgICAgY29uc3QgcG1JZCA9IHR5cGVvZiBzZXR1cEludGVudC5wYXltZW50X21ldGhvZCA9PT0gJ3N0cmluZycgXG4gICAgICAgICAgPyBzZXR1cEludGVudC5wYXltZW50X21ldGhvZCBcbiAgICAgICAgICA6IHNldHVwSW50ZW50LnBheW1lbnRfbWV0aG9kLmlkO1xuICAgICAgICBvblBheW1lbnRNZXRob2RSZWFkeShwbUlkKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgYm9va2luZyBvYmplY3QgYW5kIHByb2NlZWQgdG8gY29uZmlybWF0aW9uXG4gICAgICAgIGlmIChzZWxlY3RlZFNlcnZpY2UgJiYgc2VsZWN0ZWRTbG90ICYmIGNyZWF0ZWRCb29raW5nSWQpIHtcbiAgICAgICAgICBjb25zdCBib29raW5nOiBGYWtlQm9va2luZyA9IHtcbiAgICAgICAgICAgIGlkOiBjcmVhdGVkQm9va2luZ0lkLFxuICAgICAgICAgICAgY29kZTogY3JlYXRlZEJvb2tpbmdDb2RlIHx8IGBUSVRISS0ke2NyZWF0ZWRCb29raW5nSWQuc2xpY2UoMCwgOCkudG9VcHBlckNhc2UoKX1gLFxuICAgICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgICAgICBzZXJ2aWNlSWQ6IHNlbGVjdGVkU2VydmljZS5pZCxcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBzZWxlY3RlZFNlcnZpY2UubmFtZSxcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogc2VsZWN0ZWRTZXJ2aWNlLmNhdGVnb3J5TmFtZSxcbiAgICAgICAgICAgIGR1cmF0aW9uTWludXRlczogc2VsZWN0ZWRTZXJ2aWNlLmR1cmF0aW9uTWludXRlcyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZVRpbWU6IHNlbGVjdGVkU2xvdC5zdGFydERhdGVUaW1lLFxuICAgICAgICAgICAgZW5kRGF0ZVRpbWU6IHNlbGVjdGVkU2xvdC5lbmREYXRlVGltZSxcbiAgICAgICAgICAgIHN0YWZmOiB7XG4gICAgICAgICAgICAgIGlkOiBzZWxlY3RlZFNsb3Quc3RhZmZJZCxcbiAgICAgICAgICAgICAgbmFtZTogc2VsZWN0ZWRTbG90LnN0YWZmTmFtZSxcbiAgICAgICAgICAgICAgY29sb3I6IHdvcmtzcGFjZS5zdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTbG90LnN0YWZmSWQpPy5jb2xvciB8fCBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXN0b21lcjoge1xuICAgICAgICAgICAgICBuYW1lOiBjdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgICAgICBlbWFpbDogY3VzdG9tZXJFbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgcGhvbmU6IGN1c3RvbWVyUGhvbmUudHJpbSgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBheW1lbnRzOiBbXSxcbiAgICAgICAgICAgIGZpbmFuY2lhbHM6IHtcbiAgICAgICAgICAgICAgbGlzdFByaWNlQ2VudHM6IGxpc3RQcmljZUNlbnRzLFxuICAgICAgICAgICAgICBnaWZ0Q2FyZEFtb3VudENlbnRzOiBnaWZ0Q2FyZFN0YXRlPy5hbW91bnRDZW50cyB8fCAwLFxuICAgICAgICAgICAgICBwbGF0Zm9ybUZlZUNlbnRzOiAwLFxuICAgICAgICAgICAgICBzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzOiAwLFxuICAgICAgICAgICAgICBuZXRQYXlvdXRDZW50czogMCxcbiAgICAgICAgICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvbGljeUNvbnNlbnQ6IGNyZWF0ZVBvbGljeUNvbnNlbnQocG9saWNpZXMpLFxuICAgICAgICAgICAgcmVxdWlyZXNBY3Rpb246IGZhbHNlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmcoYm9va2luZyk7XG4gICAgICAgICAgc2V0U3RlcChcImNvbmZpcm1hdGlvblwiKTtcbiAgICAgICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwiQm9va2luZyBjb25maXJtZWRcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtzZWxlY3RlZFNlcnZpY2UubmFtZX0gb24gJHtmb3JtYXRJblRpbWVab25lKFxuICAgICAgICAgICAgICBzZWxlY3RlZFNsb3Quc3RhcnREYXRlVGltZSxcbiAgICAgICAgICAgICAgdGltZXpvbmUsXG4gICAgICAgICAgICAgIHsgd2Vla2RheTogXCJsb25nXCIsIG1vbnRoOiBcInNob3J0XCIsIGRheTogXCJudW1lcmljXCIsIGhvdXI6IFwibnVtZXJpY1wiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH1cbiAgICAgICAgICAgICl9LiBObyBjaGFyZ2UgeWV04oCUY2FyZCBzYXZlZCBzZWN1cmVseS5gLFxuICAgICAgICAgICAgaW50ZW50OiBcInN1Y2Nlc3NcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIGVycm9yIG9jY3VycmVkJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzUHJvY2Vzc2luZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENvbmZpZ3VyZSBwYXltZW50IG1ldGhvZCB0eXBlcyAtIGNhcmQgaXMgQUxXQVlTIHJlcXVpcmVkIHJlZ2FyZGxlc3Mgb2YgYnVzaW5lc3Mgc2V0dGluZ3NcbiAgLy8gVGhpcyBlbnN1cmVzIGNhcmQgaXMgYWx3YXlzIGF2YWlsYWJsZSBhcyBiYWNrdXAgZm9yIG5vLXNob3cgZmVlcyAoZXZlbiBmb3IgY2FzaCBwYXltZW50cylcbiAgY29uc3QgcGF5bWVudE1ldGhvZFR5cGVzOiBzdHJpbmdbXSA9IFsnY2FyZCddO1xuXG4gIC8vIE1hcCBhY2NlcHRlZCBtZXRob2RzIHRvIFN0cmlwZSBwYXltZW50IG1ldGhvZCB0eXBlc1xuICAvLyBOb3RlOiBjYXJkIGlzIGFsd2F5cyBpbmNsdWRlZCBhYm92ZSwgc28gd2Ugb25seSBhZGQgYWRkaXRpb25hbCBtZXRob2RzXG4gIGlmIChhY2NlcHRlZE1ldGhvZHMuaW5jbHVkZXMoJ2FwcGxlX3BheScpIHx8IGFjY2VwdGVkTWV0aG9kcy5pbmNsdWRlcygnYXBwbGUtcGF5JykpIHtcbiAgICBwYXltZW50TWV0aG9kVHlwZXMucHVzaCgnYXBwbGVfcGF5Jyk7XG4gIH1cbiAgaWYgKGFjY2VwdGVkTWV0aG9kcy5pbmNsdWRlcygnZ29vZ2xlX3BheScpIHx8IGFjY2VwdGVkTWV0aG9kcy5pbmNsdWRlcygnZ29vZ2xlLXBheScpKSB7XG4gICAgcGF5bWVudE1ldGhvZFR5cGVzLnB1c2goJ2dvb2dsZV9wYXknKTtcbiAgfVxuICAvLyBBbHNvIGNoZWNrIGZvciAnd2FsbGV0cycgd2hpY2ggbWlnaHQgaW5jbHVkZSBib3RoXG4gIGlmIChhY2NlcHRlZE1ldGhvZHMuaW5jbHVkZXMoJ3dhbGxldHMnKSkge1xuICAgIGlmICghcGF5bWVudE1ldGhvZFR5cGVzLmluY2x1ZGVzKCdhcHBsZV9wYXknKSkgcGF5bWVudE1ldGhvZFR5cGVzLnB1c2goJ2FwcGxlX3BheScpO1xuICAgIGlmICghcGF5bWVudE1ldGhvZFR5cGVzLmluY2x1ZGVzKCdnb29nbGVfcGF5JykpIHBheW1lbnRNZXRob2RUeXBlcy5wdXNoKCdnb29nbGVfcGF5Jyk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxQYXltZW50RWxlbWVudFxuICAgICAgICAgIG9wdGlvbnM9e3tcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2RUeXBlczogcGF5bWVudE1ldGhvZFR5cGVzLFxuICAgICAgICAgICAgLy8gVXNlIHRhYnMgb25seSBpZiB3ZSBoYXZlIG11bHRpcGxlIHBheW1lbnQgbWV0aG9kcywgb3RoZXJ3aXNlIHVzZSBkZWZhdWx0IGxheW91dFxuICAgICAgICAgICAgLi4uKHBheW1lbnRNZXRob2RUeXBlcy5sZW5ndGggPiAxID8geyBsYXlvdXQ6ICd0YWJzJyBhcyBjb25zdCB9IDoge30pLFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPEhlbHBlclRleHQgaW50ZW50PVwiZXJyb3JcIiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDAgbXQtMlwiPlxuICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgIDwvSGVscGVyVGV4dD5cbiAgICAgICAgKX1cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgIGRpc2FibGVkPXtpc1Byb2Nlc3NpbmcgfHwgIXN0cmlwZX1cbiAgICAgICAgICBpc0xvYWRpbmc9e2lzUHJvY2Vzc2luZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbXQtNFwiXG4gICAgICAgID5cbiAgICAgICAgICB7aXNQcm9jZXNzaW5nID8gJ1NhdmluZyBwYXltZW50IG1ldGhvZC4uLicgOiAnU2F2ZSBwYXltZW50IG1ldGhvZCd9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPlxuICApO1xufVxuXG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJJbWFnZSIsIkFycm93TGVmdCIsIkFycm93UmlnaHQiLCJDYWxlbmRhckRheXMiLCJDaGVjayIsIkNoZWNrQ2lyY2xlMiIsIkNoZXZyb25MZWZ0IiwiQ2hldnJvblJpZ2h0IiwiQ2xvY2siLCJDcmVkaXRDYXJkIiwiR2lmdCIsIkxvYWRlcjIiLCJNYXBQaW4iLCJQYXJ0eVBvcHBlciIsIlNoaWVsZENoZWNrIiwiU3BhcmtsZXMiLCJVc2VycyIsImxvYWRTdHJpcGUiLCJFbGVtZW50cyIsIlBheW1lbnRFbGVtZW50IiwidXNlU3RyaXBlIiwidXNlRWxlbWVudHMiLCJCYWRnZSIsIkJ1dHRvbiIsIkhlbHBlclRleHQiLCJJbnB1dCIsInVzZVRvYXN0IiwiY24iLCJncm91cFNsb3RzQnlEYXkiLCJmb3JtYXRJblRpbWVab25lIiwic3RyaXBlUHJvbWlzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVFJJUEVfUFVCTElTSEFCTEVfS0VZIiwiUHVibGljQm9va2luZ0V4cGVyaWVuY2UiLCJidXNpbmVzcyIsIndvcmtzcGFjZSIsInJlY29yZEJvb2tpbmciLCJ0b2FzdCIsInN0ZXAiLCJzZXRTdGVwIiwic2VsZWN0ZWRTZXJ2aWNlSWQiLCJzZXRTZWxlY3RlZFNlcnZpY2VJZCIsInNlbGVjdGVkU3RhZmZJZCIsInNldFNlbGVjdGVkU3RhZmZJZCIsInNlbGVjdGVkU2xvdCIsInNldFNlbGVjdGVkU2xvdCIsImdpZnRDYXJkU3RhdGUiLCJzZXRHaWZ0Q2FyZFN0YXRlIiwiZ2lmdENhcmRJbnB1dCIsInNldEdpZnRDYXJkSW5wdXQiLCJnaWZ0Q2FyZEVycm9yIiwic2V0R2lmdENhcmRFcnJvciIsImN1c3RvbWVyTmFtZSIsInNldEN1c3RvbWVyTmFtZSIsImN1c3RvbWVyRW1haWwiLCJzZXRDdXN0b21lckVtYWlsIiwiY3VzdG9tZXJQaG9uZSIsInNldEN1c3RvbWVyUGhvbmUiLCJzZXR1cEludGVudENsaWVudFNlY3JldCIsInNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0IiwicGF5bWVudE1ldGhvZElkIiwic2V0UGF5bWVudE1ldGhvZElkIiwiY3JlYXRlZEJvb2tpbmdJZCIsInNldENyZWF0ZWRCb29raW5nSWQiLCJjcmVhdGVkQm9va2luZ0NvZGUiLCJzZXRDcmVhdGVkQm9va2luZ0NvZGUiLCJjb25zZW50Q2hlY2tlZCIsInNldENvbnNlbnRDaGVja2VkIiwiaXNQb2xpY3lNb2RhbE9wZW4iLCJzZXRJc1BvbGljeU1vZGFsT3BlbiIsImlzU3VibWl0dGluZyIsInNldElzU3VibWl0dGluZyIsImNyZWF0ZWRCb29raW5nIiwic2V0Q3JlYXRlZEJvb2tpbmciLCJmZXRjaGVkU2xvdHMiLCJzZXRGZXRjaGVkU2xvdHMiLCJpc0xvYWRpbmdBdmFpbGFiaWxpdHkiLCJzZXRJc0xvYWRpbmdBdmFpbGFiaWxpdHkiLCJhdmFpbGFiaWxpdHlFcnJvciIsInNldEF2YWlsYWJpbGl0eUVycm9yIiwic2VsZWN0ZWRTZXJ2aWNlIiwidW5kZWZpbmVkIiwiY2F0ZWdvcnkiLCJjYXRhbG9nIiwic2VydmljZSIsInNlcnZpY2VzIiwiZmluZCIsInN2YyIsImlkIiwiY2F0ZWdvcnlOYW1lIiwibmFtZSIsImNhdGVnb3J5Q29sb3IiLCJjb2xvciIsImZldGNoQXZhaWxhYmlsaXR5IiwidG9kYXkiLCJEYXRlIiwiYWxsU2xvdHMiLCJ0aW1lem9uZSIsImlkZW50aXR5IiwibG9jYXRpb24iLCJkYXlGb3JtYXR0ZXIiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJ0aW1lWm9uZSIsIndlZWtkYXkiLCJpIiwiZGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwiZGF0ZVN0ciIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJkYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsInNsdWciLCJvayIsImNvbnNvbGUiLCJ3YXJuIiwic3RhdHVzIiwianNvbiIsImxvZyIsInNsb3RzQ291bnQiLCJzbG90cyIsImxlbmd0aCIsImhhc1Nsb3RzIiwiQXJyYXkiLCJpc0FycmF5Iiwic2FtcGxlU2xvdCIsInNsb3QiLCJzdGFydERhdGUiLCJzdGFydF9hdCIsImVuZERhdGUiLCJlbmRfYXQiLCJkYXlMYWJlbCIsImZvcm1hdCIsInN0YWZmTWVtYmVyIiwic3RhZmYiLCJzIiwic3RhZmZfaWQiLCJzdGFmZkNvbG9yIiwicHVzaCIsInNlcnZpY2VJZCIsInN0YWZmSWQiLCJzdGFmZk5hbWUiLCJzdGFmZl9uYW1lIiwic3RhcnREYXRlVGltZSIsImVuZERhdGVUaW1lIiwiZXJyIiwiZXJyb3IiLCJzZXJ2aWNlQXZhaWxhYmlsaXR5IiwiZ3JvdXBlZFNsb3RzIiwiZmlsdGVyZWQiLCJmaWx0ZXIiLCJsaXN0UHJpY2VDZW50cyIsInByaWNlQ2VudHMiLCJhcHBsaWVkR2lmdENhcmRDZW50cyIsImFtb3VudENlbnRzIiwiYW1vdW50RHVlQ2VudHMiLCJNYXRoIiwibWF4IiwiYnVzaW5lc3NBY2NlcHRlZE1ldGhvZHMiLCJwYXltZW50IiwiYWNjZXB0ZWRNZXRob2RzIiwiYWNjZXB0ZWRNZXRob2RzRm9yRGlzcGxheSIsInBvbGljaWVzIiwiaGFuZGxlU2VsZWN0U2VydmljZSIsImhhbmRsZVNlbGVjdFNsb3QiLCJ3aW5kb3ciLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwiaGFuZGxlQXBwbHlHaWZ0Q2FyZCIsImNvZGUiLCJ0cmltIiwidG9VcHBlckNhc2UiLCJwcm9ncmFtIiwiZ2lmdENhcmRzIiwiY29uZmlnIiwiZW5hYmxlZCIsImFsbENvZGVzIiwiU2V0IiwiZ2VuZXJhdGVkQ29kZXMiLCJtYXAiLCJlbnRyeSIsImxlZGdlciIsImhhcyIsImFtb3VudFR5cGUiLCJhbW91bnRWYWx1ZSIsInJvdW5kIiwiYXBwbGllZEFtb3VudCIsIm1pbiIsImRlc2NyaXB0aW9uIiwiZm9ybWF0Q3VycmVuY3kiLCJwdXNoVG9hc3QiLCJ0aXRsZSIsImludGVudCIsImhhbmRsZVN1Ym1pdENoZWNrb3V0IiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiYm9va2luZyIsInNsaWNlIiwic2VydmljZU5hbWUiLCJkdXJhdGlvbk1pbnV0ZXMiLCJjdXN0b21lciIsImVtYWlsIiwidG9Mb3dlckNhc2UiLCJwaG9uZSIsInBheW1lbnRzIiwiZmluYW5jaWFscyIsImdpZnRDYXJkQW1vdW50Q2VudHMiLCJwbGF0Zm9ybUZlZUNlbnRzIiwic3RyaXBlRmVlRXN0aW1hdGVDZW50cyIsIm5ldFBheW91dENlbnRzIiwiY3VycmVuY3kiLCJwb2xpY3lDb25zZW50IiwiY3JlYXRlUG9saWN5Q29uc2VudCIsInJlcXVpcmVzQWN0aW9uIiwiaGFuZGxlUmVzZXRGbG93IiwiYnJhbmRpbmciLCJwcmltYXJ5Q29sb3IiLCJsb2dvVXJsIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiQ29uZmV0dGlPdmVybGF5IiwiaGVhZGVyIiwiYm94U2hhZG93Iiwic3JjIiwiYWx0IiwiYnVzaW5lc3NOYW1lIiwiZmlsbCIsInVub3B0aW1pemVkIiwiaDEiLCJwIiwic3BhbiIsImFyaWEtaGlkZGVuIiwiZm9ybWF0QWRkcmVzcyIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsIm1haW4iLCJTdGVwSW5kaWNhdG9yIiwiY3VycmVudFN0ZXAiLCJvblJlc2V0IiwiQ2F0YWxvZ1N0ZXAiLCJvblNlbGVjdFNlcnZpY2UiLCJBdmFpbGFiaWxpdHlTdGVwIiwic2xvdHNCeURheSIsIm9uQmFjayIsIm9uU2VsZWN0U2xvdCIsInN1cHBvcnRFbWFpbCIsImlzTG9hZGluZyIsIkNoZWNrb3V0U3RlcCIsIm9uQXBwbHlHaWZ0Q2FyZCIsIm9uU3VibWl0Iiwib25PcGVuUG9saWNpZXMiLCJDb25maXJtYXRpb25TdGVwIiwib25Cb29rQW5vdGhlciIsIlBvbGljeU1vZGFsIiwib25DbG9zZSIsInNlY3Rpb24iLCJidXR0b24iLCJ0eXBlIiwib25DbGljayIsImgyIiwiZm9ybWF0RHVyYXRpb24iLCJpbnN0cnVjdGlvbnMiLCJzdHJvbmciLCJjdXJyZW50V2Vla1N0YXJ0Iiwic2V0Q3VycmVudFdlZWtTdGFydCIsImRheU9mV2VlayIsImdldERheSIsImRpZmYiLCJzdW5kYXkiLCJzZXRIb3VycyIsInN0YWZmT3B0aW9ucyIsIm1lbWJlciIsInN0YWZmSWRzIiwiaW5jbHVkZXMiLCJ0b3RhbFNsb3RzIiwiT2JqZWN0IiwidmFsdWVzIiwicmVkdWNlIiwic3VtIiwiZW50cmllcyIsImhvdXJzIiwiZnJvbSIsIl8iLCJ3ZWVrRGF5cyIsImRheXMiLCJzbG90c0J5RGF5QW5kSG91ciIsImdyb3VwZWQiLCJmbGF0IiwiZm9yRWFjaCIsInNsb3REYXRlIiwiZGF0ZUtleSIsImhvdXIxMiIsImhvdXJOdW0iLCJwYXJzZUludCIsImlzSW5DdXJyZW50V2VlayIsInNvbWUiLCJkYXlLZXkiLCJpc0R1cGxpY2F0ZSIsImV4aXN0aW5nIiwibmF2aWdhdGVXZWVrIiwiZGlyZWN0aW9uIiwibmV3RGF0ZSIsIm1vbnRoWWVhciIsInllYXIiLCJ2YXJpYW50IiwiU3RhZmZQaWxsIiwibGFiZWwiLCJhY3RpdmUiLCJhIiwiaHJlZiIsImgzIiwiaWR4IiwiaG91ckxhYmVsIiwiZGF5SWR4Iiwic2xvdHNGb3JIb3VyIiwiZmlsdGVyZWRTbG90cyIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyV2lkdGgiLCJvbk1vdXNlRW50ZXIiLCJlIiwiY3VycmVudFRhcmdldCIsIm9uTW91c2VMZWF2ZSIsInByb3BzIiwidGVzdCIsImhhc1JlcXVpcmVkRmllbGRzIiwiY3JlYXRlU2V0dXBJbnRlbnQiLCJhcGlQYXlsb2FkIiwic2VydmljZV9pZCIsImdpZnRfY2FyZF9jb2RlIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGV4dCIsImFwaVJlc3BvbnNlIiwiY2xpZW50X3NlY3JldCIsImJvb2tpbmdfaWQiLCJib29raW5nX2NvZGUiLCJGaWVsZCIsInZhbHVlIiwib25DaGFuZ2UiLCJldmVudCIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwiYXV0b0NvbXBsZXRlIiwiaGVscGVyIiwiYXV0b0NhcGl0YWxpemUiLCJkZXNjcmliZUFjY2VwdGVkTWV0aG9kcyIsInN0cmlwZSIsIm9wdGlvbnMiLCJjbGllbnRTZWNyZXQiLCJhcHBlYXJhbmNlIiwidGhlbWUiLCJ2YXJpYWJsZXMiLCJjb2xvclByaW1hcnkiLCJjb2xvckJhY2tncm91bmQiLCJjb2xvclRleHQiLCJjb2xvckRhbmdlciIsImZvbnRGYW1pbHkiLCJzcGFjaW5nVW5pdCIsImJvcmRlclJhZGl1cyIsIlN0cmlwZVBheW1lbnRGb3JtIiwib25QYXltZW50TWV0aG9kUmVhZHkiLCJwbUlkIiwiYnVzaW5lc3NTbHVnIiwiYm9va2luZ0lkIiwiaW5wdXQiLCJjaGVja2VkIiwiYWNjZW50Q29sb3IiLCJodG1sRm9yIiwic2l6ZSIsImRpc2FibGVkIiwiYXNpZGUiLCJ1bCIsImxpIiwiY2FuY2VsbGF0aW9uUG9saWN5Iiwibm9TaG93UG9saWN5IiwicmVmdW5kUG9saWN5IiwiY2FzaFBvbGljeSIsInJvbGUiLCJhcmlhLW1vZGFsIiwiYXJpYS1sYWJlbCIsIlBvbGljeUJsb2NrIiwiZGVzY3JpYmVGZWUiLCJjYW5jZWxsYXRpb25GZWVUeXBlIiwiY2FuY2VsbGF0aW9uRmVlVmFsdWUiLCJub1Nob3dGZWVUeXBlIiwibm9TaG93RmVlVmFsdWUiLCJzdGVwcyIsImluZGV4IiwiY2hpbGRyZW4iLCJsZWZ0IiwicmFuZG9tIiwiYW5pbWF0aW9uRGVsYXkiLCJyYW5kb21Db25mZXR0aUNvbG9yIiwicGFsZXR0ZSIsImZsb29yIiwibWludXRlcyIsImhycyIsIm1pbnMiLCJjZW50cyIsIk51bWJlckZvcm1hdCIsIm1ldGhvZHMiLCJ1bmlxdWUiLCJtZXRob2RMYWJlbHMiLCJjYXJkIiwiY2FzaCIsIndhbGxldHMiLCJhcHBsZV9wYXkiLCJnb29nbGVfcGF5IiwibGFiZWxzIiwiam9pbiIsInBhcnRzIiwiYWRkcmVzc0xpbmUxIiwiYWRkcmVzc0xpbmUyIiwiY2l0eSIsInN0YXRlUHJvdmluY2UiLCJjb3VudHJ5IiwiQm9vbGVhbiIsImhhc2hCYXNlIiwiaGFzaCIsInNpbXBsZUhhc2giLCJhY2NlcHRlZEF0IiwiaXAiLCJ1c2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJjaGFyQ29kZUF0IiwiYWJzIiwidG9TdHJpbmciLCJlbGVtZW50cyIsImlzUHJvY2Vzc2luZyIsInNldElzUHJvY2Vzc2luZyIsInNldEVycm9yIiwiaGFuZGxlU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJjb25maXJtRXJyb3IiLCJzZXR1cEludGVudCIsImNvbmZpcm1TZXR1cCIsInJlZGlyZWN0IiwibWVzc2FnZSIsInBheW1lbnRfbWV0aG9kIiwiRXJyb3IiLCJwYXltZW50TWV0aG9kVHlwZXMiLCJmb3JtIiwibGF5b3V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/public-booking/booking-flow.tsx\n"));

/***/ })

});