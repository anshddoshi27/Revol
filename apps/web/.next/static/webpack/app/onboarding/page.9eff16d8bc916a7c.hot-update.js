"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/onboarding/page",{

/***/ "(app-pages-browser)/./src/app/onboarding/page.tsx":
/*!*************************************!*\
  !*** ./src/app/onboarding/page.tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ OnboardingPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_onboarding_onboarding_shell__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/onboarding/onboarding-shell */ \"(app-pages-browser)/./src/components/onboarding/onboarding-shell.tsx\");\n/* harmony import */ var _components_onboarding_business_step__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/onboarding/business-step */ \"(app-pages-browser)/./src/components/onboarding/business-step.tsx\");\n/* harmony import */ var _components_onboarding_website_step__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/onboarding/website-step */ \"(app-pages-browser)/./src/components/onboarding/website-step.tsx\");\n/* harmony import */ var _components_onboarding_location_step__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/onboarding/location-step */ \"(app-pages-browser)/./src/components/onboarding/location-step.tsx\");\n/* harmony import */ var _components_onboarding_team_step__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/onboarding/team-step */ \"(app-pages-browser)/./src/components/onboarding/team-step.tsx\");\n/* harmony import */ var _components_onboarding_branding_step__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/onboarding/branding-step */ \"(app-pages-browser)/./src/components/onboarding/branding-step.tsx\");\n/* harmony import */ var _components_onboarding_services_step__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/onboarding/services-step */ \"(app-pages-browser)/./src/components/onboarding/services-step.tsx\");\n/* harmony import */ var _components_onboarding_availability_step__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/onboarding/availability-step */ \"(app-pages-browser)/./src/components/onboarding/availability-step.tsx\");\n/* harmony import */ var _components_onboarding_notifications_step__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/onboarding/notifications-step */ \"(app-pages-browser)/./src/components/onboarding/notifications-step.tsx\");\n/* harmony import */ var _components_onboarding_policies_step__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/onboarding/policies-step */ \"(app-pages-browser)/./src/components/onboarding/policies-step.tsx\");\n/* harmony import */ var _components_onboarding_gift_cards_step__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/onboarding/gift-cards-step */ \"(app-pages-browser)/./src/components/onboarding/gift-cards-step.tsx\");\n/* harmony import */ var _components_onboarding_payment_setup_step__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/onboarding/payment-setup-step */ \"(app-pages-browser)/./src/components/onboarding/payment-setup-step.tsx\");\n/* harmony import */ var _components_onboarding_go_live_step__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/onboarding/go-live-step */ \"(app-pages-browser)/./src/components/onboarding/go-live-step.tsx\");\n/* harmony import */ var _components_ui_toast__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/ui/toast */ \"(app-pages-browser)/./src/components/ui/toast.tsx\");\n/* harmony import */ var _lib_onboarding_context__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/lib/onboarding-context */ \"(app-pages-browser)/./src/lib/onboarding-context.tsx\");\n/* harmony import */ var _lib_fake_business__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/lib/fake-business */ \"(app-pages-browser)/./src/lib/fake-business.tsx\");\n/* harmony import */ var _lib_fake_session__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/lib/fake-session */ \"(app-pages-browser)/./src/lib/fake-session.tsx\");\n/* harmony import */ var _lib_load_onboarding_data__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/lib/load-onboarding-data */ \"(app-pages-browser)/./src/lib/load-onboarding-data.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction sanitizeSubdomain(value) {\n    return value.toLowerCase().trim().replace(/[^a-z0-9-]/g, \"-\").replace(/-+/g, \"-\").replace(/^-+|-+$/g, \"\").slice(0, 63);\n}\nconst STEP_SEQUENCE = [\n    \"business\",\n    \"website\",\n    \"location\",\n    \"team\",\n    \"branding\",\n    \"services\",\n    \"availability\",\n    \"notifications\",\n    \"policies\",\n    \"giftCards\",\n    \"paymentSetup\",\n    \"goLive\"\n];\nfunction OnboardingPage() {\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const toast = (0,_components_ui_toast__WEBPACK_IMPORTED_MODULE_16__.useToast)();\n    const session = (0,_lib_fake_session__WEBPACK_IMPORTED_MODULE_19__.useFakeSession)();\n    const businessStore = (0,_lib_fake_business__WEBPACK_IMPORTED_MODULE_18__.useFakeBusiness)();\n    const onboarding = (0,_lib_onboarding_context__WEBPACK_IMPORTED_MODULE_17__.useOnboarding)();\n    const [supabaseSession, setSupabaseSession] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const [isCheckingSession, setIsCheckingSession] = react__WEBPACK_IMPORTED_MODULE_1__.useState(true);\n    const currentIndex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>STEP_SEQUENCE.findIndex((step)=>step === onboarding.currentStep), [\n        onboarding.currentStep\n    ]);\n    const previousStep = currentIndex > 0 ? STEP_SEQUENCE[currentIndex - 1] : undefined;\n    const nextStep = currentIndex < STEP_SEQUENCE.length - 1 ? STEP_SEQUENCE[currentIndex + 1] : undefined;\n    // Check Supabase session on mount (persists across redirects)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkSupabaseSession = async ()=>{\n            try {\n                const { createClientClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\"));\n                const supabase = createClientClient();\n                const { data: { session: supabaseSessionData }, error } = await supabase.auth.getSession();\n                if (supabaseSessionData && !error) {\n                    setSupabaseSession(supabaseSessionData);\n                    // Restore fake session from Supabase session if needed\n                    if (!session.isAuthenticated && supabaseSessionData.user) {\n                        var _supabaseSessionData_user_user_metadata, _supabaseSessionData_user_email, _supabaseSessionData_user_user_metadata1;\n                        session.login({\n                            id: supabaseSessionData.user.id,\n                            name: ((_supabaseSessionData_user_user_metadata = supabaseSessionData.user.user_metadata) === null || _supabaseSessionData_user_user_metadata === void 0 ? void 0 : _supabaseSessionData_user_user_metadata.full_name) || ((_supabaseSessionData_user_email = supabaseSessionData.user.email) === null || _supabaseSessionData_user_email === void 0 ? void 0 : _supabaseSessionData_user_email.split(\"@\")[0]) || \"User\",\n                            email: supabaseSessionData.user.email || \"\",\n                            phone: ((_supabaseSessionData_user_user_metadata1 = supabaseSessionData.user.user_metadata) === null || _supabaseSessionData_user_user_metadata1 === void 0 ? void 0 : _supabaseSessionData_user_user_metadata1.phone) || undefined\n                        });\n                    }\n                    // If returning from Stripe, ensure we load business data from database\n                    const urlParams = new URLSearchParams(window.location.search);\n                    const accountId = urlParams.get(\"account_id\");\n                    if (accountId) {\n                        // Load business data to ensure it's in state\n                        try {\n                            const headers = {\n                                \"Content-Type\": \"application/json\",\n                                \"Authorization\": \"Bearer \".concat(supabaseSessionData.access_token)\n                            };\n                            const businessResponse = await fetch(\"/api/business/onboarding/step-1-business\", {\n                                method: \"GET\",\n                                headers,\n                                credentials: \"include\"\n                            });\n                            if (businessResponse.ok) {\n                                const businessData = await businessResponse.json();\n                                if (businessData.business) {\n                                    onboarding.saveBusiness({\n                                        businessName: businessData.business.name || \"\",\n                                        description: \"\",\n                                        doingBusinessAs: businessData.business.dba_name || \"\",\n                                        legalName: businessData.business.legal_name || \"\",\n                                        industry: businessData.business.industry || \"\"\n                                    });\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Error loading business data:\", error);\n                        }\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error checking Supabase session:\", error);\n            } finally{\n                setIsCheckingSession(false);\n            }\n        };\n        checkSupabaseSession();\n    }, []);\n    // Handle Stripe Connect return FIRST - before auth check\n    // Load ALL onboarding data from backend to restore state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const urlParams = new URLSearchParams(window.location.search);\n        const accountId = urlParams.get(\"account_id\");\n        if (accountId) {\n            console.log(\"[onboarding] Stripe return detected, account_id:\", accountId);\n            // Navigate to payment setup step immediately\n            onboarding.setStep(\"paymentSetup\");\n            // Load ALL onboarding data from backend to restore complete state\n            const restoreAllOnboardingData = async ()=>{\n                try {\n                    var _data_business, _data_website, _data_location, _data_location1, _data_branding;\n                    const data = await (0,_lib_load_onboarding_data__WEBPACK_IMPORTED_MODULE_20__.loadOnboardingDataFromBackend)();\n                    // Restore all the data to onboarding context\n                    if (data.business) {\n                        onboarding.saveBusiness(data.business);\n                    }\n                    if (data.website) {\n                        onboarding.saveWebsite(data.website);\n                    }\n                    if (data.location) {\n                        onboarding.saveLocation(data.location);\n                    }\n                    if (data.team) {\n                        onboarding.saveTeam(data.team);\n                    }\n                    if (data.branding) {\n                        onboarding.saveBranding(data.branding);\n                    }\n                    if (data.services) {\n                        onboarding.saveServices(data.services);\n                    }\n                    if (data.availability) {\n                        onboarding.saveAvailability(data.availability);\n                    }\n                    if (data.notifications) {\n                        onboarding.saveNotifications(data.notifications);\n                    }\n                    if (data.policies) {\n                        onboarding.savePolicies(data.policies);\n                    }\n                    if (data.giftCards) {\n                        onboarding.saveGiftCards(data.giftCards);\n                    }\n                    if (data.paymentSetup) {\n                        onboarding.savePaymentSetup(data.paymentSetup);\n                    }\n                    // Mark all completed steps\n                    const completedSteps = [];\n                    if ((_data_business = data.business) === null || _data_business === void 0 ? void 0 : _data_business.businessName) completedSteps.push(\"business\");\n                    if ((_data_website = data.website) === null || _data_website === void 0 ? void 0 : _data_website.subdomain) completedSteps.push(\"website\");\n                    if (((_data_location = data.location) === null || _data_location === void 0 ? void 0 : _data_location.street) || ((_data_location1 = data.location) === null || _data_location1 === void 0 ? void 0 : _data_location1.city)) completedSteps.push(\"location\");\n                    if (data.team && data.team.length > 0) completedSteps.push(\"team\");\n                    if ((_data_branding = data.branding) === null || _data_branding === void 0 ? void 0 : _data_branding.primaryColor) completedSteps.push(\"branding\");\n                    if (data.services && data.services.length > 0) completedSteps.push(\"services\");\n                    if (data.availability && data.availability.length > 0) completedSteps.push(\"availability\");\n                    if (data.notifications) completedSteps.push(\"notifications\");\n                    if (data.policies) completedSteps.push(\"policies\");\n                    if (data.giftCards) completedSteps.push(\"giftCards\");\n                    completedSteps.forEach((step)=>{\n                        onboarding.completeStep(step);\n                    });\n                    console.log(\"[onboarding] All onboarding data restored from backend\");\n                } catch (error) {\n                    console.error(\"Error restoring onboarding data:\", error);\n                }\n            };\n            // Load and restore all state from backend\n            restoreAllOnboardingData();\n            // Clean up URL (remove query params) after a short delay\n            setTimeout(()=>{\n                window.history.replaceState({}, \"\", window.location.pathname);\n            }, 100);\n        }\n    }, [\n        onboarding\n    ]);\n    // Check if business is already launched and redirect to admin\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkIfBusinessIsLaunched = async ()=>{\n            if (isCheckingSession) return; // Wait for session check to complete\n            // Check both fake session and Supabase session\n            const isAuthenticated = session.isAuthenticated || (supabaseSession === null || supabaseSession === void 0 ? void 0 : supabaseSession.user) !== null;\n            if (!isAuthenticated) {\n                router.replace(\"/login\");\n                return;\n            }\n            try {\n                // Check if business is already launched by checking database\n                const { createClientClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\"));\n                const supabase = createClientClient();\n                const { data: { session: currentSession } } = await supabase.auth.getSession();\n                if (!(currentSession === null || currentSession === void 0 ? void 0 : currentSession.access_token)) {\n                    return;\n                }\n                // Fetch business to check if it's already launched\n                const businessResponse = await fetch(\"/api/business/onboarding/step-1-business\", {\n                    method: \"GET\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Authorization\": \"Bearer \".concat(currentSession.access_token)\n                    },\n                    credentials: \"include\"\n                });\n                if (businessResponse.ok) {\n                    const businessData = await businessResponse.json();\n                    const business = businessData.business;\n                    // Check if business is already launched:\n                    // 1. Has subscription_status set (trial, active, paused, canceled)\n                    // 2. Has all required fields (name, subdomain, timezone, support_email, stripe_connect_account_id)\n                    const isLaunched = business && business.subscription_status && business.subscription_status !== null && business.name && business.name.trim().length > 0 && business.subdomain && !business.subdomain.startsWith(\"temp-\") && business.timezone && business.support_email && business.stripe_connect_account_id;\n                    if (isLaunched) {\n                        console.log(\"[onboarding] Business is already launched - redirecting to admin\");\n                        // Business is already launched - redirect to admin dashboard\n                        const businessId = business.id;\n                        router.replace(\"/app/b/\".concat(businessId));\n                        return;\n                    }\n                }\n            // If business exists but not launched, continue with onboarding\n            // If no business exists, onboarding will create one\n            } catch (error) {\n                console.error(\"[onboarding] Error checking if business is launched:\", error);\n            // On error, continue with onboarding\n            }\n        };\n        checkIfBusinessIsLaunched();\n    }, [\n        session.isAuthenticated,\n        supabaseSession,\n        isCheckingSession,\n        router\n    ]);\n    const navigateTo = (step)=>{\n        onboarding.setStep(step);\n    };\n    const goForward = ()=>{\n        if (nextStep) {\n            onboarding.setStep(nextStep);\n        }\n    };\n    const goBack = ()=>{\n        if (previousStep) {\n            onboarding.setStep(previousStep);\n        }\n    };\n    // Helper function to make authenticated API calls\n    const makeAuthenticatedRequest = async (url, method, body)=>{\n        const { createClientClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\"));\n        const supabase = createClientClient();\n        const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n        if (sessionError) {\n            console.error(\"Error getting session:\", sessionError);\n        }\n        const headers = {\n            \"Content-Type\": \"application/json\"\n        };\n        if (session === null || session === void 0 ? void 0 : session.access_token) {\n            headers[\"Authorization\"] = \"Bearer \".concat(session.access_token);\n        }\n        const response = await fetch(url, {\n            method,\n            headers,\n            credentials: \"include\",\n            body: JSON.stringify(body)\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.error || \"Failed to save to \".concat(url));\n        }\n        return await response.json();\n    };\n    const handleBusinessNext = async (values)=>{\n        onboarding.saveBusiness(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-1-business\", \"PUT\", values);\n            console.log(\"Business saved:\", data);\n            // Verify the save worked by checking the response\n            if (!data || !data.success) {\n                throw new Error(\"Business save did not return success\");\n            }\n        } catch (error) {\n            console.error(\"Error saving business:\", error);\n            const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save business information: \".concat(errorMessage, \". Please check the console and try again.\")\n            });\n            return;\n        }\n        onboarding.completeStep(\"business\");\n        goForward();\n    };\n    const handleWebsiteNext = async (values)=>{\n        const fallback = onboarding.business.businessName || \"yourbusiness\";\n        const fallbackSanitized = sanitizeSubdomain(fallback);\n        let normalizedSubdomain = sanitizeSubdomain(values.subdomain || fallbackSanitized);\n        if (normalizedSubdomain.length < 3) {\n            normalizedSubdomain = fallbackSanitized.length >= 3 ? fallbackSanitized : \"yourbusiness\";\n        }\n        const websiteData = {\n            ...values,\n            subdomain: normalizedSubdomain\n        };\n        onboarding.saveWebsite(websiteData);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-2-website\", \"PUT\", websiteData);\n            console.log(\"Website saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving website:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save website information. Please try again.\"\n            });\n            return;\n        }\n        if (values.status === \"reserved\") {\n            const url = \"https://\".concat(normalizedSubdomain, \".tithi.com\");\n            onboarding.setBookingUrl(url);\n        }\n        onboarding.completeStep(\"website\");\n        goForward();\n    };\n    const handleLocationNext = async (values)=>{\n        onboarding.saveLocation(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-3-location\", \"PUT\", values);\n            console.log(\"Location saved:\", data);\n            // Verify the save worked\n            if (!data || !data.success) {\n                throw new Error(\"Location save did not return success\");\n            }\n        } catch (error) {\n            console.error(\"Error saving location:\", error);\n            const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save location information: \".concat(errorMessage, \". Please check the console and try again.\")\n            });\n            return;\n        }\n        onboarding.completeStep(\"location\");\n        goForward();\n    };\n    const handleTeamNext = async (values)=>{\n        onboarding.saveTeam(values);\n        try {\n            // API expects { staff: StaffMember[] } not just the array\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-4-team\", \"PUT\", {\n                staff: values\n            });\n            console.log(\"Team saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving team:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save team information. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"team\");\n        goForward();\n    };\n    const handleBrandingNext = async (values)=>{\n        onboarding.saveBranding(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-5-branding\", \"PUT\", values);\n            console.log(\"Branding saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving branding:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save branding information. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"branding\");\n        goForward();\n    };\n    const handleServicesNext = async (values)=>{\n        onboarding.saveServices(values);\n        try {\n            // API expects { categories: ... } not just the array\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-6-services\", \"PUT\", {\n                categories: values\n            });\n            console.log(\"Services saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving services:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save services information. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"services\");\n        goForward();\n    };\n    const handleAvailabilityNext = async (values)=>{\n        onboarding.saveAvailability(values);\n        try {\n            // API expects { availability: ... } not just the array\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-7-availability\", \"PUT\", {\n                availability: values\n            });\n            console.log(\"Availability saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving availability:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save availability information. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"availability\");\n        goForward();\n    };\n    const handleNotificationsNext = async (templates, enabled)=>{\n        onboarding.saveNotifications({\n            templates,\n            enabled\n        });\n        // Log what we're sending to ensure it's correct\n        console.log(\"[onboarding] Sending notifications_enabled to API:\", {\n            enabled,\n            enabledType: typeof enabled,\n            planType: enabled === false ? \"Basic ($11.99/month)\" : \"Pro ($21.99/month)\",\n            templatesCount: templates.length\n        });\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-8-notifications\", \"PUT\", {\n                templates,\n                notifications_enabled: enabled\n            });\n            console.log(\"[onboarding] Notifications saved, API response:\", {\n                success: data.success,\n                notifications_enabled: data.notifications_enabled,\n                plan_type: data.plan_type,\n                plan_price: data.plan_price\n            });\n        } catch (error) {\n            console.error(\"Error saving notifications:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save notifications. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"notifications\");\n        goForward();\n    };\n    const handlePoliciesNext = async (values)=>{\n        onboarding.savePolicies(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-9-policies\", \"PUT\", values);\n            console.log(\"Policies saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving policies:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save policies. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"policies\");\n        goForward();\n    };\n    const handleGiftCardsNext = async (values)=>{\n        onboarding.saveGiftCards(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-10-gift-cards\", \"PUT\", values);\n            console.log(\"Gift cards saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving gift cards:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save gift cards information. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"giftCards\");\n        goForward();\n    };\n    const handlePaymentNext = async (values)=>{\n        onboarding.savePaymentSetup(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-11-payment-setup\", \"PUT\", values);\n            console.log(\"Payment setup saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving payment setup:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save payment setup. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"paymentSetup\");\n        goForward();\n    };\n    const handleStartTrial = ()=>{\n        const trialEnds = new Date();\n        trialEnds.setDate(trialEnds.getDate() + 7);\n        onboarding.savePaymentSetup({\n            ...onboarding.paymentSetup,\n            subscriptionStatus: \"trial\",\n            trialEndsAt: trialEnds.toISOString(),\n            nextBillDate: trialEnds.toISOString()\n        });\n        toast.pushToast({\n            title: \"Trial activated\",\n            description: \"Billing is deferred by seven days. Cancel before the bill date to avoid charges.\",\n            intent: \"info\"\n        });\n    };\n    const handleLaunch = async ()=>{\n        try {\n            // Call the backend API to finalize onboarding using authenticated request\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/complete\", \"POST\", {});\n            onboarding.completeStep(\"goLive\");\n            onboarding.setOnboardingCompleted(true);\n            const business = onboarding.generateBusinessFromState();\n            businessStore.clearBusiness();\n            businessStore.createBusiness(business);\n            businessStore.bootstrapWorkspace({\n                business: onboarding.business,\n                website: onboarding.website,\n                location: onboarding.location,\n                branding: onboarding.branding,\n                team: onboarding.team,\n                categories: onboarding.services,\n                availability: onboarding.availability,\n                notifications: onboarding.notifications,\n                policies: onboarding.policies,\n                giftCards: onboarding.giftCards,\n                payment: onboarding.paymentSetup\n            });\n            toast.pushToast({\n                title: \"Business launched\",\n                description: \"\".concat(business.name, \" is live with manual capture enabled.\"),\n                intent: \"success\"\n            });\n            router.push(\"/app/b/\".concat(business.slug));\n        } catch (error) {\n            console.error(\"Error launching business:\", error);\n            const errorMessage = error instanceof Error ? error.message : \"An error occurred while finalizing onboarding.\";\n            toast.pushToast({\n                title: \"Failed to launch business\",\n                description: errorMessage,\n                intent: \"error\"\n            });\n        }\n    };\n    const stepsMeta = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[\n            {\n                id: \"business\",\n                title: \"Business\",\n                subtitle: \"Identity & description\"\n            },\n            {\n                id: \"website\",\n                title: \"Website\",\n                subtitle: \"Claim your subdomain\"\n            },\n            {\n                id: \"location\",\n                title: \"Location & contacts\",\n                subtitle: \"Timezone + address\"\n            },\n            {\n                id: \"team\",\n                title: \"Team\",\n                subtitle: \"Scheduling-only staff\"\n            },\n            {\n                id: \"branding\",\n                title: \"Branding\",\n                subtitle: \"Logo + theme\"\n            },\n            {\n                id: \"services\",\n                title: \"Services & categories\",\n                subtitle: \"Catalog structure\"\n            },\n            {\n                id: \"availability\",\n                title: \"Availability\",\n                subtitle: \"Slots per staff\"\n            },\n            {\n                id: \"notifications\",\n                title: \"Notifications\",\n                subtitle: \"Templates + placeholders\"\n            },\n            {\n                id: \"policies\",\n                title: \"Policies\",\n                subtitle: \"Fees & legal copy\"\n            },\n            {\n                id: \"giftCards\",\n                title: \"Gift cards\",\n                subtitle: \"Optional promos\"\n            },\n            {\n                id: \"paymentSetup\",\n                title: \"Payment setup\",\n                subtitle: \"Stripe Connect + subscription\"\n            },\n            {\n                id: \"goLive\",\n                title: \"Go live\",\n                subtitle: \"Launch & confetti\"\n            }\n        ], []);\n    let content = null;\n    switch(onboarding.currentStep){\n        case \"business\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_business_step__WEBPACK_IMPORTED_MODULE_4__.BusinessStep, {\n                defaultValues: onboarding.business,\n                onNext: handleBusinessNext\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 680,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"website\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_website_step__WEBPACK_IMPORTED_MODULE_5__.WebsiteStep, {\n                defaultValues: onboarding.website,\n                onNext: handleWebsiteNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 688,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"location\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_location_step__WEBPACK_IMPORTED_MODULE_6__.LocationStep, {\n                defaultValues: onboarding.location,\n                onNext: handleLocationNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 697,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"team\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_team_step__WEBPACK_IMPORTED_MODULE_7__.TeamStep, {\n                defaultValues: onboarding.team,\n                onNext: handleTeamNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 706,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"branding\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_branding_step__WEBPACK_IMPORTED_MODULE_8__.BrandingStep, {\n                defaultValues: onboarding.branding,\n                business: onboarding.business,\n                categories: onboarding.services,\n                onNext: handleBrandingNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 715,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"services\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_services_step__WEBPACK_IMPORTED_MODULE_9__.ServicesStep, {\n                defaultValues: onboarding.services,\n                staff: onboarding.team,\n                onNext: handleServicesNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 726,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"availability\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_availability_step__WEBPACK_IMPORTED_MODULE_10__.AvailabilityStep, {\n                services: onboarding.services,\n                staff: onboarding.team,\n                defaultValues: onboarding.availability,\n                onNext: handleAvailabilityNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 736,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"notifications\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_notifications_step__WEBPACK_IMPORTED_MODULE_11__.NotificationsStep, {\n                defaultValues: onboarding.notifications,\n                notificationsEnabled: onboarding.notificationsEnabled,\n                onNext: handleNotificationsNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 747,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"policies\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_policies_step__WEBPACK_IMPORTED_MODULE_12__.PoliciesStep, {\n                defaultValues: onboarding.policies,\n                onNext: handlePoliciesNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 757,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"giftCards\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_gift_cards_step__WEBPACK_IMPORTED_MODULE_13__.GiftCardsStep, {\n                defaultValues: onboarding.giftCards,\n                onNext: handleGiftCardsNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 766,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"paymentSetup\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_payment_setup_step__WEBPACK_IMPORTED_MODULE_14__.PaymentSetupStep, {\n                defaultValues: onboarding.paymentSetup,\n                business: onboarding.business,\n                onNext: handlePaymentNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 775,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"goLive\":\n            var _onboarding_bookingUrl;\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_go_live_step__WEBPACK_IMPORTED_MODULE_15__.GoLiveStep, {\n                business: onboarding.business,\n                location: onboarding.location,\n                staff: onboarding.team,\n                categories: onboarding.services,\n                bookingUrl: (_onboarding_bookingUrl = onboarding.bookingUrl) !== null && _onboarding_bookingUrl !== void 0 ? _onboarding_bookingUrl : \"https://\".concat(sanitizeSubdomain(onboarding.website.subdomain || onboarding.business.businessName || \"yourbusiness\"), \".tithi.com\"),\n                previewUrl: \"/public/\".concat(sanitizeSubdomain(onboarding.website.subdomain || onboarding.business.businessName || \"yourbusiness\")),\n                policies: onboarding.policies,\n                payment: onboarding.paymentSetup,\n                onLaunch: handleLaunch,\n                onStartTrial: handleStartTrial,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 785,\n                columnNumber: 9\n            }, this);\n            break;\n        default:\n            content = null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_onboarding_shell__WEBPACK_IMPORTED_MODULE_3__.OnboardingShell, {\n        steps: stepsMeta,\n        currentStep: onboarding.currentStep,\n        completedSteps: onboarding.completedSteps,\n        onNavigate: navigateTo,\n        children: content\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n        lineNumber: 810,\n        columnNumber: 5\n    }, this);\n}\n_s(OnboardingPage, \"SCgossA/E3ngVxOHfA46GZ1y0PM=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _components_ui_toast__WEBPACK_IMPORTED_MODULE_16__.useToast,\n        _lib_fake_session__WEBPACK_IMPORTED_MODULE_19__.useFakeSession,\n        _lib_fake_business__WEBPACK_IMPORTED_MODULE_18__.useFakeBusiness,\n        _lib_onboarding_context__WEBPACK_IMPORTED_MODULE_17__.useOnboarding\n    ];\n});\n_c = OnboardingPage;\nvar _c;\n$RefreshReg$(_c, \"OnboardingPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvb25ib2FyZGluZy9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTJDO0FBQ1o7QUFDYTtBQUUrQjtBQUNOO0FBQ0Y7QUFDRTtBQUNSO0FBQ1E7QUFDQTtBQUNRO0FBQ0U7QUFDVjtBQUNHO0FBQ007QUFDWjtBQUNqQjtBQUMwRDtBQUNyRDtBQUNGO0FBQ3VCO0FBRTNFLFNBQVNzQixrQkFBa0JDLEtBQWE7SUFDdEMsT0FBT0EsTUFDSkMsV0FBVyxHQUNYQyxJQUFJLEdBQ0pDLE9BQU8sQ0FBQyxlQUFlLEtBQ3ZCQSxPQUFPLENBQUMsT0FBTyxLQUNmQSxPQUFPLENBQUMsWUFBWSxJQUNwQkMsS0FBSyxDQUFDLEdBQUc7QUFDZDtBQUVBLE1BQU1DLGdCQUFvQztJQUN4QztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRDtBQUVjLFNBQVNDOztJQUN0QixNQUFNQyxTQUFTM0IsMERBQVNBO0lBQ3hCLE1BQU00QixRQUFRZCwrREFBUUE7SUFDdEIsTUFBTWUsVUFBVVosa0VBQWNBO0lBQzlCLE1BQU1hLGdCQUFnQmQsb0VBQWVBO0lBQ3JDLE1BQU1lLGFBQWFoQix1RUFBYUE7SUFDaEMsTUFBTSxDQUFDaUIsaUJBQWlCQyxtQkFBbUIsR0FBR2xDLDJDQUFjLENBQU07SUFDbEUsTUFBTSxDQUFDb0MsbUJBQW1CQyxxQkFBcUIsR0FBR3JDLDJDQUFjLENBQUM7SUFFakUsTUFBTXNDLGVBQWV2Qyw4Q0FBT0EsQ0FDMUIsSUFBTTJCLGNBQWNhLFNBQVMsQ0FBQyxDQUFDQyxPQUFTQSxTQUFTUixXQUFXUyxXQUFXLEdBQ3ZFO1FBQUNULFdBQVdTLFdBQVc7S0FBQztJQUcxQixNQUFNQyxlQUFlSixlQUFlLElBQUlaLGFBQWEsQ0FBQ1ksZUFBZSxFQUFFLEdBQUdLO0lBQzFFLE1BQU1DLFdBQVdOLGVBQWVaLGNBQWNt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bk0sb0ZBQWVBO1FBQ2Q0TSxPQUFPWDtRQUNQMUosYUFBYVQsV0FBV1MsV0FBVztRQUNuQ3VFLGdCQUFnQmhGLFdBQVdnRixjQUFjO1FBQ3pDK0YsWUFBWTFFO2tCQUVYZ0U7Ozs7OztBQUdQO0dBaHdCd0IxSzs7UUFDUDFCLHNEQUFTQTtRQUNWYywyREFBUUE7UUFDTkcsOERBQWNBO1FBQ1JELGdFQUFlQTtRQUNsQkQsbUVBQWFBOzs7S0FMVlciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC9vbmJvYXJkaW5nL3BhZ2UudHN4P2Y0YWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5cbmltcG9ydCB7IE9uYm9hcmRpbmdTaGVsbCB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy9vbmJvYXJkaW5nLXNoZWxsXCI7XG5pbXBvcnQgeyBCdXNpbmVzc1N0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvYnVzaW5lc3Mtc3RlcFwiO1xuaW1wb3J0IHsgV2Vic2l0ZVN0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvd2Vic2l0ZS1zdGVwXCI7XG5pbXBvcnQgeyBMb2NhdGlvblN0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvbG9jYXRpb24tc3RlcFwiO1xuaW1wb3J0IHsgVGVhbVN0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvdGVhbS1zdGVwXCI7XG5pbXBvcnQgeyBCcmFuZGluZ1N0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvYnJhbmRpbmctc3RlcFwiO1xuaW1wb3J0IHsgU2VydmljZXNTdGVwIH0gZnJvbSBcIkAvY29tcG9uZW50cy9vbmJvYXJkaW5nL3NlcnZpY2VzLXN0ZXBcIjtcbmltcG9ydCB7IEF2YWlsYWJpbGl0eVN0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvYXZhaWxhYmlsaXR5LXN0ZXBcIjtcbmltcG9ydCB7IE5vdGlmaWNhdGlvbnNTdGVwIH0gZnJvbSBcIkAvY29tcG9uZW50cy9vbmJvYXJkaW5nL25vdGlmaWNhdGlvbnMtc3RlcFwiO1xuaW1wb3J0IHsgUG9saWNpZXNTdGVwIH0gZnJvbSBcIkAvY29tcG9uZW50cy9vbmJvYXJkaW5nL3BvbGljaWVzLXN0ZXBcIjtcbmltcG9ydCB7IEdpZnRDYXJkc1N0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvZ2lmdC1jYXJkcy1zdGVwXCI7XG5pbXBvcnQgeyBQYXltZW50U2V0dXBTdGVwIH0gZnJvbSBcIkAvY29tcG9uZW50cy9vbmJvYXJkaW5nL3BheW1lbnQtc2V0dXAtc3RlcFwiO1xuaW1wb3J0IHsgR29MaXZlU3RlcCB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy9nby1saXZlLXN0ZXBcIjtcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90b2FzdFwiO1xuaW1wb3J0IHsgdXNlT25ib2FyZGluZywgdHlwZSBPbmJvYXJkaW5nU3RlcElkLCB0eXBlIE5vdGlmaWNhdGlvblRlbXBsYXRlIH0gZnJvbSBcIkAvbGliL29uYm9hcmRpbmctY29udGV4dFwiO1xuaW1wb3J0IHsgdXNlRmFrZUJ1c2luZXNzIH0gZnJvbSBcIkAvbGliL2Zha2UtYnVzaW5lc3NcIjtcbmltcG9ydCB7IHVzZUZha2VTZXNzaW9uIH0gZnJvbSBcIkAvbGliL2Zha2Utc2Vzc2lvblwiO1xuaW1wb3J0IHsgbG9hZE9uYm9hcmRpbmdEYXRhRnJvbUJhY2tlbmQgfSBmcm9tIFwiQC9saWIvbG9hZC1vbmJvYXJkaW5nLWRhdGFcIjtcblxuZnVuY3Rpb24gc2FuaXRpemVTdWJkb21haW4odmFsdWU6IHN0cmluZykge1xuICByZXR1cm4gdmFsdWVcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC50cmltKClcbiAgICAucmVwbGFjZSgvW15hLXowLTktXS9nLCBcIi1cIilcbiAgICAucmVwbGFjZSgvLSsvZywgXCItXCIpXG4gICAgLnJlcGxhY2UoL14tK3wtKyQvZywgXCJcIilcbiAgICAuc2xpY2UoMCwgNjMpO1xufVxuXG5jb25zdCBTVEVQX1NFUVVFTkNFOiBPbmJvYXJkaW5nU3RlcElkW10gPSBbXG4gIFwiYnVzaW5lc3NcIixcbiAgXCJ3ZWJzaXRlXCIsXG4gIFwibG9jYXRpb25cIixcbiAgXCJ0ZWFtXCIsXG4gIFwiYnJhbmRpbmdcIixcbiAgXCJzZXJ2aWNlc1wiLFxuICBcImF2YWlsYWJpbGl0eVwiLFxuICBcIm5vdGlmaWNhdGlvbnNcIixcbiAgXCJwb2xpY2llc1wiLFxuICBcImdpZnRDYXJkc1wiLFxuICBcInBheW1lbnRTZXR1cFwiLFxuICBcImdvTGl2ZVwiXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBPbmJvYXJkaW5nUGFnZSgpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcbiAgY29uc3Qgc2Vzc2lvbiA9IHVzZUZha2VTZXNzaW9uKCk7XG4gIGNvbnN0IGJ1c2luZXNzU3RvcmUgPSB1c2VGYWtlQnVzaW5lc3MoKTtcbiAgY29uc3Qgb25ib2FyZGluZyA9IHVzZU9uYm9hcmRpbmcoKTtcbiAgY29uc3QgW3N1cGFiYXNlU2Vzc2lvbiwgc2V0U3VwYWJhc2VTZXNzaW9uXSA9IFJlYWN0LnVzZVN0YXRlPGFueT4obnVsbCk7XG4gIGNvbnN0IFtpc0NoZWNraW5nU2Vzc2lvbiwgc2V0SXNDaGVja2luZ1Nlc3Npb25dID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG5cbiAgY29uc3QgY3VycmVudEluZGV4ID0gdXNlTWVtbyhcbiAgICAoKSA9PiBTVEVQX1NFUVVFTkNFLmZpbmRJbmRleCgoc3RlcCkgPT4gc3RlcCA9PT0gb25ib2FyZGluZy5jdXJyZW50U3RlcCksXG4gICAgW29uYm9hcmRpbmcuY3VycmVudFN0ZXBdXG4gICk7XG5cbiAgY29uc3QgcHJldmlvdXNTdGVwID0gY3VycmVudEluZGV4ID4gMCA/IFNURVBfU0VRVUVOQ0VbY3VycmVudEluZGV4IC0gMV0gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IG5leHRTdGVwID0gY3VycmVudEluZGV4IDwgU1RFUF9TRVFVRU5DRS5sZW5ndGggLSAxID8gU1RFUF9TRVFVRU5DRVtjdXJyZW50SW5kZXggKyAxXSA6IHVuZGVmaW5lZDtcblxuICAvLyBDaGVjayBTdXBhYmFzZSBzZXNzaW9uIG9uIG1vdW50IChwZXJzaXN0cyBhY3Jvc3MgcmVkaXJlY3RzKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrU3VwYWJhc2VTZXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBjcmVhdGVDbGllbnRDbGllbnQgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvc3VwYWJhc2UtY2xpZW50Jyk7XG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50Q2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uOiBzdXBhYmFzZVNlc3Npb25EYXRhIH0sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzdXBhYmFzZVNlc3Npb25EYXRhICYmICFlcnJvcikge1xuICAgICAgICAgIHNldFN1cGFiYXNlU2Vzc2lvbihzdXBhYmFzZVNlc3Npb25EYXRhKTtcbiAgICAgICAgICAvLyBSZXN0b3JlIGZha2Ugc2Vzc2lvbiBmcm9tIFN1cGFiYXNlIHNlc3Npb24gaWYgbmVlZGVkXG4gICAgICAgICAgaWYgKCFzZXNzaW9uLmlzQXV0aGVudGljYXRlZCAmJiBzdXBhYmFzZVNlc3Npb25EYXRhLnVzZXIpIHtcbiAgICAgICAgICAgIHNlc3Npb24ubG9naW4oe1xuICAgICAgICAgICAgICBpZDogc3VwYWJhc2VTZXNzaW9uRGF0YS51c2VyLmlkLFxuICAgICAgICAgICAgICBuYW1lOiBzdXBhYmFzZVNlc3Npb25EYXRhLnVzZXIudXNlcl9tZXRhZGF0YT8uZnVsbF9uYW1lIHx8IHN1cGFiYXNlU2Vzc2lvbkRhdGEudXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnVXNlcicsXG4gICAgICAgICAgICAgIGVtYWlsOiBzdXBhYmFzZVNlc3Npb25EYXRhLnVzZXIuZW1haWwgfHwgJycsXG4gICAgICAgICAgICAgIHBob25lOiBzdXBhYmFzZVNlc3Npb25EYXRhLnVzZXIudXNlcl9tZXRhZGF0YT8ucGhvbmUgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHJldHVybmluZyBmcm9tIFN0cmlwZSwgZW5zdXJlIHdlIGxvYWQgYnVzaW5lc3MgZGF0YSBmcm9tIGRhdGFiYXNlXG4gICAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICAgICAgICBjb25zdCBhY2NvdW50SWQgPSB1cmxQYXJhbXMuZ2V0KFwiYWNjb3VudF9pZFwiKTtcbiAgICAgICAgICBpZiAoYWNjb3VudElkKSB7XG4gICAgICAgICAgICAvLyBMb2FkIGJ1c2luZXNzIGRhdGEgdG8gZW5zdXJlIGl0J3MgaW4gc3RhdGVcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnM6IEhlYWRlcnNJbml0ID0ge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7c3VwYWJhc2VTZXNzaW9uRGF0YS5hY2Nlc3NfdG9rZW59YCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IGJ1c2luZXNzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtMS1idXNpbmVzcycsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoYnVzaW5lc3NSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1c2luZXNzRGF0YSA9IGF3YWl0IGJ1c2luZXNzUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGlmIChidXNpbmVzc0RhdGEuYnVzaW5lc3MpIHtcbiAgICAgICAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZUJ1c2luZXNzKHtcbiAgICAgICAgICAgICAgICAgICAgYnVzaW5lc3NOYW1lOiBidXNpbmVzc0RhdGEuYnVzaW5lc3MubmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICAgICAgICBkb2luZ0J1c2luZXNzQXM6IGJ1c2luZXNzRGF0YS5idXNpbmVzcy5kYmFfbmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgbGVnYWxOYW1lOiBidXNpbmVzc0RhdGEuYnVzaW5lc3MubGVnYWxfbmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgaW5kdXN0cnk6IGJ1c2luZXNzRGF0YS5idXNpbmVzcy5pbmR1c3RyeSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBidXNpbmVzcyBkYXRhOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIFN1cGFiYXNlIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNDaGVja2luZ1Nlc3Npb24oZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY2hlY2tTdXBhYmFzZVNlc3Npb24oKTtcbiAgfSwgW10pO1xuXG4gIC8vIEhhbmRsZSBTdHJpcGUgQ29ubmVjdCByZXR1cm4gRklSU1QgLSBiZWZvcmUgYXV0aCBjaGVja1xuICAvLyBMb2FkIEFMTCBvbmJvYXJkaW5nIGRhdGEgZnJvbSBiYWNrZW5kIHRvIHJlc3RvcmUgc3RhdGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgIGNvbnN0IGFjY291bnRJZCA9IHVybFBhcmFtcy5nZXQoXCJhY2NvdW50X2lkXCIpO1xuICAgIGlmIChhY2NvdW50SWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbb25ib2FyZGluZ10gU3RyaXBlIHJldHVybiBkZXRlY3RlZCwgYWNjb3VudF9pZDonLCBhY2NvdW50SWQpO1xuICAgICAgXG4gICAgICAvLyBOYXZpZ2F0ZSB0byBwYXltZW50IHNldHVwIHN0ZXAgaW1tZWRpYXRlbHlcbiAgICAgIG9uYm9hcmRpbmcuc2V0U3RlcChcInBheW1lbnRTZXR1cFwiKTtcbiAgICAgIFxuICAgICAgLy8gTG9hZCBBTEwgb25ib2FyZGluZyBkYXRhIGZyb20gYmFja2VuZCB0byByZXN0b3JlIGNvbXBsZXRlIHN0YXRlXG4gICAgICBjb25zdCByZXN0b3JlQWxsT25ib2FyZGluZ0RhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGxvYWRPbmJvYXJkaW5nRGF0YUZyb21CYWNrZW5kKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVzdG9yZSBhbGwgdGhlIGRhdGEgdG8gb25ib2FyZGluZyBjb250ZXh0XG4gICAgICAgICAgaWYgKGRhdGEuYnVzaW5lc3MpIHtcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZUJ1c2luZXNzKGRhdGEuYnVzaW5lc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS53ZWJzaXRlKSB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNhdmVXZWJzaXRlKGRhdGEud2Vic2l0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLmxvY2F0aW9uKSB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNhdmVMb2NhdGlvbihkYXRhLmxvY2F0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEudGVhbSkge1xuICAgICAgICAgICAgb25ib2FyZGluZy5zYXZlVGVhbShkYXRhLnRlYW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5icmFuZGluZykge1xuICAgICAgICAgICAgb25ib2FyZGluZy5zYXZlQnJhbmRpbmcoZGF0YS5icmFuZGluZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLnNlcnZpY2VzKSB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNhdmVTZXJ2aWNlcyhkYXRhLnNlcnZpY2VzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEuYXZhaWxhYmlsaXR5KSB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNhdmVBdmFpbGFiaWxpdHkoZGF0YS5hdmFpbGFiaWxpdHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5ub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNhdmVOb3RpZmljYXRpb25zKGRhdGEubm90aWZpY2F0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLnBvbGljaWVzKSB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNhdmVQb2xpY2llcyhkYXRhLnBvbGljaWVzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEuZ2lmdENhcmRzKSB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNhdmVHaWZ0Q2FyZHMoZGF0YS5naWZ0Q2FyZHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5wYXltZW50U2V0dXApIHtcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZVBheW1lbnRTZXR1cChkYXRhLnBheW1lbnRTZXR1cCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIE1hcmsgYWxsIGNvbXBsZXRlZCBzdGVwc1xuICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZFN0ZXBzOiBPbmJvYXJkaW5nU3RlcElkW10gPSBbXTtcbiAgICAgICAgICBpZiAoZGF0YS5idXNpbmVzcz8uYnVzaW5lc3NOYW1lKSBjb21wbGV0ZWRTdGVwcy5wdXNoKCdidXNpbmVzcycpO1xuICAgICAgICAgIGlmIChkYXRhLndlYnNpdGU/LnN1YmRvbWFpbikgY29tcGxldGVkU3RlcHMucHVzaCgnd2Vic2l0ZScpO1xuICAgICAgICAgIGlmIChkYXRhLmxvY2F0aW9uPy5zdHJlZXQgfHwgZGF0YS5sb2NhdGlvbj8uY2l0eSkgY29tcGxldGVkU3RlcHMucHVzaCgnbG9jYXRpb24nKTtcbiAgICAgICAgICBpZiAoZGF0YS50ZWFtICYmIGRhdGEudGVhbS5sZW5ndGggPiAwKSBjb21wbGV0ZWRTdGVwcy5wdXNoKCd0ZWFtJyk7XG4gICAgICAgICAgaWYgKGRhdGEuYnJhbmRpbmc/LnByaW1hcnlDb2xvcikgY29tcGxldGVkU3RlcHMucHVzaCgnYnJhbmRpbmcnKTtcbiAgICAgICAgICBpZiAoZGF0YS5zZXJ2aWNlcyAmJiBkYXRhLnNlcnZpY2VzLmxlbmd0aCA+IDApIGNvbXBsZXRlZFN0ZXBzLnB1c2goJ3NlcnZpY2VzJyk7XG4gICAgICAgICAgaWYgKGRhdGEuYXZhaWxhYmlsaXR5ICYmIGRhdGEuYXZhaWxhYmlsaXR5Lmxlbmd0aCA+IDApIGNvbXBsZXRlZFN0ZXBzLnB1c2goJ2F2YWlsYWJpbGl0eScpO1xuICAgICAgICAgIGlmIChkYXRhLm5vdGlmaWNhdGlvbnMpIGNvbXBsZXRlZFN0ZXBzLnB1c2goJ25vdGlmaWNhdGlvbnMnKTtcbiAgICAgICAgICBpZiAoZGF0YS5wb2xpY2llcykgY29tcGxldGVkU3RlcHMucHVzaCgncG9saWNpZXMnKTtcbiAgICAgICAgICBpZiAoZGF0YS5naWZ0Q2FyZHMpIGNvbXBsZXRlZFN0ZXBzLnB1c2goJ2dpZnRDYXJkcycpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbXBsZXRlZFN0ZXBzLmZvckVhY2goc3RlcCA9PiB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLmNvbXBsZXRlU3RlcChzdGVwKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygnW29uYm9hcmRpbmddIEFsbCBvbmJvYXJkaW5nIGRhdGEgcmVzdG9yZWQgZnJvbSBiYWNrZW5kJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVzdG9yaW5nIG9uYm9hcmRpbmcgZGF0YTonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIExvYWQgYW5kIHJlc3RvcmUgYWxsIHN0YXRlIGZyb20gYmFja2VuZFxuICAgICAgcmVzdG9yZUFsbE9uYm9hcmRpbmdEYXRhKCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFuIHVwIFVSTCAocmVtb3ZlIHF1ZXJ5IHBhcmFtcykgYWZ0ZXIgYSBzaG9ydCBkZWxheVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgXCJcIiwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9LCBbb25ib2FyZGluZ10pO1xuXG4gIC8vIENoZWNrIGlmIGJ1c2luZXNzIGlzIGFscmVhZHkgbGF1bmNoZWQgYW5kIHJlZGlyZWN0IHRvIGFkbWluXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tJZkJ1c2luZXNzSXNMYXVuY2hlZCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChpc0NoZWNraW5nU2Vzc2lvbikgcmV0dXJuOyAvLyBXYWl0IGZvciBzZXNzaW9uIGNoZWNrIHRvIGNvbXBsZXRlXG4gICAgICBcbiAgICAgIC8vIENoZWNrIGJvdGggZmFrZSBzZXNzaW9uIGFuZCBTdXBhYmFzZSBzZXNzaW9uXG4gICAgICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSBzZXNzaW9uLmlzQXV0aGVudGljYXRlZCB8fCAoc3VwYWJhc2VTZXNzaW9uPy51c2VyICE9PSBudWxsKTtcbiAgICAgIFxuICAgICAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgcm91dGVyLnJlcGxhY2UoXCIvbG9naW5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgYnVzaW5lc3MgaXMgYWxyZWFkeSBsYXVuY2hlZCBieSBjaGVja2luZyBkYXRhYmFzZVxuICAgICAgICBjb25zdCB7IGNyZWF0ZUNsaWVudENsaWVudCB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi9zdXBhYmFzZS1jbGllbnQnKTtcbiAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDbGllbnQoKTtcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb246IGN1cnJlbnRTZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFjdXJyZW50U2Vzc2lvbj8uYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmV0Y2ggYnVzaW5lc3MgdG8gY2hlY2sgaWYgaXQncyBhbHJlYWR5IGxhdW5jaGVkXG4gICAgICAgIGNvbnN0IGJ1c2luZXNzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtMS1idXNpbmVzcycsIHtcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtjdXJyZW50U2Vzc2lvbi5hY2Nlc3NfdG9rZW59YCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChidXNpbmVzc1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgYnVzaW5lc3NEYXRhID0gYXdhaXQgYnVzaW5lc3NSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgY29uc3QgYnVzaW5lc3MgPSBidXNpbmVzc0RhdGEuYnVzaW5lc3M7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgYnVzaW5lc3MgaXMgYWxyZWFkeSBsYXVuY2hlZDpcbiAgICAgICAgICAvLyAxLiBIYXMgc3Vic2NyaXB0aW9uX3N0YXR1cyBzZXQgKHRyaWFsLCBhY3RpdmUsIHBhdXNlZCwgY2FuY2VsZWQpXG4gICAgICAgICAgLy8gMi4gSGFzIGFsbCByZXF1aXJlZCBmaWVsZHMgKG5hbWUsIHN1YmRvbWFpbiwgdGltZXpvbmUsIHN1cHBvcnRfZW1haWwsIHN0cmlwZV9jb25uZWN0X2FjY291bnRfaWQpXG4gICAgICAgICAgY29uc3QgaXNMYXVuY2hlZCA9IGJ1c2luZXNzICYmIFxuICAgICAgICAgICAgYnVzaW5lc3Muc3Vic2NyaXB0aW9uX3N0YXR1cyAmJiBcbiAgICAgICAgICAgIGJ1c2luZXNzLnN1YnNjcmlwdGlvbl9zdGF0dXMgIT09IG51bGwgJiZcbiAgICAgICAgICAgIGJ1c2luZXNzLm5hbWUgJiYgXG4gICAgICAgICAgICBidXNpbmVzcy5uYW1lLnRyaW0oKS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICBidXNpbmVzcy5zdWJkb21haW4gJiYgXG4gICAgICAgICAgICAhYnVzaW5lc3Muc3ViZG9tYWluLnN0YXJ0c1dpdGgoJ3RlbXAtJykgJiZcbiAgICAgICAgICAgIGJ1c2luZXNzLnRpbWV6b25lICYmXG4gICAgICAgICAgICBidXNpbmVzcy5zdXBwb3J0X2VtYWlsICYmXG4gICAgICAgICAgICBidXNpbmVzcy5zdHJpcGVfY29ubmVjdF9hY2NvdW50X2lkO1xuXG4gICAgICAgICAgaWYgKGlzTGF1bmNoZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbb25ib2FyZGluZ10gQnVzaW5lc3MgaXMgYWxyZWFkeSBsYXVuY2hlZCAtIHJlZGlyZWN0aW5nIHRvIGFkbWluJyk7XG4gICAgICAgICAgICAvLyBCdXNpbmVzcyBpcyBhbHJlYWR5IGxhdW5jaGVkIC0gcmVkaXJlY3QgdG8gYWRtaW4gZGFzaGJvYXJkXG4gICAgICAgICAgICBjb25zdCBidXNpbmVzc0lkID0gYnVzaW5lc3MuaWQ7XG4gICAgICAgICAgICByb3V0ZXIucmVwbGFjZShgL2FwcC9iLyR7YnVzaW5lc3NJZH1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBidXNpbmVzcyBleGlzdHMgYnV0IG5vdCBsYXVuY2hlZCwgY29udGludWUgd2l0aCBvbmJvYXJkaW5nXG4gICAgICAgIC8vIElmIG5vIGJ1c2luZXNzIGV4aXN0cywgb25ib2FyZGluZyB3aWxsIGNyZWF0ZSBvbmVcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tvbmJvYXJkaW5nXSBFcnJvciBjaGVja2luZyBpZiBidXNpbmVzcyBpcyBsYXVuY2hlZDonLCBlcnJvcik7XG4gICAgICAgIC8vIE9uIGVycm9yLCBjb250aW51ZSB3aXRoIG9uYm9hcmRpbmdcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY2hlY2tJZkJ1c2luZXNzSXNMYXVuY2hlZCgpO1xuICB9LCBbc2Vzc2lvbi5pc0F1dGhlbnRpY2F0ZWQsIHN1cGFiYXNlU2Vzc2lvbiwgaXNDaGVja2luZ1Nlc3Npb24sIHJvdXRlcl0pO1xuXG4gIGNvbnN0IG5hdmlnYXRlVG8gPSAoc3RlcDogT25ib2FyZGluZ1N0ZXBJZCkgPT4ge1xuICAgIG9uYm9hcmRpbmcuc2V0U3RlcChzdGVwKTtcbiAgfTtcblxuICBjb25zdCBnb0ZvcndhcmQgPSAoKSA9PiB7XG4gICAgaWYgKG5leHRTdGVwKSB7XG4gICAgICBvbmJvYXJkaW5nLnNldFN0ZXAobmV4dFN0ZXApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnb0JhY2sgPSAoKSA9PiB7XG4gICAgaWYgKHByZXZpb3VzU3RlcCkge1xuICAgICAgb25ib2FyZGluZy5zZXRTdGVwKHByZXZpb3VzU3RlcCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBtYWtlIGF1dGhlbnRpY2F0ZWQgQVBJIGNhbGxzXG4gIGNvbnN0IG1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCA9IGFzeW5jICh1cmw6IHN0cmluZywgbWV0aG9kOiBzdHJpbmcsIGJvZHk6IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50Q2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL3N1cGFiYXNlLWNsaWVudCcpO1xuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50Q2xpZW50KCk7XG4gICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSwgZXJyb3I6IHNlc3Npb25FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgXG4gICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBzZXNzaW9uOicsIHNlc3Npb25FcnJvcik7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGhlYWRlcnM6IEhlYWRlcnNJbml0ID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9O1xuICAgIFxuICAgIGlmIChzZXNzaW9uPy5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHtzZXNzaW9uLmFjY2Vzc190b2tlbn1gO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8IGBGYWlsZWQgdG8gc2F2ZSB0byAke3VybH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUJ1c2luZXNzTmV4dCA9IGFzeW5jICh2YWx1ZXM6IFBhcmFtZXRlcnM8dHlwZW9mIG9uYm9hcmRpbmcuc2F2ZUJ1c2luZXNzPlswXSkgPT4ge1xuICAgIG9uYm9hcmRpbmcuc2F2ZUJ1c2luZXNzKHZhbHVlcyk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtYWtlQXV0aGVudGljYXRlZFJlcXVlc3QoJy9hcGkvYnVzaW5lc3Mvb25ib2FyZGluZy9zdGVwLTEtYnVzaW5lc3MnLCAnUFVUJywgdmFsdWVzKTtcbiAgICAgIGNvbnNvbGUubG9nKCdCdXNpbmVzcyBzYXZlZDonLCBkYXRhKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHRoZSBzYXZlIHdvcmtlZCBieSBjaGVja2luZyB0aGUgcmVzcG9uc2VcbiAgICAgIGlmICghZGF0YSB8fCAhZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQnVzaW5lc3Mgc2F2ZSBkaWQgbm90IHJldHVybiBzdWNjZXNzJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBidXNpbmVzczonLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIGludGVudDogJ2Vycm9yJyxcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgRmFpbGVkIHRvIHNhdmUgYnVzaW5lc3MgaW5mb3JtYXRpb246ICR7ZXJyb3JNZXNzYWdlfS4gUGxlYXNlIGNoZWNrIHRoZSBjb25zb2xlIGFuZCB0cnkgYWdhaW4uYFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIG9uYm9hcmRpbmcuY29tcGxldGVTdGVwKFwiYnVzaW5lc3NcIik7XG4gICAgZ29Gb3J3YXJkKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlV2Vic2l0ZU5leHQgPSBhc3luYyAodmFsdWVzOiBQYXJhbWV0ZXJzPHR5cGVvZiBvbmJvYXJkaW5nLnNhdmVXZWJzaXRlPlswXSkgPT4ge1xuICAgIGNvbnN0IGZhbGxiYWNrID0gb25ib2FyZGluZy5idXNpbmVzcy5idXNpbmVzc05hbWUgfHwgXCJ5b3VyYnVzaW5lc3NcIjtcbiAgICBjb25zdCBmYWxsYmFja1Nhbml0aXplZCA9IHNhbml0aXplU3ViZG9tYWluKGZhbGxiYWNrKTtcbiAgICBsZXQgbm9ybWFsaXplZFN1YmRvbWFpbiA9IHNhbml0aXplU3ViZG9tYWluKHZhbHVlcy5zdWJkb21haW4gfHwgZmFsbGJhY2tTYW5pdGl6ZWQpO1xuICAgIGlmIChub3JtYWxpemVkU3ViZG9tYWluLmxlbmd0aCA8IDMpIHtcbiAgICAgIG5vcm1hbGl6ZWRTdWJkb21haW4gPSBmYWxsYmFja1Nhbml0aXplZC5sZW5ndGggPj0gMyA/IGZhbGxiYWNrU2FuaXRpemVkIDogXCJ5b3VyYnVzaW5lc3NcIjtcbiAgICB9XG4gICAgY29uc3Qgd2Vic2l0ZURhdGEgPSB7XG4gICAgICAuLi52YWx1ZXMsXG4gICAgICBzdWJkb21haW46IG5vcm1hbGl6ZWRTdWJkb21haW5cbiAgICB9O1xuICAgIFxuICAgIG9uYm9hcmRpbmcuc2F2ZVdlYnNpdGUod2Vic2l0ZURhdGEpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC0yLXdlYnNpdGUnLCAnUFVUJywgd2Vic2l0ZURhdGEpO1xuICAgICAgY29uc29sZS5sb2coJ1dlYnNpdGUgc2F2ZWQ6JywgZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyB3ZWJzaXRlOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIGludGVudDogJ2Vycm9yJyxcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRmFpbGVkIHRvIHNhdmUgd2Vic2l0ZSBpbmZvcm1hdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKHZhbHVlcy5zdGF0dXMgPT09IFwicmVzZXJ2ZWRcIikge1xuICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vJHtub3JtYWxpemVkU3ViZG9tYWlufS50aXRoaS5jb21gO1xuICAgICAgb25ib2FyZGluZy5zZXRCb29raW5nVXJsKHVybCk7XG4gICAgfVxuICAgIG9uYm9hcmRpbmcuY29tcGxldGVTdGVwKFwid2Vic2l0ZVwiKTtcbiAgICBnb0ZvcndhcmQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVMb2NhdGlvbk5leHQgPSBhc3luYyAodmFsdWVzOiBQYXJhbWV0ZXJzPHR5cGVvZiBvbmJvYXJkaW5nLnNhdmVMb2NhdGlvbj5bMF0pID0+IHtcbiAgICBvbmJvYXJkaW5nLnNhdmVMb2NhdGlvbih2YWx1ZXMpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC0zLWxvY2F0aW9uJywgJ1BVVCcsIHZhbHVlcyk7XG4gICAgICBjb25zb2xlLmxvZygnTG9jYXRpb24gc2F2ZWQ6JywgZGF0YSk7XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSB0aGUgc2F2ZSB3b3JrZWRcbiAgICAgIGlmICghZGF0YSB8fCAhZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTG9jYXRpb24gc2F2ZSBkaWQgbm90IHJldHVybiBzdWNjZXNzJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBsb2NhdGlvbjonLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIGludGVudDogJ2Vycm9yJyxcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgRmFpbGVkIHRvIHNhdmUgbG9jYXRpb24gaW5mb3JtYXRpb246ICR7ZXJyb3JNZXNzYWdlfS4gUGxlYXNlIGNoZWNrIHRoZSBjb25zb2xlIGFuZCB0cnkgYWdhaW4uYFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIG9uYm9hcmRpbmcuY29tcGxldGVTdGVwKFwibG9jYXRpb25cIik7XG4gICAgZ29Gb3J3YXJkKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVGVhbU5leHQgPSBhc3luYyAodmFsdWVzOiBQYXJhbWV0ZXJzPHR5cGVvZiBvbmJvYXJkaW5nLnNhdmVUZWFtPlswXSkgPT4ge1xuICAgIG9uYm9hcmRpbmcuc2F2ZVRlYW0odmFsdWVzKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gQVBJIGV4cGVjdHMgeyBzdGFmZjogU3RhZmZNZW1iZXJbXSB9IG5vdCBqdXN0IHRoZSBhcnJheVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtNC10ZWFtJywgJ1BVVCcsIHsgc3RhZmY6IHZhbHVlcyB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdUZWFtIHNhdmVkOicsIGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdGVhbTonLCBlcnJvcik7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICBpbnRlbnQ6ICdlcnJvcicsXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byBzYXZlIHRlYW0gaW5mb3JtYXRpb24uIFBsZWFzZSB0cnkgYWdhaW4uJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIG9uYm9hcmRpbmcuY29tcGxldGVTdGVwKFwidGVhbVwiKTtcbiAgICBnb0ZvcndhcmQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVCcmFuZGluZ05leHQgPSBhc3luYyAodmFsdWVzOiBQYXJhbWV0ZXJzPHR5cGVvZiBvbmJvYXJkaW5nLnNhdmVCcmFuZGluZz5bMF0pID0+IHtcbiAgICBvbmJvYXJkaW5nLnNhdmVCcmFuZGluZyh2YWx1ZXMpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC01LWJyYW5kaW5nJywgJ1BVVCcsIHZhbHVlcyk7XG4gICAgICBjb25zb2xlLmxvZygnQnJhbmRpbmcgc2F2ZWQ6JywgZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBicmFuZGluZzonLCBlcnJvcik7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICBpbnRlbnQ6ICdlcnJvcicsXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byBzYXZlIGJyYW5kaW5nIGluZm9ybWF0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLidcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBvbmJvYXJkaW5nLmNvbXBsZXRlU3RlcChcImJyYW5kaW5nXCIpO1xuICAgIGdvRm9yd2FyZCgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNlcnZpY2VzTmV4dCA9IGFzeW5jICh2YWx1ZXM6IFBhcmFtZXRlcnM8dHlwZW9mIG9uYm9hcmRpbmcuc2F2ZVNlcnZpY2VzPlswXSkgPT4ge1xuICAgIG9uYm9hcmRpbmcuc2F2ZVNlcnZpY2VzKHZhbHVlcyk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEFQSSBleHBlY3RzIHsgY2F0ZWdvcmllczogLi4uIH0gbm90IGp1c3QgdGhlIGFycmF5XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC02LXNlcnZpY2VzJywgJ1BVVCcsIHsgY2F0ZWdvcmllczogdmFsdWVzIH0pO1xuICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2VzIHNhdmVkOicsIGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgc2VydmljZXM6JywgZXJyb3IpO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgaW50ZW50OiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gc2F2ZSBzZXJ2aWNlcyBpbmZvcm1hdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgb25ib2FyZGluZy5jb21wbGV0ZVN0ZXAoXCJzZXJ2aWNlc1wiKTtcbiAgICBnb0ZvcndhcmQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBdmFpbGFiaWxpdHlOZXh0ID0gYXN5bmMgKHZhbHVlczogUGFyYW1ldGVyczx0eXBlb2Ygb25ib2FyZGluZy5zYXZlQXZhaWxhYmlsaXR5PlswXSkgPT4ge1xuICAgIG9uYm9hcmRpbmcuc2F2ZUF2YWlsYWJpbGl0eSh2YWx1ZXMpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBBUEkgZXhwZWN0cyB7IGF2YWlsYWJpbGl0eTogLi4uIH0gbm90IGp1c3QgdGhlIGFycmF5XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC03LWF2YWlsYWJpbGl0eScsICdQVVQnLCB7IGF2YWlsYWJpbGl0eTogdmFsdWVzIH0pO1xuICAgICAgY29uc29sZS5sb2coJ0F2YWlsYWJpbGl0eSBzYXZlZDonLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGF2YWlsYWJpbGl0eTonLCBlcnJvcik7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICBpbnRlbnQ6ICdlcnJvcicsXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byBzYXZlIGF2YWlsYWJpbGl0eSBpbmZvcm1hdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgb25ib2FyZGluZy5jb21wbGV0ZVN0ZXAoXCJhdmFpbGFiaWxpdHlcIik7XG4gICAgZ29Gb3J3YXJkKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTm90aWZpY2F0aW9uc05leHQgPSBhc3luYyAodGVtcGxhdGVzOiBOb3RpZmljYXRpb25UZW1wbGF0ZVtdLCBlbmFibGVkOiBib29sZWFuKSA9PiB7XG4gICAgb25ib2FyZGluZy5zYXZlTm90aWZpY2F0aW9ucyh7IHRlbXBsYXRlcywgZW5hYmxlZCB9KTtcbiAgICBcbiAgICAvLyBMb2cgd2hhdCB3ZSdyZSBzZW5kaW5nIHRvIGVuc3VyZSBpdCdzIGNvcnJlY3RcbiAgICBjb25zb2xlLmxvZygnW29uYm9hcmRpbmddIFNlbmRpbmcgbm90aWZpY2F0aW9uc19lbmFibGVkIHRvIEFQSTonLCB7XG4gICAgICBlbmFibGVkLFxuICAgICAgZW5hYmxlZFR5cGU6IHR5cGVvZiBlbmFibGVkLFxuICAgICAgcGxhblR5cGU6IGVuYWJsZWQgPT09IGZhbHNlID8gJ0Jhc2ljICgkMTEuOTkvbW9udGgpJyA6ICdQcm8gKCQyMS45OS9tb250aCknLFxuICAgICAgdGVtcGxhdGVzQ291bnQ6IHRlbXBsYXRlcy5sZW5ndGgsXG4gICAgfSk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtYWtlQXV0aGVudGljYXRlZFJlcXVlc3QoJy9hcGkvYnVzaW5lc3Mvb25ib2FyZGluZy9zdGVwLTgtbm90aWZpY2F0aW9ucycsICdQVVQnLCB7XG4gICAgICAgIHRlbXBsYXRlcyxcbiAgICAgICAgbm90aWZpY2F0aW9uc19lbmFibGVkOiBlbmFibGVkLCAvLyBFeHBsaWNpdGx5IHNlbmQgdGhlIGJvb2xlYW4gdmFsdWVcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ1tvbmJvYXJkaW5nXSBOb3RpZmljYXRpb25zIHNhdmVkLCBBUEkgcmVzcG9uc2U6Jywge1xuICAgICAgICBzdWNjZXNzOiBkYXRhLnN1Y2Nlc3MsXG4gICAgICAgIG5vdGlmaWNhdGlvbnNfZW5hYmxlZDogZGF0YS5ub3RpZmljYXRpb25zX2VuYWJsZWQsXG4gICAgICAgIHBsYW5fdHlwZTogZGF0YS5wbGFuX3R5cGUsXG4gICAgICAgIHBsYW5fcHJpY2U6IGRhdGEucGxhbl9wcmljZSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgbm90aWZpY2F0aW9uczonLCBlcnJvcik7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICBpbnRlbnQ6ICdlcnJvcicsXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byBzYXZlIG5vdGlmaWNhdGlvbnMuIFBsZWFzZSB0cnkgYWdhaW4uJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIG9uYm9hcmRpbmcuY29tcGxldGVTdGVwKFwibm90aWZpY2F0aW9uc1wiKTtcbiAgICBnb0ZvcndhcmQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQb2xpY2llc05leHQgPSBhc3luYyAodmFsdWVzOiBQYXJhbWV0ZXJzPHR5cGVvZiBvbmJvYXJkaW5nLnNhdmVQb2xpY2llcz5bMF0pID0+IHtcbiAgICBvbmJvYXJkaW5nLnNhdmVQb2xpY2llcyh2YWx1ZXMpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC05LXBvbGljaWVzJywgJ1BVVCcsIHZhbHVlcyk7XG4gICAgICBjb25zb2xlLmxvZygnUG9saWNpZXMgc2F2ZWQ6JywgZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBwb2xpY2llczonLCBlcnJvcik7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICBpbnRlbnQ6ICdlcnJvcicsXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byBzYXZlIHBvbGljaWVzLiBQbGVhc2UgdHJ5IGFnYWluLidcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBvbmJvYXJkaW5nLmNvbXBsZXRlU3RlcChcInBvbGljaWVzXCIpO1xuICAgIGdvRm9yd2FyZCgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUdpZnRDYXJkc05leHQgPSBhc3luYyAodmFsdWVzOiBQYXJhbWV0ZXJzPHR5cGVvZiBvbmJvYXJkaW5nLnNhdmVHaWZ0Q2FyZHM+WzBdKSA9PiB7XG4gICAgb25ib2FyZGluZy5zYXZlR2lmdENhcmRzKHZhbHVlcyk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtYWtlQXV0aGVudGljYXRlZFJlcXVlc3QoJy9hcGkvYnVzaW5lc3Mvb25ib2FyZGluZy9zdGVwLTEwLWdpZnQtY2FyZHMnLCAnUFVUJywgdmFsdWVzKTtcbiAgICAgIGNvbnNvbGUubG9nKCdHaWZ0IGNhcmRzIHNhdmVkOicsIGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgZ2lmdCBjYXJkczonLCBlcnJvcik7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICBpbnRlbnQ6ICdlcnJvcicsXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byBzYXZlIGdpZnQgY2FyZHMgaW5mb3JtYXRpb24uIFBsZWFzZSB0cnkgYWdhaW4uJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIG9uYm9hcmRpbmcuY29tcGxldGVTdGVwKFwiZ2lmdENhcmRzXCIpO1xuICAgIGdvRm9yd2FyZCgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBheW1lbnROZXh0ID0gYXN5bmMgKHZhbHVlczogUGFyYW1ldGVyczx0eXBlb2Ygb25ib2FyZGluZy5zYXZlUGF5bWVudFNldHVwPlswXSkgPT4ge1xuICAgIG9uYm9hcmRpbmcuc2F2ZVBheW1lbnRTZXR1cCh2YWx1ZXMpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC0xMS1wYXltZW50LXNldHVwJywgJ1BVVCcsIHZhbHVlcyk7XG4gICAgICBjb25zb2xlLmxvZygnUGF5bWVudCBzZXR1cCBzYXZlZDonLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHBheW1lbnQgc2V0dXA6JywgZXJyb3IpO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgaW50ZW50OiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gc2F2ZSBwYXltZW50IHNldHVwLiBQbGVhc2UgdHJ5IGFnYWluLidcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBvbmJvYXJkaW5nLmNvbXBsZXRlU3RlcChcInBheW1lbnRTZXR1cFwiKTtcbiAgICBnb0ZvcndhcmQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdGFydFRyaWFsID0gKCkgPT4ge1xuICAgIGNvbnN0IHRyaWFsRW5kcyA9IG5ldyBEYXRlKCk7XG4gICAgdHJpYWxFbmRzLnNldERhdGUodHJpYWxFbmRzLmdldERhdGUoKSArIDcpO1xuICAgIG9uYm9hcmRpbmcuc2F2ZVBheW1lbnRTZXR1cCh7XG4gICAgICAuLi5vbmJvYXJkaW5nLnBheW1lbnRTZXR1cCxcbiAgICAgIHN1YnNjcmlwdGlvblN0YXR1czogXCJ0cmlhbFwiLFxuICAgICAgdHJpYWxFbmRzQXQ6IHRyaWFsRW5kcy50b0lTT1N0cmluZygpLFxuICAgICAgbmV4dEJpbGxEYXRlOiB0cmlhbEVuZHMudG9JU09TdHJpbmcoKVxuICAgIH0pO1xuICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICB0aXRsZTogXCJUcmlhbCBhY3RpdmF0ZWRcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkJpbGxpbmcgaXMgZGVmZXJyZWQgYnkgc2V2ZW4gZGF5cy4gQ2FuY2VsIGJlZm9yZSB0aGUgYmlsbCBkYXRlIHRvIGF2b2lkIGNoYXJnZXMuXCIsXG4gICAgICBpbnRlbnQ6IFwiaW5mb1wiXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTGF1bmNoID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBDYWxsIHRoZSBiYWNrZW5kIEFQSSB0byBmaW5hbGl6ZSBvbmJvYXJkaW5nIHVzaW5nIGF1dGhlbnRpY2F0ZWQgcmVxdWVzdFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL2NvbXBsZXRlJywgJ1BPU1QnLCB7fSk7XG4gICAgICBcbiAgICAgIG9uYm9hcmRpbmcuY29tcGxldGVTdGVwKFwiZ29MaXZlXCIpO1xuICAgICAgb25ib2FyZGluZy5zZXRPbmJvYXJkaW5nQ29tcGxldGVkKHRydWUpO1xuICAgICAgY29uc3QgYnVzaW5lc3MgPSBvbmJvYXJkaW5nLmdlbmVyYXRlQnVzaW5lc3NGcm9tU3RhdGUoKTtcbiAgICAgIGJ1c2luZXNzU3RvcmUuY2xlYXJCdXNpbmVzcygpO1xuICAgICAgYnVzaW5lc3NTdG9yZS5jcmVhdGVCdXNpbmVzcyhidXNpbmVzcyk7XG4gICAgICBidXNpbmVzc1N0b3JlLmJvb3RzdHJhcFdvcmtzcGFjZSh7XG4gICAgICAgIGJ1c2luZXNzOiBvbmJvYXJkaW5nLmJ1c2luZXNzLFxuICAgICAgICB3ZWJzaXRlOiBvbmJvYXJkaW5nLndlYnNpdGUsXG4gICAgICAgIGxvY2F0aW9uOiBvbmJvYXJkaW5nLmxvY2F0aW9uLFxuICAgICAgICBicmFuZGluZzogb25ib2FyZGluZy5icmFuZGluZyxcbiAgICAgICAgdGVhbTogb25ib2FyZGluZy50ZWFtLFxuICAgICAgICBjYXRlZ29yaWVzOiBvbmJvYXJkaW5nLnNlcnZpY2VzLFxuICAgICAgICBhdmFpbGFiaWxpdHk6IG9uYm9hcmRpbmcuYXZhaWxhYmlsaXR5LFxuICAgICAgICBub3RpZmljYXRpb25zOiBvbmJvYXJkaW5nLm5vdGlmaWNhdGlvbnMsXG4gICAgICAgIHBvbGljaWVzOiBvbmJvYXJkaW5nLnBvbGljaWVzLFxuICAgICAgICBnaWZ0Q2FyZHM6IG9uYm9hcmRpbmcuZ2lmdENhcmRzLFxuICAgICAgICBwYXltZW50OiBvbmJvYXJkaW5nLnBheW1lbnRTZXR1cFxuICAgICAgfSk7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJCdXNpbmVzcyBsYXVuY2hlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogYCR7YnVzaW5lc3MubmFtZX0gaXMgbGl2ZSB3aXRoIG1hbnVhbCBjYXB0dXJlIGVuYWJsZWQuYCxcbiAgICAgICAgaW50ZW50OiBcInN1Y2Nlc3NcIlxuICAgICAgfSk7XG4gICAgICByb3V0ZXIucHVzaChgL2FwcC9iLyR7YnVzaW5lc3Muc2x1Z31gKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGF1bmNoaW5nIGJ1c2luZXNzOicsIGVycm9yKTtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIGZpbmFsaXppbmcgb25ib2FyZGluZy4nO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiRmFpbGVkIHRvIGxhdW5jaCBidXNpbmVzc1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3JNZXNzYWdlLFxuICAgICAgICBpbnRlbnQ6IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHN0ZXBzTWV0YSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gW1xuICAgICAgeyBpZDogXCJidXNpbmVzc1wiLCB0aXRsZTogXCJCdXNpbmVzc1wiLCBzdWJ0aXRsZTogXCJJZGVudGl0eSAmIGRlc2NyaXB0aW9uXCIgfSxcbiAgICAgIHsgaWQ6IFwid2Vic2l0ZVwiLCB0aXRsZTogXCJXZWJzaXRlXCIsIHN1YnRpdGxlOiBcIkNsYWltIHlvdXIgc3ViZG9tYWluXCIgfSxcbiAgICAgIHsgaWQ6IFwibG9jYXRpb25cIiwgdGl0bGU6IFwiTG9jYXRpb24gJiBjb250YWN0c1wiLCBzdWJ0aXRsZTogXCJUaW1lem9uZSArIGFkZHJlc3NcIiB9LFxuICAgICAgeyBpZDogXCJ0ZWFtXCIsIHRpdGxlOiBcIlRlYW1cIiwgc3VidGl0bGU6IFwiU2NoZWR1bGluZy1vbmx5IHN0YWZmXCIgfSxcbiAgICAgIHsgaWQ6IFwiYnJhbmRpbmdcIiwgdGl0bGU6IFwiQnJhbmRpbmdcIiwgc3VidGl0bGU6IFwiTG9nbyArIHRoZW1lXCIgfSxcbiAgICAgIHsgaWQ6IFwic2VydmljZXNcIiwgdGl0bGU6IFwiU2VydmljZXMgJiBjYXRlZ29yaWVzXCIsIHN1YnRpdGxlOiBcIkNhdGFsb2cgc3RydWN0dXJlXCIgfSxcbiAgICAgIHsgaWQ6IFwiYXZhaWxhYmlsaXR5XCIsIHRpdGxlOiBcIkF2YWlsYWJpbGl0eVwiLCBzdWJ0aXRsZTogXCJTbG90cyBwZXIgc3RhZmZcIiB9LFxuICAgICAgeyBpZDogXCJub3RpZmljYXRpb25zXCIsIHRpdGxlOiBcIk5vdGlmaWNhdGlvbnNcIiwgc3VidGl0bGU6IFwiVGVtcGxhdGVzICsgcGxhY2Vob2xkZXJzXCIgfSxcbiAgICAgIHsgaWQ6IFwicG9saWNpZXNcIiwgdGl0bGU6IFwiUG9saWNpZXNcIiwgc3VidGl0bGU6IFwiRmVlcyAmIGxlZ2FsIGNvcHlcIiB9LFxuICAgICAgeyBpZDogXCJnaWZ0Q2FyZHNcIiwgdGl0bGU6IFwiR2lmdCBjYXJkc1wiLCBzdWJ0aXRsZTogXCJPcHRpb25hbCBwcm9tb3NcIiB9LFxuICAgICAgeyBpZDogXCJwYXltZW50U2V0dXBcIiwgdGl0bGU6IFwiUGF5bWVudCBzZXR1cFwiLCBzdWJ0aXRsZTogXCJTdHJpcGUgQ29ubmVjdCArIHN1YnNjcmlwdGlvblwiIH0sXG4gICAgICB7IGlkOiBcImdvTGl2ZVwiLCB0aXRsZTogXCJHbyBsaXZlXCIsIHN1YnRpdGxlOiBcIkxhdW5jaCAmIGNvbmZldHRpXCIgfVxuICAgIF0sXG4gICAgW11cbiAgKTtcblxuICBsZXQgY29udGVudDogUmVhY3QuUmVhY3ROb2RlID0gbnVsbDtcbiAgc3dpdGNoIChvbmJvYXJkaW5nLmN1cnJlbnRTdGVwKSB7XG4gICAgY2FzZSBcImJ1c2luZXNzXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8QnVzaW5lc3NTdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5idXNpbmVzc31cbiAgICAgICAgICBvbk5leHQ9e2hhbmRsZUJ1c2luZXNzTmV4dH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwid2Vic2l0ZVwiOlxuICAgICAgY29udGVudCA9IChcbiAgICAgICAgPFdlYnNpdGVTdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy53ZWJzaXRlfVxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlV2Vic2l0ZU5leHR9XG4gICAgICAgICAgb25CYWNrPXtnb0JhY2t9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxvY2F0aW9uXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8TG9jYXRpb25TdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5sb2NhdGlvbn1cbiAgICAgICAgICBvbk5leHQ9e2hhbmRsZUxvY2F0aW9uTmV4dH1cbiAgICAgICAgICBvbkJhY2s9e2dvQmFja31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwidGVhbVwiOlxuICAgICAgY29udGVudCA9IChcbiAgICAgICAgPFRlYW1TdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy50ZWFtfVxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlVGVhbU5leHR9XG4gICAgICAgICAgb25CYWNrPXtnb0JhY2t9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImJyYW5kaW5nXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8QnJhbmRpbmdTdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5icmFuZGluZ31cbiAgICAgICAgICBidXNpbmVzcz17b25ib2FyZGluZy5idXNpbmVzc31cbiAgICAgICAgICBjYXRlZ29yaWVzPXtvbmJvYXJkaW5nLnNlcnZpY2VzfVxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlQnJhbmRpbmdOZXh0fVxuICAgICAgICAgIG9uQmFjaz17Z29CYWNrfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJzZXJ2aWNlc1wiOlxuICAgICAgY29udGVudCA9IChcbiAgICAgICAgPFNlcnZpY2VzU3RlcFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZXM9e29uYm9hcmRpbmcuc2VydmljZXN9XG4gICAgICAgICAgc3RhZmY9e29uYm9hcmRpbmcudGVhbX1cbiAgICAgICAgICBvbk5leHQ9e2hhbmRsZVNlcnZpY2VzTmV4dH1cbiAgICAgICAgICBvbkJhY2s9e2dvQmFja31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYXZhaWxhYmlsaXR5XCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8QXZhaWxhYmlsaXR5U3RlcFxuICAgICAgICAgIHNlcnZpY2VzPXtvbmJvYXJkaW5nLnNlcnZpY2VzfVxuICAgICAgICAgIHN0YWZmPXtvbmJvYXJkaW5nLnRlYW19XG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5hdmFpbGFiaWxpdHl9XG4gICAgICAgICAgb25OZXh0PXtoYW5kbGVBdmFpbGFiaWxpdHlOZXh0fVxuICAgICAgICAgIG9uQmFjaz17Z29CYWNrfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJub3RpZmljYXRpb25zXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8Tm90aWZpY2F0aW9uc1N0ZXBcbiAgICAgICAgICBkZWZhdWx0VmFsdWVzPXtvbmJvYXJkaW5nLm5vdGlmaWNhdGlvbnN9XG4gICAgICAgICAgbm90aWZpY2F0aW9uc0VuYWJsZWQ9e29uYm9hcmRpbmcubm90aWZpY2F0aW9uc0VuYWJsZWR9XG4gICAgICAgICAgb25OZXh0PXtoYW5kbGVOb3RpZmljYXRpb25zTmV4dH1cbiAgICAgICAgICBvbkJhY2s9e2dvQmFja31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwicG9saWNpZXNcIjpcbiAgICAgIGNvbnRlbnQgPSAoXG4gICAgICAgIDxQb2xpY2llc1N0ZXBcbiAgICAgICAgICBkZWZhdWx0VmFsdWVzPXtvbmJvYXJkaW5nLnBvbGljaWVzfVxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlUG9saWNpZXNOZXh0fVxuICAgICAgICAgIG9uQmFjaz17Z29CYWNrfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJnaWZ0Q2FyZHNcIjpcbiAgICAgIGNvbnRlbnQgPSAoXG4gICAgICAgIDxHaWZ0Q2FyZHNTdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5naWZ0Q2FyZHN9XG4gICAgICAgICAgb25OZXh0PXtoYW5kbGVHaWZ0Q2FyZHNOZXh0fVxuICAgICAgICAgIG9uQmFjaz17Z29CYWNrfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYXltZW50U2V0dXBcIjpcbiAgICAgIGNvbnRlbnQgPSAoXG4gICAgICAgIDxQYXltZW50U2V0dXBTdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5wYXltZW50U2V0dXB9XG4gICAgICAgICAgYnVzaW5lc3M9e29uYm9hcmRpbmcuYnVzaW5lc3N9XG4gICAgICAgICAgb25OZXh0PXtoYW5kbGVQYXltZW50TmV4dH1cbiAgICAgICAgICBvbkJhY2s9e2dvQmFja31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZ29MaXZlXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8R29MaXZlU3RlcFxuICAgICAgICAgIGJ1c2luZXNzPXtvbmJvYXJkaW5nLmJ1c2luZXNzfVxuICAgICAgICAgIGxvY2F0aW9uPXtvbmJvYXJkaW5nLmxvY2F0aW9ufVxuICAgICAgICAgIHN0YWZmPXtvbmJvYXJkaW5nLnRlYW19XG4gICAgICAgICAgY2F0ZWdvcmllcz17b25ib2FyZGluZy5zZXJ2aWNlc31cbiAgICAgICAgICBib29raW5nVXJsPXtcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuYm9va2luZ1VybCA/P1xuICAgICAgICAgICAgYGh0dHBzOi8vJHtzYW5pdGl6ZVN1YmRvbWFpbihvbmJvYXJkaW5nLndlYnNpdGUuc3ViZG9tYWluIHx8IG9uYm9hcmRpbmcuYnVzaW5lc3MuYnVzaW5lc3NOYW1lIHx8IFwieW91cmJ1c2luZXNzXCIpfS50aXRoaS5jb21gXG4gICAgICAgICAgfVxuICAgICAgICAgIHByZXZpZXdVcmw9e2AvcHVibGljLyR7c2FuaXRpemVTdWJkb21haW4oXG4gICAgICAgICAgICBvbmJvYXJkaW5nLndlYnNpdGUuc3ViZG9tYWluIHx8IG9uYm9hcmRpbmcuYnVzaW5lc3MuYnVzaW5lc3NOYW1lIHx8IFwieW91cmJ1c2luZXNzXCJcbiAgICAgICAgICApfWB9XG4gICAgICAgICAgcG9saWNpZXM9e29uYm9hcmRpbmcucG9saWNpZXN9XG4gICAgICAgICAgcGF5bWVudD17b25ib2FyZGluZy5wYXltZW50U2V0dXB9XG4gICAgICAgICAgb25MYXVuY2g9e2hhbmRsZUxhdW5jaH1cbiAgICAgICAgICBvblN0YXJ0VHJpYWw9e2hhbmRsZVN0YXJ0VHJpYWx9XG4gICAgICAgICAgb25CYWNrPXtnb0JhY2t9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnRlbnQgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8T25ib2FyZGluZ1NoZWxsXG4gICAgICBzdGVwcz17c3RlcHNNZXRhfVxuICAgICAgY3VycmVudFN0ZXA9e29uYm9hcmRpbmcuY3VycmVudFN0ZXB9XG4gICAgICBjb21wbGV0ZWRTdGVwcz17b25ib2FyZGluZy5jb21wbGV0ZWRTdGVwc31cbiAgICAgIG9uTmF2aWdhdGU9e25hdmlnYXRlVG99XG4gICAgPlxuICAgICAge2NvbnRlbnR9XG4gICAgPC9PbmJvYXJkaW5nU2hlbGw+XG4gICk7XG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwiUmVhY3QiLCJ1c2VSb3V0ZXIiLCJPbmJvYXJkaW5nU2hlbGwiLCJCdXNpbmVzc1N0ZXAiLCJXZWJzaXRlU3RlcCIsIkxvY2F0aW9uU3RlcCIsIlRlYW1TdGVwIiwiQnJhbmRpbmdTdGVwIiwiU2VydmljZXNTdGVwIiwiQXZhaWxhYmlsaXR5U3RlcCIsIk5vdGlmaWNhdGlvbnNTdGVwIiwiUG9saWNpZXNTdGVwIiwiR2lmdENhcmRzU3RlcCIsIlBheW1lbnRTZXR1cFN0ZXAiLCJHb0xpdmVTdGVwIiwidXNlVG9hc3QiLCJ1c2VPbmJvYXJkaW5nIiwidXNlRmFrZUJ1c2luZXNzIiwidXNlRmFrZVNlc3Npb24iLCJsb2FkT25ib2FyZGluZ0RhdGFGcm9tQmFja2VuZCIsInNhbml0aXplU3ViZG9tYWluIiwidmFsdWUiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJyZXBsYWNlIiwic2xpY2UiLCJTVEVQX1NFUVVFTkNFIiwiT25ib2FyZGluZ1BhZ2UiLCJyb3V0ZXIiLCJ0b2FzdCIsInNlc3Npb24iLCJidXNpbmVzc1N0b3JlIiwib25ib2FyZGluZyIsInN1cGFiYXNlU2Vzc2lvbiIsInNldFN1cGFiYXNlU2Vzc2lvbiIsInVzZVN0YXRlIiwiaXNDaGVja2luZ1Nlc3Npb24iLCJzZXRJc0NoZWNraW5nU2Vzc2lvbiIsImN1cnJlbnRJbmRleCIsImZpbmRJbmRleCIsInN0ZXAiLCJjdXJyZW50U3RlcCIsInByZXZpb3VzU3RlcCIsInVuZGVmaW5lZCIsIm5leHRTdGVwIiwibGVuZ3RoIiwiY2hlY2tTdXBhYmFzZVNlc3Npb24iLCJjcmVhdGVDbGllbnRDbGllbnQiLCJzdXBhYmFzZSIsImRhdGEiLCJzdXBhYmFzZVNlc3Npb25EYXRhIiwiZXJyb3IiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImlzQXV0aGVudGljYXRlZCIsInVzZXIiLCJsb2dpbiIsImlkIiwibmFtZSIsInVzZXJfbWV0YWRhdGEiLCJmdWxsX25hbWUiLCJlbWFpbCIsInNwbGl0IiwicGhvbmUiLCJ1cmxQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImFjY291bnRJZCIsImdldCIsImhlYWRlcnMiLCJhY2Nlc3NfdG9rZW4iLCJidXNpbmVzc1Jlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJjcmVkZW50aWFscyIsIm9rIiwiYnVzaW5lc3NEYXRhIiwianNvbiIsImJ1c2luZXNzIiwic2F2ZUJ1c2luZXNzIiwiYnVzaW5lc3NOYW1lIiwiZGVzY3JpcHRpb24iLCJkb2luZ0J1c2luZXNzQXMiLCJkYmFfbmFtZSIsImxlZ2FsTmFtZSIsImxlZ2FsX25hbWUiLCJpbmR1c3RyeSIsImNvbnNvbGUiLCJsb2ciLCJzZXRTdGVwIiwicmVzdG9yZUFsbE9uYm9hcmRpbmdEYXRhIiwid2Vic2l0ZSIsInNhdmVXZWJzaXRlIiwic2F2ZUxvY2F0aW9uIiwidGVhbSIsInNhdmVUZWFtIiwiYnJhbmRpbmciLCJzYXZlQnJhbmRpbmciLCJzZXJ2aWNlcyIsInNhdmVTZXJ2aWNlcyIsImF2YWlsYWJpbGl0eSIsInNhdmVBdmFpbGFiaWxpdHkiLCJub3RpZmljYXRpb25zIiwic2F2ZU5vdGlmaWNhdGlvbnMiLCJwb2xpY2llcyIsInNhdmVQb2xpY2llcyIsImdpZnRDYXJkcyIsInNhdmVHaWZ0Q2FyZHMiLCJwYXltZW50U2V0dXAiLCJzYXZlUGF5bWVudFNldHVwIiwiY29tcGxldGVkU3RlcHMiLCJwdXNoIiwic3ViZG9tYWluIiwic3RyZWV0IiwiY2l0eSIsInByaW1hcnlDb2xvciIsImZvckVhY2giLCJjb21wbGV0ZVN0ZXAiLCJzZXRUaW1lb3V0IiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInBhdGhuYW1lIiwiY2hlY2tJZkJ1c2luZXNzSXNMYXVuY2hlZCIsImN1cnJlbnRTZXNzaW9uIiwiaXNMYXVuY2hlZCIsInN1YnNjcmlwdGlvbl9zdGF0dXMiLCJzdGFydHNXaXRoIiwidGltZXpvbmUiLCJzdXBwb3J0X2VtYWlsIiwic3RyaXBlX2Nvbm5lY3RfYWNjb3VudF9pZCIsImJ1c2luZXNzSWQiLCJuYXZpZ2F0ZVRvIiwiZ29Gb3J3YXJkIiwiZ29CYWNrIiwibWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0IiwidXJsIiwiYm9keSIsInNlc3Npb25FcnJvciIsInJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsIkVycm9yIiwiaGFuZGxlQnVzaW5lc3NOZXh0IiwidmFsdWVzIiwic3VjY2VzcyIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJwdXNoVG9hc3QiLCJpbnRlbnQiLCJ0aXRsZSIsImhhbmRsZVdlYnNpdGVOZXh0IiwiZmFsbGJhY2siLCJmYWxsYmFja1Nhbml0aXplZCIsIm5vcm1hbGl6ZWRTdWJkb21haW4iLCJ3ZWJzaXRlRGF0YSIsInN0YXR1cyIsInNldEJvb2tpbmdVcmwiLCJoYW5kbGVMb2NhdGlvbk5leHQiLCJoYW5kbGVUZWFtTmV4dCIsInN0YWZmIiwiaGFuZGxlQnJhbmRpbmdOZXh0IiwiaGFuZGxlU2VydmljZXNOZXh0IiwiY2F0ZWdvcmllcyIsImhhbmRsZUF2YWlsYWJpbGl0eU5leHQiLCJoYW5kbGVOb3RpZmljYXRpb25zTmV4dCIsInRlbXBsYXRlcyIsImVuYWJsZWQiLCJlbmFibGVkVHlwZSIsInBsYW5UeXBlIiwidGVtcGxhdGVzQ291bnQiLCJub3RpZmljYXRpb25zX2VuYWJsZWQiLCJwbGFuX3R5cGUiLCJwbGFuX3ByaWNlIiwiaGFuZGxlUG9saWNpZXNOZXh0IiwiaGFuZGxlR2lmdENhcmRzTmV4dCIsImhhbmRsZVBheW1lbnROZXh0IiwiaGFuZGxlU3RhcnRUcmlhbCIsInRyaWFsRW5kcyIsIkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInN1YnNjcmlwdGlvblN0YXR1cyIsInRyaWFsRW5kc0F0IiwidG9JU09TdHJpbmciLCJuZXh0QmlsbERhdGUiLCJoYW5kbGVMYXVuY2giLCJzZXRPbmJvYXJkaW5nQ29tcGxldGVkIiwiZ2VuZXJhdGVCdXNpbmVzc0Zyb21TdGF0ZSIsImNsZWFyQnVzaW5lc3MiLCJjcmVhdGVCdXNpbmVzcyIsImJvb3RzdHJhcFdvcmtzcGFjZSIsInBheW1lbnQiLCJzbHVnIiwic3RlcHNNZXRhIiwic3VidGl0bGUiLCJjb250ZW50IiwiZGVmYXVsdFZhbHVlcyIsIm9uTmV4dCIsIm9uQmFjayIsIm5vdGlmaWNhdGlvbnNFbmFibGVkIiwiYm9va2luZ1VybCIsInByZXZpZXdVcmwiLCJvbkxhdW5jaCIsIm9uU3RhcnRUcmlhbCIsInN0ZXBzIiwib25OYXZpZ2F0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/onboarding/page.tsx\n"));

/***/ })

});