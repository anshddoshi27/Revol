"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/public/[slug]/page",{

/***/ "(app-pages-browser)/./src/components/public-booking/booking-flow.tsx":
/*!********************************************************!*\
  !*** ./src/components/public-booking/booking-flow.tsx ***!
  \********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PublicBookingExperience: function() { return /* binding */ PublicBookingExperience; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/shield-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/credit-card.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar-days.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/party-popper.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _stripe_stripe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stripe/stripe-js */ \"(app-pages-browser)/../../node_modules/@stripe/stripe-js/lib/index.mjs\");\n/* harmony import */ var _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @stripe/react-stripe-js */ \"(app-pages-browser)/../../node_modules/@stripe/react-stripe-js/dist/react-stripe.esm.mjs\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/badge */ \"(app-pages-browser)/./src/components/ui/badge.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/helper-text */ \"(app-pages-browser)/./src/components/ui/helper-text.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./src/components/ui/input.tsx\");\n/* harmony import */ var _components_ui_toast__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/toast */ \"(app-pages-browser)/./src/components/ui/toast.tsx\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* harmony import */ var _lib_availability_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/availability-utils */ \"(app-pages-browser)/./src/lib/availability-utils.ts\");\n/* harmony import */ var _lib_timezone__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/timezone */ \"(app-pages-browser)/./src/lib/timezone.ts\");\n/* __next_internal_client_entry_do_not_use__ PublicBookingExperience auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Initialize Stripe\nconst stripePromise = (0,_stripe_stripe_js__WEBPACK_IMPORTED_MODULE_4__.loadStripe)(\"pk_test_51SLrw1RtjyTFPgioLF9XPNjoWfEznrkim8IdiBxqaqM22ZJKT9FchK6d3DRWIVvPkmkdgH8aEFFneAKcM0z7yllt00l3anN4rc\" || 0);\nfunction PublicBookingExperience(param) {\n    let { business, workspace, recordBooking } = param;\n    _s();\n    const toast = (0,_components_ui_toast__WEBPACK_IMPORTED_MODULE_10__.useToast)();\n    const [step, setStep] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"catalog\");\n    const [selectedServiceId, setSelectedServiceId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [selectedStaffId, setSelectedStaffId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"any\");\n    const [selectedSlot, setSelectedSlot] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [giftCardState, setGiftCardState] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [giftCardInput, setGiftCardInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [giftCardError, setGiftCardError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [customerName, setCustomerName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [customerEmail, setCustomerEmail] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [customerPhone, setCustomerPhone] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [setupIntentClientSecret, setSetupIntentClientSecret] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [paymentMethodId, setPaymentMethodId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [createdBookingId, setCreatedBookingId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [createdBookingCode, setCreatedBookingCode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [consentChecked, setConsentChecked] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isPolicyModalOpen, setIsPolicyModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [createdBooking, setCreatedBooking] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [fetchedSlots, setFetchedSlots] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [isLoadingAvailability, setIsLoadingAvailability] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [availabilityError, setAvailabilityError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const selectedService = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (!selectedServiceId) return undefined;\n        for (const category of workspace.catalog){\n            const service = category.services.find((svc)=>svc.id === selectedServiceId);\n            if (service) {\n                return {\n                    ...service,\n                    categoryName: category.name,\n                    categoryColor: category.color\n                };\n            }\n        }\n        return undefined;\n    }, [\n        selectedServiceId,\n        workspace.catalog\n    ]);\n    // Fetch availability from API when service is selected\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!selectedService || step !== \"availability\") {\n            setFetchedSlots([]);\n            return;\n        }\n        async function fetchAvailability() {\n            setIsLoadingAvailability(true);\n            setAvailabilityError(null);\n            try {\n                // Fetch availability for the next 14 days (2 weeks)\n                const today = new Date();\n                const allSlots = [];\n                const timezone = workspace.identity.location.timezone || \"UTC\";\n                const dayFormatter = new Intl.DateTimeFormat(\"en-US\", {\n                    timeZone: timezone,\n                    weekday: \"long\"\n                });\n                for(let i = 0; i < 14; i++){\n                    const date = new Date(today);\n                    date.setDate(today.getDate() + i);\n                    const dateStr = date.toISOString().split(\"T\")[0]; // YYYY-MM-DD\n                    try {\n                        var _data_slots, _data_slots1;\n                        const response = await fetch(\"/api/public/\".concat(business.slug, \"/availability?service_id=\").concat(selectedService.id, \"&date=\").concat(dateStr));\n                        if (!response.ok) {\n                            console.warn(\"Failed to fetch availability for \".concat(dateStr, \":\"), response.status);\n                            continue;\n                        }\n                        const data = await response.json();\n                        console.log(\"[booking-flow] Fetched availability for \".concat(dateStr, \":\"), {\n                            slotsCount: ((_data_slots = data.slots) === null || _data_slots === void 0 ? void 0 : _data_slots.length) || 0,\n                            hasSlots: Array.isArray(data.slots),\n                            sampleSlot: (_data_slots1 = data.slots) === null || _data_slots1 === void 0 ? void 0 : _data_slots1[0]\n                        });\n                        if (data.slots && Array.isArray(data.slots)) {\n                            // Transform API slots to ExpandedAvailabilitySlot format\n                            for (const slot of data.slots){\n                                const startDate = new Date(slot.start_at);\n                                const endDate = new Date(slot.end_at);\n                                const dayLabel = dayFormatter.format(startDate);\n                                // Find staff member to get color\n                                const staffMember = workspace.staff.find((s)=>s.id === slot.staff_id);\n                                const staffColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) || \"#000000\";\n                                allSlots.push({\n                                    id: \"\".concat(slot.staff_id, \"-\").concat(slot.start_at),\n                                    serviceId: selectedService.id,\n                                    staffId: slot.staff_id,\n                                    staffName: slot.staff_name,\n                                    staffColor: staffColor,\n                                    startDateTime: slot.start_at,\n                                    endDateTime: slot.end_at,\n                                    dayLabel: dayLabel\n                                });\n                            }\n                        } else {\n                            console.warn(\"[booking-flow] No slots array in response for \".concat(dateStr, \":\"), data);\n                        }\n                    } catch (err) {\n                        console.error(\"Error fetching availability for \".concat(dateStr, \":\"), err);\n                    }\n                }\n                setFetchedSlots(allSlots);\n            } catch (error) {\n                console.error(\"Error fetching availability:\", error);\n                setAvailabilityError(\"Failed to load availability. Please try again.\");\n            } finally{\n                setIsLoadingAvailability(false);\n            }\n        }\n        fetchAvailability();\n    }, [\n        selectedService,\n        step,\n        business.slug,\n        workspace.staff,\n        workspace.identity.location.timezone\n    ]);\n    const serviceAvailability = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        // Use fetched slots from API instead of workspace.availability\n        return fetchedSlots;\n    }, [\n        fetchedSlots\n    ]);\n    const groupedSlots = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (!selectedService) return {};\n        const filtered = selectedStaffId === \"any\" ? serviceAvailability : serviceAvailability.filter((slot)=>slot.staffId === selectedStaffId);\n        return (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_12__.groupSlotsByDay)(filtered, workspace.identity.location.timezone || \"UTC\");\n    }, [\n        serviceAvailability,\n        selectedStaffId,\n        workspace.identity.location.timezone,\n        selectedService\n    ]);\n    var _selectedService_priceCents;\n    const listPriceCents = (_selectedService_priceCents = selectedService === null || selectedService === void 0 ? void 0 : selectedService.priceCents) !== null && _selectedService_priceCents !== void 0 ? _selectedService_priceCents : 0;\n    var _giftCardState_amountCents;\n    const appliedGiftCardCents = (_giftCardState_amountCents = giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) !== null && _giftCardState_amountCents !== void 0 ? _giftCardState_amountCents : 0;\n    const amountDueCents = Math.max(listPriceCents - appliedGiftCardCents, 0);\n    // Card is always required for all bookings (even cash) as backup for no-show fees\n    // But we display the business's accepted methods from onboarding for information\n    const businessAcceptedMethods = workspace.payment.acceptedMethods || [];\n    const acceptedMethodsForDisplay = businessAcceptedMethods.length > 0 ? businessAcceptedMethods : [\n        \"card\"\n    ]; // Default to card if no methods specified\n    const policies = workspace.policies;\n    const timezone = workspace.identity.location.timezone || \"UTC\";\n    const handleSelectService = (serviceId)=>{\n        setSelectedServiceId(serviceId);\n        setSelectedStaffId(\"any\");\n        setSelectedSlot(null);\n        setStep(\"availability\");\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n    };\n    const handleSelectSlot = (slot)=>{\n        setSelectedSlot(slot);\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n        setStep(\"checkout\");\n        window.scrollTo({\n            top: 0,\n            behavior: \"smooth\"\n        });\n    };\n    const handleApplyGiftCard = ()=>{\n        if (!selectedService) return;\n        const code = giftCardInput.trim().toUpperCase();\n        if (code.length === 0) {\n            setGiftCardError(\"Enter a gift card code to apply.\");\n            return;\n        }\n        const program = workspace.giftCards;\n        if (!program.config.enabled) {\n            setGiftCardError(\"Gift cards are not enabled for this business.\");\n            return;\n        }\n        const allCodes = new Set([\n            ...program.config.generatedCodes.map((entry)=>entry.toUpperCase()),\n            ...program.ledger.map((entry)=>entry.code.toUpperCase())\n        ]);\n        if (!allCodes.has(code)) {\n            setGiftCardError(\"That code is not recognized. Check the spelling and try again.\");\n            return;\n        }\n        const amountCents = program.config.amountType === \"amount\" ? program.config.amountValue : Math.round(selectedService.priceCents * program.config.amountValue / 100);\n        const appliedAmount = Math.min(amountCents, selectedService.priceCents);\n        if (appliedAmount <= 0) {\n            setGiftCardError(\"This gift card has no balance remaining.\");\n            return;\n        }\n        setGiftCardError(null);\n        setGiftCardState({\n            code,\n            amountCents: appliedAmount,\n            description: program.config.amountType === \"amount\" ? \"\".concat(formatCurrency(appliedAmount), \" applied\") : \"\".concat(program.config.amountValue, \"% off (\").concat(formatCurrency(appliedAmount), \")\")\n        });\n        toast.pushToast({\n            title: \"Gift card applied\",\n            description: \"We deducted \".concat(formatCurrency(appliedAmount), \" from today's total.\"),\n            intent: \"success\"\n        });\n    };\n    const handleSubmitCheckout = async ()=>{\n        if (!selectedService || !selectedSlot) return;\n        if (customerName.trim().length < 2) {\n            toast.pushToast({\n                title: \"Add your name\",\n                description: \"We need your first and last name to personalize notifications.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!isValidEmail(customerEmail)) {\n            toast.pushToast({\n                title: \"Enter a valid email\",\n                description: \"We use your email for confirmations and receipts.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!isValidPhone(customerPhone)) {\n            toast.pushToast({\n                title: \"Phone number required\",\n                description: \"Add a phone number so we can send reminders or reach you about changes.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!consentChecked) {\n            toast.pushToast({\n                title: \"Consent required\",\n                description: \"Review the policies and confirm you agree before booking.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        // If payment method is already confirmed, booking is already created and we're done\n        if (paymentMethodId && createdBookingId) {\n            // Booking is complete, show confirmation\n            if (selectedService && selectedSlot) {\n                var _workspace_staff_find;\n                const booking = {\n                    id: createdBookingId,\n                    code: createdBookingCode || \"TITHI-\".concat(createdBookingId.slice(0, 8).toUpperCase()),\n                    status: \"pending\",\n                    serviceId: selectedService.id,\n                    serviceName: selectedService.name,\n                    categoryName: selectedService.categoryName,\n                    durationMinutes: selectedService.durationMinutes,\n                    startDateTime: selectedSlot.startDateTime,\n                    endDateTime: selectedSlot.endDateTime,\n                    staff: {\n                        id: selectedSlot.staffId,\n                        name: selectedSlot.staffName,\n                        color: ((_workspace_staff_find = workspace.staff.find((s)=>s.id === selectedSlot.staffId)) === null || _workspace_staff_find === void 0 ? void 0 : _workspace_staff_find.color) || \"#000000\"\n                    },\n                    customer: {\n                        name: customerName.trim(),\n                        email: customerEmail.trim().toLowerCase(),\n                        phone: customerPhone.trim()\n                    },\n                    payments: [],\n                    financials: {\n                        listPriceCents: listPriceCents,\n                        giftCardAmountCents: (giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) || 0,\n                        platformFeeCents: 0,\n                        stripeFeeEstimateCents: 0,\n                        netPayoutCents: 0,\n                        currency: \"usd\"\n                    },\n                    policyConsent: createPolicyConsent(policies),\n                    requiresAction: false\n                };\n                setCreatedBooking(booking);\n                setStep(\"confirmation\");\n            }\n            return;\n        }\n        // Payment method must be set via Stripe Elements\n        if (!paymentMethodId) {\n            toast.pushToast({\n                title: \"Payment method required\",\n                description: \"Please complete the payment form above. Your card will be saved securely but not charged.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        // If we have paymentMethodId but no booking ID, the booking was created in useEffect\n        // We just need to wait for the payment to be processed (it should already be done)\n        if (paymentMethodId && !createdBookingId) {\n            // This shouldn't happen, but handle it gracefully\n            toast.pushToast({\n                title: \"Processing payment\",\n                description: \"Please wait while we complete your booking.\",\n                intent: \"info\"\n            });\n            return;\n        }\n    };\n    const handleResetFlow = ()=>{\n        setStep(\"catalog\");\n        setSelectedServiceId(null);\n        setSelectedStaffId(\"any\");\n        setSelectedSlot(null);\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n        setCustomerName(\"\");\n        setCustomerEmail(\"\");\n        setCustomerPhone(\"\");\n        setSetupIntentClientSecret(null);\n        setPaymentMethodId(null);\n        setCreatedBookingId(null);\n        setCreatedBookingCode(null);\n        setConsentChecked(false);\n        setIsPolicyModalOpen(false);\n        setCreatedBooking(null);\n    };\n    // Get branding from workspace\n    const branding = workspace.identity.branding;\n    const primaryColor1 = (branding === null || branding === void 0 ? void 0 : branding.primaryColor) || \"#5B64FF\";\n    const logoUrl = branding === null || branding === void 0 ? void 0 : branding.logoUrl;\n    var _selectedService_name;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative min-h-screen bg-gradient-to-br from-black via-slate-950 to-[#0b0d1a] text-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 -z-10\",\n                style: {\n                    background: \"radial-gradient(circle at top, \".concat(primaryColor1, \"25, transparent 60%)\")\n                }\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 406,\n                columnNumber: 7\n            }, this),\n            step === \"confirmation\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfettiOverlay, {}, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 410,\n                columnNumber: 34\n            }, this) : null,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"mx-auto max-w-5xl px-4 py-12 sm:px-6 lg:px-8\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-6 md:flex-row md:items-start md:justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-4\",\n                                    children: [\n                                        logoUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative h-16 w-16 flex-shrink-0 overflow-hidden rounded-2xl border border-white/10 bg-white/10\",\n                                            style: {\n                                                boxShadow: \"0 8px 16px -8px \".concat(primaryColor1, \"55\")\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                src: logoUrl,\n                                                alt: \"\".concat(workspace.identity.business.businessName, \" logo\"),\n                                                fill: true,\n                                                className: \"object-cover\",\n                                                unoptimized: true\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 421,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 417,\n                                            columnNumber: 17\n                                        }, this) : null,\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                    className: \"font-display text-4xl sm:text-5xl\",\n                                                    children: workspace.identity.business.businessName\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 431,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mt-1 text-sm text-white/60\",\n                                                    children: workspace.identity.business.description || \"booking app for local businesses\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 434,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 430,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 415,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                    intent: \"info\",\n                                    className: \"w-fit\",\n                                    children: \"Manual capture — no charge at booking\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 439,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mt-2 max-w-2xl text-base text-white/70\",\n                                        children: \"Select a service, choose the best time, and secure your appointment. Your card is stored securely and only charged after the visit or if a policy fee applies.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 443,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 442,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap items-center gap-3 text-sm text-white/60\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 449,\n                                                    columnNumber: 17\n                                                }, this),\n                                                formatAddress(workspace.identity.location)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 448,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 453,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"All times shown in \",\n                                                timezone\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 452,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 457,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Card saved securely — capture happens later\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 456,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 447,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 413,\n                            columnNumber: 11\n                        }, this),\n                        createdBooking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-3xl border border-emerald-400/30 bg-emerald-500/10 p-6 text-emerald-100 shadow-[0_0_40px_rgba(52,211,153,0.25)]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm uppercase tracking-[0.35em] text-emerald-200/70\",\n                                    children: \"Confirmation\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 464,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 font-display text-2xl\",\n                                    children: (_selectedService_name = selectedService === null || selectedService === void 0 ? void 0 : selectedService.name) !== null && _selectedService_name !== void 0 ? _selectedService_name : createdBooking.serviceName\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 467,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-sm text-emerald-100/80\",\n                                    children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(createdBooking.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\",\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 470,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-3 text-sm text-emerald-100/80\",\n                                    children: [\n                                        \"We sent a confirmation email to \",\n                                        createdBooking.customer.email,\n                                        \". Manual capture keeps you in control—nothing charges unless you press a money button.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 479,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 463,\n                            columnNumber: 13\n                        }, this) : null\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 412,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 411,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"mx-auto max-w-5xl px-4 pb-16 sm:px-6 lg:px-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StepIndicator, {\n                        currentStep: step,\n                        onReset: handleResetFlow,\n                        primaryColor: primaryColor1\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 489,\n                        columnNumber: 9\n                    }, this),\n                    step === \"catalog\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CatalogStep, {\n                        catalog: workspace.catalog,\n                        onSelectService: handleSelectService,\n                        primaryColor: primaryColor1\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 492,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"availability\" && selectedService ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AvailabilityStep, {\n                        service: selectedService,\n                        slotsByDay: groupedSlots,\n                        selectedStaffId: selectedStaffId,\n                        setSelectedStaffId: setSelectedStaffId,\n                        onBack: ()=>setStep(\"catalog\"),\n                        onSelectSlot: handleSelectSlot,\n                        staff: workspace.staff,\n                        timezone: timezone,\n                        supportEmail: workspace.identity.location.supportEmail,\n                        isLoading: isLoadingAvailability,\n                        error: availabilityError\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 500,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"checkout\" && selectedService && selectedSlot ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CheckoutStep, {\n                        service: selectedService,\n                        slot: selectedSlot,\n                        onBack: ()=>setStep(\"availability\"),\n                        customerName: customerName,\n                        setCustomerName: setCustomerName,\n                        customerEmail: customerEmail,\n                        setCustomerEmail: setCustomerEmail,\n                        customerPhone: customerPhone,\n                        setCustomerPhone: setCustomerPhone,\n                        setupIntentClientSecret: setupIntentClientSecret,\n                        setSetupIntentClientSecret: setSetupIntentClientSecret,\n                        paymentMethodId: paymentMethodId,\n                        setPaymentMethodId: setPaymentMethodId,\n                        createdBookingId: createdBookingId,\n                        setCreatedBookingId: setCreatedBookingId,\n                        createdBookingCode: createdBookingCode,\n                        setCreatedBookingCode: setCreatedBookingCode,\n                        workspace: workspace,\n                        customerName: customerName,\n                        customerEmail: customerEmail,\n                        customerPhone: customerPhone,\n                        listPriceCents: listPriceCents,\n                        giftCardState: giftCardState,\n                        policies: policies,\n                        timezone: timezone,\n                        selectedService: selectedService,\n                        selectedSlot: selectedSlot,\n                        setCreatedBooking: setCreatedBooking,\n                        setStep: setStep,\n                        toast: toast,\n                        consentChecked: consentChecked,\n                        setConsentChecked: setConsentChecked,\n                        giftCardInput: giftCardInput,\n                        setGiftCardInput: setGiftCardInput,\n                        giftCardError: giftCardError,\n                        giftCardState: giftCardState,\n                        onApplyGiftCard: handleApplyGiftCard,\n                        acceptedMethods: acceptedMethodsForDisplay,\n                        policies: policies,\n                        timezone: timezone,\n                        amountDueCents: amountDueCents,\n                        listPriceCents: listPriceCents,\n                        isSubmitting: isSubmitting,\n                        onSubmit: handleSubmitCheckout,\n                        onOpenPolicies: ()=>setIsPolicyModalOpen(true),\n                        business: business\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 516,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"confirmation\" && createdBooking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfirmationStep, {\n                        booking: createdBooking,\n                        service: selectedService,\n                        amountDueCents: amountDueCents,\n                        policies: policies,\n                        timezone: timezone,\n                        onBookAnother: handleResetFlow\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 567,\n                        columnNumber: 11\n                    }, this) : null\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 488,\n                columnNumber: 7\n            }, this),\n            isPolicyModalOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyModal, {\n                policies: policies,\n                onClose: ()=>setIsPolicyModalOpen(false),\n                timezone: timezone\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 579,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 405,\n        columnNumber: 5\n    }, this);\n}\n_s(PublicBookingExperience, \"w6ubhzjkeGca4HprC4KtxJdYIOU=\", false, function() {\n    return [\n        _components_ui_toast__WEBPACK_IMPORTED_MODULE_10__.useToast\n    ];\n});\n_c = PublicBookingExperience;\nfunction CatalogStep(param) {\n    let { catalog, onSelectService, primaryColor: primaryColor1 } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"space-y-12\",\n        children: catalog.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-5\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-white/55\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                        className: \"h-3.5 w-3.5\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 604,\n                                        columnNumber: 15\n                                    }, this),\n                                    category.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 603,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-3 text-base text-white/70 max-w-2xl\",\n                                children: category.description\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 607,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 602,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid gap-6 md:grid-cols-2\",\n                        children: category.services.map((service)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>onSelectService(service.id),\n                                className: \"group flex flex-col gap-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-left transition hover:border-white/25 hover:bg-white/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-start justify-between gap-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                        className: \"font-display text-2xl text-white\",\n                                                        children: service.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 619,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"mt-2 text-sm text-white/60\",\n                                                        children: service.description\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 620,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 618,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold uppercase tracking-[0.25em] text-white/60\",\n                                                children: formatDuration(service.durationMinutes)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 622,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 617,\n                                        columnNumber: 17\n                                    }, this),\n                                    service.instructions ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-white/40\",\n                                        children: service.instructions\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 627,\n                                        columnNumber: 19\n                                    }, this) : null,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-auto flex items-center justify-between text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white/60\",\n                                                children: [\n                                                    \"Starting at \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        className: \"text-white\",\n                                                        children: formatCurrency(service.priceCents)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 631,\n                                                        columnNumber: 33\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 630,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-2 group-hover:translate-x-1 transition\",\n                                                style: {\n                                                    color: primaryColor1\n                                                },\n                                                children: [\n                                                    \"Select \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                        className: \"h-4 w-4\",\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 637,\n                                                        columnNumber: 28\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 633,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 629,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, service.id, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 611,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 609,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, category.id, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 601,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 599,\n        columnNumber: 5\n    }, this);\n}\n_c1 = CatalogStep;\nfunction AvailabilityStep(param) {\n    let { service, slotsByDay, selectedStaffId, setSelectedStaffId, onBack, onSelectSlot, staff, timezone, supportEmail, isLoading, error } = param;\n    _s1();\n    const [currentWeekStart, setCurrentWeekStart] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(()=>{\n        const today = new Date();\n        const dayOfWeek = today.getDay();\n        const diff = today.getDate() - dayOfWeek; // Get Sunday of this week\n        const sunday = new Date(today.setDate(diff));\n        sunday.setHours(0, 0, 0, 0);\n        return sunday;\n    });\n    const staffOptions = staff.filter((member)=>service.staffIds.includes(member.id));\n    const totalSlots = Object.values(slotsByDay).reduce((sum, entries)=>sum + entries.length, 0);\n    // Generate hours from 8 AM to 8 PM\n    const hours = Array.from({\n        length: 13\n    }, (_, i)=>i + 8); // 8 AM to 8 PM\n    // Generate days of the week\n    const weekDays = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        const days = [];\n        for(let i = 0; i < 7; i++){\n            const date = new Date(currentWeekStart);\n            date.setDate(currentWeekStart.getDate() + i);\n            days.push(date);\n        }\n        return days;\n    }, [\n        currentWeekStart\n    ]);\n    // Group slots by day and hour, removing duplicates\n    const slotsByDayAndHour = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        const grouped = {};\n        // Flatten all slots from all days\n        const allSlots = Object.values(slotsByDay).flat();\n        allSlots.forEach((slot)=>{\n            const slotDate = new Date(slot.startDateTime);\n            const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(slotDate, timezone, \"yyyy-MM-dd\");\n            const hour = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(slotDate, timezone, {\n                hour: \"numeric\",\n                hour12: false\n            });\n            const hourNum = parseInt(hour, 10);\n            // Only include slots that are in the current week\n            const isInCurrentWeek = weekDays.some((day)=>{\n                const dayKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                return dayKey === dateKey;\n            });\n            if (!isInCurrentWeek) return;\n            if (!grouped[dateKey]) {\n                grouped[dateKey] = {};\n            }\n            if (!grouped[dateKey][hourNum]) {\n                grouped[dateKey][hourNum] = [];\n            }\n            // Check for duplicates (same hour, same staff, same date)\n            const isDuplicate = grouped[dateKey][hourNum].some((existing)=>existing.staffId === slot.staffId);\n            if (!isDuplicate) {\n                grouped[dateKey][hourNum].push(slot);\n            }\n        });\n        return grouped;\n    }, [\n        slotsByDay,\n        weekDays,\n        timezone\n    ]);\n    const navigateWeek = (direction)=>{\n        const newDate = new Date(currentWeekStart);\n        newDate.setDate(newDate.getDate() + (direction === \"next\" ? 7 : -7));\n        setCurrentWeekStart(newDate);\n    };\n    const monthYear = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(weekDays[0], timezone, {\n        month: \"long\",\n        year: \"numeric\"\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.15)]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                children: \"Step 2 \\xb7 Choose your time\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 761,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"mt-2 font-display text-3xl text-white\",\n                                children: service.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 762,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 text-sm text-white/60\",\n                                children: [\n                                    formatCurrency(service.priceCents),\n                                    \" \\xb7 \",\n                                    formatDuration(service.durationMinutes),\n                                    \" — All slots shown in \",\n                                    timezone\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 763,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 760,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                        variant: \"ghost\",\n                        onClick: onBack,\n                        className: \"inline-flex items-center gap-2 text-white/70\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 769,\n                                columnNumber: 11\n                            }, this),\n                            \"Back to services\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 768,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 759,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-8 flex flex-wrap items-center gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                        label: \"I don't mind\",\n                        active: selectedStaffId === \"any\",\n                        onClick: ()=>setSelectedStaffId(\"any\")\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 775,\n                        columnNumber: 9\n                    }, this),\n                    staffOptions.map((member)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                            label: member.name,\n                            color: member.color,\n                            active: selectedStaffId === member.id,\n                            onClick: ()=>setSelectedStaffId(member.id)\n                        }, member.id, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 781,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 774,\n                columnNumber: 7\n            }, this),\n            isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                        className: \"mx-auto h-8 w-8 animate-spin text-white/40\",\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 793,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-base\",\n                        children: \"Loading availability...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 794,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 792,\n                columnNumber: 9\n            }, this) : error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-red-500/20 bg-red-500/10 p-8 text-center text-red-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-base\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 798,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 797,\n                columnNumber: 9\n            }, this) : totalSlots === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-base\",\n                        children: \"No availability found in the next two weeks.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 802,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-sm\",\n                        children: [\n                            \"Try selecting a different staff member or contact us at\",\n                            \" \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: \"mailto:\".concat(supportEmail !== null && supportEmail !== void 0 ? supportEmail : \"support@tithi.com\"),\n                                className: \"underline\",\n                                children: supportEmail !== null && supportEmail !== void 0 ? supportEmail : \"support@tithi.com\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 805,\n                                columnNumber: 13\n                            }, this),\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 803,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 801,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-6 flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                                variant: \"ghost\",\n                                onClick: ()=>navigateWeek(\"prev\"),\n                                className: \"text-white/70 hover:text-white\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 820,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 815,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-white\",\n                                    children: monthYear\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 823,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 822,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                                variant: \"ghost\",\n                                onClick: ()=>navigateWeek(\"next\"),\n                                className: \"text-white/70 hover:text-white\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 830,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 825,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 814,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-x-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"min-w-full\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-8 gap-2 border-b border-white/10 pb-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-semibold text-white/60\",\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 839,\n                                            columnNumber: 17\n                                        }, this),\n                                        weekDays.map((day, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs font-semibold text-white/60\",\n                                                        children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(day, timezone, {\n                                                            weekday: \"short\"\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 842,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm font-semibold text-white\",\n                                                        children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(day, timezone, {\n                                                            day: \"numeric\"\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 845,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, idx, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 841,\n                                                columnNumber: 19\n                                            }, this))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 838,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-2 space-y-1\",\n                                    children: hours.map((hour)=>{\n                                        const hourLabel = hour === 12 ? \"12 PM\" : hour > 12 ? \"\".concat(hour - 12, \" PM\") : \"\".concat(hour, \" AM\");\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-8 gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center text-xs text-white/60 py-2\",\n                                                    children: hourLabel\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 858,\n                                                    columnNumber: 23\n                                                }, this),\n                                                weekDays.map((day, dayIdx)=>{\n                                                    var _slotsByDayAndHour_dateKey;\n                                                    const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                                                    const slotsForHour = ((_slotsByDayAndHour_dateKey = slotsByDayAndHour[dateKey]) === null || _slotsByDayAndHour_dateKey === void 0 ? void 0 : _slotsByDayAndHour_dateKey[hour]) || [];\n                                                    const filteredSlots = selectedStaffId === \"any\" ? slotsForHour : slotsForHour.filter((slot)=>slot.staffId === selectedStaffId);\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"py-1\",\n                                                        children: filteredSlots.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-1\",\n                                                            children: filteredSlots.map((slot)=>{\n                                                                const staffMember = staff.find((s)=>s.id === slot.staffId);\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    onClick: ()=>onSelectSlot(slot),\n                                                                    className: \"w-full rounded-lg px-2 py-1.5 text-left transition focus-visible:outline-none focus-visible:ring-2\",\n                                                                    style: {\n                                                                        borderColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"80\") : \"\".concat(primaryColor, \"66\"),\n                                                                        backgroundColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"20\") : \"\".concat(primaryColor, \"20\"),\n                                                                        borderWidth: \"1px\",\n                                                                        \"--tw-ring-color\": primaryColor\n                                                                    },\n                                                                    onMouseEnter: (e)=>{\n                                                                        e.currentTarget.style.borderColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"99\") : \"\".concat(primaryColor, \"99\");\n                                                                        e.currentTarget.style.backgroundColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"30\") : \"\".concat(primaryColor, \"30\");\n                                                                    },\n                                                                    onMouseLeave: (e)=>{\n                                                                        e.currentTarget.style.borderColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"80\") : \"\".concat(primaryColor, \"66\");\n                                                                        e.currentTarget.style.backgroundColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"20\") : \"\".concat(primaryColor, \"20\");\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs font-semibold text-white\",\n                                                                            children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(new Date(slot.startDateTime), timezone, {\n                                                                                hour: \"numeric\",\n                                                                                minute: \"2-digit\"\n                                                                            })\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                            lineNumber: 895,\n                                                                            columnNumber: 39\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-white/70 mt-0.5 truncate\",\n                                                                            children: slot.staffName\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                            lineNumber: 898,\n                                                                            columnNumber: 39\n                                                                        }, this)\n                                                                    ]\n                                                                }, slot.id, true, {\n                                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                    lineNumber: 875,\n                                                                    columnNumber: 37\n                                                                }, this);\n                                                            })\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                            lineNumber: 871,\n                                                            columnNumber: 31\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"h-full rounded-lg bg-white/5 border border-white/5 py-1.5\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-[10px] text-white/20 text-center\",\n                                                                children: \"—\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                lineNumber: 907,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                            lineNumber: 906,\n                                                            columnNumber: 31\n                                                        }, this)\n                                                    }, dayIdx, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 869,\n                                                        columnNumber: 27\n                                                    }, this);\n                                                })\n                                            ]\n                                        }, hour, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 857,\n                                            columnNumber: 21\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 853,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 836,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 835,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 812,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 758,\n        columnNumber: 5\n    }, this);\n}\n_s1(AvailabilityStep, \"4TSl4BCFSPcIY68khkbi7X3vqV0=\");\n_c2 = AvailabilityStep;\nfunction CheckoutStep(props) {\n    _s2();\n    const { service, slot, onBack, customerName, setCustomerName, customerEmail, setCustomerEmail, customerPhone, setCustomerPhone, setupIntentClientSecret, setSetupIntentClientSecret, paymentMethodId, setPaymentMethodId, createdBookingId, setCreatedBookingId, createdBookingCode, setCreatedBookingCode, workspace, listPriceCents, giftCardState, policies, timezone, selectedService, selectedSlot, setCreatedBooking, setStep, toast, consentChecked, setConsentChecked, giftCardInput, setGiftCardInput, giftCardError, onApplyGiftCard, acceptedMethods, amountDueCents, isSubmitting, onSubmit, onOpenPolicies, business } = props;\n    // Create SetupIntent when user has filled required fields so payment form appears immediately\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Helper functions (defined later in file, but accessible here)\n        const isValidEmail = (email)=>/\\S+@\\S+\\.\\S+/.test(email);\n        const isValidPhone = (phone)=>phone.trim().length >= 7;\n        // Only create if we don't already have one and user has entered name, email, and phone\n        const hasRequiredFields = customerName.trim().length >= 2 && isValidEmail(customerEmail) && isValidPhone(customerPhone);\n        if (!setupIntentClientSecret && selectedService && selectedSlot && hasRequiredFields) {\n            // Create booking to get SetupIntent - this allows the payment form to show immediately\n            const createSetupIntent = async ()=>{\n                try {\n                    const apiPayload = {\n                        service_id: selectedService.id,\n                        staff_id: selectedSlot.staffId,\n                        start_at: selectedSlot.startDateTime,\n                        customer: {\n                            name: customerName.trim(),\n                            email: customerEmail.trim().toLowerCase(),\n                            phone: customerPhone.trim()\n                        },\n                        gift_card_code: giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.code\n                    };\n                    const response = await fetch(\"/api/public/\".concat(business.slug, \"/bookings\"), {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(apiPayload)\n                    });\n                    if (!response.ok) {\n                        // Don't show error if booking creation fails - user hasn't clicked confirm yet\n                        console.error(\"Failed to create SetupIntent:\", await response.text());\n                        return;\n                    }\n                    const apiResponse = await response.json();\n                    if (apiResponse.client_secret) {\n                        setSetupIntentClientSecret(apiResponse.client_secret);\n                        // Store booking IDs so we can use them when payment is confirmed\n                        if (apiResponse.booking_id) {\n                            setCreatedBookingId(apiResponse.booking_id);\n                        }\n                        if (apiResponse.booking_code) {\n                            setCreatedBookingCode(apiResponse.booking_code);\n                        }\n                    }\n                } catch (error) {\n                    console.error(\"Error creating SetupIntent:\", error);\n                // Don't show error to user - they haven't tried to submit yet\n                }\n            };\n            createSetupIntent();\n        }\n    }, [\n        setupIntentClientSecret,\n        selectedService,\n        selectedSlot,\n        customerName,\n        customerEmail,\n        customerPhone,\n        business.slug,\n        giftCardState,\n        setSetupIntentClientSecret,\n        setCreatedBookingId,\n        setCreatedBookingCode\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"grid gap-8 rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.2)] md:grid-cols-[1.4fr_1fr]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                        children: \"Step 3 \\xb7 Checkout\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1095,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"mt-2 font-display text-3xl text-white\",\n                                        children: service.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1096,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mt-1 text-sm text-white/60\",\n                                        children: [\n                                            formatDuration(service.durationMinutes),\n                                            \" \\xb7 \",\n                                            formatCurrency(listPriceCents),\n                                            \" — with\",\n                                            \" \",\n                                            slot.staffName\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1097,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1094,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                                variant: \"ghost\",\n                                onClick: onBack,\n                                className: \"inline-flex items-center gap-2 text-white/70\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1103,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Pick another slot\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1102,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1093,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid gap-4 md:grid-cols-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Full name\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                    value: customerName,\n                                    onChange: (event)=>setCustomerName(event.target.value),\n                                    placeholder: \"Jordan Blake\",\n                                    autoComplete: \"name\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1110,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1109,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Email\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                    type: \"email\",\n                                    value: customerEmail,\n                                    onChange: (event)=>setCustomerEmail(event.target.value),\n                                    placeholder: \"you@example.com\",\n                                    autoComplete: \"email\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1118,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1117,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Phone\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                    type: \"tel\",\n                                    value: customerPhone,\n                                    onChange: (event)=>setCustomerPhone(event.target.value),\n                                    placeholder: \"+1 555 010 2030\",\n                                    autoComplete: \"tel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1127,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1126,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Gift card or code\",\n                                helper: \"Optional — amount or percent off will apply immediately.\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_9__.Input, {\n                                                value: giftCardInput,\n                                                onChange: (event)=>setGiftCardInput(event.target.value),\n                                                placeholder: \"WELCOME120\",\n                                                className: \"flex-1 uppercase\",\n                                                autoCapitalize: \"characters\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1137,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                                                type: \"button\",\n                                                variant: \"outline\",\n                                                onClick: onApplyGiftCard,\n                                                children: \"Apply\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1144,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1136,\n                                        columnNumber: 13\n                                    }, this),\n                                    giftCardError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                        intent: \"error\",\n                                        className: \"mt-2\",\n                                        children: giftCardError\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1149,\n                                        columnNumber: 15\n                                    }, this) : null,\n                                    giftCardState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                        intent: \"success\",\n                                        className: \"mt-2 text-emerald-200\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                className: \"mr-1.5 inline h-4 w-4\",\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1155,\n                                                columnNumber: 17\n                                            }, this),\n                                            giftCardState.description,\n                                            \" (\",\n                                            giftCardState.code,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1154,\n                                        columnNumber: 15\n                                    }, this) : null\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1135,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1108,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-white/10 bg-black/60 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"flex items-center gap-2 text-sm font-semibold text-white\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1164,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Payment method — card saved now, charged later\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1163,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 text-xs text-white/50\",\n                                children: [\n                                    acceptedMethods.length > 0 ? \"\".concat(describeAcceptedMethods(acceptedMethods), \". \") : \"\",\n                                    \"A credit card is required for all bookings. Even if you plan to pay with cash, we store a card in case a policy fee applies (e.g., no-show fees).\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1167,\n                                columnNumber: 11\n                            }, this),\n                            setupIntentClientSecret ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.Elements, {\n                                    stripe: stripePromise,\n                                    options: {\n                                        clientSecret: setupIntentClientSecret,\n                                        appearance: {\n                                            theme: \"night\",\n                                            variables: {\n                                                colorPrimary: primaryColor,\n                                                colorBackground: \"#000000\",\n                                                colorText: \"#ffffff\",\n                                                colorDanger: \"#ef4444\",\n                                                fontFamily: \"system-ui, sans-serif\",\n                                                spacingUnit: \"4px\",\n                                                borderRadius: \"8px\"\n                                            }\n                                        }\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StripePaymentForm, {\n                                        onPaymentMethodReady: async (pmId)=>{\n                                            setPaymentMethodId(pmId);\n                                            // Once payment method is confirmed, proceed to confirmation\n                                            // The booking was already created by the API\n                                            if (selectedService && selectedSlot && createdBookingId) {\n                                                var _workspace_staff_find;\n                                                const booking = {\n                                                    id: createdBookingId,\n                                                    code: createdBookingCode || \"TITHI-\".concat(createdBookingId.slice(0, 8).toUpperCase()),\n                                                    status: \"pending\",\n                                                    serviceId: selectedService.id,\n                                                    serviceName: selectedService.name,\n                                                    categoryName: selectedService.categoryName,\n                                                    durationMinutes: selectedService.durationMinutes,\n                                                    startDateTime: selectedSlot.startDateTime,\n                                                    endDateTime: selectedSlot.endDateTime,\n                                                    staff: {\n                                                        id: selectedSlot.staffId,\n                                                        name: selectedSlot.staffName,\n                                                        color: ((_workspace_staff_find = workspace.staff.find((s)=>s.id === selectedSlot.staffId)) === null || _workspace_staff_find === void 0 ? void 0 : _workspace_staff_find.color) || \"#000000\"\n                                                    },\n                                                    customer: {\n                                                        name: customerName.trim(),\n                                                        email: customerEmail.trim().toLowerCase(),\n                                                        phone: customerPhone.trim()\n                                                    },\n                                                    payments: [],\n                                                    financials: {\n                                                        listPriceCents: listPriceCents,\n                                                        giftCardAmountCents: (giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) || 0,\n                                                        platformFeeCents: 0,\n                                                        stripeFeeEstimateCents: 0,\n                                                        netPayoutCents: 0,\n                                                        currency: \"usd\"\n                                                    },\n                                                    policyConsent: createPolicyConsent(policies),\n                                                    requiresAction: false\n                                                };\n                                                setCreatedBooking(booking);\n                                                setStep(\"confirmation\");\n                                                toast.pushToast({\n                                                    title: \"Booking confirmed\",\n                                                    description: \"\".concat(selectedService.name, \" on \").concat((0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(selectedSlot.startDateTime, timezone, {\n                                                        weekday: \"long\",\n                                                        month: \"short\",\n                                                        day: \"numeric\",\n                                                        hour: \"numeric\",\n                                                        minute: \"2-digit\"\n                                                    }), \". No charge yet—card saved securely.\"),\n                                                    intent: \"success\"\n                                                });\n                                            }\n                                        },\n                                        acceptedMethods: acceptedMethods,\n                                        businessSlug: business.slug,\n                                        bookingId: createdBookingId || \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1193,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1175,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1174,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                    className: \"text-white/60\",\n                                    children: 'Click \"Confirm booking\" below to set up your payment method. Your card will be saved securely but not charged.'\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1252,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1251,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                className: \"mt-2\",\n                                children: \"You're authorizing a card on file. Per Tithi's manual capture rules, nothing is charged until your appointment is completed or a policy fee applies.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1257,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1162,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col gap-4 rounded-3xl border border-white/10 bg-black/60 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        id: \"policy-consent\",\n                                        type: \"checkbox\",\n                                        checked: consentChecked,\n                                        onChange: (event)=>setConsentChecked(event.target.checked),\n                                        className: \"mt-1 h-5 w-5 rounded border-white/20 bg-black focus:ring-2\",\n                                        style: {\n                                            accentColor: primaryColor,\n                                            \"--tw-ring-color\": primaryColor\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1265,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"policy-consent\",\n                                        className: \"text-sm text-white/70\",\n                                        children: [\n                                            \"I agree to the cancellation, no-show, refund, and cash policies. My card is saved via Stripe for manual capture later.\",\n                                            \" \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: onOpenPolicies,\n                                                className: \"underline-offset-2 hover:underline\",\n                                                style: {\n                                                    color: primaryColor\n                                                },\n                                                children: \"View policies\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1279,\n                                                columnNumber: 15\n                                            }, this),\n                                            \".\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1276,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1264,\n                                columnNumber: 11\n                            }, this),\n                            !paymentMethodId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                                size: \"lg\",\n                                onClick: onSubmit,\n                                isLoading: isSubmitting,\n                                disabled: isSubmitting || !!setupIntentClientSecret,\n                                className: \"inline-flex items-center justify-center gap-2 text-base\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                        className: \"h-5 w-5\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1298,\n                                        columnNumber: 15\n                                    }, this),\n                                    setupIntentClientSecret ? \"Complete payment setup below\" : \"Confirm booking — no charge today\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1291,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                intent: \"success\",\n                                className: \"text-emerald-200\",\n                                children: \"Payment method saved! Your booking is complete.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1302,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1263,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1092,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"flex flex-col gap-4 rounded-3xl border border-white/10 bg-black/60 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                children: \"Summary\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1311,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"mt-2 font-display text-2xl text-white\",\n                                children: service.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1312,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-2 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1314,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(slot.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1313,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1322,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(slot.startDateTime, timezone, {\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    }),\n                                    \" \",\n                                    \"— \",\n                                    formatDuration(service.durationMinutes)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1321,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1330,\n                                        columnNumber: 13\n                                    }, this),\n                                    slot.staffName\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1329,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1310,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-t border-white/10 pt-4 text-sm text-white/60\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Service price\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1336,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-white\",\n                                        children: formatCurrency(listPriceCents)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1337,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1335,\n                                columnNumber: 11\n                            }, this),\n                            giftCardState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 flex items-center justify-between text-emerald-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Gift card (\",\n                                            giftCardState.code,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1341,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"-\",\n                                            formatCurrency(giftCardState.amountCents)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1342,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1340,\n                                columnNumber: 13\n                            }, this) : null,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 flex items-center justify-between text-base font-semibold text-white\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Due today\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1346,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: formatCurrency(amountDueCents)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1347,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1345,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                                className: \"mt-3\",\n                                children: \"This amount is authorized but not captured. Manual capture ensures you only charge customers after services are delivered or if a policy fee applies.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1349,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1334,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1309,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1091,\n        columnNumber: 5\n    }, this);\n}\n_s2(CheckoutStep, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c3 = CheckoutStep;\nfunction ConfirmationStep(param) {\n    let { booking, service, amountDueCents, policies, timezone, onBookAnother } = param;\n    var _service_name, _service_durationMinutes, _service_priceCents, _service_priceCents1, _service_priceCents2;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"rounded-3xl border border-emerald-400/40 bg-emerald-500/10 p-10 text-emerald-50 shadow-[0_0_80px_rgba(16,185,129,0.35)]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col gap-6 md:flex-row md:items-center md:justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"inline-flex items-center gap-2 rounded-full border border-emerald-400/50 bg-emerald-400/20 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-emerald-100\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1383,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Booking confirmed\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1382,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"mt-4 font-display text-4xl text-emerald-50\",\n                                children: (_service_name = service === null || service === void 0 ? void 0 : service.name) !== null && _service_name !== void 0 ? _service_name : booking.serviceName\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1386,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-2 text-sm text-emerald-100/80\",\n                                children: [\n                                    \"We emailed \",\n                                    booking.customer.email,\n                                    \" and will send reminders via SMS. Your card is saved but won’t be charged until the appointment is completed—or if a manual policy fee applies.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1389,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1381,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/50 bg-black/40 p-6 text-sm text-emerald-100/80\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1396,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(booking.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\",\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1395,\n                                columnNumber: 11\n                            }, this),\n                            booking.staff ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1407,\n                                        columnNumber: 15\n                                    }, this),\n                                    booking.staff.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1406,\n                                columnNumber: 13\n                            }, this) : null,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1412,\n                                        columnNumber: 13\n                                    }, this),\n                                    formatDuration((_service_durationMinutes = service === null || service === void 0 ? void 0 : service.durationMinutes) !== null && _service_durationMinutes !== void 0 ? _service_durationMinutes : booking.durationMinutes)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1411,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 border-t border-emerald-400/30 pt-3 text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Authorized\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1417,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: formatCurrency((_service_priceCents = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents !== void 0 ? _service_priceCents : booking.financials.listPriceCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1418,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1416,\n                                        columnNumber: 13\n                                    }, this),\n                                    amountDueCents < ((_service_priceCents1 = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents1 !== void 0 ? _service_priceCents1 : booking.financials.listPriceCents) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between text-emerald-200\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Gift card\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1422,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    \"-\",\n                                                    formatCurrency(((_service_priceCents2 = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents2 !== void 0 ? _service_priceCents2 : booking.financials.listPriceCents) - amountDueCents)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1423,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1421,\n                                        columnNumber: 15\n                                    }, this) : null,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 flex items-center justify-between text-base font-semibold text-emerald-50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Due after appointment\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1427,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: formatCurrency(amountDueCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1428,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1426,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1415,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1394,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1380,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 grid gap-6 md:grid-cols-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/40 bg-emerald-400/10 p-6 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-emerald-200/90\",\n                                children: \"What happens next\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1436,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"mt-3 space-y-2 text-emerald-100/80\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Check your email and SMS for confirmation details and reminders.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1438,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Reschedule or cancel at least 24h in advance to avoid policy fees.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1439,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Manual capture keeps money in your control—no charges run automatically.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1440,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1437,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1435,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/40 bg-black/40 p-6 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-emerald-200/90\",\n                                children: \"Policies snapshot\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1444,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"mt-3 space-y-2 text-emerald-100/80\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.cancellationPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1446,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.noShowPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1447,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.refundPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1448,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.cashPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1449,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1445,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1443,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1434,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 flex flex-wrap items-center gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                        variant: \"outline\",\n                        onClick: onBookAnother,\n                        className: \"inline-flex items-center gap-2 border-emerald-400/40 text-emerald-100 hover:border-emerald-300 hover:text-emerald-50\",\n                        children: \"Book another appointment\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1455,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-emerald-100/70\",\n                        children: [\n                            \"Need help? Reply to the confirmation email or text us at \",\n                            booking.customer.phone,\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1462,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1454,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1379,\n        columnNumber: 5\n    }, this);\n}\n_c4 = ConfirmationStep;\nfunction PolicyModal(param) {\n    let { policies, onClose, timezone } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/80 px-4 py-8\",\n        role: \"dialog\",\n        \"aria-modal\": \"true\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative max-h-[90vh] w-full max-w-3xl overflow-y-auto rounded-3xl border border-white/10 bg-white/10 p-8 backdrop-blur\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    onClick: onClose,\n                    className: \"absolute right-6 top-6 text-white/60 transition hover:text-white\",\n                    \"aria-label\": \"Close policies\",\n                    children: \"✕\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1486,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"font-display text-3xl text-white\",\n                    children: \"Booking policies\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1494,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-2 text-sm text-white/60\",\n                    children: [\n                        \"All times referenced align to \",\n                        timezone,\n                        \". Consent is required before submitting your booking.\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1495,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-6 space-y-5 text-sm leading-relaxed text-white/75\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cancellation policy\",\n                            body: policies.cancellationPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1499,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cancellation fees\",\n                            body: describeFee(policies.cancellationFeeType, policies.cancellationFeeValue)\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1500,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"No-show policy\",\n                            body: policies.noShowPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1501,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"No-show fee\",\n                            body: describeFee(policies.noShowFeeType, policies.noShowFeeValue)\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1502,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Refund policy\",\n                            body: policies.refundPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1503,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cash policy\",\n                            body: policies.cashPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1504,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1498,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 flex justify-end\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                        onClick: onClose,\n                        className: \"inline-flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1508,\n                                columnNumber: 13\n                            }, this),\n                            \"I understand\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1507,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1506,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n            lineNumber: 1485,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1480,\n        columnNumber: 5\n    }, this);\n}\n_c5 = PolicyModal;\nfunction StepIndicator(param) {\n    let { currentStep, onReset, primaryColor: primaryColor1 } = param;\n    const steps = [\n        {\n            id: \"catalog\",\n            label: \"Service\"\n        },\n        {\n            id: \"availability\",\n            label: \"Time\"\n        },\n        {\n            id: \"checkout\",\n            label: \"Checkout\"\n        },\n        {\n            id: \"confirmation\",\n            label: \"Done\"\n        }\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap items-center justify-between gap-3 rounded-3xl border border-white/10 bg-white/5 px-6 py-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-white/40\",\n                children: steps.map((step, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_11__.cn)(\"inline-flex h-8 w-8 items-center justify-center rounded-full border text-sm font-semibold\", currentStep === step.id ? \"text-white\" : \"border-white/20 bg-white/10 text-white/50\"),\n                                style: currentStep === step.id ? {\n                                    borderColor: primaryColor1,\n                                    backgroundColor: \"\".concat(primaryColor1, \"30\")\n                                } : undefined,\n                                children: index + 1\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1529,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: currentStep === step.id ? \"text-white\" : \"text-white/50\",\n                                children: step.label\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1543,\n                                columnNumber: 13\n                            }, this),\n                            index < steps.length - 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"h-px w-12 bg-white/10\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1547,\n                                columnNumber: 15\n                            }, this) : null\n                        ]\n                    }, step.id, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1528,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1526,\n                columnNumber: 7\n            }, this),\n            currentStep !== \"catalog\" && currentStep !== \"confirmation\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                variant: \"ghost\",\n                onClick: onReset,\n                className: \"text-white/70\",\n                children: \"Start over\"\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1553,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1525,\n        columnNumber: 5\n    }, this);\n}\n_c6 = StepIndicator;\nfunction Field(param) {\n    let { label, helper, children } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n        className: \"flex flex-col gap-2 text-sm text-white/70\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-semibold text-white\",\n                children: label\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1572,\n                columnNumber: 7\n            }, this),\n            children,\n            helper ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                className: \"text-[13px] text-white/40\",\n                children: helper\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1574,\n                columnNumber: 17\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1571,\n        columnNumber: 5\n    }, this);\n}\n_c7 = Field;\nfunction StaffPill(param) {\n    let { label, color, active, onClick } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"button\",\n        onClick: onClick,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_11__.cn)(\"rounded-full border px-4 py-2 text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black\", active ? \"border-white/60 bg-white/15 text-white\" : \"border-white/10 bg-white/5 text-white/60 hover:text-white/80\"),\n        style: active && color ? {\n            borderColor: color,\n            boxShadow: \"0 0 25px \".concat(color, \"33\")\n        } : undefined,\n        children: label\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1591,\n        columnNumber: 5\n    }, this);\n}\n_c8 = StaffPill;\nfunction PolicyBlock(param) {\n    let { title, body } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                children: title\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1608,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-2 text-sm text-white/70 leading-relaxed\",\n                children: body\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1609,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1607,\n        columnNumber: 5\n    }, this);\n}\n_c9 = PolicyBlock;\nfunction ConfettiOverlay() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"jsx-394d523ece4eb4fd\" + \" \" + \"pointer-events-none absolute inset-0 overflow-hidden\",\n        children: [\n            Array.from({\n                length: 150\n            }).map((_, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        left: \"\".concat(Math.random() * 100, \"%\"),\n                        animationDelay: \"\".concat(Math.random() * 0.5, \"s\"),\n                        backgroundColor: randomConfettiColor()\n                    },\n                    className: \"jsx-394d523ece4eb4fd\" + \" \" + \"confetti-piece\"\n                }, index, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1618,\n                    columnNumber: 9\n                }, this)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"394d523ece4eb4fd\",\n                children: \"@-webkit-keyframes confetti-fall{0%{-webkit-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-webkit-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@-moz-keyframes confetti-fall{0%{-moz-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-moz-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@-o-keyframes confetti-fall{0%{-o-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-o-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@keyframes confetti-fall{0%{-webkit-transform:translatey(-10vh)rotate(0deg);-moz-transform:translatey(-10vh)rotate(0deg);-o-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-webkit-transform:translatey(110vh)rotate(720deg);-moz-transform:translatey(110vh)rotate(720deg);-o-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}.confetti-piece.jsx-394d523ece4eb4fd{position:absolute;width:6px;height:12px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;opacity:0;-webkit-animation:confetti-fall 2.3s ease-in both;-moz-animation:confetti-fall 2.3s ease-in both;-o-animation:confetti-fall 2.3s ease-in both;animation:confetti-fall 2.3s ease-in both}\"\n            }, void 0, false, void 0, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1616,\n        columnNumber: 5\n    }, this);\n}\n_c10 = ConfettiOverlay;\nfunction randomConfettiColor() {\n    const palette = [\n        \"#5B64FF\",\n        \"#57D0FF\",\n        \"#FF9A8B\",\n        \"#FFD166\",\n        \"#8AFFCF\",\n        \"#C4A5FF\"\n    ];\n    return palette[Math.floor(Math.random() * palette.length)];\n}\nfunction formatDuration(minutes) {\n    if (minutes < 60) return \"\".concat(minutes, \" min\");\n    const hrs = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return mins === 0 ? \"\".concat(hrs, \" hr\") : \"\".concat(hrs, \" hr \").concat(mins, \" min\");\n}\nfunction formatCurrency(cents) {\n    return new Intl.NumberFormat(\"en-US\", {\n        style: \"currency\",\n        currency: \"USD\"\n    }).format(cents / 100);\n}\nfunction describeAcceptedMethods(methods) {\n    const unique = Array.from(new Set(methods));\n    const methodLabels = {\n        card: \"Credit & Debit Cards\",\n        cash: \"Cash\",\n        wallets: \"Digital Wallets (Apple Pay, Google Pay)\",\n        apple_pay: \"Apple Pay\",\n        \"apple-pay\": \"Apple Pay\",\n        google_pay: \"Google Pay\",\n        \"google-pay\": \"Google Pay\"\n    };\n    const labels = unique.map((method)=>methodLabels[method.toLowerCase()] || method.toUpperCase());\n    return labels.length > 0 ? \"Accepted: \".concat(labels.join(\", \")) : \"Accepted: Credit & Debit Cards\";\n}\nfunction describeFee(type, value) {\n    if (value <= 0) return \"No fee\";\n    return type === \"percent\" ? \"\".concat(value, \"% of the service price\") : formatCurrency(Math.round(value * 100));\n}\nfunction formatAddress(location) {\n    const parts = [\n        location.addressLine1,\n        location.addressLine2,\n        \"\".concat(location.city, \", \").concat(location.stateProvince),\n        location.country\n    ].filter(Boolean);\n    return parts.join(\" \\xb7 \");\n}\nfunction isValidEmail(email) {\n    return /\\S+@\\S+\\.\\S+/.test(email);\n}\nfunction isValidPhone(phone) {\n    return phone.trim().length >= 7;\n}\nfunction createPolicyConsent(policies) {\n    const hashBase = JSON.stringify(policies);\n    const hash = simpleHash(hashBase);\n    return {\n        hash,\n        acceptedAt: new Date().toISOString(),\n        ip: \"203.0.113.5\",\n        userAgent: navigator.userAgent\n    };\n}\nfunction simpleHash(input) {\n    let hash = 0;\n    for(let index = 0; index < input.length; index += 1){\n        hash = (hash << 5) - hash + input.charCodeAt(index);\n        hash |= 0;\n    }\n    return Math.abs(hash).toString(16);\n}\n// Stripe Payment Form Component\nfunction StripePaymentForm(param) {\n    let { onPaymentMethodReady, acceptedMethods, businessSlug, bookingId, createdBookingId, createdBookingCode, workspace, customerName, customerEmail, customerPhone, listPriceCents, giftCardState, policies, timezone, selectedService, selectedSlot, setCreatedBooking, setStep, toast } = param;\n    _s3();\n    const stripe = (0,_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.useStripe)();\n    const elements = (0,_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.useElements)();\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (!stripe || !elements) {\n            return;\n        }\n        setIsProcessing(true);\n        setError(null);\n        try {\n            // Confirm the SetupIntent\n            const { error: confirmError, setupIntent } = await stripe.confirmSetup({\n                elements,\n                redirect: \"if_required\"\n            });\n            if (confirmError) {\n                setError(confirmError.message || \"Failed to save payment method\");\n                setIsProcessing(false);\n                return;\n            }\n            if (setupIntent && setupIntent.payment_method) {\n                const pmId = typeof setupIntent.payment_method === \"string\" ? setupIntent.payment_method : setupIntent.payment_method.id;\n                onPaymentMethodReady(pmId);\n                setError(null);\n                // Create booking object and proceed to confirmation\n                if (selectedService && selectedSlot && createdBookingId) {\n                    var _workspace_staff_find;\n                    const booking = {\n                        id: createdBookingId,\n                        code: createdBookingCode || \"TITHI-\".concat(createdBookingId.slice(0, 8).toUpperCase()),\n                        status: \"pending\",\n                        serviceId: selectedService.id,\n                        serviceName: selectedService.name,\n                        categoryName: selectedService.categoryName,\n                        durationMinutes: selectedService.durationMinutes,\n                        startDateTime: selectedSlot.startDateTime,\n                        endDateTime: selectedSlot.endDateTime,\n                        staff: {\n                            id: selectedSlot.staffId,\n                            name: selectedSlot.staffName,\n                            color: ((_workspace_staff_find = workspace.staff.find((s)=>s.id === selectedSlot.staffId)) === null || _workspace_staff_find === void 0 ? void 0 : _workspace_staff_find.color) || \"#000000\"\n                        },\n                        customer: {\n                            name: customerName.trim(),\n                            email: customerEmail.trim().toLowerCase(),\n                            phone: customerPhone.trim()\n                        },\n                        payments: [],\n                        financials: {\n                            listPriceCents: listPriceCents,\n                            giftCardAmountCents: (giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) || 0,\n                            platformFeeCents: 0,\n                            stripeFeeEstimateCents: 0,\n                            netPayoutCents: 0,\n                            currency: \"usd\"\n                        },\n                        policyConsent: createPolicyConsent(policies),\n                        requiresAction: false\n                    };\n                    setCreatedBooking(booking);\n                    setStep(\"confirmation\");\n                    toast.pushToast({\n                        title: \"Booking confirmed\",\n                        description: \"\".concat(selectedService.name, \" on \").concat((0,_lib_timezone__WEBPACK_IMPORTED_MODULE_13__.formatInTimeZone)(selectedSlot.startDateTime, timezone, {\n                            weekday: \"long\",\n                            month: \"short\",\n                            day: \"numeric\",\n                            hour: \"numeric\",\n                            minute: \"2-digit\"\n                        }), \". No charge yet—card saved securely.\"),\n                        intent: \"success\"\n                    });\n                }\n            }\n        } catch (err) {\n            setError(err instanceof Error ? err.message : \"An error occurred\");\n        } finally{\n            setIsProcessing(false);\n        }\n    };\n    // Configure payment method types - card is ALWAYS required regardless of business settings\n    // This ensures card is always available as backup for no-show fees (even for cash payments)\n    const paymentMethodTypes = [\n        \"card\"\n    ];\n    // Map accepted methods to Stripe payment method types\n    // Note: card is always included above, so we only add additional methods\n    if (acceptedMethods.includes(\"apple_pay\") || acceptedMethods.includes(\"apple-pay\")) {\n        paymentMethodTypes.push(\"apple_pay\");\n    }\n    if (acceptedMethods.includes(\"google_pay\") || acceptedMethods.includes(\"google-pay\")) {\n        paymentMethodTypes.push(\"google_pay\");\n    }\n    // Also check for 'wallets' which might include both\n    if (acceptedMethods.includes(\"wallets\")) {\n        if (!paymentMethodTypes.includes(\"apple_pay\")) paymentMethodTypes.push(\"apple_pay\");\n        if (!paymentMethodTypes.includes(\"google_pay\")) paymentMethodTypes.push(\"google_pay\");\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"mt-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.PaymentElement, {\n                    options: {\n                        paymentMethodTypes: paymentMethodTypes,\n                        // Use tabs only if we have multiple payment methods, otherwise use default layout\n                        ...paymentMethodTypes.length > 1 ? {\n                            layout: \"tabs\"\n                        } : {}\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1890,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_8__.HelperText, {\n                    intent: \"error\",\n                    className: \"text-red-400 mt-2\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1898,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                    type: \"submit\",\n                    disabled: isProcessing || !stripe,\n                    isLoading: isProcessing,\n                    className: \"w-full mt-4\",\n                    children: isProcessing ? \"Saving payment method...\" : \"Save payment method\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1902,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n            lineNumber: 1889,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1888,\n        columnNumber: 5\n    }, this);\n}\n_s3(StripePaymentForm, \"ry5YNiexQ39a2DMSlb42IDsQbf4=\", false, function() {\n    return [\n        _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.useStripe,\n        _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_5__.useElements\n    ];\n});\n_c11 = StripePaymentForm;\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n$RefreshReg$(_c, \"PublicBookingExperience\");\n$RefreshReg$(_c1, \"CatalogStep\");\n$RefreshReg$(_c2, \"AvailabilityStep\");\n$RefreshReg$(_c3, \"CheckoutStep\");\n$RefreshReg$(_c4, \"ConfirmationStep\");\n$RefreshReg$(_c5, \"PolicyModal\");\n$RefreshReg$(_c6, \"StepIndicator\");\n$RefreshReg$(_c7, \"Field\");\n$RefreshReg$(_c8, \"StaffPill\");\n$RefreshReg$(_c9, \"PolicyBlock\");\n$RefreshReg$(_c10, \"ConfettiOverlay\");\n$RefreshReg$(_c11, \"StripePaymentForm\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3B1YmxpYy1ib29raW5nL2Jvb2tpbmctZmxvdy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXFEO0FBQ3RCO0FBa0JUO0FBQ3lCO0FBQzRDO0FBRTdDO0FBQ0U7QUFDUztBQUNYO0FBQ0c7QUFDaEI7QUFHNkU7QUFDNUQ7QUFFbEQsb0JBQW9CO0FBQ3BCLE1BQU1pQyxnQkFBZ0JiLDZEQUFVQSxDQUFDYyw2R0FBOEMsSUFBSTtBQWdCNUUsU0FBU0csd0JBQXdCLEtBSVQ7UUFKUyxFQUN0Q0MsUUFBUSxFQUNSQyxTQUFTLEVBQ1RDLGFBQWEsRUFDZ0IsR0FKUzs7SUFLdEMsTUFBTUMsUUFBUVosK0RBQVFBO0lBQ3RCLE1BQU0sQ0FBQ2EsTUFBTUMsUUFBUSxHQUFHekMsK0NBQVFBLENBQU87SUFDdkMsTUFBTSxDQUFDMEMsbUJBQW1CQyxxQkFBcUIsR0FBRzNDLCtDQUFRQSxDQUFnQjtJQUMxRSxNQUFNLENBQUM0QyxpQkFBaUJDLG1CQUFtQixHQUFHN0MsK0NBQVFBLENBQVM7SUFDL0QsTUFBTSxDQUFDOEMsY0FBY0MsZ0JBQWdCLEdBQUcvQywrQ0FBUUEsQ0FBa0M7SUFDbEYsTUFBTSxDQUFDZ0QsZUFBZUMsaUJBQWlCLEdBQUdqRCwrQ0FBUUEsQ0FBdUI7SUFDekUsTUFBTSxDQUFDa0QsZUFBZUMsaUJBQWlCLEdBQUduRCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNvRCxlQUFlQyxpQkFBaUIsR0FBR3JELCtDQUFRQSxDQUFnQjtJQUNsRSxNQUFNLENBQUNzRCxjQUFjQyxnQkFBZ0IsR0FBR3ZELCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3dELGVBQWVDLGlCQUFpQixHQUFHekQsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDMEQsZUFBZUMsaUJBQWlCLEdBQUczRCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUM0RCx5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QUksQ0FBQ3VULG1CQUFtQjNLLFFBQVEsQ0FBQyxlQUFlMkssbUJBQW1CdlQsSUFBSSxDQUFDO0lBQzFFO0lBRUEscUJBQ0UsOERBQUN3VDtRQUFLcE0sVUFBVTBMO1FBQWM1TixXQUFVO2tCQUN0Qyw0RUFBQ0Q7WUFBSUMsV0FBVTs7OEJBQ2IsOERBQUM3TSxtRUFBY0E7b0JBQ2JxVixTQUFTO3dCQUNQNkYsb0JBQW9CQTt3QkFDcEIsa0ZBQWtGO3dCQUNsRixHQUFJQSxtQkFBbUJ4VSxNQUFNLEdBQUcsSUFBSTs0QkFBRTBVLFFBQVE7d0JBQWdCLElBQUksQ0FBQyxDQUFDO29CQUN0RTs7Ozs7O2dCQUVEalQsdUJBQ0MsOERBQUM5SCxrRUFBVUE7b0JBQUM2SyxRQUFPO29CQUFRMkIsV0FBVTs4QkFDbEMxRTs7Ozs7OzhCQUdMLDhEQUFDL0gseURBQU1BO29CQUNMbVAsTUFBSztvQkFDTG9ILFVBQVUyRCxnQkFBZ0IsQ0FBQ2xGO29CQUMzQnhHLFdBQVcwTDtvQkFDWHpOLFdBQVU7OEJBRVR5TixlQUFlLDZCQUE2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLdkQ7SUFwTFNyRTs7UUErQ1FoVyw4REFBU0E7UUFDUEMsZ0VBQVdBOzs7T0FoRHJCK1YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvcHVibGljLWJvb2tpbmcvYm9va2luZy1mbG93LnRzeD9hYzk1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgSW1hZ2UgZnJvbSBcIm5leHQvaW1hZ2VcIjtcbmltcG9ydCB7XG4gIEFycm93TGVmdCxcbiAgQXJyb3dSaWdodCxcbiAgQ2FsZW5kYXJEYXlzLFxuICBDaGVjayxcbiAgQ2hlY2tDaXJjbGUyLFxuICBDaGV2cm9uTGVmdCxcbiAgQ2hldnJvblJpZ2h0LFxuICBDbG9jayxcbiAgQ3JlZGl0Q2FyZCxcbiAgR2lmdCxcbiAgTG9hZGVyMixcbiAgTWFwUGluLFxuICBQYXJ0eVBvcHBlcixcbiAgU2hpZWxkQ2hlY2ssXG4gIFNwYXJrbGVzLFxuICBVc2Vyc1xufSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyBsb2FkU3RyaXBlIH0gZnJvbSBcIkBzdHJpcGUvc3RyaXBlLWpzXCI7XG5pbXBvcnQgeyBFbGVtZW50cywgUGF5bWVudEVsZW1lbnQsIHVzZVN0cmlwZSwgdXNlRWxlbWVudHMgfSBmcm9tIFwiQHN0cmlwZS9yZWFjdC1zdHJpcGUtanNcIjtcblxuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2JhZGdlXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgSGVscGVyVGV4dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaGVscGVyLXRleHRcIjtcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RvYXN0XCI7XG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuaW1wb3J0IHR5cGUgeyBGYWtlQm9va2luZywgRmFrZUJ1c2luZXNzV29ya3NwYWNlIH0gZnJvbSBcIkAvbGliL2FkbWluLXdvcmtzcGFjZVwiO1xuaW1wb3J0IHR5cGUgeyBGYWtlQnVzaW5lc3MsIFB1YmxpY0Jvb2tpbmdQYXlsb2FkIH0gZnJvbSBcIkAvbGliL2Zha2UtYnVzaW5lc3NcIjtcbmltcG9ydCB7IGJ1aWxkRXhwYW5kZWRTbG90cywgZ3JvdXBTbG90c0J5RGF5LCB0eXBlIEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdCB9IGZyb20gXCJAL2xpYi9hdmFpbGFiaWxpdHktdXRpbHNcIjtcbmltcG9ydCB7IGZvcm1hdEluVGltZVpvbmUgfSBmcm9tIFwiQC9saWIvdGltZXpvbmVcIjtcblxuLy8gSW5pdGlhbGl6ZSBTdHJpcGVcbmNvbnN0IHN0cmlwZVByb21pc2UgPSBsb2FkU3RyaXBlKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NUUklQRV9QVUJMSVNIQUJMRV9LRVkgfHwgJycpO1xuXG50eXBlIFN0ZXAgPSBcImNhdGFsb2dcIiB8IFwiYXZhaWxhYmlsaXR5XCIgfCBcImNoZWNrb3V0XCIgfCBcImNvbmZpcm1hdGlvblwiO1xuXG5pbnRlcmZhY2UgUHVibGljQm9va2luZ0V4cGVyaWVuY2VQcm9wcyB7XG4gIGJ1c2luZXNzOiBGYWtlQnVzaW5lc3M7XG4gIHdvcmtzcGFjZTogRmFrZUJ1c2luZXNzV29ya3NwYWNlO1xuICByZWNvcmRCb29raW5nOiAocGF5bG9hZDogUHVibGljQm9va2luZ1BheWxvYWQpID0+IEZha2VCb29raW5nIHwgdW5kZWZpbmVkO1xufVxuXG5pbnRlcmZhY2UgR2lmdENhcmRTdGF0ZSB7XG4gIGNvZGU6IHN0cmluZztcbiAgYW1vdW50Q2VudHM6IG51bWJlcjtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFB1YmxpY0Jvb2tpbmdFeHBlcmllbmNlKHtcbiAgYnVzaW5lc3MsXG4gIHdvcmtzcGFjZSxcbiAgcmVjb3JkQm9va2luZ1xufTogUHVibGljQm9va2luZ0V4cGVyaWVuY2VQcm9wcykge1xuICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KCk7XG4gIGNvbnN0IFtzdGVwLCBzZXRTdGVwXSA9IHVzZVN0YXRlPFN0ZXA+KFwiY2F0YWxvZ1wiKTtcbiAgY29uc3QgW3NlbGVjdGVkU2VydmljZUlkLCBzZXRTZWxlY3RlZFNlcnZpY2VJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkU3RhZmZJZCwgc2V0U2VsZWN0ZWRTdGFmZklkXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJhbnlcIik7XG4gIGNvbnN0IFtzZWxlY3RlZFNsb3QsIHNldFNlbGVjdGVkU2xvdF0gPSB1c2VTdGF0ZTxFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2dpZnRDYXJkU3RhdGUsIHNldEdpZnRDYXJkU3RhdGVdID0gdXNlU3RhdGU8R2lmdENhcmRTdGF0ZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZ2lmdENhcmRJbnB1dCwgc2V0R2lmdENhcmRJbnB1dF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2dpZnRDYXJkRXJyb3IsIHNldEdpZnRDYXJkRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjdXN0b21lck5hbWUsIHNldEN1c3RvbWVyTmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1c3RvbWVyRW1haWwsIHNldEN1c3RvbWVyRW1haWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjdXN0b21lclBob25lLCBzZXRDdXN0b21lclBob25lXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2V0dXBJbnRlbnRDbGllbnRTZWNyZXQsIHNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcGF5bWVudE1ldGhvZElkLCBzZXRQYXltZW50TWV0aG9kSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjcmVhdGVkQm9va2luZ0lkLCBzZXRDcmVhdGVkQm9va2luZ0lkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY3JlYXRlZEJvb2tpbmdDb2RlLCBzZXRDcmVhdGVkQm9va2luZ0NvZGVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjb25zZW50Q2hlY2tlZCwgc2V0Q29uc2VudENoZWNrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNQb2xpY3lNb2RhbE9wZW4sIHNldElzUG9saWN5TW9kYWxPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzU3VibWl0dGluZywgc2V0SXNTdWJtaXR0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NyZWF0ZWRCb29raW5nLCBzZXRDcmVhdGVkQm9va2luZ10gPSB1c2VTdGF0ZTxGYWtlQm9va2luZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZmV0Y2hlZFNsb3RzLCBzZXRGZXRjaGVkU2xvdHNdID0gdXNlU3RhdGU8RXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90W10+KFtdKTtcbiAgY29uc3QgW2lzTG9hZGluZ0F2YWlsYWJpbGl0eSwgc2V0SXNMb2FkaW5nQXZhaWxhYmlsaXR5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2F2YWlsYWJpbGl0eUVycm9yLCBzZXRBdmFpbGFiaWxpdHlFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBzZWxlY3RlZFNlcnZpY2UgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZUlkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGZvciAoY29uc3QgY2F0ZWdvcnkgb2Ygd29ya3NwYWNlLmNhdGFsb2cpIHtcbiAgICAgIGNvbnN0IHNlcnZpY2UgPSBjYXRlZ29yeS5zZXJ2aWNlcy5maW5kKChzdmMpID0+IHN2Yy5pZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWQpO1xuICAgICAgaWYgKHNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5zZXJ2aWNlLFxuICAgICAgICAgIGNhdGVnb3J5TmFtZTogY2F0ZWdvcnkubmFtZSxcbiAgICAgICAgICBjYXRlZ29yeUNvbG9yOiBjYXRlZ29yeS5jb2xvclxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9LCBbc2VsZWN0ZWRTZXJ2aWNlSWQsIHdvcmtzcGFjZS5jYXRhbG9nXSk7XG5cbiAgLy8gRmV0Y2ggYXZhaWxhYmlsaXR5IGZyb20gQVBJIHdoZW4gc2VydmljZSBpcyBzZWxlY3RlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlIHx8IHN0ZXAgIT09IFwiYXZhaWxhYmlsaXR5XCIpIHtcbiAgICAgIHNldEZldGNoZWRTbG90cyhbXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hBdmFpbGFiaWxpdHkoKSB7XG4gICAgICBzZXRJc0xvYWRpbmdBdmFpbGFiaWxpdHkodHJ1ZSk7XG4gICAgICBzZXRBdmFpbGFiaWxpdHlFcnJvcihudWxsKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRmV0Y2ggYXZhaWxhYmlsaXR5IGZvciB0aGUgbmV4dCAxNCBkYXlzICgyIHdlZWtzKVxuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IGFsbFNsb3RzOiBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3RbXSA9IFtdO1xuICAgICAgICBjb25zdCB0aW1lem9uZSA9IHdvcmtzcGFjZS5pZGVudGl0eS5sb2NhdGlvbi50aW1lem9uZSB8fCBcIlVUQ1wiO1xuICAgICAgICBjb25zdCBkYXlGb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuLVVTXCIsIHsgXG4gICAgICAgICAgdGltZVpvbmU6IHRpbWV6b25lLCBcbiAgICAgICAgICB3ZWVrZGF5OiBcImxvbmdcIiBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE0OyBpKyspIHtcbiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodG9kYXkpO1xuICAgICAgICAgIGRhdGUuc2V0RGF0ZSh0b2RheS5nZXREYXRlKCkgKyBpKTtcbiAgICAgICAgICBjb25zdCBkYXRlU3RyID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07IC8vIFlZWVktTU0tRERcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICAgICAgYC9hcGkvcHVibGljLyR7YnVzaW5lc3Muc2x1Z30vYXZhaWxhYmlsaXR5P3NlcnZpY2VfaWQ9JHtzZWxlY3RlZFNlcnZpY2UuaWR9JmRhdGU9JHtkYXRlU3RyfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gZmV0Y2ggYXZhaWxhYmlsaXR5IGZvciAke2RhdGVTdHJ9OmAsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFtib29raW5nLWZsb3ddIEZldGNoZWQgYXZhaWxhYmlsaXR5IGZvciAke2RhdGVTdHJ9OmAsIHtcbiAgICAgICAgICAgICAgc2xvdHNDb3VudDogZGF0YS5zbG90cz8ubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgICAgIGhhc1Nsb3RzOiBBcnJheS5pc0FycmF5KGRhdGEuc2xvdHMpLFxuICAgICAgICAgICAgICBzYW1wbGVTbG90OiBkYXRhLnNsb3RzPy5bMF0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGRhdGEuc2xvdHMgJiYgQXJyYXkuaXNBcnJheShkYXRhLnNsb3RzKSkge1xuICAgICAgICAgICAgICAvLyBUcmFuc2Zvcm0gQVBJIHNsb3RzIHRvIEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdCBmb3JtYXRcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBzbG90IG9mIGRhdGEuc2xvdHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShzbG90LnN0YXJ0X2F0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoc2xvdC5lbmRfYXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRheUxhYmVsID0gZGF5Rm9ybWF0dGVyLmZvcm1hdChzdGFydERhdGUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEZpbmQgc3RhZmYgbWVtYmVyIHRvIGdldCBjb2xvclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YWZmTWVtYmVyID0gd29ya3NwYWNlLnN0YWZmLmZpbmQocyA9PiBzLmlkID09PSBzbG90LnN0YWZmX2lkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFmZkNvbG9yID0gc3RhZmZNZW1iZXI/LmNvbG9yIHx8IFwiIzAwMDAwMFwiO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGFsbFNsb3RzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgaWQ6IGAke3Nsb3Quc3RhZmZfaWR9LSR7c2xvdC5zdGFydF9hdH1gLFxuICAgICAgICAgICAgICAgICAgc2VydmljZUlkOiBzZWxlY3RlZFNlcnZpY2UuaWQsXG4gICAgICAgICAgICAgICAgICBzdGFmZklkOiBzbG90LnN0YWZmX2lkLFxuICAgICAgICAgICAgICAgICAgc3RhZmZOYW1lOiBzbG90LnN0YWZmX25hbWUsXG4gICAgICAgICAgICAgICAgICBzdGFmZkNvbG9yOiBzdGFmZkNvbG9yLFxuICAgICAgICAgICAgICAgICAgc3RhcnREYXRlVGltZTogc2xvdC5zdGFydF9hdCxcbiAgICAgICAgICAgICAgICAgIGVuZERhdGVUaW1lOiBzbG90LmVuZF9hdCxcbiAgICAgICAgICAgICAgICAgIGRheUxhYmVsOiBkYXlMYWJlbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbYm9va2luZy1mbG93XSBObyBzbG90cyBhcnJheSBpbiByZXNwb25zZSBmb3IgJHtkYXRlU3RyfTpgLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIGF2YWlsYWJpbGl0eSBmb3IgJHtkYXRlU3RyfTpgLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0RmV0Y2hlZFNsb3RzKGFsbFNsb3RzKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGF2YWlsYWJpbGl0eTonLCBlcnJvcik7XG4gICAgICAgIHNldEF2YWlsYWJpbGl0eUVycm9yKCdGYWlsZWQgdG8gbG9hZCBhdmFpbGFiaWxpdHkuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmdBdmFpbGFiaWxpdHkoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZldGNoQXZhaWxhYmlsaXR5KCk7XG4gIH0sIFtzZWxlY3RlZFNlcnZpY2UsIHN0ZXAsIGJ1c2luZXNzLnNsdWcsIHdvcmtzcGFjZS5zdGFmZiwgd29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uLnRpbWV6b25lXSk7XG5cbiAgY29uc3Qgc2VydmljZUF2YWlsYWJpbGl0eSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIFVzZSBmZXRjaGVkIHNsb3RzIGZyb20gQVBJIGluc3RlYWQgb2Ygd29ya3NwYWNlLmF2YWlsYWJpbGl0eVxuICAgIHJldHVybiBmZXRjaGVkU2xvdHM7XG4gIH0sIFtmZXRjaGVkU2xvdHNdKTtcblxuICBjb25zdCBncm91cGVkU2xvdHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSkgcmV0dXJuIHt9O1xuICAgIGNvbnN0IGZpbHRlcmVkID1cbiAgICAgIHNlbGVjdGVkU3RhZmZJZCA9PT0gXCJhbnlcIlxuICAgICAgICA/IHNlcnZpY2VBdmFpbGFiaWxpdHlcbiAgICAgICAgOiBzZXJ2aWNlQXZhaWxhYmlsaXR5LmZpbHRlcigoc2xvdCkgPT4gc2xvdC5zdGFmZklkID09PSBzZWxlY3RlZFN0YWZmSWQpO1xuICAgIHJldHVybiBncm91cFNsb3RzQnlEYXkoZmlsdGVyZWQsIHdvcmtzcGFjZS5pZGVudGl0eS5sb2NhdGlvbi50aW1lem9uZSB8fCBcIlVUQ1wiKTtcbiAgfSwgW1xuICAgIHNlcnZpY2VBdmFpbGFiaWxpdHksXG4gICAgc2VsZWN0ZWRTdGFmZklkLFxuICAgIHdvcmtzcGFjZS5pZGVudGl0eS5sb2NhdGlvbi50aW1lem9uZSxcbiAgICBzZWxlY3RlZFNlcnZpY2VcbiAgXSk7XG5cbiAgY29uc3QgbGlzdFByaWNlQ2VudHMgPSBzZWxlY3RlZFNlcnZpY2U/LnByaWNlQ2VudHMgPz8gMDtcbiAgY29uc3QgYXBwbGllZEdpZnRDYXJkQ2VudHMgPSBnaWZ0Q2FyZFN0YXRlPy5hbW91bnRDZW50cyA/PyAwO1xuICBjb25zdCBhbW91bnREdWVDZW50cyA9IE1hdGgubWF4KGxpc3RQcmljZUNlbnRzIC0gYXBwbGllZEdpZnRDYXJkQ2VudHMsIDApO1xuXG4gIC8vIENhcmQgaXMgYWx3YXlzIHJlcXVpcmVkIGZvciBhbGwgYm9va2luZ3MgKGV2ZW4gY2FzaCkgYXMgYmFja3VwIGZvciBuby1zaG93IGZlZXNcbiAgLy8gQnV0IHdlIGRpc3BsYXkgdGhlIGJ1c2luZXNzJ3MgYWNjZXB0ZWQgbWV0aG9kcyBmcm9tIG9uYm9hcmRpbmcgZm9yIGluZm9ybWF0aW9uXG4gIGNvbnN0IGJ1c2luZXNzQWNjZXB0ZWRNZXRob2RzID0gd29ya3NwYWNlLnBheW1lbnQuYWNjZXB0ZWRNZXRob2RzIHx8IFtdO1xuICBjb25zdCBhY2NlcHRlZE1ldGhvZHNGb3JEaXNwbGF5ID0gYnVzaW5lc3NBY2NlcHRlZE1ldGhvZHMubGVuZ3RoID4gMCBcbiAgICA/IGJ1c2luZXNzQWNjZXB0ZWRNZXRob2RzIFxuICAgIDogW1wiY2FyZFwiXTsgLy8gRGVmYXVsdCB0byBjYXJkIGlmIG5vIG1ldGhvZHMgc3BlY2lmaWVkXG5cbiAgY29uc3QgcG9saWNpZXMgPSB3b3Jrc3BhY2UucG9saWNpZXM7XG4gIGNvbnN0IHRpbWV6b25lID0gd29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uLnRpbWV6b25lIHx8IFwiVVRDXCI7XG5cbiAgY29uc3QgaGFuZGxlU2VsZWN0U2VydmljZSA9IChzZXJ2aWNlSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFNlbGVjdGVkU2VydmljZUlkKHNlcnZpY2VJZCk7XG4gICAgc2V0U2VsZWN0ZWRTdGFmZklkKFwiYW55XCIpO1xuICAgIHNldFNlbGVjdGVkU2xvdChudWxsKTtcbiAgICBzZXRTdGVwKFwiYXZhaWxhYmlsaXR5XCIpO1xuICAgIHNldEdpZnRDYXJkU3RhdGUobnVsbCk7XG4gICAgc2V0R2lmdENhcmRJbnB1dChcIlwiKTtcbiAgICBzZXRHaWZ0Q2FyZEVycm9yKG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNlbGVjdFNsb3QgPSAoc2xvdDogRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90KSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRTbG90KHNsb3QpO1xuICAgIHNldEdpZnRDYXJkU3RhdGUobnVsbCk7XG4gICAgc2V0R2lmdENhcmRJbnB1dChcIlwiKTtcbiAgICBzZXRHaWZ0Q2FyZEVycm9yKG51bGwpO1xuICAgIHNldFN0ZXAoXCJjaGVja291dFwiKTtcbiAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAsIGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFwcGx5R2lmdENhcmQgPSAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2UpIHJldHVybjtcbiAgICBjb25zdCBjb2RlID0gZ2lmdENhcmRJbnB1dC50cmltKCkudG9VcHBlckNhc2UoKTtcbiAgICBpZiAoY29kZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNldEdpZnRDYXJkRXJyb3IoXCJFbnRlciBhIGdpZnQgY2FyZCBjb2RlIHRvIGFwcGx5LlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvZ3JhbSA9IHdvcmtzcGFjZS5naWZ0Q2FyZHM7XG4gICAgaWYgKCFwcm9ncmFtLmNvbmZpZy5lbmFibGVkKSB7XG4gICAgICBzZXRHaWZ0Q2FyZEVycm9yKFwiR2lmdCBjYXJkcyBhcmUgbm90IGVuYWJsZWQgZm9yIHRoaXMgYnVzaW5lc3MuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhbGxDb2RlcyA9IG5ldyBTZXQoW1xuICAgICAgLi4ucHJvZ3JhbS5jb25maWcuZ2VuZXJhdGVkQ29kZXMubWFwKChlbnRyeSkgPT4gZW50cnkudG9VcHBlckNhc2UoKSksXG4gICAgICAuLi5wcm9ncmFtLmxlZGdlci5tYXAoKGVudHJ5KSA9PiBlbnRyeS5jb2RlLnRvVXBwZXJDYXNlKCkpXG4gICAgXSk7XG4gICAgaWYgKCFhbGxDb2Rlcy5oYXMoY29kZSkpIHtcbiAgICAgIHNldEdpZnRDYXJkRXJyb3IoXCJUaGF0IGNvZGUgaXMgbm90IHJlY29nbml6ZWQuIENoZWNrIHRoZSBzcGVsbGluZyBhbmQgdHJ5IGFnYWluLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYW1vdW50Q2VudHMgPVxuICAgICAgcHJvZ3JhbS5jb25maWcuYW1vdW50VHlwZSA9PT0gXCJhbW91bnRcIlxuICAgICAgICA/IHByb2dyYW0uY29uZmlnLmFtb3VudFZhbHVlXG4gICAgICAgIDogTWF0aC5yb3VuZCgoc2VsZWN0ZWRTZXJ2aWNlLnByaWNlQ2VudHMgKiBwcm9ncmFtLmNvbmZpZy5hbW91bnRWYWx1ZSkgLyAxMDApO1xuICAgIGNvbnN0IGFwcGxpZWRBbW91bnQgPSBNYXRoLm1pbihhbW91bnRDZW50cywgc2VsZWN0ZWRTZXJ2aWNlLnByaWNlQ2VudHMpO1xuICAgIGlmIChhcHBsaWVkQW1vdW50IDw9IDApIHtcbiAgICAgIHNldEdpZnRDYXJkRXJyb3IoXCJUaGlzIGdpZnQgY2FyZCBoYXMgbm8gYmFsYW5jZSByZW1haW5pbmcuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRHaWZ0Q2FyZEVycm9yKG51bGwpO1xuICAgIHNldEdpZnRDYXJkU3RhdGUoe1xuICAgICAgY29kZSxcbiAgICAgIGFtb3VudENlbnRzOiBhcHBsaWVkQW1vdW50LFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgIHByb2dyYW0uY29uZmlnLmFtb3VudFR5cGUgPT09IFwiYW1vdW50XCJcbiAgICAgICAgICA/IGAke2Zvcm1hdEN1cnJlbmN5KGFwcGxpZWRBbW91bnQpfSBhcHBsaWVkYFxuICAgICAgICAgIDogYCR7cHJvZ3JhbS5jb25maWcuYW1vdW50VmFsdWV9JSBvZmYgKCR7Zm9ybWF0Q3VycmVuY3koYXBwbGllZEFtb3VudCl9KWBcbiAgICB9KTtcbiAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgdGl0bGU6IFwiR2lmdCBjYXJkIGFwcGxpZWRcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBgV2UgZGVkdWN0ZWQgJHtmb3JtYXRDdXJyZW5jeShhcHBsaWVkQW1vdW50KX0gZnJvbSB0b2RheSdzIHRvdGFsLmAsXG4gICAgICBpbnRlbnQ6IFwic3VjY2Vzc1wiXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0Q2hlY2tvdXQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2UgfHwgIXNlbGVjdGVkU2xvdCkgcmV0dXJuO1xuICAgIGlmIChjdXN0b21lck5hbWUudHJpbSgpLmxlbmd0aCA8IDIpIHtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkFkZCB5b3VyIG5hbWVcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiV2UgbmVlZCB5b3VyIGZpcnN0IGFuZCBsYXN0IG5hbWUgdG8gcGVyc29uYWxpemUgbm90aWZpY2F0aW9ucy5cIixcbiAgICAgICAgaW50ZW50OiBcImVycm9yXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWRFbWFpbChjdXN0b21lckVtYWlsKSkge1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiRW50ZXIgYSB2YWxpZCBlbWFpbFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJXZSB1c2UgeW91ciBlbWFpbCBmb3IgY29uZmlybWF0aW9ucyBhbmQgcmVjZWlwdHMuXCIsXG4gICAgICAgIGludGVudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkUGhvbmUoY3VzdG9tZXJQaG9uZSkpIHtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIlBob25lIG51bWJlciByZXF1aXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBZGQgYSBwaG9uZSBudW1iZXIgc28gd2UgY2FuIHNlbmQgcmVtaW5kZXJzIG9yIHJlYWNoIHlvdSBhYm91dCBjaGFuZ2VzLlwiLFxuICAgICAgICBpbnRlbnQ6IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY29uc2VudENoZWNrZWQpIHtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkNvbnNlbnQgcmVxdWlyZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiUmV2aWV3IHRoZSBwb2xpY2llcyBhbmQgY29uZmlybSB5b3UgYWdyZWUgYmVmb3JlIGJvb2tpbmcuXCIsXG4gICAgICAgIGludGVudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgcGF5bWVudCBtZXRob2QgaXMgYWxyZWFkeSBjb25maXJtZWQsIGJvb2tpbmcgaXMgYWxyZWFkeSBjcmVhdGVkIGFuZCB3ZSdyZSBkb25lXG4gICAgaWYgKHBheW1lbnRNZXRob2RJZCAmJiBjcmVhdGVkQm9va2luZ0lkKSB7XG4gICAgICAvLyBCb29raW5nIGlzIGNvbXBsZXRlLCBzaG93IGNvbmZpcm1hdGlvblxuICAgICAgaWYgKHNlbGVjdGVkU2VydmljZSAmJiBzZWxlY3RlZFNsb3QpIHtcbiAgICAgICAgY29uc3QgYm9va2luZzogRmFrZUJvb2tpbmcgPSB7XG4gICAgICAgICAgaWQ6IGNyZWF0ZWRCb29raW5nSWQsXG4gICAgICAgICAgY29kZTogY3JlYXRlZEJvb2tpbmdDb2RlIHx8IGBUSVRISS0ke2NyZWF0ZWRCb29raW5nSWQuc2xpY2UoMCwgOCkudG9VcHBlckNhc2UoKX1gLFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgIHNlcnZpY2VJZDogc2VsZWN0ZWRTZXJ2aWNlLmlkLFxuICAgICAgICAgIHNlcnZpY2VOYW1lOiBzZWxlY3RlZFNlcnZpY2UubmFtZSxcbiAgICAgICAgICBjYXRlZ29yeU5hbWU6IHNlbGVjdGVkU2VydmljZS5jYXRlZ29yeU5hbWUsXG4gICAgICAgICAgZHVyYXRpb25NaW51dGVzOiBzZWxlY3RlZFNlcnZpY2UuZHVyYXRpb25NaW51dGVzLFxuICAgICAgICAgIHN0YXJ0RGF0ZVRpbWU6IHNlbGVjdGVkU2xvdC5zdGFydERhdGVUaW1lLFxuICAgICAgICAgIGVuZERhdGVUaW1lOiBzZWxlY3RlZFNsb3QuZW5kRGF0ZVRpbWUsXG4gICAgICAgICAgc3RhZmY6IHtcbiAgICAgICAgICAgIGlkOiBzZWxlY3RlZFNsb3Quc3RhZmZJZCxcbiAgICAgICAgICAgIG5hbWU6IHNlbGVjdGVkU2xvdC5zdGFmZk5hbWUsXG4gICAgICAgICAgICBjb2xvcjogd29ya3NwYWNlLnN0YWZmLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNsb3Quc3RhZmZJZCk/LmNvbG9yIHx8IFwiIzAwMDAwMFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY3VzdG9tZXI6IHtcbiAgICAgICAgICAgIG5hbWU6IGN1c3RvbWVyTmFtZS50cmltKCksXG4gICAgICAgICAgICBlbWFpbDogY3VzdG9tZXJFbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIHBob25lOiBjdXN0b21lclBob25lLnRyaW0oKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBheW1lbnRzOiBbXSxcbiAgICAgICAgICBmaW5hbmNpYWxzOiB7XG4gICAgICAgICAgICBsaXN0UHJpY2VDZW50czogbGlzdFByaWNlQ2VudHMsXG4gICAgICAgICAgICBnaWZ0Q2FyZEFtb3VudENlbnRzOiBnaWZ0Q2FyZFN0YXRlPy5hbW91bnRDZW50cyB8fCAwLFxuICAgICAgICAgICAgcGxhdGZvcm1GZWVDZW50czogMCxcbiAgICAgICAgICAgIHN0cmlwZUZlZUVzdGltYXRlQ2VudHM6IDAsXG4gICAgICAgICAgICBuZXRQYXlvdXRDZW50czogMCxcbiAgICAgICAgICAgIGN1cnJlbmN5OiAndXNkJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvbGljeUNvbnNlbnQ6IGNyZWF0ZVBvbGljeUNvbnNlbnQocG9saWNpZXMpLFxuICAgICAgICAgIHJlcXVpcmVzQWN0aW9uOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmcoYm9va2luZyk7XG4gICAgICAgIHNldFN0ZXAoXCJjb25maXJtYXRpb25cIik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUGF5bWVudCBtZXRob2QgbXVzdCBiZSBzZXQgdmlhIFN0cmlwZSBFbGVtZW50c1xuICAgIGlmICghcGF5bWVudE1ldGhvZElkKSB7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJQYXltZW50IG1ldGhvZCByZXF1aXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJQbGVhc2UgY29tcGxldGUgdGhlIHBheW1lbnQgZm9ybSBhYm92ZS4gWW91ciBjYXJkIHdpbGwgYmUgc2F2ZWQgc2VjdXJlbHkgYnV0IG5vdCBjaGFyZ2VkLlwiLFxuICAgICAgICBpbnRlbnQ6IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgaGF2ZSBwYXltZW50TWV0aG9kSWQgYnV0IG5vIGJvb2tpbmcgSUQsIHRoZSBib29raW5nIHdhcyBjcmVhdGVkIGluIHVzZUVmZmVjdFxuICAgIC8vIFdlIGp1c3QgbmVlZCB0byB3YWl0IGZvciB0aGUgcGF5bWVudCB0byBiZSBwcm9jZXNzZWQgKGl0IHNob3VsZCBhbHJlYWR5IGJlIGRvbmUpXG4gICAgaWYgKHBheW1lbnRNZXRob2RJZCAmJiAhY3JlYXRlZEJvb2tpbmdJZCkge1xuICAgICAgLy8gVGhpcyBzaG91bGRuJ3QgaGFwcGVuLCBidXQgaGFuZGxlIGl0IGdyYWNlZnVsbHlcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIlByb2Nlc3NpbmcgcGF5bWVudFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJQbGVhc2Ugd2FpdCB3aGlsZSB3ZSBjb21wbGV0ZSB5b3VyIGJvb2tpbmcuXCIsXG4gICAgICAgIGludGVudDogXCJpbmZvXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZXNldEZsb3cgPSAoKSA9PiB7XG4gICAgc2V0U3RlcChcImNhdGFsb2dcIik7XG4gICAgc2V0U2VsZWN0ZWRTZXJ2aWNlSWQobnVsbCk7XG4gICAgc2V0U2VsZWN0ZWRTdGFmZklkKFwiYW55XCIpO1xuICAgIHNldFNlbGVjdGVkU2xvdChudWxsKTtcbiAgICBzZXRHaWZ0Q2FyZFN0YXRlKG51bGwpO1xuICAgIHNldEdpZnRDYXJkSW5wdXQoXCJcIik7XG4gICAgc2V0R2lmdENhcmRFcnJvcihudWxsKTtcbiAgICBzZXRDdXN0b21lck5hbWUoXCJcIik7XG4gICAgc2V0Q3VzdG9tZXJFbWFpbChcIlwiKTtcbiAgICBzZXRDdXN0b21lclBob25lKFwiXCIpO1xuICAgIHNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0KG51bGwpO1xuICAgIHNldFBheW1lbnRNZXRob2RJZChudWxsKTtcbiAgICBzZXRDcmVhdGVkQm9va2luZ0lkKG51bGwpO1xuICAgIHNldENyZWF0ZWRCb29raW5nQ29kZShudWxsKTtcbiAgICBzZXRDb25zZW50Q2hlY2tlZChmYWxzZSk7XG4gICAgc2V0SXNQb2xpY3lNb2RhbE9wZW4oZmFsc2UpO1xuICAgIHNldENyZWF0ZWRCb29raW5nKG51bGwpO1xuICB9O1xuXG4gIC8vIEdldCBicmFuZGluZyBmcm9tIHdvcmtzcGFjZVxuICBjb25zdCBicmFuZGluZyA9IHdvcmtzcGFjZS5pZGVudGl0eS5icmFuZGluZztcbiAgY29uc3QgcHJpbWFyeUNvbG9yID0gYnJhbmRpbmc/LnByaW1hcnlDb2xvciB8fCBcIiM1QjY0RkZcIjtcbiAgY29uc3QgbG9nb1VybCA9IGJyYW5kaW5nPy5sb2dvVXJsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibGFjayB2aWEtc2xhdGUtOTUwIHRvLVsjMGIwZDFhXSB0ZXh0LXdoaXRlXCI+XG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIC16LTEwXCJcbiAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZDogYHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgdG9wLCAke3ByaW1hcnlDb2xvcn0yNSwgdHJhbnNwYXJlbnQgNjAlKWAgfX1cbiAgICAgIC8+XG4gICAgICB7c3RlcCA9PT0gXCJjb25maXJtYXRpb25cIiA/IDxDb25mZXR0aU92ZXJsYXkgLz4gOiBudWxsfVxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJteC1hdXRvIG1heC13LTV4bCBweC00IHB5LTEyIHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTYgbWQ6ZmxleC1yb3cgbWQ6aXRlbXMtc3RhcnQgbWQ6anVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIHsvKiBMb2dvIGFuZCBCdXNpbmVzcyBOYW1lICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgICB7bG9nb1VybCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSBoLTE2IHctMTYgZmxleC1zaHJpbmstMCBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBib3hTaGFkb3c6IGAwIDhweCAxNnB4IC04cHggJHtwcmltYXJ5Q29sb3J9NTVgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgIHNyYz17bG9nb1VybH1cbiAgICAgICAgICAgICAgICAgICAgYWx0PXtgJHt3b3Jrc3BhY2UuaWRlbnRpdHkuYnVzaW5lc3MuYnVzaW5lc3NOYW1lfSBsb2dvYH1cbiAgICAgICAgICAgICAgICAgICAgZmlsbFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgICAgICB1bm9wdGltaXplZFxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtZGlzcGxheSB0ZXh0LTR4bCBzbTp0ZXh0LTV4bFwiPlxuICAgICAgICAgICAgICAgICAge3dvcmtzcGFjZS5pZGVudGl0eS5idXNpbmVzcy5idXNpbmVzc05hbWV9XG4gICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICAgICAge3dvcmtzcGFjZS5pZGVudGl0eS5idXNpbmVzcy5kZXNjcmlwdGlvbiB8fCBcImJvb2tpbmcgYXBwIGZvciBsb2NhbCBidXNpbmVzc2VzXCJ9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEJhZGdlIGludGVudD1cImluZm9cIiBjbGFzc05hbWU9XCJ3LWZpdFwiPlxuICAgICAgICAgICAgICBNYW51YWwgY2FwdHVyZSDigJQgbm8gY2hhcmdlIGF0IGJvb2tpbmdcbiAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIG1heC13LTJ4bCB0ZXh0LWJhc2UgdGV4dC13aGl0ZS83MFwiPlxuICAgICAgICAgICAgICAgIFNlbGVjdCBhIHNlcnZpY2UsIGNob29zZSB0aGUgYmVzdCB0aW1lLCBhbmQgc2VjdXJlIHlvdXIgYXBwb2ludG1lbnQuIFlvdXIgY2FyZCBpcyBzdG9yZWQgc2VjdXJlbHkgYW5kIG9ubHkgY2hhcmdlZCBhZnRlciB0aGUgdmlzaXQgb3IgaWYgYSBwb2xpY3kgZmVlIGFwcGxpZXMuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTMgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMVwiPlxuICAgICAgICAgICAgICAgIDxNYXBQaW4gY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAge2Zvcm1hdEFkZHJlc3Mod29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uKX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTFcIj5cbiAgICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAgQWxsIHRpbWVzIHNob3duIGluIHt0aW1lem9uZX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTFcIj5cbiAgICAgICAgICAgICAgICA8U2hpZWxkQ2hlY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAgQ2FyZCBzYXZlZCBzZWN1cmVseSDigJQgY2FwdHVyZSBoYXBwZW5zIGxhdGVyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtjcmVhdGVkQm9va2luZyA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTQwMC8zMCBiZy1lbWVyYWxkLTUwMC8xMCBwLTYgdGV4dC1lbWVyYWxkLTEwMCBzaGFkb3ctWzBfMF80MHB4X3JnYmEoNTIsMjExLDE1MywwLjI1KV1cIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC1lbWVyYWxkLTIwMC83MFwiPlxuICAgICAgICAgICAgICAgIENvbmZpcm1hdGlvblxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgZm9udC1kaXNwbGF5IHRleHQtMnhsXCI+XG4gICAgICAgICAgICAgICAge3NlbGVjdGVkU2VydmljZT8ubmFtZSA/PyBjcmVhdGVkQm9va2luZy5zZXJ2aWNlTmFtZX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1lbWVyYWxkLTEwMC84MFwiPlxuICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKGNyZWF0ZWRCb29raW5nLnN0YXJ0RGF0ZVRpbWUsIHRpbWV6b25lLCB7XG4gICAgICAgICAgICAgICAgICB3ZWVrZGF5OiBcImxvbmdcIixcbiAgICAgICAgICAgICAgICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgICAgICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICAgICAgICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LXNtIHRleHQtZW1lcmFsZC0xMDAvODBcIj5cbiAgICAgICAgICAgICAgICBXZSBzZW50IGEgY29uZmlybWF0aW9uIGVtYWlsIHRvIHtjcmVhdGVkQm9va2luZy5jdXN0b21lci5lbWFpbH0uIE1hbnVhbCBjYXB0dXJlIGtlZXBzXG4gICAgICAgICAgICAgICAgeW91IGluIGNvbnRyb2zigJRub3RoaW5nIGNoYXJnZXMgdW5sZXNzIHlvdSBwcmVzcyBhIG1vbmV5IGJ1dHRvbi5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm14LWF1dG8gbWF4LXctNXhsIHB4LTQgcGItMTYgc206cHgtNiBsZzpweC04XCI+XG4gICAgICAgIDxTdGVwSW5kaWNhdG9yIGN1cnJlbnRTdGVwPXtzdGVwfSBvblJlc2V0PXtoYW5kbGVSZXNldEZsb3d9IHByaW1hcnlDb2xvcj17cHJpbWFyeUNvbG9yfSAvPlxuXG4gICAgICAgIHtzdGVwID09PSBcImNhdGFsb2dcIiA/IChcbiAgICAgICAgICA8Q2F0YWxvZ1N0ZXBcbiAgICAgICAgICAgIGNhdGFsb2c9e3dvcmtzcGFjZS5jYXRhbG9nfVxuICAgICAgICAgICAgb25TZWxlY3RTZXJ2aWNlPXtoYW5kbGVTZWxlY3RTZXJ2aWNlfVxuICAgICAgICAgICAgcHJpbWFyeUNvbG9yPXtwcmltYXJ5Q29sb3J9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge3N0ZXAgPT09IFwiYXZhaWxhYmlsaXR5XCIgJiYgc2VsZWN0ZWRTZXJ2aWNlID8gKFxuICAgICAgICAgIDxBdmFpbGFiaWxpdHlTdGVwXG4gICAgICAgICAgICBzZXJ2aWNlPXtzZWxlY3RlZFNlcnZpY2V9XG4gICAgICAgICAgICBzbG90c0J5RGF5PXtncm91cGVkU2xvdHN9XG4gICAgICAgICAgICBzZWxlY3RlZFN0YWZmSWQ9e3NlbGVjdGVkU3RhZmZJZH1cbiAgICAgICAgICAgIHNldFNlbGVjdGVkU3RhZmZJZD17c2V0U2VsZWN0ZWRTdGFmZklkfVxuICAgICAgICAgICAgb25CYWNrPXsoKSA9PiBzZXRTdGVwKFwiY2F0YWxvZ1wiKX1cbiAgICAgICAgICAgIG9uU2VsZWN0U2xvdD17aGFuZGxlU2VsZWN0U2xvdH1cbiAgICAgICAgICAgIHN0YWZmPXt3b3Jrc3BhY2Uuc3RhZmZ9XG4gICAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgICAgICBzdXBwb3J0RW1haWw9e3dvcmtzcGFjZS5pZGVudGl0eS5sb2NhdGlvbi5zdXBwb3J0RW1haWx9XG4gICAgICAgICAgICBpc0xvYWRpbmc9e2lzTG9hZGluZ0F2YWlsYWJpbGl0eX1cbiAgICAgICAgICAgIGVycm9yPXthdmFpbGFiaWxpdHlFcnJvcn1cbiAgICAgICAgICAvPlxuICAgICAgICApIDogbnVsbH1cblxuICAgICAgICB7c3RlcCA9PT0gXCJjaGVja291dFwiICYmIHNlbGVjdGVkU2VydmljZSAmJiBzZWxlY3RlZFNsb3QgPyAoXG4gICAgICAgICAgPENoZWNrb3V0U3RlcFxuICAgICAgICAgICAgc2VydmljZT17c2VsZWN0ZWRTZXJ2aWNlfVxuICAgICAgICAgICAgc2xvdD17c2VsZWN0ZWRTbG90fVxuICAgICAgICAgICAgb25CYWNrPXsoKSA9PiBzZXRTdGVwKFwiYXZhaWxhYmlsaXR5XCIpfVxuICAgICAgICAgICAgY3VzdG9tZXJOYW1lPXtjdXN0b21lck5hbWV9XG4gICAgICAgICAgICBzZXRDdXN0b21lck5hbWU9e3NldEN1c3RvbWVyTmFtZX1cbiAgICAgICAgICAgIGN1c3RvbWVyRW1haWw9e2N1c3RvbWVyRW1haWx9XG4gICAgICAgICAgICBzZXRDdXN0b21lckVtYWlsPXtzZXRDdXN0b21lckVtYWlsfVxuICAgICAgICAgICAgY3VzdG9tZXJQaG9uZT17Y3VzdG9tZXJQaG9uZX1cbiAgICAgICAgICAgIHNldEN1c3RvbWVyUGhvbmU9e3NldEN1c3RvbWVyUGhvbmV9XG4gICAgICAgICAgICBzZXR1cEludGVudENsaWVudFNlY3JldD17c2V0dXBJbnRlbnRDbGllbnRTZWNyZXR9XG4gICAgICAgICAgICBzZXRTZXR1cEludGVudENsaWVudFNlY3JldD17c2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXR9XG4gICAgICAgICAgICBwYXltZW50TWV0aG9kSWQ9e3BheW1lbnRNZXRob2RJZH1cbiAgICAgICAgICAgIHNldFBheW1lbnRNZXRob2RJZD17c2V0UGF5bWVudE1ldGhvZElkfVxuICAgICAgICAgICAgY3JlYXRlZEJvb2tpbmdJZD17Y3JlYXRlZEJvb2tpbmdJZH1cbiAgICAgICAgICAgIHNldENyZWF0ZWRCb29raW5nSWQ9e3NldENyZWF0ZWRCb29raW5nSWR9XG4gICAgICAgICAgICBjcmVhdGVkQm9va2luZ0NvZGU9e2NyZWF0ZWRCb29raW5nQ29kZX1cbiAgICAgICAgICAgIHNldENyZWF0ZWRCb29raW5nQ29kZT17c2V0Q3JlYXRlZEJvb2tpbmdDb2RlfVxuICAgICAgICAgICAgd29ya3NwYWNlPXt3b3Jrc3BhY2V9XG4gICAgICAgICAgICBjdXN0b21lck5hbWU9e2N1c3RvbWVyTmFtZX1cbiAgICAgICAgICAgIGN1c3RvbWVyRW1haWw9e2N1c3RvbWVyRW1haWx9XG4gICAgICAgICAgICBjdXN0b21lclBob25lPXtjdXN0b21lclBob25lfVxuICAgICAgICAgICAgbGlzdFByaWNlQ2VudHM9e2xpc3RQcmljZUNlbnRzfVxuICAgICAgICAgICAgZ2lmdENhcmRTdGF0ZT17Z2lmdENhcmRTdGF0ZX1cbiAgICAgICAgICAgIHBvbGljaWVzPXtwb2xpY2llc31cbiAgICAgICAgICAgIHRpbWV6b25lPXt0aW1lem9uZX1cbiAgICAgICAgICAgIHNlbGVjdGVkU2VydmljZT17c2VsZWN0ZWRTZXJ2aWNlfVxuICAgICAgICAgICAgc2VsZWN0ZWRTbG90PXtzZWxlY3RlZFNsb3R9XG4gICAgICAgICAgICBzZXRDcmVhdGVkQm9va2luZz17c2V0Q3JlYXRlZEJvb2tpbmd9XG4gICAgICAgICAgICBzZXRTdGVwPXtzZXRTdGVwfVxuICAgICAgICAgICAgdG9hc3Q9e3RvYXN0fVxuICAgICAgICAgICAgY29uc2VudENoZWNrZWQ9e2NvbnNlbnRDaGVja2VkfVxuICAgICAgICAgICAgc2V0Q29uc2VudENoZWNrZWQ9e3NldENvbnNlbnRDaGVja2VkfVxuICAgICAgICAgICAgZ2lmdENhcmRJbnB1dD17Z2lmdENhcmRJbnB1dH1cbiAgICAgICAgICAgIHNldEdpZnRDYXJkSW5wdXQ9e3NldEdpZnRDYXJkSW5wdXR9XG4gICAgICAgICAgICBnaWZ0Q2FyZEVycm9yPXtnaWZ0Q2FyZEVycm9yfVxuICAgICAgICAgICAgZ2lmdENhcmRTdGF0ZT17Z2lmdENhcmRTdGF0ZX1cbiAgICAgICAgICAgIG9uQXBwbHlHaWZ0Q2FyZD17aGFuZGxlQXBwbHlHaWZ0Q2FyZH1cbiAgICAgICAgICAgIGFjY2VwdGVkTWV0aG9kcz17YWNjZXB0ZWRNZXRob2RzRm9yRGlzcGxheX1cbiAgICAgICAgICAgIHBvbGljaWVzPXtwb2xpY2llc31cbiAgICAgICAgICAgIHRpbWV6b25lPXt0aW1lem9uZX1cbiAgICAgICAgICAgIGFtb3VudER1ZUNlbnRzPXthbW91bnREdWVDZW50c31cbiAgICAgICAgICAgIGxpc3RQcmljZUNlbnRzPXtsaXN0UHJpY2VDZW50c31cbiAgICAgICAgICAgIGlzU3VibWl0dGluZz17aXNTdWJtaXR0aW5nfVxuICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdENoZWNrb3V0fVxuICAgICAgICAgICAgb25PcGVuUG9saWNpZXM9eygpID0+IHNldElzUG9saWN5TW9kYWxPcGVuKHRydWUpfVxuICAgICAgICAgICAgYnVzaW5lc3M9e2J1c2luZXNzfVxuICAgICAgICAgIC8+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIHtzdGVwID09PSBcImNvbmZpcm1hdGlvblwiICYmIGNyZWF0ZWRCb29raW5nID8gKFxuICAgICAgICAgIDxDb25maXJtYXRpb25TdGVwXG4gICAgICAgICAgICBib29raW5nPXtjcmVhdGVkQm9va2luZ31cbiAgICAgICAgICAgIHNlcnZpY2U9e3NlbGVjdGVkU2VydmljZX1cbiAgICAgICAgICAgIGFtb3VudER1ZUNlbnRzPXthbW91bnREdWVDZW50c31cbiAgICAgICAgICAgIHBvbGljaWVzPXtwb2xpY2llc31cbiAgICAgICAgICAgIHRpbWV6b25lPXt0aW1lem9uZX1cbiAgICAgICAgICAgIG9uQm9va0Fub3RoZXI9e2hhbmRsZVJlc2V0Rmxvd31cbiAgICAgICAgICAvPlxuICAgICAgICApIDogbnVsbH1cbiAgICAgIDwvbWFpbj5cblxuICAgICAge2lzUG9saWN5TW9kYWxPcGVuID8gKFxuICAgICAgICA8UG9saWN5TW9kYWxcbiAgICAgICAgICBwb2xpY2llcz17cG9saWNpZXN9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0SXNQb2xpY3lNb2RhbE9wZW4oZmFsc2UpfVxuICAgICAgICAgIHRpbWV6b25lPXt0aW1lem9uZX1cbiAgICAgICAgLz5cbiAgICAgICkgOiBudWxsfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBDYXRhbG9nU3RlcCh7XG4gIGNhdGFsb2csXG4gIG9uU2VsZWN0U2VydmljZSxcbiAgcHJpbWFyeUNvbG9yXG59OiB7XG4gIGNhdGFsb2c6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcImNhdGFsb2dcIl07XG4gIG9uU2VsZWN0U2VydmljZTogKHNlcnZpY2VJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBwcmltYXJ5Q29sb3I6IHN0cmluZztcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJzcGFjZS15LTEyXCI+XG4gICAgICB7Y2F0YWxvZy5tYXAoKGNhdGVnb3J5KSA9PiAoXG4gICAgICAgIDxkaXYga2V5PXtjYXRlZ29yeS5pZH0gY2xhc3NOYW1lPVwic3BhY2UteS01XCI+XG4gICAgICAgICAgPGhlYWRlcj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzE1IGJnLXdoaXRlLzUgcHgtNCBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS81NVwiPlxuICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwiaC0zLjUgdy0zLjVcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICB7Y2F0ZWdvcnkubmFtZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LWJhc2UgdGV4dC13aGl0ZS83MCBtYXgtdy0yeGxcIj57Y2F0ZWdvcnkuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgIDwvaGVhZGVyPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNiBtZDpncmlkLWNvbHMtMlwiPlxuICAgICAgICAgICAge2NhdGVnb3J5LnNlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4gKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAga2V5PXtzZXJ2aWNlLmlkfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0U2VydmljZShzZXJ2aWNlLmlkKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJncm91cCBmbGV4IGZsZXgtY29sIGdhcC00IHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTYgdGV4dC1sZWZ0IHRyYW5zaXRpb24gaG92ZXI6Ym9yZGVyLXdoaXRlLzI1IGhvdmVyOmJnLXdoaXRlLzEwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1wcmltYXJ5LzcwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LWJsYWNrXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJmb250LWRpc3BsYXkgdGV4dC0yeGwgdGV4dC13aGl0ZVwiPntzZXJ2aWNlLm5hbWV9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj57c2VydmljZS5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMjVlbV0gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0RHVyYXRpb24oc2VydmljZS5kdXJhdGlvbk1pbnV0ZXMpfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtzZXJ2aWNlLmluc3RydWN0aW9ucyA/IChcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC13aGl0ZS80MFwiPntzZXJ2aWNlLmluc3RydWN0aW9uc308L3A+XG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC1hdXRvIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgICAgICAgIFN0YXJ0aW5nIGF0IDxzdHJvbmcgY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntmb3JtYXRDdXJyZW5jeShzZXJ2aWNlLnByaWNlQ2VudHMpfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBncm91cC1ob3Zlcjp0cmFuc2xhdGUteC0xIHRyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogcHJpbWFyeUNvbG9yIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFNlbGVjdCA8QXJyb3dSaWdodCBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApKX1cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59XG5cbmZ1bmN0aW9uIEF2YWlsYWJpbGl0eVN0ZXAoe1xuICBzZXJ2aWNlLFxuICBzbG90c0J5RGF5LFxuICBzZWxlY3RlZFN0YWZmSWQsXG4gIHNldFNlbGVjdGVkU3RhZmZJZCxcbiAgb25CYWNrLFxuICBvblNlbGVjdFNsb3QsXG4gIHN0YWZmLFxuICB0aW1lem9uZSxcbiAgc3VwcG9ydEVtYWlsLFxuICBpc0xvYWRpbmcsXG4gIGVycm9yXG59OiB7XG4gIHNlcnZpY2U6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlcjtcbiAgICBwcmljZUNlbnRzOiBudW1iZXI7XG4gICAgY2F0ZWdvcnlOYW1lOiBzdHJpbmc7XG4gICAgc3RhZmZJZHM6IHN0cmluZ1tdO1xuICB9O1xuICBzbG90c0J5RGF5OiBSZWNvcmQ8c3RyaW5nLCBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3RbXT47XG4gIHNlbGVjdGVkU3RhZmZJZDogc3RyaW5nO1xuICBzZXRTZWxlY3RlZFN0YWZmSWQ6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkJhY2s6ICgpID0+IHZvaWQ7XG4gIG9uU2VsZWN0U2xvdDogKHNsb3Q6IEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdCkgPT4gdm9pZDtcbiAgc3RhZmY6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInN0YWZmXCJdO1xuICB0aW1lem9uZTogc3RyaW5nO1xuICBzdXBwb3J0RW1haWw/OiBzdHJpbmc7XG4gIGlzTG9hZGluZz86IGJvb2xlYW47XG4gIGVycm9yPzogc3RyaW5nIHwgbnVsbDtcbn0pIHtcbiAgY29uc3QgW2N1cnJlbnRXZWVrU3RhcnQsIHNldEN1cnJlbnRXZWVrU3RhcnRdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkYXlPZldlZWsgPSB0b2RheS5nZXREYXkoKTtcbiAgICBjb25zdCBkaWZmID0gdG9kYXkuZ2V0RGF0ZSgpIC0gZGF5T2ZXZWVrOyAvLyBHZXQgU3VuZGF5IG9mIHRoaXMgd2Vla1xuICAgIGNvbnN0IHN1bmRheSA9IG5ldyBEYXRlKHRvZGF5LnNldERhdGUoZGlmZikpO1xuICAgIHN1bmRheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICByZXR1cm4gc3VuZGF5O1xuICB9KTtcblxuICBjb25zdCBzdGFmZk9wdGlvbnMgPSBzdGFmZi5maWx0ZXIoKG1lbWJlcikgPT4gc2VydmljZS5zdGFmZklkcy5pbmNsdWRlcyhtZW1iZXIuaWQpKTtcbiAgY29uc3QgdG90YWxTbG90cyA9IE9iamVjdC52YWx1ZXMoc2xvdHNCeURheSkucmVkdWNlKChzdW0sIGVudHJpZXMpID0+IHN1bSArIGVudHJpZXMubGVuZ3RoLCAwKTtcblxuICAvLyBHZW5lcmF0ZSBob3VycyBmcm9tIDggQU0gdG8gOCBQTVxuICBjb25zdCBob3VycyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEzIH0sIChfLCBpKSA9PiBpICsgOCk7IC8vIDggQU0gdG8gOCBQTVxuXG4gIC8vIEdlbmVyYXRlIGRheXMgb2YgdGhlIHdlZWtcbiAgY29uc3Qgd2Vla0RheXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBkYXlzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjdXJyZW50V2Vla1N0YXJ0KTtcbiAgICAgIGRhdGUuc2V0RGF0ZShjdXJyZW50V2Vla1N0YXJ0LmdldERhdGUoKSArIGkpO1xuICAgICAgZGF5cy5wdXNoKGRhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gZGF5cztcbiAgfSwgW2N1cnJlbnRXZWVrU3RhcnRdKTtcblxuICAvLyBHcm91cCBzbG90cyBieSBkYXkgYW5kIGhvdXIsIHJlbW92aW5nIGR1cGxpY2F0ZXNcbiAgY29uc3Qgc2xvdHNCeURheUFuZEhvdXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBncm91cGVkOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8bnVtYmVyLCBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3RbXT4+ID0ge307XG4gICAgXG4gICAgLy8gRmxhdHRlbiBhbGwgc2xvdHMgZnJvbSBhbGwgZGF5c1xuICAgIGNvbnN0IGFsbFNsb3RzID0gT2JqZWN0LnZhbHVlcyhzbG90c0J5RGF5KS5mbGF0KCk7XG4gICAgXG4gICAgYWxsU2xvdHMuZm9yRWFjaChzbG90ID0+IHtcbiAgICAgIGNvbnN0IHNsb3REYXRlID0gbmV3IERhdGUoc2xvdC5zdGFydERhdGVUaW1lKTtcbiAgICAgIGNvbnN0IGRhdGVLZXkgPSBmb3JtYXRJblRpbWVab25lKHNsb3REYXRlLCB0aW1lem9uZSwgXCJ5eXl5LU1NLWRkXCIpO1xuICAgICAgY29uc3QgaG91ciA9IGZvcm1hdEluVGltZVpvbmUoc2xvdERhdGUsIHRpbWV6b25lLCB7IGhvdXI6IFwibnVtZXJpY1wiLCBob3VyMTI6IGZhbHNlIH0pO1xuICAgICAgY29uc3QgaG91ck51bSA9IHBhcnNlSW50KGhvdXIsIDEwKTtcbiAgICAgIFxuICAgICAgLy8gT25seSBpbmNsdWRlIHNsb3RzIHRoYXQgYXJlIGluIHRoZSBjdXJyZW50IHdlZWtcbiAgICAgIGNvbnN0IGlzSW5DdXJyZW50V2VlayA9IHdlZWtEYXlzLnNvbWUoZGF5ID0+IHtcbiAgICAgICAgY29uc3QgZGF5S2V5ID0gZm9ybWF0SW5UaW1lWm9uZShkYXksIHRpbWV6b25lLCBcInl5eXktTU0tZGRcIik7XG4gICAgICAgIHJldHVybiBkYXlLZXkgPT09IGRhdGVLZXk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFpc0luQ3VycmVudFdlZWspIHJldHVybjtcbiAgICAgIFxuICAgICAgaWYgKCFncm91cGVkW2RhdGVLZXldKSB7XG4gICAgICAgIGdyb3VwZWRbZGF0ZUtleV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dKSB7XG4gICAgICAgIGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0gPSBbXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIGR1cGxpY2F0ZXMgKHNhbWUgaG91ciwgc2FtZSBzdGFmZiwgc2FtZSBkYXRlKVxuICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLnNvbWUoXG4gICAgICAgIGV4aXN0aW5nID0+IGV4aXN0aW5nLnN0YWZmSWQgPT09IHNsb3Quc3RhZmZJZFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xuICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLnB1c2goc2xvdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGdyb3VwZWQ7XG4gIH0sIFtzbG90c0J5RGF5LCB3ZWVrRGF5cywgdGltZXpvbmVdKTtcblxuICBjb25zdCBuYXZpZ2F0ZVdlZWsgPSAoZGlyZWN0aW9uOiAncHJldicgfCAnbmV4dCcpID0+IHtcbiAgICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoY3VycmVudFdlZWtTdGFydCk7XG4gICAgbmV3RGF0ZS5zZXREYXRlKG5ld0RhdGUuZ2V0RGF0ZSgpICsgKGRpcmVjdGlvbiA9PT0gJ25leHQnID8gNyA6IC03KSk7XG4gICAgc2V0Q3VycmVudFdlZWtTdGFydChuZXdEYXRlKTtcbiAgfTtcblxuICBjb25zdCBtb250aFllYXIgPSBmb3JtYXRJblRpbWVab25lKHdlZWtEYXlzWzBdLCB0aW1lem9uZSwgeyBtb250aDogXCJsb25nXCIsIHllYXI6IFwibnVtZXJpY1wiIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHAtOCBzaGFkb3ctWzBfMF82MHB4X3JnYmEoOTEsMTAwLDI1NSwwLjE1KV1cIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtNCBtZDpmbGV4LXJvdyBtZDppdGVtcy1jZW50ZXIgbWQ6anVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS80MFwiPlN0ZXAgMiDCtyBDaG9vc2UgeW91ciB0aW1lPC9wPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJtdC0yIGZvbnQtZGlzcGxheSB0ZXh0LTN4bCB0ZXh0LXdoaXRlXCI+e3NlcnZpY2UubmFtZX08L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICB7Zm9ybWF0Q3VycmVuY3koc2VydmljZS5wcmljZUNlbnRzKX0gwrcge2Zvcm1hdER1cmF0aW9uKHNlcnZpY2UuZHVyYXRpb25NaW51dGVzKX0g4oCUIEFsbCBzbG90c1xuICAgICAgICAgICAgc2hvd24gaW4ge3RpbWV6b25lfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgb25DbGljaz17b25CYWNrfSBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC13aGl0ZS83MFwiPlxuICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgQmFjayB0byBzZXJ2aWNlc1xuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgIDxTdGFmZlBpbGxcbiAgICAgICAgICBsYWJlbD1cIkkgZG9uJ3QgbWluZFwiXG4gICAgICAgICAgYWN0aXZlPXtzZWxlY3RlZFN0YWZmSWQgPT09IFwiYW55XCJ9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRTdGFmZklkKFwiYW55XCIpfVxuICAgICAgICAvPlxuICAgICAgICB7c3RhZmZPcHRpb25zLm1hcCgobWVtYmVyKSA9PiAoXG4gICAgICAgICAgPFN0YWZmUGlsbFxuICAgICAgICAgICAga2V5PXttZW1iZXIuaWR9XG4gICAgICAgICAgICBsYWJlbD17bWVtYmVyLm5hbWV9XG4gICAgICAgICAgICBjb2xvcj17bWVtYmVyLmNvbG9yfVxuICAgICAgICAgICAgYWN0aXZlPXtzZWxlY3RlZFN0YWZmSWQgPT09IG1lbWJlci5pZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkU3RhZmZJZChtZW1iZXIuaWQpfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay82MCBwLTggdGV4dC1jZW50ZXIgdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cIm14LWF1dG8gaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC13aGl0ZS80MFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LWJhc2VcIj5Mb2FkaW5nIGF2YWlsYWJpbGl0eS4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogZXJyb3IgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzIwIGJnLXJlZC01MDAvMTAgcC04IHRleHQtY2VudGVyIHRleHQtcmVkLTIwMFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmFzZVwiPntlcnJvcn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IHRvdGFsU2xvdHMgPT09IDAgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay82MCBwLTggdGV4dC1jZW50ZXIgdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmFzZVwiPk5vIGF2YWlsYWJpbGl0eSBmb3VuZCBpbiB0aGUgbmV4dCB0d28gd2Vla3MuPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgVHJ5IHNlbGVjdGluZyBhIGRpZmZlcmVudCBzdGFmZiBtZW1iZXIgb3IgY29udGFjdCB1cyBhdHtcIiBcIn1cbiAgICAgICAgICAgIDxhIGhyZWY9e2BtYWlsdG86JHtzdXBwb3J0RW1haWwgPz8gXCJzdXBwb3J0QHRpdGhpLmNvbVwifWB9IGNsYXNzTmFtZT1cInVuZGVybGluZVwiPlxuICAgICAgICAgICAgICB7c3VwcG9ydEVtYWlsID8/IFwic3VwcG9ydEB0aXRoaS5jb21cIn1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIC5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xMFwiPlxuICAgICAgICAgIHsvKiBXZWVrIE5hdmlnYXRpb24gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBuYXZpZ2F0ZVdlZWsoJ3ByZXYnKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCBob3Zlcjp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPnttb250aFllYXJ9PC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBuYXZpZ2F0ZVdlZWsoJ25leHQnKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCBob3Zlcjp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIENhbGVuZGFyIEdyaWQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG9cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctZnVsbFwiPlxuICAgICAgICAgICAgICB7LyogRGF5IEhlYWRlcnMgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtOCBnYXAtMiBib3JkZXItYiBib3JkZXItd2hpdGUvMTAgcGItMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtd2hpdGUvNjBcIj5UaW1lPC9kaXY+XG4gICAgICAgICAgICAgICAge3dlZWtEYXlzLm1hcCgoZGF5LCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUoZGF5LCB0aW1lem9uZSwgeyB3ZWVrZGF5OiBcInNob3J0XCIgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShkYXksIHRpbWV6b25lLCB7IGRheTogXCJudW1lcmljXCIgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogSG91ciBSb3dzICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAge2hvdXJzLm1hcCgoaG91cikgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaG91ckxhYmVsID0gaG91ciA9PT0gMTIgPyAnMTIgUE0nIDogaG91ciA+IDEyID8gYCR7aG91ciAtIDEyfSBQTWAgOiBgJHtob3VyfSBBTWA7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aG91cn0gY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtOCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC14cyB0ZXh0LXdoaXRlLzYwIHB5LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtob3VyTGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge3dlZWtEYXlzLm1hcCgoZGF5LCBkYXlJZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNsb3RzRm9ySG91ciA9IHNsb3RzQnlEYXlBbmRIb3VyW2RhdGVLZXldPy5baG91cl0gfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFNsb3RzID0gc2VsZWN0ZWRTdGFmZklkID09PSBcImFueVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gc2xvdHNGb3JIb3VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogc2xvdHNGb3JIb3VyLmZpbHRlcihzbG90ID0+IHNsb3Quc3RhZmZJZCA9PT0gc2VsZWN0ZWRTdGFmZklkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2RheUlkeH0gY2xhc3NOYW1lPVwicHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXJlZFNsb3RzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmlsdGVyZWRTbG90cy5tYXAoKHNsb3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFmZk1lbWJlciA9IHN0YWZmLmZpbmQocyA9PiBzLmlkID09PSBzbG90LnN0YWZmSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17c2xvdC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0U2xvdChzbG90KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQtbGcgcHgtMiBweS0xLjUgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBzdGFmZk1lbWJlcj8uY29sb3IgPyBgJHtzdGFmZk1lbWJlci5jb2xvcn04MGAgOiBgJHtwcmltYXJ5Q29sb3J9NjZgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogc3RhZmZNZW1iZXI/LmNvbG9yID8gYCR7c3RhZmZNZW1iZXIuY29sb3J9MjBgIDogYCR7cHJpbWFyeUNvbG9yfTIwYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogJzFweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy0tdHctcmluZy1jb2xvcic6IHByaW1hcnlDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yID0gc3RhZmZNZW1iZXI/LmNvbG9yID8gYCR7c3RhZmZNZW1iZXIuY29sb3J9OTlgIDogYCR7cHJpbWFyeUNvbG9yfTk5YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc3RhZmZNZW1iZXI/LmNvbG9yID8gYCR7c3RhZmZNZW1iZXIuY29sb3J9MzBgIDogYCR7cHJpbWFyeUNvbG9yfTMwYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJDb2xvciA9IHN0YWZmTWVtYmVyPy5jb2xvciA/IGAke3N0YWZmTWVtYmVyLmNvbG9yfTgwYCA6IGAke3ByaW1hcnlDb2xvcn02NmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHN0YWZmTWVtYmVyPy5jb2xvciA/IGAke3N0YWZmTWVtYmVyLmNvbG9yfTIwYCA6IGAke3ByaW1hcnlDb2xvcn0yMGA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUobmV3IERhdGUoc2xvdC5zdGFydERhdGVUaW1lKSwgdGltZXpvbmUsIHsgaG91cjogXCJudW1lcmljXCIsIG1pbnV0ZTogXCIyLWRpZ2l0XCIgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC13aGl0ZS83MCBtdC0wLjUgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2xvdC5zdGFmZk5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIHJvdW5kZWQtbGcgYmctd2hpdGUvNSBib3JkZXIgYm9yZGVyLXdoaXRlLzUgcHktMS41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtd2hpdGUvMjAgdGV4dC1jZW50ZXJcIj7igJQ8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ2hlY2tvdXRTdGVwKHByb3BzOiB7XG4gIHNlcnZpY2U6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlcjtcbiAgICBwcmljZUNlbnRzOiBudW1iZXI7XG4gICAgY2F0ZWdvcnlOYW1lOiBzdHJpbmc7XG4gIH07XG4gIHNsb3Q6IEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdDtcbiAgb25CYWNrOiAoKSA9PiB2b2lkO1xuICBjdXN0b21lck5hbWU6IHN0cmluZztcbiAgc2V0Q3VzdG9tZXJOYW1lOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcbiAgY3VzdG9tZXJFbWFpbDogc3RyaW5nO1xuICBzZXRDdXN0b21lckVtYWlsOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcbiAgY3VzdG9tZXJQaG9uZTogc3RyaW5nO1xuICBzZXRDdXN0b21lclBob25lOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcbiAgc2V0dXBJbnRlbnRDbGllbnRTZWNyZXQ6IHN0cmluZyB8IG51bGw7XG4gIHNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0OiAodmFsdWU6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIHBheW1lbnRNZXRob2RJZDogc3RyaW5nIHwgbnVsbDtcbiAgc2V0UGF5bWVudE1ldGhvZElkOiAodmFsdWU6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGNyZWF0ZWRCb29raW5nSWQ6IHN0cmluZyB8IG51bGw7XG4gIHNldENyZWF0ZWRCb29raW5nSWQ6ICh2YWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgY3JlYXRlZEJvb2tpbmdDb2RlOiBzdHJpbmcgfCBudWxsO1xuICBzZXRDcmVhdGVkQm9va2luZ0NvZGU6ICh2YWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgd29ya3NwYWNlOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2U7XG4gIGN1c3RvbWVyTmFtZTogc3RyaW5nO1xuICBjdXN0b21lckVtYWlsOiBzdHJpbmc7XG4gIGN1c3RvbWVyUGhvbmU6IHN0cmluZztcbiAgbGlzdFByaWNlQ2VudHM6IG51bWJlcjtcbiAgZ2lmdENhcmRTdGF0ZTogR2lmdENhcmRTdGF0ZSB8IG51bGw7XG4gIHBvbGljaWVzOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJwb2xpY2llc1wiXTtcbiAgdGltZXpvbmU6IHN0cmluZztcbiAgc2VsZWN0ZWRTZXJ2aWNlOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZHVyYXRpb25NaW51dGVzOiBudW1iZXI7XG4gICAgcHJpY2VDZW50czogbnVtYmVyO1xuICAgIGNhdGVnb3J5TmFtZTogc3RyaW5nO1xuICB9IHwgdW5kZWZpbmVkO1xuICBzZWxlY3RlZFNsb3Q6IEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdCB8IG51bGw7XG4gIHNldENyZWF0ZWRCb29raW5nOiAoYm9va2luZzogRmFrZUJvb2tpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBzZXRTdGVwOiAoc3RlcDogU3RlcCkgPT4gdm9pZDtcbiAgdG9hc3Q6IFJldHVyblR5cGU8dHlwZW9mIHVzZVRvYXN0PjtcbiAgY29uc2VudENoZWNrZWQ6IGJvb2xlYW47XG4gIHNldENvbnNlbnRDaGVja2VkOiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIGdpZnRDYXJkSW5wdXQ6IHN0cmluZztcbiAgc2V0R2lmdENhcmRJbnB1dDogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGdpZnRDYXJkRXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIGdpZnRDYXJkU3RhdGU6IEdpZnRDYXJkU3RhdGUgfCBudWxsO1xuICBvbkFwcGx5R2lmdENhcmQ6ICgpID0+IHZvaWQ7XG4gIGFjY2VwdGVkTWV0aG9kczogc3RyaW5nW107XG4gIHBvbGljaWVzOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJwb2xpY2llc1wiXTtcbiAgdGltZXpvbmU6IHN0cmluZztcbiAgYW1vdW50RHVlQ2VudHM6IG51bWJlcjtcbiAgbGlzdFByaWNlQ2VudHM6IG51bWJlcjtcbiAgaXNTdWJtaXR0aW5nOiBib29sZWFuO1xuICBvblN1Ym1pdDogKCkgPT4gdm9pZDtcbiAgb25PcGVuUG9saWNpZXM6ICgpID0+IHZvaWQ7XG4gIGJ1c2luZXNzOiBGYWtlQnVzaW5lc3M7XG59KSB7XG4gIGNvbnN0IHtcbiAgICBzZXJ2aWNlLFxuICAgIHNsb3QsXG4gICAgb25CYWNrLFxuICAgIGN1c3RvbWVyTmFtZSxcbiAgICBzZXRDdXN0b21lck5hbWUsXG4gICAgY3VzdG9tZXJFbWFpbCxcbiAgICBzZXRDdXN0b21lckVtYWlsLFxuICAgIGN1c3RvbWVyUGhvbmUsXG4gICAgc2V0Q3VzdG9tZXJQaG9uZSxcbiAgICBzZXR1cEludGVudENsaWVudFNlY3JldCxcbiAgICBzZXRTZXR1cEludGVudENsaWVudFNlY3JldCxcbiAgICBwYXltZW50TWV0aG9kSWQsXG4gICAgc2V0UGF5bWVudE1ldGhvZElkLFxuICAgIGNyZWF0ZWRCb29raW5nSWQsXG4gICAgc2V0Q3JlYXRlZEJvb2tpbmdJZCxcbiAgICBjcmVhdGVkQm9va2luZ0NvZGUsXG4gICAgc2V0Q3JlYXRlZEJvb2tpbmdDb2RlLFxuICAgIHdvcmtzcGFjZSxcbiAgICBsaXN0UHJpY2VDZW50cyxcbiAgICBnaWZ0Q2FyZFN0YXRlLFxuICAgIHBvbGljaWVzLFxuICAgIHRpbWV6b25lLFxuICAgIHNlbGVjdGVkU2VydmljZSxcbiAgICBzZWxlY3RlZFNsb3QsXG4gICAgc2V0Q3JlYXRlZEJvb2tpbmcsXG4gICAgc2V0U3RlcCxcbiAgICB0b2FzdCxcbiAgICBjb25zZW50Q2hlY2tlZCxcbiAgICBzZXRDb25zZW50Q2hlY2tlZCxcbiAgICBnaWZ0Q2FyZElucHV0LFxuICAgIHNldEdpZnRDYXJkSW5wdXQsXG4gICAgZ2lmdENhcmRFcnJvcixcbiAgICBvbkFwcGx5R2lmdENhcmQsXG4gICAgYWNjZXB0ZWRNZXRob2RzLFxuICAgIGFtb3VudER1ZUNlbnRzLFxuICAgIGlzU3VibWl0dGluZyxcbiAgICBvblN1Ym1pdCxcbiAgICBvbk9wZW5Qb2xpY2llcyxcbiAgICBidXNpbmVzc1xuICB9ID0gcHJvcHM7XG5cbiAgLy8gQ3JlYXRlIFNldHVwSW50ZW50IHdoZW4gdXNlciBoYXMgZmlsbGVkIHJlcXVpcmVkIGZpZWxkcyBzbyBwYXltZW50IGZvcm0gYXBwZWFycyBpbW1lZGlhdGVseVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEhlbHBlciBmdW5jdGlvbnMgKGRlZmluZWQgbGF0ZXIgaW4gZmlsZSwgYnV0IGFjY2Vzc2libGUgaGVyZSlcbiAgICBjb25zdCBpc1ZhbGlkRW1haWwgPSAoZW1haWw6IHN0cmluZykgPT4gL1xcUytAXFxTK1xcLlxcUysvLnRlc3QoZW1haWwpO1xuICAgIGNvbnN0IGlzVmFsaWRQaG9uZSA9IChwaG9uZTogc3RyaW5nKSA9PiBwaG9uZS50cmltKCkubGVuZ3RoID49IDc7XG4gICAgXG4gICAgLy8gT25seSBjcmVhdGUgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIG9uZSBhbmQgdXNlciBoYXMgZW50ZXJlZCBuYW1lLCBlbWFpbCwgYW5kIHBob25lXG4gICAgY29uc3QgaGFzUmVxdWlyZWRGaWVsZHMgPSBjdXN0b21lck5hbWUudHJpbSgpLmxlbmd0aCA+PSAyICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWRFbWFpbChjdXN0b21lckVtYWlsKSAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkUGhvbmUoY3VzdG9tZXJQaG9uZSk7XG4gICAgXG4gICAgaWYgKCFzZXR1cEludGVudENsaWVudFNlY3JldCAmJiBzZWxlY3RlZFNlcnZpY2UgJiYgc2VsZWN0ZWRTbG90ICYmIGhhc1JlcXVpcmVkRmllbGRzKSB7XG4gICAgICAvLyBDcmVhdGUgYm9va2luZyB0byBnZXQgU2V0dXBJbnRlbnQgLSB0aGlzIGFsbG93cyB0aGUgcGF5bWVudCBmb3JtIHRvIHNob3cgaW1tZWRpYXRlbHlcbiAgICAgIGNvbnN0IGNyZWF0ZVNldHVwSW50ZW50ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGFwaVBheWxvYWQgPSB7XG4gICAgICAgICAgICBzZXJ2aWNlX2lkOiBzZWxlY3RlZFNlcnZpY2UuaWQsXG4gICAgICAgICAgICBzdGFmZl9pZDogc2VsZWN0ZWRTbG90LnN0YWZmSWQsXG4gICAgICAgICAgICBzdGFydF9hdDogc2VsZWN0ZWRTbG90LnN0YXJ0RGF0ZVRpbWUsXG4gICAgICAgICAgICBjdXN0b21lcjoge1xuICAgICAgICAgICAgICBuYW1lOiBjdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgICAgICBlbWFpbDogY3VzdG9tZXJFbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgcGhvbmU6IGN1c3RvbWVyUGhvbmUudHJpbSgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2lmdF9jYXJkX2NvZGU6IGdpZnRDYXJkU3RhdGU/LmNvZGUsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvcHVibGljLyR7YnVzaW5lc3Muc2x1Z30vYm9va2luZ3NgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShhcGlQYXlsb2FkKSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIC8vIERvbid0IHNob3cgZXJyb3IgaWYgYm9va2luZyBjcmVhdGlvbiBmYWlscyAtIHVzZXIgaGFzbid0IGNsaWNrZWQgY29uZmlybSB5ZXRcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgU2V0dXBJbnRlbnQ6JywgYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBhcGlSZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoYXBpUmVzcG9uc2UuY2xpZW50X3NlY3JldCkge1xuICAgICAgICAgICAgc2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXQoYXBpUmVzcG9uc2UuY2xpZW50X3NlY3JldCk7XG4gICAgICAgICAgICAvLyBTdG9yZSBib29raW5nIElEcyBzbyB3ZSBjYW4gdXNlIHRoZW0gd2hlbiBwYXltZW50IGlzIGNvbmZpcm1lZFxuICAgICAgICAgICAgaWYgKGFwaVJlc3BvbnNlLmJvb2tpbmdfaWQpIHtcbiAgICAgICAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmdJZChhcGlSZXNwb25zZS5ib29raW5nX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcGlSZXNwb25zZS5ib29raW5nX2NvZGUpIHtcbiAgICAgICAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmdDb2RlKGFwaVJlc3BvbnNlLmJvb2tpbmdfY29kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIFNldHVwSW50ZW50OicsIGVycm9yKTtcbiAgICAgICAgICAvLyBEb24ndCBzaG93IGVycm9yIHRvIHVzZXIgLSB0aGV5IGhhdmVuJ3QgdHJpZWQgdG8gc3VibWl0IHlldFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjcmVhdGVTZXR1cEludGVudCgpO1xuICAgIH1cbiAgfSwgW3NldHVwSW50ZW50Q2xpZW50U2VjcmV0LCBzZWxlY3RlZFNlcnZpY2UsIHNlbGVjdGVkU2xvdCwgY3VzdG9tZXJOYW1lLCBjdXN0b21lckVtYWlsLCBjdXN0b21lclBob25lLCBidXNpbmVzcy5zbHVnLCBnaWZ0Q2FyZFN0YXRlLCBzZXRTZXR1cEludGVudENsaWVudFNlY3JldCwgc2V0Q3JlYXRlZEJvb2tpbmdJZCwgc2V0Q3JlYXRlZEJvb2tpbmdDb2RlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJncmlkIGdhcC04IHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTggc2hhZG93LVswXzBfNjBweF9yZ2JhKDkxLDEwMCwyNTUsMC4yKV0gbWQ6Z3JpZC1jb2xzLVsxLjRmcl8xZnJdXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy1bMC4zNWVtXSB0ZXh0LXdoaXRlLzQwXCI+U3RlcCAzIMK3IENoZWNrb3V0PC9wPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cIm10LTIgZm9udC1kaXNwbGF5IHRleHQtM3hsIHRleHQtd2hpdGVcIj57c2VydmljZS5uYW1lfTwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAge2Zvcm1hdER1cmF0aW9uKHNlcnZpY2UuZHVyYXRpb25NaW51dGVzKX0gwrcge2Zvcm1hdEN1cnJlbmN5KGxpc3RQcmljZUNlbnRzKX0g4oCUIHdpdGh7XCIgXCJ9XG4gICAgICAgICAgICAgIHtzbG90LnN0YWZmTmFtZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIG9uQ2xpY2s9e29uQmFja30gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICBQaWNrIGFub3RoZXIgc2xvdFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTQgbWQ6Z3JpZC1jb2xzLTJcIj5cbiAgICAgICAgICA8RmllbGQgbGFiZWw9XCJGdWxsIG5hbWVcIj5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17Y3VzdG9tZXJOYW1lfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRDdXN0b21lck5hbWUoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJKb3JkYW4gQmxha2VcIlxuICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJuYW1lXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9GaWVsZD5cbiAgICAgICAgICA8RmllbGQgbGFiZWw9XCJFbWFpbFwiPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21lckVtYWlsfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRDdXN0b21lckVtYWlsKGV2ZW50LnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieW91QGV4YW1wbGUuY29tXCJcbiAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPVwiZW1haWxcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0ZpZWxkPlxuICAgICAgICAgIDxGaWVsZCBsYWJlbD1cIlBob25lXCI+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRlbFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21lclBob25lfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRDdXN0b21lclBob25lKGV2ZW50LnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiKzEgNTU1IDAxMCAyMDMwXCJcbiAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPVwidGVsXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9GaWVsZD5cbiAgICAgICAgICA8RmllbGQgbGFiZWw9XCJHaWZ0IGNhcmQgb3IgY29kZVwiIGhlbHBlcj1cIk9wdGlvbmFsIOKAlCBhbW91bnQgb3IgcGVyY2VudCBvZmYgd2lsbCBhcHBseSBpbW1lZGlhdGVseS5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICB2YWx1ZT17Z2lmdENhcmRJbnB1dH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRHaWZ0Q2FyZElucHV0KGV2ZW50LnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJXRUxDT01FMTIwXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgdXBwZXJjYXNlXCJcbiAgICAgICAgICAgICAgICBhdXRvQ2FwaXRhbGl6ZT1cImNoYXJhY3RlcnNcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJidXR0b25cIiB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e29uQXBwbHlHaWZ0Q2FyZH0+XG4gICAgICAgICAgICAgICAgQXBwbHlcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtnaWZ0Q2FyZEVycm9yID8gKFxuICAgICAgICAgICAgICA8SGVscGVyVGV4dCBpbnRlbnQ9XCJlcnJvclwiIGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgICAgICB7Z2lmdENhcmRFcnJvcn1cbiAgICAgICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICB7Z2lmdENhcmRTdGF0ZSA/IChcbiAgICAgICAgICAgICAgPEhlbHBlclRleHQgaW50ZW50PVwic3VjY2Vzc1wiIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1lbWVyYWxkLTIwMFwiPlxuICAgICAgICAgICAgICAgIDxHaWZ0IGNsYXNzTmFtZT1cIm1yLTEuNSBpbmxpbmUgaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAge2dpZnRDYXJkU3RhdGUuZGVzY3JpcHRpb259ICh7Z2lmdENhcmRTdGF0ZS5jb2RlfSlcbiAgICAgICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC9GaWVsZD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzYwIHAtNlwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICA8Q3JlZGl0Q2FyZCBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIFBheW1lbnQgbWV0aG9kIOKAlCBjYXJkIHNhdmVkIG5vdywgY2hhcmdlZCBsYXRlclxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIHRleHQteHMgdGV4dC13aGl0ZS81MFwiPlxuICAgICAgICAgICAge2FjY2VwdGVkTWV0aG9kcy5sZW5ndGggPiAwIFxuICAgICAgICAgICAgICA/IGAke2Rlc2NyaWJlQWNjZXB0ZWRNZXRob2RzKGFjY2VwdGVkTWV0aG9kcyl9LiBgIFxuICAgICAgICAgICAgICA6ICcnfUEgY3JlZGl0IGNhcmQgaXMgcmVxdWlyZWQgZm9yIGFsbCBib29raW5ncy4gRXZlbiBpZiB5b3UgcGxhbiB0byBwYXkgd2l0aCBjYXNoLCB3ZSBzdG9yZSBhIGNhcmRcbiAgICAgICAgICAgIGluIGNhc2UgYSBwb2xpY3kgZmVlIGFwcGxpZXMgKGUuZy4sIG5vLXNob3cgZmVlcykuXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHtzZXR1cEludGVudENsaWVudFNlY3JldCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICA8RWxlbWVudHNcbiAgICAgICAgICAgICAgICBzdHJpcGU9e3N0cmlwZVByb21pc2V9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17e1xuICAgICAgICAgICAgICAgICAgY2xpZW50U2VjcmV0OiBzZXR1cEludGVudENsaWVudFNlY3JldCxcbiAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhlbWU6ICduaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yUHJpbWFyeTogcHJpbWFyeUNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yQmFja2dyb3VuZDogJyMwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yVGV4dDogJyNmZmZmZmYnLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yRGFuZ2VyOiAnI2VmNDQ0NCcsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ3N5c3RlbS11aSwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgICAgICAgICAgc3BhY2luZ1VuaXQ6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U3RyaXBlUGF5bWVudEZvcm1cbiAgICAgICAgICAgICAgICAgIG9uUGF5bWVudE1ldGhvZFJlYWR5PXthc3luYyAocG1JZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFBheW1lbnRNZXRob2RJZChwbUlkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25jZSBwYXltZW50IG1ldGhvZCBpcyBjb25maXJtZWQsIHByb2NlZWQgdG8gY29uZmlybWF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBib29raW5nIHdhcyBhbHJlYWR5IGNyZWF0ZWQgYnkgdGhlIEFQSVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRTZXJ2aWNlICYmIHNlbGVjdGVkU2xvdCAmJiBjcmVhdGVkQm9va2luZ0lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9va2luZzogRmFrZUJvb2tpbmcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogY3JlYXRlZEJvb2tpbmdJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNyZWF0ZWRCb29raW5nQ29kZSB8fCBgVElUSEktJHtjcmVhdGVkQm9va2luZ0lkLnNsaWNlKDAsIDgpLnRvVXBwZXJDYXNlKCl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZUlkOiBzZWxlY3RlZFNlcnZpY2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogc2VsZWN0ZWRTZXJ2aWNlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeU5hbWU6IHNlbGVjdGVkU2VydmljZS5jYXRlZ29yeU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbk1pbnV0ZXM6IHNlbGVjdGVkU2VydmljZS5kdXJhdGlvbk1pbnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGVUaW1lOiBzZWxlY3RlZFNsb3Quc3RhcnREYXRlVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZERhdGVUaW1lOiBzZWxlY3RlZFNsb3QuZW5kRGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFmZjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogc2VsZWN0ZWRTbG90LnN0YWZmSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNlbGVjdGVkU2xvdC5zdGFmZk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB3b3Jrc3BhY2Uuc3RhZmYuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2xvdC5zdGFmZklkKT8uY29sb3IgfHwgXCIjMDAwMDAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGN1c3RvbWVyRW1haWwudHJpbSgpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lOiBjdXN0b21lclBob25lLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbmNpYWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RQcmljZUNlbnRzOiBsaXN0UHJpY2VDZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2lmdENhcmRBbW91bnRDZW50czogZ2lmdENhcmRTdGF0ZT8uYW1vdW50Q2VudHMgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1GZWVDZW50czogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBlRmVlRXN0aW1hdGVDZW50czogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV0UGF5b3V0Q2VudHM6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAndXNkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lDb25zZW50OiBjcmVhdGVQb2xpY3lDb25zZW50KHBvbGljaWVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVzQWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIHNldENyZWF0ZWRCb29raW5nKGJvb2tpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFN0ZXAoXCJjb25maXJtYXRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkJvb2tpbmcgY29uZmlybWVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYCR7c2VsZWN0ZWRTZXJ2aWNlLm5hbWV9IG9uICR7Zm9ybWF0SW5UaW1lWm9uZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTbG90LnN0YXJ0RGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWV6b25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IHdlZWtkYXk6IFwibG9uZ1wiLCBtb250aDogXCJzaG9ydFwiLCBkYXk6IFwibnVtZXJpY1wiLCBob3VyOiBcIm51bWVyaWNcIiwgbWludXRlOiBcIjItZGlnaXRcIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICApfS4gTm8gY2hhcmdlIHlldOKAlGNhcmQgc2F2ZWQgc2VjdXJlbHkuYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudDogXCJzdWNjZXNzXCJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGFjY2VwdGVkTWV0aG9kcz17YWNjZXB0ZWRNZXRob2RzfVxuICAgICAgICAgICAgICAgICAgYnVzaW5lc3NTbHVnPXtidXNpbmVzcy5zbHVnfVxuICAgICAgICAgICAgICAgICAgYm9va2luZ0lkPXtjcmVhdGVkQm9va2luZ0lkIHx8IFwiXCJ9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9FbGVtZW50cz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgICAgPEhlbHBlclRleHQgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICAgIENsaWNrIFwiQ29uZmlybSBib29raW5nXCIgYmVsb3cgdG8gc2V0IHVwIHlvdXIgcGF5bWVudCBtZXRob2QuIFlvdXIgY2FyZCB3aWxsIGJlIHNhdmVkIHNlY3VyZWx5IGJ1dCBub3QgY2hhcmdlZC5cbiAgICAgICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8SGVscGVyVGV4dCBjbGFzc05hbWU9XCJtdC0yXCI+XG4gICAgICAgICAgICBZb3UncmUgYXV0aG9yaXppbmcgYSBjYXJkIG9uIGZpbGUuIFBlciBUaXRoaSdzIG1hbnVhbCBjYXB0dXJlIHJ1bGVzLCBub3RoaW5nIGlzIGNoYXJnZWQgdW50aWxcbiAgICAgICAgICAgIHlvdXIgYXBwb2ludG1lbnQgaXMgY29tcGxldGVkIG9yIGEgcG9saWN5IGZlZSBhcHBsaWVzLlxuICAgICAgICAgIDwvSGVscGVyVGV4dD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00IHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNjAgcC02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgaWQ9XCJwb2xpY3ktY29uc2VudFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2NvbnNlbnRDaGVja2VkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRDb25zZW50Q2hlY2tlZChldmVudC50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgaC01IHctNSByb3VuZGVkIGJvcmRlci13aGl0ZS8yMCBiZy1ibGFjayBmb2N1czpyaW5nLTJcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICBhY2NlbnRDb2xvcjogcHJpbWFyeUNvbG9yLFxuICAgICAgICAgICAgICAgICctLXR3LXJpbmctY29sb3InOiBwcmltYXJ5Q29sb3IsXG4gICAgICAgICAgICAgIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInBvbGljeS1jb25zZW50XCIgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXdoaXRlLzcwXCI+XG4gICAgICAgICAgICAgIEkgYWdyZWUgdG8gdGhlIGNhbmNlbGxhdGlvbiwgbm8tc2hvdywgcmVmdW5kLCBhbmQgY2FzaCBwb2xpY2llcy4gTXkgY2FyZCBpcyBzYXZlZCB2aWEgU3RyaXBlXG4gICAgICAgICAgICAgIGZvciBtYW51YWwgY2FwdHVyZSBsYXRlci57XCIgXCJ9XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbk9wZW5Qb2xpY2llc31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1bmRlcmxpbmUtb2Zmc2V0LTIgaG92ZXI6dW5kZXJsaW5lXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogcHJpbWFyeUNvbG9yIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBWaWV3IHBvbGljaWVzXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAuXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHshcGF5bWVudE1ldGhvZElkID8gKFxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBzaXplPVwibGdcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtvblN1Ym1pdH1cbiAgICAgICAgICAgICAgaXNMb2FkaW5nPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmcgfHwgISFzZXR1cEludGVudENsaWVudFNlY3JldH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHRleHQtYmFzZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDaGVja0NpcmNsZTIgY2xhc3NOYW1lPVwiaC01IHctNVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgIHtzZXR1cEludGVudENsaWVudFNlY3JldCA/ICdDb21wbGV0ZSBwYXltZW50IHNldHVwIGJlbG93JyA6ICdDb25maXJtIGJvb2tpbmcg4oCUIG5vIGNoYXJnZSB0b2RheSd9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPEhlbHBlclRleHQgaW50ZW50PVwic3VjY2Vzc1wiIGNsYXNzTmFtZT1cInRleHQtZW1lcmFsZC0yMDBcIj5cbiAgICAgICAgICAgICAgUGF5bWVudCBtZXRob2Qgc2F2ZWQhIFlvdXIgYm9va2luZyBpcyBjb21wbGV0ZS5cbiAgICAgICAgICAgIDwvSGVscGVyVGV4dD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8YXNpZGUgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtNCByb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzYwIHAtNlwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLVswLjM1ZW1dIHRleHQtd2hpdGUvNDBcIj5TdW1tYXJ5PC9wPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJtdC0yIGZvbnQtZGlzcGxheSB0ZXh0LTJ4bCB0ZXh0LXdoaXRlXCI+e3NlcnZpY2UubmFtZX08L2gzPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICA8Q2FsZW5kYXJEYXlzIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUoc2xvdC5zdGFydERhdGVUaW1lLCB0aW1lem9uZSwge1xuICAgICAgICAgICAgICB3ZWVrZGF5OiBcImxvbmdcIixcbiAgICAgICAgICAgICAgbW9udGg6IFwic2hvcnRcIixcbiAgICAgICAgICAgICAgZGF5OiBcIm51bWVyaWNcIlxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShzbG90LnN0YXJ0RGF0ZVRpbWUsIHRpbWV6b25lLCB7XG4gICAgICAgICAgICAgIGhvdXI6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiXG4gICAgICAgICAgICB9KX17XCIgXCJ9XG4gICAgICAgICAgICDigJQge2Zvcm1hdER1cmF0aW9uKHNlcnZpY2UuZHVyYXRpb25NaW51dGVzKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgIDxVc2VycyBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIHtzbG90LnN0YWZmTmFtZX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci13aGl0ZS8xMCBwdC00IHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8c3Bhbj5TZXJ2aWNlIHByaWNlPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntmb3JtYXRDdXJyZW5jeShsaXN0UHJpY2VDZW50cyl9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtnaWZ0Q2FyZFN0YXRlID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LWVtZXJhbGQtMjAwXCI+XG4gICAgICAgICAgICAgIDxzcGFuPkdpZnQgY2FyZCAoe2dpZnRDYXJkU3RhdGUuY29kZX0pPC9zcGFuPlxuICAgICAgICAgICAgICA8c3Bhbj4te2Zvcm1hdEN1cnJlbmN5KGdpZnRDYXJkU3RhdGUuYW1vdW50Q2VudHMpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgPHNwYW4+RHVlIHRvZGF5PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4+e2Zvcm1hdEN1cnJlbmN5KGFtb3VudER1ZUNlbnRzKX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPEhlbHBlclRleHQgY2xhc3NOYW1lPVwibXQtM1wiPlxuICAgICAgICAgICAgVGhpcyBhbW91bnQgaXMgYXV0aG9yaXplZCBidXQgbm90IGNhcHR1cmVkLiBNYW51YWwgY2FwdHVyZSBlbnN1cmVzIHlvdSBvbmx5IGNoYXJnZSBjdXN0b21lcnNcbiAgICAgICAgICAgIGFmdGVyIHNlcnZpY2VzIGFyZSBkZWxpdmVyZWQgb3IgaWYgYSBwb2xpY3kgZmVlIGFwcGxpZXMuXG4gICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvYXNpZGU+XG4gICAgPC9zZWN0aW9uPlxuICApO1xufVxuXG5mdW5jdGlvbiBDb25maXJtYXRpb25TdGVwKHtcbiAgYm9va2luZyxcbiAgc2VydmljZSxcbiAgYW1vdW50RHVlQ2VudHMsXG4gIHBvbGljaWVzLFxuICB0aW1lem9uZSxcbiAgb25Cb29rQW5vdGhlclxufToge1xuICBib29raW5nOiBGYWtlQm9va2luZztcbiAgc2VydmljZT86IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZHVyYXRpb25NaW51dGVzOiBudW1iZXI7XG4gICAgcHJpY2VDZW50czogbnVtYmVyO1xuICB9O1xuICBhbW91bnREdWVDZW50czogbnVtYmVyO1xuICBwb2xpY2llczogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicG9saWNpZXNcIl07XG4gIHRpbWV6b25lOiBzdHJpbmc7XG4gIG9uQm9va0Fub3RoZXI6ICgpID0+IHZvaWQ7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTQwMC80MCBiZy1lbWVyYWxkLTUwMC8xMCBwLTEwIHRleHQtZW1lcmFsZC01MCBzaGFkb3ctWzBfMF84MHB4X3JnYmEoMTYsMTg1LDEyOSwwLjM1KV1cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtNiBtZDpmbGV4LXJvdyBtZDppdGVtcy1jZW50ZXIgbWQ6anVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItZW1lcmFsZC00MDAvNTAgYmctZW1lcmFsZC00MDAvMjAgcHgtNCBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC1lbWVyYWxkLTEwMFwiPlxuICAgICAgICAgICAgPFBhcnR5UG9wcGVyIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgQm9va2luZyBjb25maXJtZWRcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwibXQtNCBmb250LWRpc3BsYXkgdGV4dC00eGwgdGV4dC1lbWVyYWxkLTUwXCI+XG4gICAgICAgICAgICB7c2VydmljZT8ubmFtZSA/PyBib29raW5nLnNlcnZpY2VOYW1lfVxuICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtZW1lcmFsZC0xMDAvODBcIj5cbiAgICAgICAgICAgIFdlIGVtYWlsZWQge2Jvb2tpbmcuY3VzdG9tZXIuZW1haWx9IGFuZCB3aWxsIHNlbmQgcmVtaW5kZXJzIHZpYSBTTVMuIFlvdXIgY2FyZCBpcyBzYXZlZCBidXRcbiAgICAgICAgICAgIHdvbuKAmXQgYmUgY2hhcmdlZCB1bnRpbCB0aGUgYXBwb2ludG1lbnQgaXMgY29tcGxldGVk4oCUb3IgaWYgYSBtYW51YWwgcG9saWN5IGZlZSBhcHBsaWVzLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTQwMC81MCBiZy1ibGFjay80MCBwLTYgdGV4dC1zbSB0ZXh0LWVtZXJhbGQtMTAwLzgwXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxDYWxlbmRhckRheXMgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShib29raW5nLnN0YXJ0RGF0ZVRpbWUsIHRpbWV6b25lLCB7XG4gICAgICAgICAgICAgIHdlZWtkYXk6IFwibG9uZ1wiLFxuICAgICAgICAgICAgICBtb250aDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgICBob3VyOiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgICAgbWludXRlOiBcIjItZGlnaXRcIlxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHtib29raW5nLnN0YWZmID8gKFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8VXNlcnMgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgIHtib29raW5nLnN0YWZmLm5hbWV9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPENsb2NrIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAge2Zvcm1hdER1cmF0aW9uKHNlcnZpY2U/LmR1cmF0aW9uTWludXRlcyA/PyBib29raW5nLmR1cmF0aW9uTWludXRlcyl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBib3JkZXItdCBib3JkZXItZW1lcmFsZC00MDAvMzAgcHQtMyB0ZXh0LXNtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8c3Bhbj5BdXRob3JpemVkPC9zcGFuPlxuICAgICAgICAgICAgICA8c3Bhbj57Zm9ybWF0Q3VycmVuY3koc2VydmljZT8ucHJpY2VDZW50cyA/PyBib29raW5nLmZpbmFuY2lhbHMubGlzdFByaWNlQ2VudHMpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge2Ftb3VudER1ZUNlbnRzIDwgKHNlcnZpY2U/LnByaWNlQ2VudHMgPz8gYm9va2luZy5maW5hbmNpYWxzLmxpc3RQcmljZUNlbnRzKSA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC1lbWVyYWxkLTIwMFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkdpZnQgY2FyZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4te2Zvcm1hdEN1cnJlbmN5KChzZXJ2aWNlPy5wcmljZUNlbnRzID8/IGJvb2tpbmcuZmluYW5jaWFscy5saXN0UHJpY2VDZW50cykgLSBhbW91bnREdWVDZW50cyl9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LWVtZXJhbGQtNTBcIj5cbiAgICAgICAgICAgICAgPHNwYW4+RHVlIGFmdGVyIGFwcG9pbnRtZW50PC9zcGFuPlxuICAgICAgICAgICAgICA8c3Bhbj57Zm9ybWF0Q3VycmVuY3koYW1vdW50RHVlQ2VudHMpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEwIGdyaWQgZ2FwLTYgbWQ6Z3JpZC1jb2xzLTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNDAwLzQwIGJnLWVtZXJhbGQtNDAwLzEwIHAtNiB0ZXh0LXNtXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1lbWVyYWxkLTIwMC85MFwiPldoYXQgaGFwcGVucyBuZXh0PC9wPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJtdC0zIHNwYWNlLXktMiB0ZXh0LWVtZXJhbGQtMTAwLzgwXCI+XG4gICAgICAgICAgICA8bGk+Q2hlY2sgeW91ciBlbWFpbCBhbmQgU01TIGZvciBjb25maXJtYXRpb24gZGV0YWlscyBhbmQgcmVtaW5kZXJzLjwvbGk+XG4gICAgICAgICAgICA8bGk+UmVzY2hlZHVsZSBvciBjYW5jZWwgYXQgbGVhc3QgMjRoIGluIGFkdmFuY2UgdG8gYXZvaWQgcG9saWN5IGZlZXMuPC9saT5cbiAgICAgICAgICAgIDxsaT5NYW51YWwgY2FwdHVyZSBrZWVwcyBtb25leSBpbiB5b3VyIGNvbnRyb2zigJRubyBjaGFyZ2VzIHJ1biBhdXRvbWF0aWNhbGx5LjwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTQwMC80MCBiZy1ibGFjay80MCBwLTYgdGV4dC1zbVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZW1lcmFsZC0yMDAvOTBcIj5Qb2xpY2llcyBzbmFwc2hvdDwvcD5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibXQtMyBzcGFjZS15LTIgdGV4dC1lbWVyYWxkLTEwMC84MFwiPlxuICAgICAgICAgICAgPGxpPntwb2xpY2llcy5jYW5jZWxsYXRpb25Qb2xpY3l9PC9saT5cbiAgICAgICAgICAgIDxsaT57cG9saWNpZXMubm9TaG93UG9saWN5fTwvbGk+XG4gICAgICAgICAgICA8bGk+e3BvbGljaWVzLnJlZnVuZFBvbGljeX08L2xpPlxuICAgICAgICAgICAgPGxpPntwb2xpY2llcy5jYXNoUG9saWN5fTwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xMCBmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICBvbkNsaWNrPXtvbkJvb2tBbm90aGVyfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBib3JkZXItZW1lcmFsZC00MDAvNDAgdGV4dC1lbWVyYWxkLTEwMCBob3Zlcjpib3JkZXItZW1lcmFsZC0zMDAgaG92ZXI6dGV4dC1lbWVyYWxkLTUwXCJcbiAgICAgICAgPlxuICAgICAgICAgIEJvb2sgYW5vdGhlciBhcHBvaW50bWVudFxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWVtZXJhbGQtMTAwLzcwXCI+XG4gICAgICAgICAgTmVlZCBoZWxwPyBSZXBseSB0byB0aGUgY29uZmlybWF0aW9uIGVtYWlsIG9yIHRleHQgdXMgYXQge2Jvb2tpbmcuY3VzdG9tZXIucGhvbmV9LlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFBvbGljeU1vZGFsKHtcbiAgcG9saWNpZXMsXG4gIG9uQ2xvc2UsXG4gIHRpbWV6b25lXG59OiB7XG4gIHBvbGljaWVzOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJwb2xpY2llc1wiXTtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgdGltZXpvbmU6IHN0cmluZztcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svODAgcHgtNCBweS04XCJcbiAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgYXJpYS1tb2RhbD1cInRydWVcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgbWF4LWgtWzkwdmhdIHctZnVsbCBtYXgtdy0zeGwgb3ZlcmZsb3cteS1hdXRvIHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvMTAgcC04IGJhY2tkcm9wLWJsdXJcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtNiB0b3AtNiB0ZXh0LXdoaXRlLzYwIHRyYW5zaXRpb24gaG92ZXI6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlIHBvbGljaWVzXCJcbiAgICAgICAgPlxuICAgICAgICAgIOKclVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cImZvbnQtZGlzcGxheSB0ZXh0LTN4bCB0ZXh0LXdoaXRlXCI+Qm9va2luZyBwb2xpY2llczwvaDI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgQWxsIHRpbWVzIHJlZmVyZW5jZWQgYWxpZ24gdG8ge3RpbWV6b25lfS4gQ29uc2VudCBpcyByZXF1aXJlZCBiZWZvcmUgc3VibWl0dGluZyB5b3VyIGJvb2tpbmcuXG4gICAgICAgIDwvcD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IHNwYWNlLXktNSB0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZCB0ZXh0LXdoaXRlLzc1XCI+XG4gICAgICAgICAgPFBvbGljeUJsb2NrIHRpdGxlPVwiQ2FuY2VsbGF0aW9uIHBvbGljeVwiIGJvZHk9e3BvbGljaWVzLmNhbmNlbGxhdGlvblBvbGljeX0gLz5cbiAgICAgICAgICA8UG9saWN5QmxvY2sgdGl0bGU9XCJDYW5jZWxsYXRpb24gZmVlc1wiIGJvZHk9e2Rlc2NyaWJlRmVlKHBvbGljaWVzLmNhbmNlbGxhdGlvbkZlZVR5cGUsIHBvbGljaWVzLmNhbmNlbGxhdGlvbkZlZVZhbHVlKX0gLz5cbiAgICAgICAgICA8UG9saWN5QmxvY2sgdGl0bGU9XCJOby1zaG93IHBvbGljeVwiIGJvZHk9e3BvbGljaWVzLm5vU2hvd1BvbGljeX0gLz5cbiAgICAgICAgICA8UG9saWN5QmxvY2sgdGl0bGU9XCJOby1zaG93IGZlZVwiIGJvZHk9e2Rlc2NyaWJlRmVlKHBvbGljaWVzLm5vU2hvd0ZlZVR5cGUsIHBvbGljaWVzLm5vU2hvd0ZlZVZhbHVlKX0gLz5cbiAgICAgICAgICA8UG9saWN5QmxvY2sgdGl0bGU9XCJSZWZ1bmQgcG9saWN5XCIgYm9keT17cG9saWNpZXMucmVmdW5kUG9saWN5fSAvPlxuICAgICAgICAgIDxQb2xpY3lCbG9jayB0aXRsZT1cIkNhc2ggcG9saWN5XCIgYm9keT17cG9saWNpZXMuY2FzaFBvbGljeX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtOCBmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfSBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxDaGVjayBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIEkgdW5kZXJzdGFuZFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBTdGVwSW5kaWNhdG9yKHsgY3VycmVudFN0ZXAsIG9uUmVzZXQsIHByaW1hcnlDb2xvciB9OiB7IGN1cnJlbnRTdGVwOiBTdGVwOyBvblJlc2V0OiAoKSA9PiB2b2lkOyBwcmltYXJ5Q29sb3I6IHN0cmluZyB9KSB7XG4gIGNvbnN0IHN0ZXBzOiBBcnJheTx7IGlkOiBTdGVwOyBsYWJlbDogc3RyaW5nIH0+ID0gW1xuICAgIHsgaWQ6IFwiY2F0YWxvZ1wiLCBsYWJlbDogXCJTZXJ2aWNlXCIgfSxcbiAgICB7IGlkOiBcImF2YWlsYWJpbGl0eVwiLCBsYWJlbDogXCJUaW1lXCIgfSxcbiAgICB7IGlkOiBcImNoZWNrb3V0XCIsIGxhYmVsOiBcIkNoZWNrb3V0XCIgfSxcbiAgICB7IGlkOiBcImNvbmZpcm1hdGlvblwiLCBsYWJlbDogXCJEb25lXCIgfVxuICBdO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMyByb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtNiBweS00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLVswLjM1ZW1dIHRleHQtd2hpdGUvNDBcIj5cbiAgICAgICAge3N0ZXBzLm1hcCgoc3RlcCwgaW5kZXgpID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17c3RlcC5pZH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICAgICAgXCJpbmxpbmUtZmxleCBoLTggdy04IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIHRleHQtc20gZm9udC1zZW1pYm9sZFwiLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGVwID09PSBzdGVwLmlkXG4gICAgICAgICAgICAgICAgICA/IFwidGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzIwIGJnLXdoaXRlLzEwIHRleHQtd2hpdGUvNTBcIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBzdHlsZT17Y3VycmVudFN0ZXAgPT09IHN0ZXAuaWQgPyB7XG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHByaW1hcnlDb2xvcixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGAke3ByaW1hcnlDb2xvcn0zMGAsXG4gICAgICAgICAgICAgIH0gOiB1bmRlZmluZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpbmRleCArIDF9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2N1cnJlbnRTdGVwID09PSBzdGVwLmlkID8gXCJ0ZXh0LXdoaXRlXCIgOiBcInRleHQtd2hpdGUvNTBcIn0+XG4gICAgICAgICAgICAgIHtzdGVwLmxhYmVsfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAge2luZGV4IDwgc3RlcHMubGVuZ3RoIC0gMSA/IChcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaC1weCB3LTEyIGJnLXdoaXRlLzEwXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgICAge2N1cnJlbnRTdGVwICE9PSBcImNhdGFsb2dcIiAmJiBjdXJyZW50U3RlcCAhPT0gXCJjb25maXJtYXRpb25cIiA/IChcbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBvbkNsaWNrPXtvblJlc2V0fSBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwXCI+XG4gICAgICAgICAgU3RhcnQgb3ZlclxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICkgOiBudWxsfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBGaWVsZCh7XG4gIGxhYmVsLFxuICBoZWxwZXIsXG4gIGNoaWxkcmVuXG59OiB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGhlbHBlcj86IHN0cmluZztcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPntsYWJlbH08L3NwYW4+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgICB7aGVscGVyID8gPEhlbHBlclRleHQgY2xhc3NOYW1lPVwidGV4dC1bMTNweF0gdGV4dC13aGl0ZS80MFwiPntoZWxwZXJ9PC9IZWxwZXJUZXh0PiA6IG51bGx9XG4gICAgPC9sYWJlbD5cbiAgKTtcbn1cblxuZnVuY3Rpb24gU3RhZmZQaWxsKHtcbiAgbGFiZWwsXG4gIGNvbG9yLFxuICBhY3RpdmUsXG4gIG9uQ2xpY2tcbn06IHtcbiAgbGFiZWw6IHN0cmluZztcbiAgY29sb3I/OiBzdHJpbmc7XG4gIGFjdGl2ZTogYm9vbGVhbjtcbiAgb25DbGljazogKCkgPT4gdm9pZDtcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInJvdW5kZWQtZnVsbCBib3JkZXIgcHgtNCBweS0yIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcHJpbWFyeS83MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1ibGFja1wiLFxuICAgICAgICBhY3RpdmUgPyBcImJvcmRlci13aGl0ZS82MCBiZy13aGl0ZS8xNSB0ZXh0LXdoaXRlXCIgOiBcImJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHRleHQtd2hpdGUvNjAgaG92ZXI6dGV4dC13aGl0ZS84MFwiXG4gICAgICApfVxuICAgICAgc3R5bGU9e2FjdGl2ZSAmJiBjb2xvciA/IHsgYm9yZGVyQ29sb3I6IGNvbG9yLCBib3hTaGFkb3c6IGAwIDAgMjVweCAke2NvbG9yfTMzYCB9IDogdW5kZWZpbmVkfVxuICAgID5cbiAgICAgIHtsYWJlbH1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gUG9saWN5QmxvY2soeyB0aXRsZSwgYm9keSB9OiB7IHRpdGxlOiBzdHJpbmc7IGJvZHk6IHN0cmluZyB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLVswLjM1ZW1dIHRleHQtd2hpdGUvNDBcIj57dGl0bGV9PC9wPlxuICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNzAgbGVhZGluZy1yZWxheGVkXCI+e2JvZHl9PC9wPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBDb25mZXR0aU92ZXJsYXkoKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGluc2V0LTAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogMTUwIH0pLm1hcCgoXywgaW5kZXgpID0+IChcbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImNvbmZldHRpLXBpZWNlXCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgbGVmdDogYCR7TWF0aC5yYW5kb20oKSAqIDEwMH0lYCxcbiAgICAgICAgICAgIGFuaW1hdGlvbkRlbGF5OiBgJHtNYXRoLnJhbmRvbSgpICogMC41fXNgLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiByYW5kb21Db25mZXR0aUNvbG9yKClcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgKSl9XG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIEBrZXlmcmFtZXMgY29uZmV0dGktZmFsbCB7XG4gICAgICAgICAgMCUge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMHZoKSByb3RhdGUoMGRlZyk7XG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICAxMCUge1xuICAgICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgMTAwJSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTEwdmgpIHJvdGF0ZSg3MjBkZWcpO1xuICAgICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLmNvbmZldHRpLXBpZWNlIHtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgd2lkdGg6IDZweDtcbiAgICAgICAgICBoZWlnaHQ6IDEycHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgICAgYW5pbWF0aW9uOiBjb25mZXR0aS1mYWxsIDIuM3MgZWFzZS1pbiBib3RoO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbUNvbmZldHRpQ29sb3IoKSB7XG4gIGNvbnN0IHBhbGV0dGUgPSBbXCIjNUI2NEZGXCIsIFwiIzU3RDBGRlwiLCBcIiNGRjlBOEJcIiwgXCIjRkZEMTY2XCIsIFwiIzhBRkZDRlwiLCBcIiNDNEE1RkZcIl07XG4gIHJldHVybiBwYWxldHRlW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBhbGV0dGUubGVuZ3RoKV07XG59XG5cbmZ1bmN0aW9uIGZvcm1hdER1cmF0aW9uKG1pbnV0ZXM6IG51bWJlcikge1xuICBpZiAobWludXRlcyA8IDYwKSByZXR1cm4gYCR7bWludXRlc30gbWluYDtcbiAgY29uc3QgaHJzID0gTWF0aC5mbG9vcihtaW51dGVzIC8gNjApO1xuICBjb25zdCBtaW5zID0gbWludXRlcyAlIDYwO1xuICByZXR1cm4gbWlucyA9PT0gMCA/IGAke2hyc30gaHJgIDogYCR7aHJzfSBociAke21pbnN9IG1pbmA7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEN1cnJlbmN5KGNlbnRzOiBudW1iZXIpIHtcbiAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdChcImVuLVVTXCIsIHtcbiAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgIGN1cnJlbmN5OiBcIlVTRFwiXG4gIH0pLmZvcm1hdChjZW50cyAvIDEwMCk7XG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlQWNjZXB0ZWRNZXRob2RzKG1ldGhvZHM6IHN0cmluZ1tdKSB7XG4gIGNvbnN0IHVuaXF1ZSA9IEFycmF5LmZyb20obmV3IFNldChtZXRob2RzKSk7XG4gIGNvbnN0IG1ldGhvZExhYmVsczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICBjYXJkOiBcIkNyZWRpdCAmIERlYml0IENhcmRzXCIsXG4gICAgY2FzaDogXCJDYXNoXCIsXG4gICAgd2FsbGV0czogXCJEaWdpdGFsIFdhbGxldHMgKEFwcGxlIFBheSwgR29vZ2xlIFBheSlcIixcbiAgICBhcHBsZV9wYXk6IFwiQXBwbGUgUGF5XCIsXG4gICAgXCJhcHBsZS1wYXlcIjogXCJBcHBsZSBQYXlcIixcbiAgICBnb29nbGVfcGF5OiBcIkdvb2dsZSBQYXlcIixcbiAgICBcImdvb2dsZS1wYXlcIjogXCJHb29nbGUgUGF5XCIsXG4gIH07XG4gIGNvbnN0IGxhYmVscyA9IHVuaXF1ZS5tYXAoKG1ldGhvZCkgPT4gbWV0aG9kTGFiZWxzW21ldGhvZC50b0xvd2VyQ2FzZSgpXSB8fCBtZXRob2QudG9VcHBlckNhc2UoKSk7XG4gIHJldHVybiBsYWJlbHMubGVuZ3RoID4gMCA/IGBBY2NlcHRlZDogJHtsYWJlbHMuam9pbihcIiwgXCIpfWAgOiBcIkFjY2VwdGVkOiBDcmVkaXQgJiBEZWJpdCBDYXJkc1wiO1xufVxuXG5mdW5jdGlvbiBkZXNjcmliZUZlZSh0eXBlOiBcImZsYXRcIiB8IFwicGVyY2VudFwiLCB2YWx1ZTogbnVtYmVyKSB7XG4gIGlmICh2YWx1ZSA8PSAwKSByZXR1cm4gXCJObyBmZWVcIjtcbiAgcmV0dXJuIHR5cGUgPT09IFwicGVyY2VudFwiID8gYCR7dmFsdWV9JSBvZiB0aGUgc2VydmljZSBwcmljZWAgOiBmb3JtYXRDdXJyZW5jeShNYXRoLnJvdW5kKHZhbHVlICogMTAwKSk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEFkZHJlc3MobG9jYXRpb246IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcImlkZW50aXR5XCJdW1wibG9jYXRpb25cIl0pIHtcbiAgY29uc3QgcGFydHMgPSBbXG4gICAgbG9jYXRpb24uYWRkcmVzc0xpbmUxLFxuICAgIGxvY2F0aW9uLmFkZHJlc3NMaW5lMixcbiAgICBgJHtsb2NhdGlvbi5jaXR5fSwgJHtsb2NhdGlvbi5zdGF0ZVByb3ZpbmNlfWAsXG4gICAgbG9jYXRpb24uY291bnRyeVxuICBdLmZpbHRlcihCb29sZWFuKTtcbiAgcmV0dXJuIHBhcnRzLmpvaW4oXCIgwrcgXCIpO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkRW1haWwoZW1haWw6IHN0cmluZykge1xuICByZXR1cm4gL1xcUytAXFxTK1xcLlxcUysvLnRlc3QoZW1haWwpO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkUGhvbmUocGhvbmU6IHN0cmluZykge1xuICByZXR1cm4gcGhvbmUudHJpbSgpLmxlbmd0aCA+PSA3O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQb2xpY3lDb25zZW50KHBvbGljaWVzOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJwb2xpY2llc1wiXSkge1xuICBjb25zdCBoYXNoQmFzZSA9IEpTT04uc3RyaW5naWZ5KHBvbGljaWVzKTtcbiAgY29uc3QgaGFzaCA9IHNpbXBsZUhhc2goaGFzaEJhc2UpO1xuICByZXR1cm4ge1xuICAgIGhhc2gsXG4gICAgYWNjZXB0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIGlwOiBcIjIwMy4wLjExMy41XCIsXG4gICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNpbXBsZUhhc2goaW5wdXQ6IHN0cmluZykge1xuICBsZXQgaGFzaCA9IDA7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpbnB1dC5sZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgaW5wdXQuY2hhckNvZGVBdChpbmRleCk7XG4gICAgaGFzaCB8PSAwO1xuICB9XG4gIHJldHVybiBNYXRoLmFicyhoYXNoKS50b1N0cmluZygxNik7XG59XG5cbi8vIFN0cmlwZSBQYXltZW50IEZvcm0gQ29tcG9uZW50XG5mdW5jdGlvbiBTdHJpcGVQYXltZW50Rm9ybSh7XG4gIG9uUGF5bWVudE1ldGhvZFJlYWR5LFxuICBhY2NlcHRlZE1ldGhvZHMsXG4gIGJ1c2luZXNzU2x1ZyxcbiAgYm9va2luZ0lkLFxuICBjcmVhdGVkQm9va2luZ0lkLFxuICBjcmVhdGVkQm9va2luZ0NvZGUsXG4gIHdvcmtzcGFjZSxcbiAgY3VzdG9tZXJOYW1lLFxuICBjdXN0b21lckVtYWlsLFxuICBjdXN0b21lclBob25lLFxuICBsaXN0UHJpY2VDZW50cyxcbiAgZ2lmdENhcmRTdGF0ZSxcbiAgcG9saWNpZXMsXG4gIHRpbWV6b25lLFxuICBzZWxlY3RlZFNlcnZpY2UsXG4gIHNlbGVjdGVkU2xvdCxcbiAgc2V0Q3JlYXRlZEJvb2tpbmcsXG4gIHNldFN0ZXAsXG4gIHRvYXN0XG59OiB7XG4gIG9uUGF5bWVudE1ldGhvZFJlYWR5OiAocGF5bWVudE1ldGhvZElkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGFjY2VwdGVkTWV0aG9kczogc3RyaW5nW107XG4gIGJ1c2luZXNzU2x1Zzogc3RyaW5nO1xuICBib29raW5nSWQ6IHN0cmluZztcbiAgY3JlYXRlZEJvb2tpbmdJZDogc3RyaW5nIHwgbnVsbDtcbiAgY3JlYXRlZEJvb2tpbmdDb2RlOiBzdHJpbmcgfCBudWxsO1xuICB3b3Jrc3BhY2U6IEZha2VCdXNpbmVzc1dvcmtzcGFjZTtcbiAgY3VzdG9tZXJOYW1lOiBzdHJpbmc7XG4gIGN1c3RvbWVyRW1haWw6IHN0cmluZztcbiAgY3VzdG9tZXJQaG9uZTogc3RyaW5nO1xuICBsaXN0UHJpY2VDZW50czogbnVtYmVyO1xuICBnaWZ0Q2FyZFN0YXRlOiBHaWZ0Q2FyZFN0YXRlIHwgbnVsbDtcbiAgcG9saWNpZXM6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInBvbGljaWVzXCJdO1xuICB0aW1lem9uZTogc3RyaW5nO1xuICBzZWxlY3RlZFNlcnZpY2U6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlcjtcbiAgICBwcmljZUNlbnRzOiBudW1iZXI7XG4gICAgY2F0ZWdvcnlOYW1lOiBzdHJpbmc7XG4gIH0gfCB1bmRlZmluZWQ7XG4gIHNlbGVjdGVkU2xvdDogRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90IHwgbnVsbDtcbiAgc2V0Q3JlYXRlZEJvb2tpbmc6IChib29raW5nOiBGYWtlQm9va2luZyB8IG51bGwpID0+IHZvaWQ7XG4gIHNldFN0ZXA6IChzdGVwOiBTdGVwKSA9PiB2b2lkO1xuICB0b2FzdDogUmV0dXJuVHlwZTx0eXBlb2YgdXNlVG9hc3Q+O1xufSkge1xuICBjb25zdCBzdHJpcGUgPSB1c2VTdHJpcGUoKTtcbiAgY29uc3QgZWxlbWVudHMgPSB1c2VFbGVtZW50cygpO1xuICBjb25zdCBbaXNQcm9jZXNzaW5nLCBzZXRJc1Byb2Nlc3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgaWYgKCFzdHJpcGUgfHwgIWVsZW1lbnRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNQcm9jZXNzaW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbmZpcm0gdGhlIFNldHVwSW50ZW50XG4gICAgICBjb25zdCB7IGVycm9yOiBjb25maXJtRXJyb3IsIHNldHVwSW50ZW50IH0gPSBhd2FpdCBzdHJpcGUuY29uZmlybVNldHVwKHtcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIHJlZGlyZWN0OiAnaWZfcmVxdWlyZWQnLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChjb25maXJtRXJyb3IpIHtcbiAgICAgICAgc2V0RXJyb3IoY29uZmlybUVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzYXZlIHBheW1lbnQgbWV0aG9kJyk7XG4gICAgICAgIHNldElzUHJvY2Vzc2luZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHNldHVwSW50ZW50ICYmIHNldHVwSW50ZW50LnBheW1lbnRfbWV0aG9kKSB7XG4gICAgICAgIGNvbnN0IHBtSWQgPSB0eXBlb2Ygc2V0dXBJbnRlbnQucGF5bWVudF9tZXRob2QgPT09ICdzdHJpbmcnIFxuICAgICAgICAgID8gc2V0dXBJbnRlbnQucGF5bWVudF9tZXRob2QgXG4gICAgICAgICAgOiBzZXR1cEludGVudC5wYXltZW50X21ldGhvZC5pZDtcbiAgICAgICAgb25QYXltZW50TWV0aG9kUmVhZHkocG1JZCk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGJvb2tpbmcgb2JqZWN0IGFuZCBwcm9jZWVkIHRvIGNvbmZpcm1hdGlvblxuICAgICAgICBpZiAoc2VsZWN0ZWRTZXJ2aWNlICYmIHNlbGVjdGVkU2xvdCAmJiBjcmVhdGVkQm9va2luZ0lkKSB7XG4gICAgICAgICAgY29uc3QgYm9va2luZzogRmFrZUJvb2tpbmcgPSB7XG4gICAgICAgICAgICBpZDogY3JlYXRlZEJvb2tpbmdJZCxcbiAgICAgICAgICAgIGNvZGU6IGNyZWF0ZWRCb29raW5nQ29kZSB8fCBgVElUSEktJHtjcmVhdGVkQm9va2luZ0lkLnNsaWNlKDAsIDgpLnRvVXBwZXJDYXNlKCl9YCxcbiAgICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgc2VydmljZUlkOiBzZWxlY3RlZFNlcnZpY2UuaWQsXG4gICAgICAgICAgICBzZXJ2aWNlTmFtZTogc2VsZWN0ZWRTZXJ2aWNlLm5hbWUsXG4gICAgICAgICAgICBjYXRlZ29yeU5hbWU6IHNlbGVjdGVkU2VydmljZS5jYXRlZ29yeU5hbWUsXG4gICAgICAgICAgICBkdXJhdGlvbk1pbnV0ZXM6IHNlbGVjdGVkU2VydmljZS5kdXJhdGlvbk1pbnV0ZXMsXG4gICAgICAgICAgICBzdGFydERhdGVUaW1lOiBzZWxlY3RlZFNsb3Quc3RhcnREYXRlVGltZSxcbiAgICAgICAgICAgIGVuZERhdGVUaW1lOiBzZWxlY3RlZFNsb3QuZW5kRGF0ZVRpbWUsXG4gICAgICAgICAgICBzdGFmZjoge1xuICAgICAgICAgICAgICBpZDogc2VsZWN0ZWRTbG90LnN0YWZmSWQsXG4gICAgICAgICAgICAgIG5hbWU6IHNlbGVjdGVkU2xvdC5zdGFmZk5hbWUsXG4gICAgICAgICAgICAgIGNvbG9yOiB3b3Jrc3BhY2Uuc3RhZmYuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2xvdC5zdGFmZklkKT8uY29sb3IgfHwgXCIjMDAwMDAwXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VzdG9tZXI6IHtcbiAgICAgICAgICAgICAgbmFtZTogY3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgICAgICAgZW1haWw6IGN1c3RvbWVyRW1haWwudHJpbSgpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgIHBob25lOiBjdXN0b21lclBob25lLnRyaW0oKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXltZW50czogW10sXG4gICAgICAgICAgICBmaW5hbmNpYWxzOiB7XG4gICAgICAgICAgICAgIGxpc3RQcmljZUNlbnRzOiBsaXN0UHJpY2VDZW50cyxcbiAgICAgICAgICAgICAgZ2lmdENhcmRBbW91bnRDZW50czogZ2lmdENhcmRTdGF0ZT8uYW1vdW50Q2VudHMgfHwgMCxcbiAgICAgICAgICAgICAgcGxhdGZvcm1GZWVDZW50czogMCxcbiAgICAgICAgICAgICAgc3RyaXBlRmVlRXN0aW1hdGVDZW50czogMCxcbiAgICAgICAgICAgICAgbmV0UGF5b3V0Q2VudHM6IDAsXG4gICAgICAgICAgICAgIGN1cnJlbmN5OiAndXNkJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb2xpY3lDb25zZW50OiBjcmVhdGVQb2xpY3lDb25zZW50KHBvbGljaWVzKSxcbiAgICAgICAgICAgIHJlcXVpcmVzQWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNldENyZWF0ZWRCb29raW5nKGJvb2tpbmcpO1xuICAgICAgICAgIHNldFN0ZXAoXCJjb25maXJtYXRpb25cIik7XG4gICAgICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkJvb2tpbmcgY29uZmlybWVkXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYCR7c2VsZWN0ZWRTZXJ2aWNlLm5hbWV9IG9uICR7Zm9ybWF0SW5UaW1lWm9uZShcbiAgICAgICAgICAgICAgc2VsZWN0ZWRTbG90LnN0YXJ0RGF0ZVRpbWUsXG4gICAgICAgICAgICAgIHRpbWV6b25lLFxuICAgICAgICAgICAgICB7IHdlZWtkYXk6IFwibG9uZ1wiLCBtb250aDogXCJzaG9ydFwiLCBkYXk6IFwibnVtZXJpY1wiLCBob3VyOiBcIm51bWVyaWNcIiwgbWludXRlOiBcIjItZGlnaXRcIiB9XG4gICAgICAgICAgICApfS4gTm8gY2hhcmdlIHlldOKAlGNhcmQgc2F2ZWQgc2VjdXJlbHkuYCxcbiAgICAgICAgICAgIGludGVudDogXCJzdWNjZXNzXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdBbiBlcnJvciBvY2N1cnJlZCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1Byb2Nlc3NpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDb25maWd1cmUgcGF5bWVudCBtZXRob2QgdHlwZXMgLSBjYXJkIGlzIEFMV0FZUyByZXF1aXJlZCByZWdhcmRsZXNzIG9mIGJ1c2luZXNzIHNldHRpbmdzXG4gIC8vIFRoaXMgZW5zdXJlcyBjYXJkIGlzIGFsd2F5cyBhdmFpbGFibGUgYXMgYmFja3VwIGZvciBuby1zaG93IGZlZXMgKGV2ZW4gZm9yIGNhc2ggcGF5bWVudHMpXG4gIGNvbnN0IHBheW1lbnRNZXRob2RUeXBlczogc3RyaW5nW10gPSBbJ2NhcmQnXTtcblxuICAvLyBNYXAgYWNjZXB0ZWQgbWV0aG9kcyB0byBTdHJpcGUgcGF5bWVudCBtZXRob2QgdHlwZXNcbiAgLy8gTm90ZTogY2FyZCBpcyBhbHdheXMgaW5jbHVkZWQgYWJvdmUsIHNvIHdlIG9ubHkgYWRkIGFkZGl0aW9uYWwgbWV0aG9kc1xuICBpZiAoYWNjZXB0ZWRNZXRob2RzLmluY2x1ZGVzKCdhcHBsZV9wYXknKSB8fCBhY2NlcHRlZE1ldGhvZHMuaW5jbHVkZXMoJ2FwcGxlLXBheScpKSB7XG4gICAgcGF5bWVudE1ldGhvZFR5cGVzLnB1c2goJ2FwcGxlX3BheScpO1xuICB9XG4gIGlmIChhY2NlcHRlZE1ldGhvZHMuaW5jbHVkZXMoJ2dvb2dsZV9wYXknKSB8fCBhY2NlcHRlZE1ldGhvZHMuaW5jbHVkZXMoJ2dvb2dsZS1wYXknKSkge1xuICAgIHBheW1lbnRNZXRob2RUeXBlcy5wdXNoKCdnb29nbGVfcGF5Jyk7XG4gIH1cbiAgLy8gQWxzbyBjaGVjayBmb3IgJ3dhbGxldHMnIHdoaWNoIG1pZ2h0IGluY2x1ZGUgYm90aFxuICBpZiAoYWNjZXB0ZWRNZXRob2RzLmluY2x1ZGVzKCd3YWxsZXRzJykpIHtcbiAgICBpZiAoIXBheW1lbnRNZXRob2RUeXBlcy5pbmNsdWRlcygnYXBwbGVfcGF5JykpIHBheW1lbnRNZXRob2RUeXBlcy5wdXNoKCdhcHBsZV9wYXknKTtcbiAgICBpZiAoIXBheW1lbnRNZXRob2RUeXBlcy5pbmNsdWRlcygnZ29vZ2xlX3BheScpKSBwYXltZW50TWV0aG9kVHlwZXMucHVzaCgnZ29vZ2xlX3BheScpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICA8UGF5bWVudEVsZW1lbnRcbiAgICAgICAgICBvcHRpb25zPXt7XG4gICAgICAgICAgICBwYXltZW50TWV0aG9kVHlwZXM6IHBheW1lbnRNZXRob2RUeXBlcyxcbiAgICAgICAgICAgIC8vIFVzZSB0YWJzIG9ubHkgaWYgd2UgaGF2ZSBtdWx0aXBsZSBwYXltZW50IG1ldGhvZHMsIG90aGVyd2lzZSB1c2UgZGVmYXVsdCBsYXlvdXRcbiAgICAgICAgICAgIC4uLihwYXltZW50TWV0aG9kVHlwZXMubGVuZ3RoID4gMSA/IHsgbGF5b3V0OiAndGFicycgYXMgY29uc3QgfSA6IHt9KSxcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgIDxIZWxwZXJUZXh0IGludGVudD1cImVycm9yXCIgY2xhc3NOYW1lPVwidGV4dC1yZWQtNDAwIG10LTJcIj5cbiAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICAgICl9XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICBkaXNhYmxlZD17aXNQcm9jZXNzaW5nIHx8ICFzdHJpcGV9XG4gICAgICAgICAgaXNMb2FkaW5nPXtpc1Byb2Nlc3Npbmd9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIG10LTRcIlxuICAgICAgICA+XG4gICAgICAgICAge2lzUHJvY2Vzc2luZyA/ICdTYXZpbmcgcGF5bWVudCBtZXRob2QuLi4nIDogJ1NhdmUgcGF5bWVudCBtZXRob2QnfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT5cbiAgKTtcbn1cblxuXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVN0YXRlIiwiSW1hZ2UiLCJBcnJvd0xlZnQiLCJBcnJvd1JpZ2h0IiwiQ2FsZW5kYXJEYXlzIiwiQ2hlY2siLCJDaGVja0NpcmNsZTIiLCJDaGV2cm9uTGVmdCIsIkNoZXZyb25SaWdodCIsIkNsb2NrIiwiQ3JlZGl0Q2FyZCIsIkdpZnQiLCJMb2FkZXIyIiwiTWFwUGluIiwiUGFydHlQb3BwZXIiLCJTaGllbGRDaGVjayIsIlNwYXJrbGVzIiwiVXNlcnMiLCJsb2FkU3RyaXBlIiwiRWxlbWVudHMiLCJQYXltZW50RWxlbWVudCIsInVzZVN0cmlwZSIsInVzZUVsZW1lbnRzIiwiQmFkZ2UiLCJCdXR0b24iLCJIZWxwZXJUZXh0IiwiSW5wdXQiLCJ1c2VUb2FzdCIsImNuIiwiZ3JvdXBTbG90c0J5RGF5IiwiZm9ybWF0SW5UaW1lWm9uZSIsInN0cmlwZVByb21pc2UiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSIsIlB1YmxpY0Jvb2tpbmdFeHBlcmllbmNlIiwiYnVzaW5lc3MiLCJ3b3Jrc3BhY2UiLCJyZWNvcmRCb29raW5nIiwidG9hc3QiLCJzdGVwIiwic2V0U3RlcCIsInNlbGVjdGVkU2VydmljZUlkIiwic2V0U2VsZWN0ZWRTZXJ2aWNlSWQiLCJzZWxlY3RlZFN0YWZmSWQiLCJzZXRTZWxlY3RlZFN0YWZmSWQiLCJzZWxlY3RlZFNsb3QiLCJzZXRTZWxlY3RlZFNsb3QiLCJnaWZ0Q2FyZFN0YXRlIiwic2V0R2lmdENhcmRTdGF0ZSIsImdpZnRDYXJkSW5wdXQiLCJzZXRHaWZ0Q2FyZElucHV0IiwiZ2lmdENhcmRFcnJvciIsInNldEdpZnRDYXJkRXJyb3IiLCJjdXN0b21lck5hbWUiLCJzZXRDdXN0b21lck5hbWUiLCJjdXN0b21lckVtYWlsIiwic2V0Q3VzdG9tZXJFbWFpbCIsImN1c3RvbWVyUGhvbmUiLCJzZXRDdXN0b21lclBob25lIiwic2V0dXBJbnRlbnRDbGllbnRTZWNyZXQiLCJzZXRTZXR1cEludGVudENsaWVudFNlY3JldCIsInBheW1lbnRNZXRob2RJZCIsInNldFBheW1lbnRNZXRob2RJZCIsImNyZWF0ZWRCb29raW5nSWQiLCJzZXRDcmVhdGVkQm9va2luZ0lkIiwiY3JlYXRlZEJvb2tpbmdDb2RlIiwic2V0Q3JlYXRlZEJvb2tpbmdDb2RlIiwiY29uc2VudENoZWNrZWQiLCJzZXRDb25zZW50Q2hlY2tlZCIsImlzUG9saWN5TW9kYWxPcGVuIiwic2V0SXNQb2xpY3lNb2RhbE9wZW4iLCJpc1N1Ym1pdHRpbmciLCJzZXRJc1N1Ym1pdHRpbmciLCJjcmVhdGVkQm9va2luZyIsInNldENyZWF0ZWRCb29raW5nIiwiZmV0Y2hlZFNsb3RzIiwic2V0RmV0Y2hlZFNsb3RzIiwiaXNMb2FkaW5nQXZhaWxhYmlsaXR5Iiwic2V0SXNMb2FkaW5nQXZhaWxhYmlsaXR5IiwiYXZhaWxhYmlsaXR5RXJyb3IiLCJzZXRBdmFpbGFiaWxpdHlFcnJvciIsInNlbGVjdGVkU2VydmljZSIsInVuZGVmaW5lZCIsImNhdGVnb3J5IiwiY2F0YWxvZyIsInNlcnZpY2UiLCJzZXJ2aWNlcyIsImZpbmQiLCJzdmMiLCJpZCIsImNhdGVnb3J5TmFtZSIsIm5hbWUiLCJjYXRlZ29yeUNvbG9yIiwiY29sb3IiLCJmZXRjaEF2YWlsYWJpbGl0eSIsInRvZGF5IiwiRGF0ZSIsImFsbFNsb3RzIiwidGltZXpvbmUiLCJpZGVudGl0eSIsImxvY2F0aW9uIiwiZGF5Rm9ybWF0dGVyIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwidGltZVpvbmUiLCJ3ZWVrZGF5IiwiaSIsImRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRhdGVTdHIiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiZGF0YSIsInJlc3BvbnNlIiwiZmV0Y2giLCJzbHVnIiwib2siLCJjb25zb2xlIiwid2FybiIsInN0YXR1cyIsImpzb24iLCJsb2ciLCJzbG90c0NvdW50Iiwic2xvdHMiLCJsZW5ndGgiLCJoYXNTbG90cyIsIkFycmF5IiwiaXNBcnJheSIsInNhbXBsZVNsb3QiLCJzbG90Iiwic3RhcnREYXRlIiwic3RhcnRfYXQiLCJlbmREYXRlIiwiZW5kX2F0IiwiZGF5TGFiZWwiLCJmb3JtYXQiLCJzdGFmZk1lbWJlciIsInN0YWZmIiwicyIsInN0YWZmX2lkIiwic3RhZmZDb2xvciIsInB1c2giLCJzZXJ2aWNlSWQiLCJzdGFmZklkIiwic3RhZmZOYW1lIiwic3RhZmZfbmFtZSIsInN0YXJ0RGF0ZVRpbWUiLCJlbmREYXRlVGltZSIsImVyciIsImVycm9yIiwic2VydmljZUF2YWlsYWJpbGl0eSIsImdyb3VwZWRTbG90cyIsImZpbHRlcmVkIiwiZmlsdGVyIiwibGlzdFByaWNlQ2VudHMiLCJwcmljZUNlbnRzIiwiYXBwbGllZEdpZnRDYXJkQ2VudHMiLCJhbW91bnRDZW50cyIsImFtb3VudER1ZUNlbnRzIiwiTWF0aCIsIm1heCIsImJ1c2luZXNzQWNjZXB0ZWRNZXRob2RzIiwicGF5bWVudCIsImFjY2VwdGVkTWV0aG9kcyIsImFjY2VwdGVkTWV0aG9kc0ZvckRpc3BsYXkiLCJwb2xpY2llcyIsImhhbmRsZVNlbGVjdFNlcnZpY2UiLCJoYW5kbGVTZWxlY3RTbG90Iiwid2luZG93Iiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsImhhbmRsZUFwcGx5R2lmdENhcmQiLCJjb2RlIiwidHJpbSIsInRvVXBwZXJDYXNlIiwicHJvZ3JhbSIsImdpZnRDYXJkcyIsImNvbmZpZyIsImVuYWJsZWQiLCJhbGxDb2RlcyIsIlNldCIsImdlbmVyYXRlZENvZGVzIiwibWFwIiwiZW50cnkiLCJsZWRnZXIiLCJoYXMiLCJhbW91bnRUeXBlIiwiYW1vdW50VmFsdWUiLCJyb3VuZCIsImFwcGxpZWRBbW91bnQiLCJtaW4iLCJkZXNjcmlwdGlvbiIsImZvcm1hdEN1cnJlbmN5IiwicHVzaFRvYXN0IiwidGl0bGUiLCJpbnRlbnQiLCJoYW5kbGVTdWJtaXRDaGVja291dCIsImlzVmFsaWRFbWFpbCIsImlzVmFsaWRQaG9uZSIsImJvb2tpbmciLCJzbGljZSIsInNlcnZpY2VOYW1lIiwiZHVyYXRpb25NaW51dGVzIiwiY3VzdG9tZXIiLCJlbWFpbCIsInRvTG93ZXJDYXNlIiwicGhvbmUiLCJwYXltZW50cyIsImZpbmFuY2lhbHMiLCJnaWZ0Q2FyZEFtb3VudENlbnRzIiwicGxhdGZvcm1GZWVDZW50cyIsInN0cmlwZUZlZUVzdGltYXRlQ2VudHMiLCJuZXRQYXlvdXRDZW50cyIsImN1cnJlbmN5IiwicG9saWN5Q29uc2VudCIsImNyZWF0ZVBvbGljeUNvbnNlbnQiLCJyZXF1aXJlc0FjdGlvbiIsImhhbmRsZVJlc2V0RmxvdyIsImJyYW5kaW5nIiwicHJpbWFyeUNvbG9yIiwibG9nb1VybCIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZCIsIkNvbmZldHRpT3ZlcmxheSIsImhlYWRlciIsImJveFNoYWRvdyIsInNyYyIsImFsdCIsImJ1c2luZXNzTmFtZSIsImZpbGwiLCJ1bm9wdGltaXplZCIsImgxIiwicCIsInNwYW4iLCJhcmlhLWhpZGRlbiIsImZvcm1hdEFkZHJlc3MiLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJtYWluIiwiU3RlcEluZGljYXRvciIsImN1cnJlbnRTdGVwIiwib25SZXNldCIsIkNhdGFsb2dTdGVwIiwib25TZWxlY3RTZXJ2aWNlIiwiQXZhaWxhYmlsaXR5U3RlcCIsInNsb3RzQnlEYXkiLCJvbkJhY2siLCJvblNlbGVjdFNsb3QiLCJzdXBwb3J0RW1haWwiLCJpc0xvYWRpbmciLCJDaGVja291dFN0ZXAiLCJvbkFwcGx5R2lmdENhcmQiLCJvblN1Ym1pdCIsIm9uT3BlblBvbGljaWVzIiwiQ29uZmlybWF0aW9uU3RlcCIsIm9uQm9va0Fub3RoZXIiLCJQb2xpY3lNb2RhbCIsIm9uQ2xvc2UiLCJzZWN0aW9uIiwiYnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJoMiIsImZvcm1hdER1cmF0aW9uIiwiaW5zdHJ1Y3Rpb25zIiwic3Ryb25nIiwiY3VycmVudFdlZWtTdGFydCIsInNldEN1cnJlbnRXZWVrU3RhcnQiLCJkYXlPZldlZWsiLCJnZXREYXkiLCJkaWZmIiwic3VuZGF5Iiwic2V0SG91cnMiLCJzdGFmZk9wdGlvbnMiLCJtZW1iZXIiLCJzdGFmZklkcyIsImluY2x1ZGVzIiwidG90YWxTbG90cyIsIk9iamVjdCIsInZhbHVlcyIsInJlZHVjZSIsInN1bSIsImVudHJpZXMiLCJob3VycyIsImZyb20iLCJfIiwid2Vla0RheXMiLCJkYXlzIiwic2xvdHNCeURheUFuZEhvdXIiLCJncm91cGVkIiwiZmxhdCIsImZvckVhY2giLCJzbG90RGF0ZSIsImRhdGVLZXkiLCJob3VyMTIiLCJob3VyTnVtIiwicGFyc2VJbnQiLCJpc0luQ3VycmVudFdlZWsiLCJzb21lIiwiZGF5S2V5IiwiaXNEdXBsaWNhdGUiLCJleGlzdGluZyIsIm5hdmlnYXRlV2VlayIsImRpcmVjdGlvbiIsIm5ld0RhdGUiLCJtb250aFllYXIiLCJ5ZWFyIiwidmFyaWFudCIsIlN0YWZmUGlsbCIsImxhYmVsIiwiYWN0aXZlIiwiYSIsImhyZWYiLCJoMyIsImlkeCIsImhvdXJMYWJlbCIsImRheUlkeCIsInNsb3RzRm9ySG91ciIsImZpbHRlcmVkU2xvdHMiLCJib3JkZXJDb2xvciIsImJhY2tncm91bmRDb2xvciIsImJvcmRlcldpZHRoIiwib25Nb3VzZUVudGVyIiwiZSIsImN1cnJlbnRUYXJnZXQiLCJvbk1vdXNlTGVhdmUiLCJwcm9wcyIsInRlc3QiLCJoYXNSZXF1aXJlZEZpZWxkcyIsImNyZWF0ZVNldHVwSW50ZW50IiwiYXBpUGF5bG9hZCIsInNlcnZpY2VfaWQiLCJnaWZ0X2NhcmRfY29kZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRleHQiLCJhcGlSZXNwb25zZSIsImNsaWVudF9zZWNyZXQiLCJib29raW5nX2lkIiwiYm9va2luZ19jb2RlIiwiRmllbGQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZXZlbnQiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsImF1dG9Db21wbGV0ZSIsImhlbHBlciIsImF1dG9DYXBpdGFsaXplIiwiZGVzY3JpYmVBY2NlcHRlZE1ldGhvZHMiLCJzdHJpcGUiLCJvcHRpb25zIiwiY2xpZW50U2VjcmV0IiwiYXBwZWFyYW5jZSIsInRoZW1lIiwidmFyaWFibGVzIiwiY29sb3JQcmltYXJ5IiwiY29sb3JCYWNrZ3JvdW5kIiwiY29sb3JUZXh0IiwiY29sb3JEYW5nZXIiLCJmb250RmFtaWx5Iiwic3BhY2luZ1VuaXQiLCJib3JkZXJSYWRpdXMiLCJTdHJpcGVQYXltZW50Rm9ybSIsIm9uUGF5bWVudE1ldGhvZFJlYWR5IiwicG1JZCIsImJ1c2luZXNzU2x1ZyIsImJvb2tpbmdJZCIsImlucHV0IiwiY2hlY2tlZCIsImFjY2VudENvbG9yIiwiaHRtbEZvciIsInNpemUiLCJkaXNhYmxlZCIsImFzaWRlIiwidWwiLCJsaSIsImNhbmNlbGxhdGlvblBvbGljeSIsIm5vU2hvd1BvbGljeSIsInJlZnVuZFBvbGljeSIsImNhc2hQb2xpY3kiLCJyb2xlIiwiYXJpYS1tb2RhbCIsImFyaWEtbGFiZWwiLCJQb2xpY3lCbG9jayIsImRlc2NyaWJlRmVlIiwiY2FuY2VsbGF0aW9uRmVlVHlwZSIsImNhbmNlbGxhdGlvbkZlZVZhbHVlIiwibm9TaG93RmVlVHlwZSIsIm5vU2hvd0ZlZVZhbHVlIiwic3RlcHMiLCJpbmRleCIsImNoaWxkcmVuIiwibGVmdCIsInJhbmRvbSIsImFuaW1hdGlvbkRlbGF5IiwicmFuZG9tQ29uZmV0dGlDb2xvciIsInBhbGV0dGUiLCJmbG9vciIsIm1pbnV0ZXMiLCJocnMiLCJtaW5zIiwiY2VudHMiLCJOdW1iZXJGb3JtYXQiLCJtZXRob2RzIiwidW5pcXVlIiwibWV0aG9kTGFiZWxzIiwiY2FyZCIsImNhc2giLCJ3YWxsZXRzIiwiYXBwbGVfcGF5IiwiZ29vZ2xlX3BheSIsImxhYmVscyIsImpvaW4iLCJwYXJ0cyIsImFkZHJlc3NMaW5lMSIsImFkZHJlc3NMaW5lMiIsImNpdHkiLCJzdGF0ZVByb3ZpbmNlIiwiY291bnRyeSIsIkJvb2xlYW4iLCJoYXNoQmFzZSIsImhhc2giLCJzaW1wbGVIYXNoIiwiYWNjZXB0ZWRBdCIsImlwIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwiY2hhckNvZGVBdCIsImFicyIsInRvU3RyaW5nIiwiZWxlbWVudHMiLCJpc1Byb2Nlc3NpbmciLCJzZXRJc1Byb2Nlc3NpbmciLCJzZXRFcnJvciIsImhhbmRsZVN1Ym1pdCIsInByZXZlbnREZWZhdWx0IiwiY29uZmlybUVycm9yIiwic2V0dXBJbnRlbnQiLCJjb25maXJtU2V0dXAiLCJyZWRpcmVjdCIsIm1lc3NhZ2UiLCJwYXltZW50X21ldGhvZCIsIkVycm9yIiwicGF5bWVudE1ldGhvZFR5cGVzIiwiZm9ybSIsImxheW91dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/public-booking/booking-flow.tsx\n"));

/***/ })

});