/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/app/b/[businessId]/analytics/page"],{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2F3017387smacbookm%2FDownloads%2FCareer%2FTithi%2Fapps%2Fweb%2Fsrc%2Fapp%2Fapp%2Fb%2F%5BbusinessId%5D%2Fanalytics%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2F3017387smacbookm%2FDownloads%2FCareer%2FTithi%2Fapps%2Fweb%2Fsrc%2Fapp%2Fapp%2Fb%2F%5BbusinessId%5D%2Fanalytics%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/app/b/[businessId]/analytics/page.tsx */ \"(app-pages-browser)/./src/app/app/b/[businessId]/analytics/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkYzMDE3Mzg3c21hY2Jvb2ttJTJGRG93bmxvYWRzJTJGQ2FyZWVyJTJGVGl0aGklMkZhcHBzJTJGd2ViJTJGc3JjJTJGYXBwJTJGYXBwJTJGYiUyRiU1QmJ1c2luZXNzSWQlNUQlMkZhbmFseXRpY3MlMkZwYWdlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9ZmFsc2UhIiwibWFwcGluZ3MiOiJBQUFBLHdOQUEwSSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvPzY1YmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvMzAxNzM4N3NtYWNib29rbS9Eb3dubG9hZHMvQ2FyZWVyL1RpdGhpL2FwcHMvd2ViL3NyYy9hcHAvYXBwL2IvW2J1c2luZXNzSWRdL2FuYWx5dGljcy9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2F3017387smacbookm%2FDownloads%2FCareer%2FTithi%2Fapps%2Fweb%2Fsrc%2Fapp%2Fapp%2Fb%2F%5BbusinessId%5D%2Fanalytics%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/app/b/[businessId]/analytics/page.tsx":
/*!*******************************************************!*\
  !*** ./src/app/app/b/[businessId]/analytics/page.tsx ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AnalyticsPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_fake_business__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/fake-business */ \"(app-pages-browser)/./src/lib/fake-business.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nconst STATUS_COLORS = {\n    captured: \"#5B64FF\",\n    authorized: \"#57D0FF\",\n    pending: \"#8AFFCF\",\n    canceled: \"#FF9A8B\",\n    no_show: \"#FFD166\",\n    refunded: \"#C4A5FF\",\n    requires_action: \"#FF6FB5\",\n    completed: \"#5B64FF\"\n};\nfunction AnalyticsPage() {\n    _s();\n    const { workspace } = (0,_lib_fake_business__WEBPACK_IMPORTED_MODULE_2__.useFakeBusiness)();\n    if (!workspace) {\n        return null;\n    }\n    const analytics = workspace.analytics;\n    const lineSeries = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const points = analytics.revenueByMonth.map((entry, index)=>({\n                x: index,\n                captured: entry.capturedCents / 100,\n                noShow: entry.noShowFeeCents / 100,\n                refunded: entry.refundedCents / 100,\n                label: entry.month\n            }));\n        return points;\n    }, [\n        analytics.revenueByMonth\n    ]);\n    const donutSeries = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const total = analytics.bookingsByStatus.reduce((sum, entry)=>sum + entry.count, 0) || 1;\n        return analytics.bookingsByStatus.map((entry)=>({\n                ...entry,\n                percentage: Math.round(entry.count / total * 100)\n            }));\n    }, [\n        analytics.bookingsByStatus\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-12\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                        children: \"Insights\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                        lineNumber: 49,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"font-display text-4xl text-white\",\n                        children: \"Analytics overview\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                        lineNumber: 50,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"max-w-3xl text-sm text-white/60\",\n                        children: \"Stripe-ready metrics give owners clarity on revenue, manual captures, policy fees, and customer behavior. This dashboard is wired to the fake data today, and will plug directly into the real API responses once they land.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                        lineNumber: 51,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 48,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"grid gap-6 md:grid-cols-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MetricCard, {\n                        label: \"Captured revenue (30d)\",\n                        value: formatCurrency(analytics.feeBreakdown.totalCapturedCents),\n                        helper: \"Manual captures + policy fees\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MetricCard, {\n                        label: \"Platform fee earned\",\n                        value: formatCurrency(analytics.feeBreakdown.platformFeeCents),\n                        helper: \"1% on every completed charge\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                        lineNumber: 64,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MetricCard, {\n                        label: \"Net payout to business\",\n                        value: formatCurrency(analytics.feeBreakdown.netPayoutCents),\n                        helper: \"What hits the tenant's Connect account\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                        lineNumber: 69,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 58,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"grid gap-6 lg:grid-cols-[2fr,1fr]\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-white/10 bg-white/5 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: \"text-lg font-semibold text-white\",\n                                                children: \"Monthly revenue streams\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 80,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs uppercase tracking-wide text-white/40\",\n                                                children: \"Manual capture vs policy fees vs refunds\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 81,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                        lineNumber: 79,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-4 text-xs text-white/60\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LegendDot, {\n                                                color: \"#5B64FF\",\n                                                label: \"Captured\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 86,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LegendDot, {\n                                                color: \"#57D0FF\",\n                                                label: \"No-show fee\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 87,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LegendDot, {\n                                                color: \"#FF9A8B\",\n                                                label: \"Refunded\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 88,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                        lineNumber: 85,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 78,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-6 h-64 w-full rounded-2xl border border-white/10 bg-[#060F28]/80 p-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    viewBox: \"0 0 400 160\",\n                                    className: \"h-full w-full\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(GridLines, {}, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                            lineNumber: 93,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Polyline, {\n                                            series: lineSeries,\n                                            accessor: \"captured\",\n                                            color: \"#5B64FF\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                            lineNumber: 94,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Polyline, {\n                                            series: lineSeries,\n                                            accessor: \"noShow\",\n                                            color: \"#57D0FF\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                            lineNumber: 95,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Polyline, {\n                                            series: lineSeries,\n                                            accessor: \"refunded\",\n                                            color: \"#FF9A8B\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                            lineNumber: 96,\n                                            columnNumber: 15\n                                        }, this),\n                                        lineSeries.map((point, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"text\", {\n                                                x: index / Math.max(lineSeries.length - 1, 1) * 360 + 20,\n                                                y: 150,\n                                                textAnchor: \"middle\",\n                                                className: \"fill-white/50 text-[10px]\",\n                                                children: point.label\n                                            }, point.label, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 98,\n                                                columnNumber: 17\n                                            }, this))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                    lineNumber: 92,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 91,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                        lineNumber: 77,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-white/10 bg-white/5 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg font-semibold text-white\",\n                                children: \"Booking mix\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 113,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-wide text-white/40\",\n                                children: \"Status distribution\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 114,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DonutChart, {\n                                data: donutSeries\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 115,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"mt-6 space-y-2 text-sm text-white/70\",\n                                children: donutSeries.map((entry)=>/*#__PURE__*/ {\n                                    var _STATUS_COLORS_entry_status;\n                                    return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"h-2.5 w-2.5 rounded-full\",\n                                                        style: {\n                                                            background: (_STATUS_COLORS_entry_status = STATUS_COLORS[entry.status]) !== null && _STATUS_COLORS_entry_status !== void 0 ? _STATUS_COLORS_entry_status : \"#5B64FF\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                        lineNumber: 120,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"capitalize\",\n                                                        children: entry.status.replace(\"_\", \" \")\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                        lineNumber: 124,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 119,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    entry.percentage,\n                                                    \"%\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 126,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, entry.status, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                        lineNumber: 118,\n                                        columnNumber: 15\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 116,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                        lineNumber: 112,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 76,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                className: \"grid gap-6 lg:grid-cols-[1.3fr,1fr]\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-white/10 bg-white/5 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg font-semibold text-white\",\n                                children: \"Staff utilization\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 135,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-wide text-white/40\",\n                                children: \"Based on booked minutes\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 136,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-6 space-y-4\",\n                                children: analytics.staffUtilization.map((staff)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between text-sm text-white/70\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: staff.staffName\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                        lineNumber: 141,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            staff.utilizationPercent,\n                                                            \"%\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                        lineNumber: 142,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 140,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 h-2 rounded-full bg-white/10\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"h-full rounded-full bg-gradient-to-r from-primary/80 to-sky-400/80\",\n                                                    style: {\n                                                        width: \"\".concat(staff.utilizationPercent, \"%\")\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                    lineNumber: 145,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 144,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, staff.staffId, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                        lineNumber: 139,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 137,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                        lineNumber: 134,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-white/10 bg-white/5 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-lg font-semibold text-white\",\n                                children: \"Fee breakdown\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 156,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-wide text-white/40\",\n                                children: \"Last 30 days\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 157,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dl\", {\n                                className: \"mt-6 space-y-3 text-sm text-white/70\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dt\", {\n                                                children: \"Captured\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 160,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dd\", {\n                                                children: formatCurrency(analytics.feeBreakdown.totalCapturedCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 161,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                        lineNumber: 159,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dt\", {\n                                                children: \"Platform fee (1%)\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 164,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dd\", {\n                                                children: formatCurrency(analytics.feeBreakdown.platformFeeCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 165,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                        lineNumber: 163,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dt\", {\n                                                children: \"Stripe fees est.\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 168,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dd\", {\n                                                children: formatCurrency(analytics.feeBreakdown.stripeFeeCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 169,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                        lineNumber: 167,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between text-base font-semibold text-white\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dt\", {\n                                                children: \"Net payout\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 172,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"dd\", {\n                                                children: formatCurrency(analytics.feeBreakdown.netPayoutCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                                lineNumber: 173,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                        lineNumber: 171,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                                lineNumber: 158,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                        lineNumber: 155,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 133,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n        lineNumber: 47,\n        columnNumber: 5\n    }, this);\n}\n_s(AnalyticsPage, \"s/NKNQ0RNFxyHKaCncBrzpiZppg=\", false, function() {\n    return [\n        _lib_fake_business__WEBPACK_IMPORTED_MODULE_2__.useFakeBusiness\n    ];\n});\n_c = AnalyticsPage;\nfunction MetricCard(param) {\n    let { label, value, helper } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"rounded-3xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent px-6 py-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-xs uppercase tracking-wide text-white/50\",\n                children: label\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 193,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-3 text-2xl font-semibold text-white\",\n                children: value\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 194,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-2 text-xs text-white/60\",\n                children: helper\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 195,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n        lineNumber: 192,\n        columnNumber: 5\n    }, this);\n}\n_c1 = MetricCard;\nfunction GridLines() {\n    const lines = new Array(4).fill(null);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"rect\", {\n                x: \"20\",\n                y: \"10\",\n                width: \"360\",\n                height: \"140\",\n                fill: \"transparent\",\n                stroke: \"rgba(255,255,255,0.08)\"\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 204,\n                columnNumber: 7\n            }, this),\n            lines.map((_, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                    x1: \"20\",\n                    x2: \"380\",\n                    y1: 10 + (index + 1) * 28,\n                    y2: 10 + (index + 1) * 28,\n                    stroke: \"rgba(255,255,255,0.05)\"\n                }, \"grid-\".concat(index), false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                    lineNumber: 206,\n                    columnNumber: 9\n                }, this))\n        ]\n    }, void 0, true);\n}\n_c2 = GridLines;\nfunction Polyline(param) {\n    let { series, accessor, color } = param;\n    if (series.length === 0) return null;\n    const max = Math.max(...series.map((point)=>Math.max(point.captured, point.noShow, point.refunded)), 1);\n    const points = series.map((point, index)=>{\n        const x = index / Math.max(series.length - 1, 1) * 360 + 20;\n        const y = 150 - point[accessor] / max * 120;\n        return \"\".concat(x, \",\").concat(y);\n    }).join(\" \");\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"polyline\", {\n        points: points,\n        fill: \"none\",\n        stroke: color,\n        strokeWidth: 2.5,\n        strokeLinecap: \"round\"\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n        lineNumber: 240,\n        columnNumber: 10\n    }, this);\n}\n_c3 = Polyline;\nfunction DonutChart(param) {\n    let { data } = param;\n    const gradient = data.reduce((acc, entry)=>{\n        const end = acc.start + entry.percentage;\n        var _STATUS_COLORS_entry_status;\n        acc.segments.push(\"\".concat((_STATUS_COLORS_entry_status = STATUS_COLORS[entry.status]) !== null && _STATUS_COLORS_entry_status !== void 0 ? _STATUS_COLORS_entry_status : \"#5B64FF\", \" \").concat(acc.start, \"% \").concat(end, \"%\"));\n        acc.start = end;\n        return acc;\n    }, {\n        start: 0,\n        segments: []\n    }).segments.join(\", \");\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-6 flex items-center justify-center\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-44 w-44 items-center justify-center rounded-full border border-white/10 bg-[#060F28]\",\n            style: {\n                background: \"conic-gradient(\".concat(gradient, \")\")\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex h-28 w-28 items-center justify-center rounded-full border border-white/10 bg-[#050F2C]\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-xs text-white/50\",\n                    children: \"100%\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                    lineNumber: 271,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 270,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n            lineNumber: 264,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n        lineNumber: 263,\n        columnNumber: 5\n    }, this);\n}\n_c4 = DonutChart;\nfunction LegendDot(param) {\n    let { color, label } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        className: \"flex items-center gap-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"h-2.5 w-2.5 rounded-full\",\n                style: {\n                    backgroundColor: color\n                }\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 281,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: label\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n                lineNumber: 282,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/app/b/[businessId]/analytics/page.tsx\",\n        lineNumber: 280,\n        columnNumber: 5\n    }, this);\n}\n_c5 = LegendDot;\nfunction formatCurrency(cents) {\n    return new Intl.NumberFormat(undefined, {\n        style: \"currency\",\n        currency: \"USD\",\n        maximumFractionDigits: 0\n    }).format(cents / 100);\n}\nvar _c, _c1, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"AnalyticsPage\");\n$RefreshReg$(_c1, \"MetricCard\");\n$RefreshReg$(_c2, \"GridLines\");\n$RefreshReg$(_c3, \"Polyline\");\n$RefreshReg$(_c4, \"DonutChart\");\n$RefreshReg$(_c5, \"LegendDot\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvYXBwL2IvW2J1c2luZXNzSWRdL2FuYWx5dGljcy9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRWdDO0FBRXNCO0FBRXRELE1BQU1FLGdCQUF3QztJQUM1Q0MsVUFBVTtJQUNWQyxZQUFZO0lBQ1pDLFNBQVM7SUFDVEMsVUFBVTtJQUNWQyxTQUFTO0lBQ1RDLFVBQVU7SUFDVkMsaUJBQWlCO0lBQ2pCQyxXQUFXO0FBQ2I7QUFFZSxTQUFTQzs7SUFDdEIsTUFBTSxFQUFFQyxTQUFTLEVBQUUsR0FBR1gsbUVBQWVBO0lBRXJDLElBQUksQ0FBQ1csV0FBVztRQUNkLE9BQU87SUFDVDtJQUVBLE1BQU1DLFlBQVlELFVBQVVDLFNBQVM7SUFFckMsTUFBTUMsYUFBYWQsOENBQU9BLENBQUM7UUFDekIsTUFBTWUsU0FBU0YsVUFBVUcsY0FBYyxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsT0FBT0MsUUFBVztnQkFDN0RDLEdBQUdEO2dCQUNIaEIsVUFBVWUsTUFBTUcsYUFBYSxHQUFHO2dCQUNoQ0MsUUFBUUosTUFBTUssY0FBYyxHQUFHO2dCQUMvQmYsVUFBVVUsTUFBTU0sYUFBYSxHQUFHO2dCQUNoQ0MsT0FBT1AsTUFBTVEsS0FBSztZQUNwQjtRQUNBLE9BQU9YO0lBQ1QsR0FBRztRQUFDRixVQUFVRyxjQUFjO0tBQUM7SUFFN0IsTUFBTVcsY0FBYzNCLDhDQUFPQSxDQUFDO1FBQzFCLE1BQU00QixRQUFRZixVQUFVZ0IsZ0JBQWdCLENBQUNDLE1BQU0sQ0FBQyxDQUFDQyxLQUFLYixRQUFVYSxNQUFNYixNQUFNYyxLQUFLLEVBQUUsTUFBTTtRQUN6RixPQUFPbkIsVUFBVWdCLGdCQUFnQixDQUFDWixHQUFHLENBQUMsQ0FBQ0MsUUFBVztnQkFDaEQsR0FBR0EsS0FBSztnQkFDUmUsWUFBWUMsS0FBS0MsS0FBSyxDQUFDLE1BQU9ILEtBQUssR0FBR0osUUFBUztZQUNqRDtJQUNGLEdBQUc7UUFBQ2YsVUFB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QWlCb0csT0FBZEQsSUFBSUUsS0FBSyxFQUFDLE1BQVEsT0FBSkQsS0FBSTtRQUVuRUQsSUFBSUUsS0FBSyxHQUFHRDtRQUNaLE9BQU9EO0lBQ1QsR0FDQTtRQUFFRSxPQUFPO1FBQUdDLFVBQVUsRUFBRTtJQUFDLEdBRTFCQSxRQUFRLENBQUNSLElBQUksQ0FBQztJQUVqQixxQkFDRSw4REFBQzVEO1FBQUlDLFdBQVU7a0JBQ2IsNEVBQUNEO1lBQ0NDLFdBQVU7WUFDVmlDLE9BQU87Z0JBQ0xDLFlBQVksa0JBQTJCLE9BQVQ2QixVQUFTO1lBQ3pDO3NCQUVBLDRFQUFDaEU7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNnQztvQkFBS2hDLFdBQVU7OEJBQXdCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLbEQ7TUFqQ1M0QjtBQW1DVCxTQUFTZCxVQUFVLEtBQWtEO1FBQWxELEVBQUVDLEtBQUssRUFBRTNCLEtBQUssRUFBb0MsR0FBbEQ7SUFDakIscUJBQ0UsOERBQUM0QztRQUFLaEMsV0FBVTs7MEJBQ2QsOERBQUNnQztnQkFBS2hDLFdBQVU7Z0JBQTJCaUMsT0FBTztvQkFBRW9DLGlCQUFpQnREO2dCQUFNOzs7Ozs7MEJBQzNFLDhEQUFDaUI7MEJBQU01Qzs7Ozs7Ozs7Ozs7O0FBR2I7TUFQUzBCO0FBU1QsU0FBU1AsZUFBZStELEtBQWE7SUFDbkMsT0FBTyxJQUFJQyxLQUFLQyxZQUFZLENBQUNDLFdBQVc7UUFDdEN4QyxPQUFPO1FBQ1B5QyxVQUFVO1FBQ1ZDLHVCQUF1QjtJQUN6QixHQUFHQyxNQUFNLENBQUNOLFFBQVE7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC9hcHAvYi9bYnVzaW5lc3NJZF0vYW5hbHl0aWNzL3BhZ2UudHN4PzcwNWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgdXNlRmFrZUJ1c2luZXNzIH0gZnJvbSBcIkAvbGliL2Zha2UtYnVzaW5lc3NcIjtcblxuY29uc3QgU1RBVFVTX0NPTE9SUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgY2FwdHVyZWQ6IFwiIzVCNjRGRlwiLFxuICBhdXRob3JpemVkOiBcIiM1N0QwRkZcIixcbiAgcGVuZGluZzogXCIjOEFGRkNGXCIsXG4gIGNhbmNlbGVkOiBcIiNGRjlBOEJcIixcbiAgbm9fc2hvdzogXCIjRkZEMTY2XCIsXG4gIHJlZnVuZGVkOiBcIiNDNEE1RkZcIixcbiAgcmVxdWlyZXNfYWN0aW9uOiBcIiNGRjZGQjVcIixcbiAgY29tcGxldGVkOiBcIiM1QjY0RkZcIlxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQW5hbHl0aWNzUGFnZSgpIHtcbiAgY29uc3QgeyB3b3Jrc3BhY2UgfSA9IHVzZUZha2VCdXNpbmVzcygpO1xuXG4gIGlmICghd29ya3NwYWNlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBhbmFseXRpY3MgPSB3b3Jrc3BhY2UuYW5hbHl0aWNzO1xuXG4gIGNvbnN0IGxpbmVTZXJpZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBwb2ludHMgPSBhbmFseXRpY3MucmV2ZW51ZUJ5TW9udGgubWFwKChlbnRyeSwgaW5kZXgpID0+ICh7XG4gICAgICB4OiBpbmRleCxcbiAgICAgIGNhcHR1cmVkOiBlbnRyeS5jYXB0dXJlZENlbnRzIC8gMTAwLFxuICAgICAgbm9TaG93OiBlbnRyeS5ub1Nob3dGZWVDZW50cyAvIDEwMCxcbiAgICAgIHJlZnVuZGVkOiBlbnRyeS5yZWZ1bmRlZENlbnRzIC8gMTAwLFxuICAgICAgbGFiZWw6IGVudHJ5Lm1vbnRoXG4gICAgfSkpO1xuICAgIHJldHVybiBwb2ludHM7XG4gIH0sIFthbmFseXRpY3MucmV2ZW51ZUJ5TW9udGhdKTtcblxuICBjb25zdCBkb251dFNlcmllcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHRvdGFsID0gYW5hbHl0aWNzLmJvb2tpbmdzQnlTdGF0dXMucmVkdWNlKChzdW0sIGVudHJ5KSA9PiBzdW0gKyBlbnRyeS5jb3VudCwgMCkgfHwgMTtcbiAgICByZXR1cm4gYW5hbHl0aWNzLmJvb2tpbmdzQnlTdGF0dXMubWFwKChlbnRyeSkgPT4gKHtcbiAgICAgIC4uLmVudHJ5LFxuICAgICAgcGVyY2VudGFnZTogTWF0aC5yb3VuZCgoZW50cnkuY291bnQgLyB0b3RhbCkgKiAxMDApXG4gICAgfSkpO1xuICB9LCBbYW5hbHl0aWNzLmJvb2tpbmdzQnlTdGF0dXNdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xMlwiPlxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS80MFwiPkluc2lnaHRzPC9wPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1kaXNwbGF5IHRleHQtNHhsIHRleHQtd2hpdGVcIj5BbmFseXRpY3Mgb3ZlcnZpZXc8L2gxPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtYXgtdy0zeGwgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgU3RyaXBlLXJlYWR5IG1ldHJpY3MgZ2l2ZSBvd25lcnMgY2xhcml0eSBvbiByZXZlbnVlLCBtYW51YWwgY2FwdHVyZXMsIHBvbGljeSBmZWVzLCBhbmRcbiAgICAgICAgICBjdXN0b21lciBiZWhhdmlvci4gVGhpcyBkYXNoYm9hcmQgaXMgd2lyZWQgdG8gdGhlIGZha2UgZGF0YSB0b2RheSwgYW5kIHdpbGwgcGx1ZyBkaXJlY3RseSBpbnRvXG4gICAgICAgICAgdGhlIHJlYWwgQVBJIHJlc3BvbnNlcyBvbmNlIHRoZXkgbGFuZC5cbiAgICAgICAgPC9wPlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTYgbWQ6Z3JpZC1jb2xzLTNcIj5cbiAgICAgICAgPE1ldHJpY0NhcmRcbiAgICAgICAgICBsYWJlbD1cIkNhcHR1cmVkIHJldmVudWUgKDMwZClcIlxuICAgICAgICAgIHZhbHVlPXtmb3JtYXRDdXJyZW5jeShhbmFseXRpY3MuZmVlQnJlYWtkb3duLnRvdGFsQ2FwdHVyZWRDZW50cyl9XG4gICAgICAgICAgaGVscGVyPVwiTWFudWFsIGNhcHR1cmVzICsgcG9saWN5IGZlZXNcIlxuICAgICAgICAvPlxuICAgICAgICA8TWV0cmljQ2FyZFxuICAgICAgICAgIGxhYmVsPVwiUGxhdGZvcm0gZmVlIGVhcm5lZFwiXG4gICAgICAgICAgdmFsdWU9e2Zvcm1hdEN1cnJlbmN5KGFuYWx5dGljcy5mZWVCcmVha2Rvd24ucGxhdGZvcm1GZWVDZW50cyl9XG4gICAgICAgICAgaGVscGVyPVwiMSUgb24gZXZlcnkgY29tcGxldGVkIGNoYXJnZVwiXG4gICAgICAgIC8+XG4gICAgICAgIDxNZXRyaWNDYXJkXG4gICAgICAgICAgbGFiZWw9XCJOZXQgcGF5b3V0IHRvIGJ1c2luZXNzXCJcbiAgICAgICAgICB2YWx1ZT17Zm9ybWF0Q3VycmVuY3koYW5hbHl0aWNzLmZlZUJyZWFrZG93bi5uZXRQYXlvdXRDZW50cyl9XG4gICAgICAgICAgaGVscGVyPVwiV2hhdCBoaXRzIHRoZSB0ZW5hbnQncyBDb25uZWN0IGFjY291bnRcIlxuICAgICAgICAvPlxuICAgICAgPC9zZWN0aW9uPlxuXG4gICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJncmlkIGdhcC02IGxnOmdyaWQtY29scy1bMmZyLDFmcl1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcC02XCI+XG4gICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPk1vbnRobHkgcmV2ZW51ZSBzdHJlYW1zPC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXdoaXRlLzQwXCI+XG4gICAgICAgICAgICAgICAgTWFudWFsIGNhcHR1cmUgdnMgcG9saWN5IGZlZXMgdnMgcmVmdW5kc1xuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgdGV4dC14cyB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgIDxMZWdlbmREb3QgY29sb3I9XCIjNUI2NEZGXCIgbGFiZWw9XCJDYXB0dXJlZFwiIC8+XG4gICAgICAgICAgICAgIDxMZWdlbmREb3QgY29sb3I9XCIjNTdEMEZGXCIgbGFiZWw9XCJOby1zaG93IGZlZVwiIC8+XG4gICAgICAgICAgICAgIDxMZWdlbmREb3QgY29sb3I9XCIjRkY5QThCXCIgbGFiZWw9XCJSZWZ1bmRlZFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2hlYWRlcj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgaC02NCB3LWZ1bGwgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1bIzA2MEYyOF0vODAgcC00XCI+XG4gICAgICAgICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgNDAwIDE2MFwiIGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgPEdyaWRMaW5lcyAvPlxuICAgICAgICAgICAgICA8UG9seWxpbmUgc2VyaWVzPXtsaW5lU2VyaWVzfSBhY2Nlc3Nvcj1cImNhcHR1cmVkXCIgY29sb3I9XCIjNUI2NEZGXCIgLz5cbiAgICAgICAgICAgICAgPFBvbHlsaW5lIHNlcmllcz17bGluZVNlcmllc30gYWNjZXNzb3I9XCJub1Nob3dcIiBjb2xvcj1cIiM1N0QwRkZcIiAvPlxuICAgICAgICAgICAgICA8UG9seWxpbmUgc2VyaWVzPXtsaW5lU2VyaWVzfSBhY2Nlc3Nvcj1cInJlZnVuZGVkXCIgY29sb3I9XCIjRkY5QThCXCIgLz5cbiAgICAgICAgICAgICAge2xpbmVTZXJpZXMubWFwKChwb2ludCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICA8dGV4dFxuICAgICAgICAgICAgICAgICAga2V5PXtwb2ludC5sYWJlbH1cbiAgICAgICAgICAgICAgICAgIHg9eyhpbmRleCAvIE1hdGgubWF4KGxpbmVTZXJpZXMubGVuZ3RoIC0gMSwgMSkpICogMzYwICsgMjB9XG4gICAgICAgICAgICAgICAgICB5PXsxNTB9XG4gICAgICAgICAgICAgICAgICB0ZXh0QW5jaG9yPVwibWlkZGxlXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpbGwtd2hpdGUvNTAgdGV4dC1bMTBweF1cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtwb2ludC5sYWJlbH1cbiAgICAgICAgICAgICAgICA8L3RleHQ+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHAtNlwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPkJvb2tpbmcgbWl4PC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtd2hpdGUvNDBcIj5TdGF0dXMgZGlzdHJpYnV0aW9uPC9wPlxuICAgICAgICAgIDxEb251dENoYXJ0IGRhdGE9e2RvbnV0U2VyaWVzfSAvPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJtdC02IHNwYWNlLXktMiB0ZXh0LXNtIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICAgIHtkb251dFNlcmllcy5tYXAoKGVudHJ5KSA9PiAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9e2VudHJ5LnN0YXR1c30gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtMi41IHctMi41IHJvdW5kZWQtZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmQ6IFNUQVRVU19DT0xPUlNbZW50cnkuc3RhdHVzXSA/PyBcIiM1QjY0RkZcIiB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNhcGl0YWxpemVcIj57ZW50cnkuc3RhdHVzLnJlcGxhY2UoXCJfXCIsIFwiIFwiKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPntlbnRyeS5wZXJjZW50YWdlfSU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2VjdGlvbj5cblxuICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNiBsZzpncmlkLWNvbHMtWzEuM2ZyLDFmcl1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcC02XCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+U3RhZmYgdXRpbGl6YXRpb248L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC13aGl0ZS80MFwiPkJhc2VkIG9uIGJvb2tlZCBtaW51dGVzPC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIHthbmFseXRpY3Muc3RhZmZVdGlsaXphdGlvbi5tYXAoKHN0YWZmKSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtzdGFmZi5zdGFmZklkfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPntzdGFmZi5zdGFmZk5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+e3N0YWZmLnV0aWxpemF0aW9uUGVyY2VudH0lPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBoLTIgcm91bmRlZC1mdWxsIGJnLXdoaXRlLzEwXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tciBmcm9tLXByaW1hcnkvODAgdG8tc2t5LTQwMC84MFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtzdGFmZi51dGlsaXphdGlvblBlcmNlbnR9JWAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHAtNlwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPkZlZSBicmVha2Rvd248L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC13aGl0ZS80MFwiPkxhc3QgMzAgZGF5czwvcD5cbiAgICAgICAgICA8ZGwgY2xhc3NOYW1lPVwibXQtNiBzcGFjZS15LTMgdGV4dC1zbSB0ZXh0LXdoaXRlLzcwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8ZHQ+Q2FwdHVyZWQ8L2R0PlxuICAgICAgICAgICAgICA8ZGQ+e2Zvcm1hdEN1cnJlbmN5KGFuYWx5dGljcy5mZWVCcmVha2Rvd24udG90YWxDYXB0dXJlZENlbnRzKX08L2RkPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8ZHQ+UGxhdGZvcm0gZmVlICgxJSk8L2R0PlxuICAgICAgICAgICAgICA8ZGQ+e2Zvcm1hdEN1cnJlbmN5KGFuYWx5dGljcy5mZWVCcmVha2Rvd24ucGxhdGZvcm1GZWVDZW50cyl9PC9kZD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGR0PlN0cmlwZSBmZWVzIGVzdC48L2R0PlxuICAgICAgICAgICAgICA8ZGQ+e2Zvcm1hdEN1cnJlbmN5KGFuYWx5dGljcy5mZWVCcmVha2Rvd24uc3RyaXBlRmVlQ2VudHMpfTwvZGQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgPGR0Pk5ldCBwYXlvdXQ8L2R0PlxuICAgICAgICAgICAgICA8ZGQ+e2Zvcm1hdEN1cnJlbmN5KGFuYWx5dGljcy5mZWVCcmVha2Rvd24ubmV0UGF5b3V0Q2VudHMpfTwvZGQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2RsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2VjdGlvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gTWV0cmljQ2FyZCh7XG4gIGxhYmVsLFxuICB2YWx1ZSxcbiAgaGVscGVyXG59OiB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIGhlbHBlcjogc3RyaW5nO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ncmFkaWVudC10by1iciBmcm9tLXdoaXRlLzEwIHZpYS13aGl0ZS81IHRvLXRyYW5zcGFyZW50IHB4LTYgcHktNlwiPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXdoaXRlLzUwXCI+e2xhYmVsfTwvcD5cbiAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTMgdGV4dC0yeGwgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+e3ZhbHVlfTwvcD5cbiAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXdoaXRlLzYwXCI+e2hlbHBlcn08L3A+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIEdyaWRMaW5lcygpIHtcbiAgY29uc3QgbGluZXMgPSBuZXcgQXJyYXkoNCkuZmlsbChudWxsKTtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPHJlY3QgeD1cIjIwXCIgeT1cIjEwXCIgd2lkdGg9XCIzNjBcIiBoZWlnaHQ9XCIxNDBcIiBmaWxsPVwidHJhbnNwYXJlbnRcIiBzdHJva2U9XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpXCIgLz5cbiAgICAgIHtsaW5lcy5tYXAoKF8sIGluZGV4KSA9PiAoXG4gICAgICAgIDxsaW5lXG4gICAgICAgICAga2V5PXtgZ3JpZC0ke2luZGV4fWB9XG4gICAgICAgICAgeDE9XCIyMFwiXG4gICAgICAgICAgeDI9XCIzODBcIlxuICAgICAgICAgIHkxPXsxMCArIChpbmRleCArIDEpICogMjh9XG4gICAgICAgICAgeTI9ezEwICsgKGluZGV4ICsgMSkgKiAyOH1cbiAgICAgICAgICBzdHJva2U9XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMDUpXCJcbiAgICAgICAgLz5cbiAgICAgICkpfVxuICAgIDwvPlxuICApO1xufVxuXG5mdW5jdGlvbiBQb2x5bGluZSh7XG4gIHNlcmllcyxcbiAgYWNjZXNzb3IsXG4gIGNvbG9yXG59OiB7XG4gIHNlcmllczogQXJyYXk8eyB4OiBudW1iZXI7IGNhcHR1cmVkOiBudW1iZXI7IG5vU2hvdzogbnVtYmVyOyByZWZ1bmRlZDogbnVtYmVyOyBsYWJlbDogc3RyaW5nIH0+O1xuICBhY2Nlc3NvcjogXCJjYXB0dXJlZFwiIHwgXCJub1Nob3dcIiB8IFwicmVmdW5kZWRcIjtcbiAgY29sb3I6IHN0cmluZztcbn0pIHtcbiAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICBjb25zdCBtYXggPSBNYXRoLm1heChcbiAgICAuLi5zZXJpZXMubWFwKChwb2ludCkgPT4gTWF0aC5tYXgocG9pbnQuY2FwdHVyZWQsIHBvaW50Lm5vU2hvdywgcG9pbnQucmVmdW5kZWQpKSxcbiAgICAxXG4gICk7XG4gIGNvbnN0IHBvaW50cyA9IHNlcmllc1xuICAgIC5tYXAoKHBvaW50LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgeCA9IChpbmRleCAvIE1hdGgubWF4KHNlcmllcy5sZW5ndGggLSAxLCAxKSkgKiAzNjAgKyAyMDtcbiAgICAgIGNvbnN0IHkgPSAxNTAgLSAocG9pbnRbYWNjZXNzb3JdIC8gbWF4KSAqIDEyMDtcbiAgICAgIHJldHVybiBgJHt4fSwke3l9YDtcbiAgICB9KVxuICAgIC5qb2luKFwiIFwiKTtcbiAgcmV0dXJuIDxwb2x5bGluZSBwb2ludHM9e3BvaW50c30gZmlsbD1cIm5vbmVcIiBzdHJva2U9e2NvbG9yfSBzdHJva2VXaWR0aD17Mi41fSBzdHJva2VMaW5lY2FwPVwicm91bmRcIiAvPjtcbn1cblxuZnVuY3Rpb24gRG9udXRDaGFydCh7XG4gIGRhdGFcbn06IHtcbiAgZGF0YTogQXJyYXk8eyBzdGF0dXM6IHN0cmluZzsgY291bnQ6IG51bWJlcjsgcGVyY2VudGFnZTogbnVtYmVyIH0+O1xufSkge1xuICBjb25zdCBncmFkaWVudCA9IGRhdGFcbiAgICAucmVkdWNlPHsgc3RhcnQ6IG51bWJlcjsgc2VnbWVudHM6IHN0cmluZ1tdIH0+KFxuICAgICAgKGFjYywgZW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgZW5kID0gYWNjLnN0YXJ0ICsgZW50cnkucGVyY2VudGFnZTtcbiAgICAgICAgYWNjLnNlZ21lbnRzLnB1c2goXG4gICAgICAgICAgYCR7U1RBVFVTX0NPTE9SU1tlbnRyeS5zdGF0dXNdID8/IFwiIzVCNjRGRlwifSAke2FjYy5zdGFydH0lICR7ZW5kfSVgXG4gICAgICAgICk7XG4gICAgICAgIGFjYy5zdGFydCA9IGVuZDtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sXG4gICAgICB7IHN0YXJ0OiAwLCBzZWdtZW50czogW10gfVxuICAgIClcbiAgICAuc2VnbWVudHMuam9pbihcIiwgXCIpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXggaC00NCB3LTQ0IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1bIzA2MEYyOF1cIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGJhY2tncm91bmQ6IGBjb25pYy1ncmFkaWVudCgke2dyYWRpZW50fSlgXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLTI4IHctMjggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLVsjMDUwRjJDXVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC13aGl0ZS81MFwiPjEwMCU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIExlZ2VuZERvdCh7IGNvbG9yLCBsYWJlbCB9OiB7IGNvbG9yOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmcgfSkge1xuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJoLTIuNSB3LTIuNSByb3VuZGVkLWZ1bGxcIiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yIH19IC8+XG4gICAgICA8c3Bhbj57bGFiZWx9PC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0Q3VycmVuY3koY2VudHM6IG51bWJlcikge1xuICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KHVuZGVmaW5lZCwge1xuICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgY3VycmVuY3k6IFwiVVNEXCIsXG4gICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwXG4gIH0pLmZvcm1hdChjZW50cyAvIDEwMCk7XG59XG5cblxuXG5cbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwidXNlRmFrZUJ1c2luZXNzIiwiU1RBVFVTX0NPTE9SUyIsImNhcHR1cmVkIiwiYXV0aG9yaXplZCIsInBlbmRpbmciLCJjYW5jZWxlZCIsIm5vX3Nob3ciLCJyZWZ1bmRlZCIsInJlcXVpcmVzX2FjdGlvbiIsImNvbXBsZXRlZCIsIkFuYWx5dGljc1BhZ2UiLCJ3b3Jrc3BhY2UiLCJhbmFseXRpY3MiLCJsaW5lU2VyaWVzIiwicG9pbnRzIiwicmV2ZW51ZUJ5TW9udGgiLCJtYXAiLCJlbnRyeSIsImluZGV4IiwieCIsImNhcHR1cmVkQ2VudHMiLCJub1Nob3ciLCJub1Nob3dGZWVDZW50cyIsInJlZnVuZGVkQ2VudHMiLCJsYWJlbCIsIm1vbnRoIiwiZG9udXRTZXJpZXMiLCJ0b3RhbCIsImJvb2tpbmdzQnlTdGF0dXMiLCJyZWR1Y2UiLCJzdW0iLCJjb3VudCIsInBlcmNlbnRhZ2UiLCJNYXRoIiwicm91bmQiLCJkaXYiLCJjbGFzc05hbWUiLCJoZWFkZXIiLCJwIiwiaDEiLCJzZWN0aW9uIiwiTWV0cmljQ2FyZCIsInZhbHVlIiwiZm9ybWF0Q3VycmVuY3kiLCJmZWVCcmVha2Rvd24iLCJ0b3RhbENhcHR1cmVkQ2VudHMiLCJoZWxwZXIiLCJwbGF0Zm9ybUZlZUNlbnRzIiwibmV0UGF5b3V0Q2VudHMiLCJoMiIsIkxlZ2VuZERvdCIsImNvbG9yIiwic3ZnIiwidmlld0JveCIsIkdyaWRMaW5lcyIsIlBvbHlsaW5lIiwic2VyaWVzIiwiYWNjZXNzb3IiLCJwb2ludCIsInRleHQiLCJtYXgiLCJsZW5ndGgiLCJ5IiwidGV4dEFuY2hvciIsIkRvbnV0Q2hhcnQiLCJkYXRhIiwidWwiLCJsaSIsInNwYW4iLCJzdHlsZSIsImJhY2tncm91bmQiLCJzdGF0dXMiLCJyZXBsYWNlIiwic3RhZmZVdGlsaXphdGlvbiIsInN0YWZmIiwic3RhZmZOYW1lIiwidXRpbGl6YXRpb25QZXJjZW50Iiwid2lkdGgiLCJzdGFmZklkIiwiZGwiLCJkdCIsImRkIiwic3RyaXBlRmVlQ2VudHMiLCJsaW5lcyIsIkFycmF5IiwiZmlsbCIsInJlY3QiLCJoZWlnaHQiLCJzdHJva2UiLCJfIiwibGluZSIsIngxIiwieDIiLCJ5MSIsInkyIiwiam9pbiIsInBvbHlsaW5lIiwic3Ryb2tlV2lkdGgiLCJzdHJva2VMaW5lY2FwIiwiZ3JhZGllbnQiLCJhY2MiLCJlbmQiLCJzdGFydCIsInNlZ21lbnRzIiwicHVzaCIsImJhY2tncm91bmRDb2xvciIsImNlbnRzIiwiSW50bCIsIk51bWJlckZvcm1hdCIsInVuZGVmaW5lZCIsImN1cnJlbmN5IiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiZm9ybWF0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/app/b/[businessId]/analytics/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/admin-workspace.ts":
/*!************************************!*\
  !*** ./src/lib/admin-workspace.ts ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEV_WORKSPACE_SEED: function() { return /* binding */ DEV_WORKSPACE_SEED; },\n/* harmony export */   createWorkspaceFromOnboarding: function() { return /* binding */ createWorkspaceFromOnboarding; },\n/* harmony export */   deriveCustomersFromBookings: function() { return /* binding */ deriveCustomersFromBookings; },\n/* harmony export */   recomputeAnalytics: function() { return /* binding */ recomputeAnalytics; }\n/* harmony export */ });\nfunction createWorkspaceFromOnboarding(seed) {\n    // Use ONLY the user's actual data from database - NO SEED DATA\n    const { categories, team, payment, giftCards } = seed;\n    const catalog = cloneCategories(categories);\n    const staff = cloneStaff(team);\n    const availability = cloneAvailability(seed.availability);\n    const availabilityTemplates = buildAvailabilityTemplates(catalog, staff, availability);\n    // NO SEED DATA - Start with completely empty arrays for new businesses\n    // Real bookings will be loaded from database later when they exist\n    const bookings = [];\n    const customers = [];\n    // Initialize analytics with proper structure using deriveAnalytics (works with empty bookings)\n    const analytics = deriveAnalytics(bookings);\n    console.log(\"[createWorkspaceFromOnboarding] Creating workspace with ONLY user data:\", {\n        businessName: seed.business.businessName,\n        servicesCount: catalog.reduce((sum, cat)=>sum + cat.services.length, 0),\n        staffCount: staff.length,\n        availabilityCount: availability.length,\n        hasSeedBookings: false\n    });\n    return {\n        identity: {\n            business: clone(seed.business),\n            location: clone(seed.location),\n            branding: clone(seed.branding),\n            website: clone(seed.website)\n        },\n        staff,\n        catalog,\n        availability,\n        availabilityTemplates,\n        availabilityClipboard: null,\n        notifications: cloneNotifications(seed.notifications),\n        policies: clone(seed.policies),\n        giftCards: {\n            config: clone(giftCards),\n            restoreBalanceOnRefund: true,\n            ledger: [] // NO SEED DATA - Start with empty ledger for new businesses\n        },\n        payment: {\n            ...clone(payment),\n            keepSiteLiveWhenPaused: true,\n            payLinkAutomationEnabled: true,\n            startedTrialAt: payment.subscriptionStatus === \"trial\" ? new Date().toISOString() : undefined,\n            lastStatusChangeAt: new Date().toISOString()\n        },\n        bookings,\n        customers,\n        analytics\n    };\n}\nfunction clone(value) {\n    return JSON.parse(JSON.stringify(value));\n}\nfunction cloneCategories(categories) {\n    return categories.map((category)=>({\n            ...category,\n            services: category.services.map((service)=>({\n                    ...service\n                }))\n        }));\n}\nfunction cloneStaff(staff) {\n    return staff.map((member)=>({\n            ...member\n        }));\n}\nfunction cloneAvailability(availability) {\n    return availability.map((serviceAvailability)=>({\n            serviceId: serviceAvailability.serviceId,\n            staff: serviceAvailability.staff.map((staffAvailability)=>({\n                    staffId: staffAvailability.staffId,\n                    slots: staffAvailability.slots.map((slot)=>({\n                            ...slot\n                        }))\n                }))\n        }));\n}\nfunction cloneNotifications(templates) {\n    return templates.map((template)=>({\n            ...template\n        }));\n}\nfunction buildAvailabilityTemplates(catalog, staff, availability) {\n    const templates = [];\n    for (const serviceAvailability of availability){\n        const service = findService(catalog, serviceAvailability.serviceId);\n        if (!service) continue;\n        templates.push({\n            id: \"template_\".concat(service.id),\n            label: \"\".concat(service.name, \" default\"),\n            serviceId: service.id,\n            serviceName: service.name,\n            staffAssignments: serviceAvailability.staff.map((assignment)=>{\n                const staffMember = staff.find((member)=>member.id === assignment.staffId);\n                return {\n                    staffId: assignment.staffId,\n                    staffName: staffMember ? staffMember.name : \"Staff\",\n                    slots: assignment.slots.map((slot)=>({\n                            ...slot\n                        }))\n                };\n            })\n        });\n    }\n    return templates;\n}\nfunction findService(catalog, serviceId) {\n    for (const category of catalog){\n        const service = category.services.find((svc)=>svc.id === serviceId);\n        if (service) {\n            return {\n                service,\n                category\n            };\n        }\n    }\n    return undefined;\n}\nfunction seedBookings(catalog, staff, payment) {\n    const services = catalog.flatMap((category)=>category.services.map((service)=>({\n                ...service,\n                categoryName: category.name\n            })));\n    if (services.length === 0) {\n        return [];\n    }\n    const customersSeeds = [\n        {\n            name: \"Jordan Blake\",\n            email: \"jordan@example.com\",\n            phone: \"+14155550123\"\n        },\n        {\n            name: \"Sofia Reyes\",\n            email: \"sofia@example.com\",\n            phone: \"+12135551212\"\n        },\n        {\n            name: \"Aiden Chen\",\n            email: \"aiden@example.com\",\n            phone: \"+14155559876\"\n        },\n        {\n            name: \"Priya Patel\",\n            email: \"priya@example.com\",\n            phone: \"+19175551234\"\n        },\n        {\n            name: \"Noah Thompson\",\n            email: \"noah@example.com\",\n            phone: \"+16175554321\"\n        }\n    ];\n    const now = new Date();\n    const sample = (index)=>services[index % services.length];\n    var _staff_, _staff_1;\n    const bookings = [\n        createBooking({\n            code: \"TTH-2025-1042\",\n            baseDate: shiftDate(now, -3),\n            service: sample(0),\n            staff: staff[0],\n            customerSeed: customersSeeds[0],\n            status: \"captured\",\n            capture: true,\n            payment,\n            notes: \"Customer left a five-star review.\"\n        }),\n        createBooking({\n            code: \"TTH-2025-1043\",\n            baseDate: shiftDate(now, -1),\n            service: sample(1),\n            staff: (_staff_ = staff[1]) !== null && _staff_ !== void 0 ? _staff_ : staff[0],\n            customerSeed: customersSeeds[1],\n            status: \"authorized\",\n            payment\n        }),\n        createBooking({\n            code: \"TTH-2025-1044\",\n            baseDate: shiftDate(now, -7),\n            service: sample(2),\n            staff: staff[0],\n            customerSeed: customersSeeds[2],\n            status: \"no_show\",\n            noShowFee: true,\n            payment\n        }),\n        createBooking({\n            code: \"TTH-2025-1045\",\n            baseDate: shiftDate(now, -2),\n            service: sample(3),\n            staff: (_staff_1 = staff[1]) !== null && _staff_1 !== void 0 ? _staff_1 : staff[0],\n            customerSeed: customersSeeds[3],\n            status: \"canceled\",\n            cancelFee: true,\n            payment\n        }),\n        createBooking({\n            code: \"TTH-2025-1046\",\n            baseDate: shiftDate(now, 2),\n            service: sample(4),\n            staff: staff[0],\n            customerSeed: customersSeeds[4],\n            status: \"requires_action\",\n            payment,\n            requiresAction: true\n        })\n    ];\n    return bookings;\n}\nfunction createBooking(options) {\n    const durationMs = options.service.durationMinutes * 60 * 1000;\n    const startDateTime = new Date(options.baseDate);\n    startDateTime.setMinutes(startDateTime.getMinutes() + 90);\n    const endDateTime = new Date(startDateTime.getTime() + durationMs);\n    const customer = {\n        id: \"cust_\".concat(crypto.randomUUID()),\n        name: options.customerSeed.name,\n        email: options.customerSeed.email,\n        phone: options.customerSeed.phone,\n        createdAt: shiftDate(options.baseDate, -30).toISOString()\n    };\n    const authorizationAmount = options.service.priceCents;\n    const platformFee = Math.round(authorizationAmount * 0.01);\n    const stripeFeeEstimate = Math.round(authorizationAmount * 0.029) + 30;\n    const payments = [\n        {\n            id: \"pay_\".concat(crypto.randomUUID()),\n            bookingId: \"booking_\".concat(options.code),\n            type: \"authorization\",\n            amountCents: authorizationAmount,\n            status: options.requiresAction ? \"requires_action\" : \"authorized\",\n            occurredAt: startDateTime.toISOString()\n        }\n    ];\n    if (options.capture) {\n        payments.push({\n            id: \"pay_\".concat(crypto.randomUUID()),\n            bookingId: \"booking_\".concat(options.code),\n            type: \"capture\",\n            amountCents: authorizationAmount,\n            status: \"captured\",\n            occurredAt: shiftDate(endDateTime, -1).toISOString(),\n            notes: \"Manual capture completed from money board\"\n        });\n    }\n    if (options.noShowFee) {\n        const fee = Math.round(authorizationAmount * 0.5);\n        payments.push({\n            id: \"pay_\".concat(crypto.randomUUID()),\n            bookingId: \"booking_\".concat(options.code),\n            type: \"no_show_fee\",\n            amountCents: fee,\n            status: \"captured\",\n            occurredAt: shiftDate(endDateTime, 1).toISOString(),\n            notes: \"No-show fee applied\"\n        });\n    }\n    if (options.cancelFee) {\n        const fee = Math.round(authorizationAmount * 0.25);\n        payments.push({\n            id: \"pay_\".concat(crypto.randomUUID()),\n            bookingId: \"booking_\".concat(options.code),\n            type: \"cancel_fee\",\n            amountCents: fee,\n            status: \"captured\",\n            occurredAt: shiftDate(endDateTime, -6).toISOString(),\n            notes: \"Cancellation fee applied\"\n        });\n    }\n    const requiresAction = Boolean(options.requiresAction);\n    const status = requiresAction ? \"requires_action\" : options.status;\n    const capturedAmount = payments.filter((payment)=>payment.type === \"capture\").reduce((sum, payment)=>sum + payment.amountCents, 0) + payments.filter((payment)=>payment.type === \"no_show_fee\" || payment.type === \"cancel_fee\").reduce((sum, payment)=>sum + payment.amountCents, 0);\n    const platformFeeCents = Math.round(capturedAmount * 0.01);\n    const stripeFeeCents = capturedAmount ? Math.round(capturedAmount * 0.029) + 30 : 0;\n    const booking = {\n        id: \"booking_\".concat(options.code),\n        code: options.code,\n        status,\n        serviceId: options.service.id,\n        serviceName: options.service.name,\n        categoryName: options.service.categoryName,\n        durationMinutes: options.service.durationMinutes,\n        startDateTime: startDateTime.toISOString(),\n        endDateTime: endDateTime.toISOString(),\n        staff: options.staff ? {\n            id: options.staff.id,\n            name: options.staff.name,\n            color: options.staff.color\n        } : null,\n        customer,\n        payments,\n        financials: {\n            listPriceCents: authorizationAmount,\n            giftCardAmountCents: 0,\n            platformFeeCents: platformFeeCents,\n            stripeFeeEstimateCents: stripeFeeEstimate,\n            netPayoutCents: Math.max(capturedAmount - platformFeeCents - stripeFeeCents, 0),\n            currency: \"usd\"\n        },\n        policyConsent: {\n            hash: crypto.randomUUID().replace(/-/g, \"\"),\n            acceptedAt: shiftDate(options.baseDate, -2).toISOString(),\n            ip: \"203.0.113.5\",\n            userAgent: \"Mozilla/5.0 (Macintosh; Intel Mac OS X)\"\n        },\n        requiresAction,\n        notes: options.notes\n    };\n    return booking;\n}\nfunction shiftDate(date, days) {\n    const copy = new Date(date);\n    copy.setDate(copy.getDate() + days);\n    return copy;\n}\nfunction deriveCustomers(bookings) {\n    const map = new Map();\n    for (const booking of bookings){\n        if (!map.has(booking.customer.id)) {\n            map.set(booking.customer.id, booking.customer);\n        }\n    }\n    return Array.from(map.values());\n}\nfunction deriveAnalytics(bookings) {\n    const revenueByMonthMap = new Map();\n    const bookingsByStatusMap = new Map();\n    const staffMap = new Map();\n    let totalCaptured = 0;\n    let platformFee = 0;\n    let stripeFee = 0;\n    let refunded = 0;\n    let noShowRateCount = 0;\n    for (const booking of bookings){\n        const monthKey = booking.startDateTime.substring(0, 7);\n        var _revenueByMonthMap_get;\n        const record = (_revenueByMonthMap_get = revenueByMonthMap.get(monthKey)) !== null && _revenueByMonthMap_get !== void 0 ? _revenueByMonthMap_get : {\n            capturedCents: 0,\n            noShowFeeCents: 0,\n            refundedCents: 0\n        };\n        var _bookingsByStatusMap_get;\n        bookingsByStatusMap.set(booking.status, ((_bookingsByStatusMap_get = bookingsByStatusMap.get(booking.status)) !== null && _bookingsByStatusMap_get !== void 0 ? _bookingsByStatusMap_get : 0) + 1);\n        const capturedPayments = booking.payments.filter((payment)=>payment.status === \"captured\");\n        for (const payment of capturedPayments){\n            if (payment.type === \"capture\") {\n                record.capturedCents += payment.amountCents;\n                totalCaptured += payment.amountCents;\n            }\n            if (payment.type === \"no_show_fee\") {\n                record.noShowFeeCents += payment.amountCents;\n                totalCaptured += payment.amountCents;\n                noShowRateCount += 1;\n            }\n            if (payment.type === \"cancel_fee\") {\n                totalCaptured += payment.amountCents;\n            }\n        }\n        const refundPayments = booking.payments.filter((payment)=>payment.type === \"refund\");\n        for (const refund of refundPayments){\n            record.refundedCents += refund.amountCents;\n            refunded += refund.amountCents;\n        }\n        platformFee += booking.financials.platformFeeCents;\n        stripeFee += booking.financials.stripeFeeEstimateCents;\n        if (booking.staff) {\n            var _staffMap_get;\n            const staffEntry = (_staffMap_get = staffMap.get(booking.staff.id)) !== null && _staffMap_get !== void 0 ? _staffMap_get : {\n                name: booking.staff.name,\n                capturedMinutes: 0,\n                totalMinutes: 0\n            };\n            staffEntry.totalMinutes += booking.durationMinutes;\n            staffEntry.capturedMinutes += capturedPayments.length > 0 ? booking.durationMinutes : booking.durationMinutes / 2;\n            staffMap.set(booking.staff.id, staffEntry);\n        }\n        revenueByMonthMap.set(monthKey, record);\n    }\n    const revenueByMonth = Array.from(revenueByMonthMap.entries()).map((param)=>{\n        let [month, data] = param;\n        return {\n            month,\n            ...data\n        };\n    });\n    revenueByMonth.sort((a, b)=>a.month > b.month ? 1 : -1);\n    const bookingsByStatus = Array.from(bookingsByStatusMap.entries()).map((param)=>{\n        let [status, count] = param;\n        return {\n            status,\n            count\n        };\n    });\n    const staffUtilization = Array.from(staffMap.entries()).map((param)=>{\n        let [staffId, data] = param;\n        return {\n            staffId,\n            staffName: data.name,\n            utilizationPercent: data.totalMinutes ? Math.min(100, Math.round(data.capturedMinutes / data.totalMinutes * 100)) : 0\n        };\n    });\n    const totalBookings = bookings.length || 1;\n    const noShowRatePercent = Math.round(noShowRateCount / totalBookings * 100);\n    return {\n        revenueByMonth,\n        bookingsByStatus,\n        staffUtilization,\n        feeBreakdown: {\n            totalCapturedCents: totalCaptured,\n            platformFeeCents: platformFee,\n            stripeFeeCents: stripeFee,\n            netPayoutCents: Math.max(totalCaptured - platformFee - stripeFee - refunded, 0)\n        },\n        noShowRatePercent\n    };\n}\nfunction seedGiftCardLedger(config) {\n    if (!config.enabled) {\n        return [];\n    }\n    var _config_generatedCodes_;\n    const issued = {\n        id: \"gcl_\".concat(crypto.randomUUID()),\n        code: (_config_generatedCodes_ = config.generatedCodes[0]) !== null && _config_generatedCodes_ !== void 0 ? _config_generatedCodes_ : \"WELCOME120\",\n        deltaCents: config.amountType === \"amount\" ? config.amountValue : 0,\n        balanceAfterCents: config.amountType === \"amount\" ? config.amountValue : 0,\n        occurredAt: shiftDate(new Date(), -15).toISOString(),\n        reason: \"issued\"\n    };\n    const redeemed = {\n        id: \"gcl_\".concat(crypto.randomUUID()),\n        code: issued.code,\n        bookingCode: \"TTH-2025-1042\",\n        deltaCents: config.amountType === \"amount\" ? -Math.min(config.amountValue, 6000) : -2400,\n        balanceAfterCents: issued.balanceAfterCents + (config.amountType === \"amount\" ? -Math.min(config.amountValue, 6000) : -2400),\n        occurredAt: shiftDate(new Date(), -5).toISOString(),\n        reason: \"redeemed\"\n    };\n    return [\n        issued,\n        redeemed\n    ];\n}\nfunction recomputeAnalytics(bookings) {\n    return deriveAnalytics(bookings);\n}\nfunction deriveCustomersFromBookings(bookings) {\n    return deriveCustomers(bookings);\n}\nconst DEV_WORKSPACE_SEED = {\n    business: {\n        businessName: \"Studio Nova\",\n        description: \"Modern hair and skin studio focusing on glow-first treatments.\",\n        doingBusinessAs: \"Studio Nova\",\n        legalName: \"Studio Nova LLC\",\n        industry: \"Salon\"\n    },\n    website: {\n        subdomain: \"novastudio\",\n        status: \"reserved\",\n        message: \"Subdomain reserved for demo\"\n    },\n    location: {\n        timezone: \"America/New_York\",\n        phone: \"+1 917 555 0100\",\n        supportEmail: \"support@novastudio.co\",\n        website: \"https://novastudio.co\",\n        addressLine1: \"145 Mercer Street\",\n        addressLine2: \"Floor 2\",\n        city: \"New York\",\n        stateProvince: \"NY\",\n        postalCode: \"10012\",\n        country: \"US\"\n    },\n    branding: {\n        primaryColor: \"#5B64FF\",\n        logoUrl: \"/branding/demo-logo.svg\",\n        logoName: \"Studio Nova logo\",\n        recommendedDimensions: {\n            width: 960,\n            height: 1280\n        }\n    },\n    team: [\n        {\n            id: \"staff_ava\",\n            name: \"Ava Thompson\",\n            role: \"Lead Stylist\",\n            color: \"#5B64FF\",\n            active: true\n        },\n        {\n            id: \"staff_jalen\",\n            name: \"Jalen Rivera\",\n            role: \"Senior Esthetician\",\n            color: \"#57D0FF\",\n            active: true\n        }\n    ],\n    categories: [\n        {\n            id: \"cat_hair\",\n            name: \"Hair\",\n            description: \"Signature cuts and color.\",\n            color: \"#5B64FF\",\n            services: [\n                {\n                    id: \"svc_cut\",\n                    name: \"Signature Cut\",\n                    description: \"Precision cut with bespoke styling and finishing treatment.\",\n                    durationMinutes: 60,\n                    priceCents: 12000,\n                    instructions: \"Arrive 10 minutes early; complimentary beverage on arrival.\",\n                    staffIds: [\n                        \"staff_ava\",\n                        \"staff_jalen\"\n                    ]\n                },\n                {\n                    id: \"svc_blend\",\n                    name: \"Color Blend\",\n                    description: \"Custom color blend with gloss finish.\",\n                    durationMinutes: 90,\n                    priceCents: 18000,\n                    instructions: \"Bring inspiration photos; patch test required if new client.\",\n                    staffIds: [\n                        \"staff_ava\"\n                    ]\n                }\n            ]\n        },\n        {\n            id: \"cat_skin\",\n            name: \"Skin\",\n            description: \"Hydration and glow-forward facial experiences.\",\n            color: \"#57D0FF\",\n            services: [\n                {\n                    id: \"svc_hydra\",\n                    name: \"Hydra Facial\",\n                    description: \"Multi-step hydrating facial tailored to your skin goals.\",\n                    durationMinutes: 75,\n                    priceCents: 18000,\n                    instructions: \"Avoid active topicals 24 hours before appointment.\",\n                    staffIds: [\n                        \"staff_jalen\"\n                    ]\n                }\n            ]\n        }\n    ],\n    availability: [\n        {\n            serviceId: \"svc_cut\",\n            staff: [\n                {\n                    staffId: \"staff_ava\",\n                    slots: generateWeeklySlots([\n                        \"monday\",\n                        \"wednesday\",\n                        \"friday\"\n                    ], \"09:00\", \"17:00\")\n                },\n                {\n                    staffId: \"staff_jalen\",\n                    slots: generateWeeklySlots([\n                        \"tuesday\",\n                        \"thursday\"\n                    ], \"10:00\", \"18:00\")\n                }\n            ]\n        },\n        {\n            serviceId: \"svc_blend\",\n            staff: [\n                {\n                    staffId: \"staff_ava\",\n                    slots: generateWeeklySlots([\n                        \"tuesday\",\n                        \"thursday\"\n                    ], \"11:00\", \"16:00\")\n                }\n            ]\n        },\n        {\n            serviceId: \"svc_hydra\",\n            staff: [\n                {\n                    staffId: \"staff_jalen\",\n                    slots: generateWeeklySlots([\n                        \"monday\",\n                        \"wednesday\",\n                        \"saturday\"\n                    ], \"10:00\", \"16:00\")\n                }\n            ]\n        }\n    ],\n    notifications: [\n        {\n            id: \"booking-created\",\n            name: \"Booking received\",\n            channel: \"email\",\n            category: \"confirmation\",\n            trigger: \"booking_created\",\n            subject: \"Studio Nova received your booking  no charge yet\",\n            body: \"Hi ${customer.name}, we locked in ${service.name} on ${booking.date} at ${booking.time}. \" + \"Well only charge your card after the appointment per ${business.name} policies.\",\n            enabled: true\n        },\n        {\n            id: \"reminder-24h\",\n            name: \"24 hour reminder\",\n            channel: \"sms\",\n            category: \"reminder\",\n            trigger: \"reminder_24h\",\n            body: \"Reminder: ${service.name} tomorrow at ${booking.time}. Need to change plans? Call us at +1 917 555 0100.\",\n            enabled: true\n        },\n        {\n            id: \"completed-receipt\",\n            name: \"Payment receipt\",\n            channel: \"email\",\n            category: \"completion\",\n            trigger: \"booking_completed\",\n            subject: \"Receipt for ${service.name} at Studio Nova\",\n            body: \"Hi ${customer.name}, thanks for visiting. We captured ${service.price} after your appointment. \" + \"View policies and next steps here: ${booking.url}\",\n            enabled: true\n        }\n    ],\n    policies: {\n        cancellationPolicy: \"Cancel or reschedule up to 24 hours before your appointment to avoid a fee. \" + \"Last-minute cancellations make it hard for us to fill your slot.\",\n        cancellationFeeType: \"percent\",\n        cancellationFeeValue: 25,\n        noShowPolicy: \"No-shows are charged 50% of the service price to cover our teams time. Please call if youre running late.\",\n        noShowFeeType: \"percent\",\n        noShowFeeValue: 50,\n        refundPolicy: \"Refunds are reviewed within 5 business days. We can convert to credit when appropriate.\",\n        cashPolicy: \"Card on file is required; cash tips accepted in studio.\"\n    },\n    giftCards: {\n        enabled: true,\n        amountType: \"amount\",\n        amountValue: 15000,\n        expirationEnabled: true,\n        expirationMonths: 12,\n        generatedCodes: [\n            \"WELCOME120\",\n            \"SELFCARE20\"\n        ]\n    },\n    payment: {\n        connectStatus: \"completed\",\n        acceptedMethods: [\n            \"card\"\n        ],\n        subscriptionStatus: \"active\",\n        trialEndsAt: undefined,\n        nextBillDate: addDaysISO(new Date(), 18)\n    }\n};\nfunction generateWeeklySlots(days, startTime, endTime) {\n    return days.map((day, index)=>({\n            id: \"slot_\".concat(day, \"_\").concat(index),\n            day,\n            startTime,\n            endTime\n        }));\n}\nfunction addDaysISO(date, days) {\n    const copy = new Date(date);\n    copy.setDate(copy.getDate() + days);\n    return copy.toISOString();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYWRtaW4td29ya3NwYWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUE2TE8sU0FBU0EsOEJBQThCQyxJQUF3QjtJQUNwRSwrREFBK0Q7SUFDL0QsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFQyxTQUFTLEVBQUUsR0FBR0o7SUFDakQsTUFBTUssVUFBVUMsZ0JBQWdCTDtJQUNoQyxNQUFNTSxRQUFRQyxXQUFXTjtJQUN6QixNQUFNTyxlQUFlQyxrQkFBa0JWLEtBQUtTLFlBQVk7SUFDeEQsTUFBTUUsd0JBQXdCQywyQkFBMkJQLFNBQVNFLE9BQU9FO0lBRXpFLHVFQUF1RTtJQUN2RSxtRUFBbUU7SUFDbkUsTUFBTUksV0FBMEIsRUFBRTtJQUNsQyxNQUFNQyxZQUE0QixFQUFFO0lBRXBDLCtGQUErRjtJQUMvRixNQUFNQyxZQUFZQyxnQkFBZ0JIO0lBRWxDSSxRQUFRQyxHQUFHLENBQUMsMkVBQTJFO1FBQ3JGQyxjQUFjbkIsS0FBS29CLFFBQVEsQ0FBQ0QsWUFBWTtRQUN4Q0UsZUFBZWhCLFFBQVFpQixNQUFNLENBQUMsQ0FBQ0MsS0FBS0MsTUFBUUQsTUFBTUMsSUFBSUMsUUFBUSxDQUFDQyxNQUFNLEVBQUU7UUFDdkVDLFlBQVlwQixNQUFNbUIsTUFBTTtRQUN4QkUsbUJBQW1CbkIsYUFBYWlCLE1BQU07UUFDdENHLGlCQUFpQjtJQUNuQjtJQUVBLE9BQU87UUFDTEMsVUFBVTtZQUNSVixVQUFVVyxNQUFNL0IsS0FBS29CLFFBQVE7WUFDN0JZLFVBQVVELE1BQU0vQixLQUFLZ0MsUUFBUTtZQUM3QkMsVUFBVUYsTUFBTS9CLEtBQUtpQyxRQUFRO1lBQzdCQyxTQUFTSCxNQUFNL0IsS0FBS2tDLE9BQU87UUFDN0I7UUFDQTNCO1FBQ0FGO1FBQ0FJO1FBQ0FFO1FBQ0F3Qix1QkFBdUI7UUFDdkJDLGVBQWVDLG1CQUFtQnJDLEtBQUtvQyxhQUFhO1FBQ3BERSxVQUFVUCxNQUFN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O1lBQ1YrSyxTQUFTO1lBQ1RDLFNBQVM7WUFDVEMsTUFDRSxvR0FDQTtZQUNGekMsU0FBUztRQUNYO0tBQ0Q7SUFDRHpKLFVBQVU7UUFDUm1NLG9CQUNFLGlGQUNBO1FBQ0ZDLHFCQUFxQjtRQUNyQkMsc0JBQXNCO1FBQ3RCQyxjQUNFO1FBQ0ZDLGVBQWU7UUFDZkMsZ0JBQWdCO1FBQ2hCQyxjQUNFO1FBQ0ZDLFlBQVk7SUFDZDtJQUNBNU8sV0FBVztRQUNUMkwsU0FBUztRQUNUSSxZQUFZO1FBQ1pDLGFBQWE7UUFDYjZDLG1CQUFtQjtRQUNuQkMsa0JBQWtCO1FBQ2xCakQsZ0JBQWdCO1lBQUM7WUFBYztTQUFhO0lBQzlDO0lBQ0E5TCxTQUFTO1FBQ1BnUCxlQUFlO1FBQ2ZDLGlCQUFpQjtZQUFDO1NBQU87UUFDekJ2TSxvQkFBb0I7UUFDcEJ3TSxhQUFhck07UUFDYnNNLGNBQWNDLFdBQVcsSUFBSXpNLFFBQVE7SUFDdkM7QUFDRixFQUFFO0FBRUYsU0FBU3NMLG9CQUNQckYsSUFBaUIsRUFDakJ5RyxTQUFpQixFQUNqQkMsT0FBZTtJQUVmLE9BQU8xRyxLQUFLekYsR0FBRyxDQUFDLENBQUNvTSxLQUFLcEssUUFBVztZQUMvQmxCLElBQUksUUFBZWtCLE9BQVBvSyxLQUFJLEtBQVMsT0FBTnBLO1lBQ25Cb0s7WUFDQUY7WUFDQUM7UUFDRjtBQUNGO0FBRUEsU0FBU0YsV0FBV3pHLElBQVUsRUFBRUMsSUFBWTtJQUMxQyxNQUFNQyxPQUFPLElBQUlsRyxLQUFLZ0c7SUFDdEJFLEtBQUtDLE9BQU8sQ0FBQ0QsS0FBS0UsT0FBTyxLQUFLSDtJQUM5QixPQUFPQyxLQUFLakcsV0FBVztBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2FkbWluLXdvcmtzcGFjZS50cz9jZjBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHR5cGUgQXZhaWxhYmlsaXR5U2xvdCxcbiAgdHlwZSBCcmFuZGluZ0NvbmZpZyxcbiAgdHlwZSBCdXNpbmVzc0Jhc2ljcyxcbiAgdHlwZSBEYXlPZldlZWssXG4gIHR5cGUgR2lmdENhcmRDb25maWcsXG4gIHR5cGUgTG9jYXRpb25Db250YWN0cyxcbiAgdHlwZSBOb3RpZmljYXRpb25UZW1wbGF0ZSxcbiAgdHlwZSBQYXltZW50U2V0dXBDb25maWcsXG4gIHR5cGUgUG9saWNpZXNDb25maWcsXG4gIHR5cGUgU2VydmljZUF2YWlsYWJpbGl0eSxcbiAgdHlwZSBTZXJ2aWNlQ2F0ZWdvcnksXG4gIHR5cGUgU3RhZmZBdmFpbGFiaWxpdHksXG4gIHR5cGUgU3RhZmZNZW1iZXIsXG4gIHR5cGUgV2Vic2l0ZUNvbmZpZ1xufSBmcm9tIFwiQC9saWIvb25ib2FyZGluZy10eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBCb29raW5nU3RhdHVzID1cbiAgfCBcInBlbmRpbmdcIlxuICB8IFwiYXV0aG9yaXplZFwiXG4gIHwgXCJjb21wbGV0ZWRcIlxuICB8IFwiY2FwdHVyZWRcIlxuICB8IFwibm9fc2hvd1wiXG4gIHwgXCJjYW5jZWxlZFwiXG4gIHwgXCJyZWZ1bmRlZFwiXG4gIHwgXCJkaXNwdXRlZFwiXG4gIHwgXCJyZXF1aXJlc19hY3Rpb25cIlxuICB8IFwiZXhwaXJlZFwiO1xuXG5leHBvcnQgdHlwZSBQYXltZW50U3RhdHVzID0gXCJyZXF1aXJlc19hY3Rpb25cIiB8IFwiYXV0aG9yaXplZFwiIHwgXCJjYXB0dXJlZFwiIHwgXCJyZWZ1bmRlZFwiIHwgXCJmYWlsZWRcIjtcblxuZXhwb3J0IHR5cGUgTW9uZXlCb2FyZEFjdGlvbiA9IFwiY29tcGxldGVcIiB8IFwibm9fc2hvd1wiIHwgXCJjYW5jZWxcIiB8IFwicmVmdW5kXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmFrZUN1c3RvbWVyIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBwaG9uZT86IHN0cmluZztcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmFrZVBheW1lbnQge1xuICBpZDogc3RyaW5nO1xuICBib29raW5nSWQ6IHN0cmluZztcbiAgdHlwZTogXCJhdXRob3JpemF0aW9uXCIgfCBcImNhcHR1cmVcIiB8IFwibm9fc2hvd19mZWVcIiB8IFwiY2FuY2VsX2ZlZVwiIHwgXCJyZWZ1bmRcIjtcbiAgYW1vdW50Q2VudHM6IG51bWJlcjtcbiAgc3RhdHVzOiBQYXltZW50U3RhdHVzO1xuICBvY2N1cnJlZEF0OiBzdHJpbmc7XG4gIG5vdGVzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZha2VCb29raW5nRmluYW5jaWFscyB7XG4gIGxpc3RQcmljZUNlbnRzOiBudW1iZXI7XG4gIGdpZnRDYXJkQW1vdW50Q2VudHM6IG51bWJlcjtcbiAgcGxhdGZvcm1GZWVDZW50czogbnVtYmVyO1xuICBzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzOiBudW1iZXI7XG4gIG5ldFBheW91dENlbnRzOiBudW1iZXI7XG4gIGN1cnJlbmN5OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmFrZUJvb2tpbmdQb2xpY3lDb25zZW50IHtcbiAgaGFzaDogc3RyaW5nO1xuICBhY2NlcHRlZEF0OiBzdHJpbmc7XG4gIGlwOiBzdHJpbmc7XG4gIHVzZXJBZ2VudDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZha2VCb29raW5nIHtcbiAgaWQ6IHN0cmluZztcbiAgY29kZTogc3RyaW5nO1xuICBzdGF0dXM6IEJvb2tpbmdTdGF0dXM7XG4gIHNlcnZpY2VJZDogc3RyaW5nO1xuICBzZXJ2aWNlTmFtZTogc3RyaW5nO1xuICBjYXRlZ29yeU5hbWU6IHN0cmluZztcbiAgZHVyYXRpb25NaW51dGVzOiBudW1iZXI7XG4gIHN0YXJ0RGF0ZVRpbWU6IHN0cmluZztcbiAgZW5kRGF0ZVRpbWU6IHN0cmluZztcbiAgc3RhZmY/OiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgY29sb3I6IHN0cmluZztcbiAgfSB8IG51bGw7XG4gIGN1c3RvbWVyOiBGYWtlQ3VzdG9tZXI7XG4gIHBheW1lbnRzOiBGYWtlUGF5bWVudFtdO1xuICBmaW5hbmNpYWxzOiBGYWtlQm9va2luZ0ZpbmFuY2lhbHM7XG4gIHBvbGljeUNvbnNlbnQ6IEZha2VCb29raW5nUG9saWN5Q29uc2VudDtcbiAgcmVxdWlyZXNBY3Rpb246IGJvb2xlYW47XG4gIG5vdGVzPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdpZnRDYXJkTGVkZ2VyRW50cnkge1xuICBpZDogc3RyaW5nO1xuICBjb2RlOiBzdHJpbmc7XG4gIGJvb2tpbmdDb2RlPzogc3RyaW5nO1xuICBkZWx0YUNlbnRzOiBudW1iZXI7XG4gIGJhbGFuY2VBZnRlckNlbnRzOiBudW1iZXI7XG4gIG9jY3VycmVkQXQ6IHN0cmluZztcbiAgcmVhc29uOiBcImlzc3VlZFwiIHwgXCJyZWRlZW1lZFwiIHwgXCJyZWZ1bmRlZFwiIHwgXCJhZGp1c3RlZFwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdpZnRDYXJkUHJvZ3JhbVN0YXRlIHtcbiAgY29uZmlnOiBHaWZ0Q2FyZENvbmZpZztcbiAgcmVzdG9yZUJhbGFuY2VPblJlZnVuZDogYm9vbGVhbjtcbiAgbGVkZ2VyOiBHaWZ0Q2FyZExlZGdlckVudHJ5W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5bWVudENvbnRyb2xTdGF0ZSBleHRlbmRzIFBheW1lbnRTZXR1cENvbmZpZyB7XG4gIGtlZXBTaXRlTGl2ZVdoZW5QYXVzZWQ6IGJvb2xlYW47XG4gIHBheUxpbmtBdXRvbWF0aW9uRW5hYmxlZDogYm9vbGVhbjtcbiAgc3RhcnRlZFRyaWFsQXQ/OiBzdHJpbmc7XG4gIGxhc3RTdGF0dXNDaGFuZ2VBdD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdmFpbGFiaWxpdHlUZW1wbGF0ZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHNlcnZpY2VJZDogc3RyaW5nO1xuICBzZXJ2aWNlTmFtZTogc3RyaW5nO1xuICBzdGFmZkFzc2lnbm1lbnRzOiBBcnJheTx7XG4gICAgc3RhZmZJZDogc3RyaW5nO1xuICAgIHN0YWZmTmFtZTogc3RyaW5nO1xuICAgIHNsb3RzOiBBdmFpbGFiaWxpdHlTbG90W107XG4gIH0+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFuYWx5dGljc1NuYXBzaG90IHtcbiAgcmV2ZW51ZUJ5TW9udGg6IEFycmF5PHtcbiAgICBtb250aDogc3RyaW5nO1xuICAgIGNhcHR1cmVkQ2VudHM6IG51bWJlcjtcbiAgICBub1Nob3dGZWVDZW50czogbnVtYmVyO1xuICAgIHJlZnVuZGVkQ2VudHM6IG51bWJlcjtcbiAgfT47XG4gIGJvb2tpbmdzQnlTdGF0dXM6IEFycmF5PHsgc3RhdHVzOiBCb29raW5nU3RhdHVzOyBjb3VudDogbnVtYmVyIH0+O1xuICBzdGFmZlV0aWxpemF0aW9uOiBBcnJheTx7XG4gICAgc3RhZmZJZDogc3RyaW5nO1xuICAgIHN0YWZmTmFtZTogc3RyaW5nO1xuICAgIHV0aWxpemF0aW9uUGVyY2VudDogbnVtYmVyO1xuICB9PjtcbiAgZmVlQnJlYWtkb3duOiB7XG4gICAgdG90YWxDYXB0dXJlZENlbnRzOiBudW1iZXI7XG4gICAgcGxhdGZvcm1GZWVDZW50czogbnVtYmVyO1xuICAgIHN0cmlwZUZlZUNlbnRzOiBudW1iZXI7XG4gICAgbmV0UGF5b3V0Q2VudHM6IG51bWJlcjtcbiAgfTtcbiAgbm9TaG93UmF0ZVBlcmNlbnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGYWtlQnVzaW5lc3NXb3Jrc3BhY2Uge1xuICBpZGVudGl0eToge1xuICAgIGJ1c2luZXNzOiBCdXNpbmVzc0Jhc2ljcztcbiAgICBsb2NhdGlvbjogTG9jYXRpb25Db250YWN0cztcbiAgICBicmFuZGluZzogQnJhbmRpbmdDb25maWc7XG4gICAgd2Vic2l0ZTogV2Vic2l0ZUNvbmZpZztcbiAgfTtcbiAgc3RhZmY6IFN0YWZmTWVtYmVyW107XG4gIGNhdGFsb2c6IFNlcnZpY2VDYXRlZ29yeVtdO1xuICBhdmFpbGFiaWxpdHk6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXTtcbiAgYXZhaWxhYmlsaXR5VGVtcGxhdGVzOiBBdmFpbGFiaWxpdHlUZW1wbGF0ZVtdO1xuICBhdmFpbGFiaWxpdHlDbGlwYm9hcmQ/OiBBdmFpbGFiaWxpdHlUZW1wbGF0ZSB8IG51bGw7XG4gIG5vdGlmaWNhdGlvbnM6IE5vdGlmaWNhdGlvblRlbXBsYXRlW107XG4gIHBvbGljaWVzOiBQb2xpY2llc0NvbmZpZztcbiAgZ2lmdENhcmRzOiBHaWZ0Q2FyZFByb2dyYW1TdGF0ZTtcbiAgcGF5bWVudDogUGF5bWVudENvbnRyb2xTdGF0ZTtcbiAgYm9va2luZ3M6IEZha2VCb29raW5nW107XG4gIGN1c3RvbWVyczogRmFrZUN1c3RvbWVyW107XG4gIGFuYWx5dGljczogQW5hbHl0aWNzU25hcHNob3Q7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm9va2luZ0FjdGlvblJlc3BvbnNlIHtcbiAgYm9va2luZzogRmFrZUJvb2tpbmc7XG4gIHN0YXR1czogXCJzdWNjZXNzXCIgfCBcInJlcXVpcmVzX2FjdGlvblwiO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHBheUxpbmtVcmw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29ya3NwYWNlU2VlZElucHV0IHtcbiAgYnVzaW5lc3M6IEJ1c2luZXNzQmFzaWNzO1xuICB3ZWJzaXRlOiBXZWJzaXRlQ29uZmlnO1xuICBsb2NhdGlvbjogTG9jYXRpb25Db250YWN0cztcbiAgYnJhbmRpbmc6IEJyYW5kaW5nQ29uZmlnO1xuICB0ZWFtOiBTdGFmZk1lbWJlcltdO1xuICBjYXRlZ29yaWVzOiBTZXJ2aWNlQ2F0ZWdvcnlbXTtcbiAgYXZhaWxhYmlsaXR5OiBTZXJ2aWNlQXZhaWxhYmlsaXR5W107XG4gIG5vdGlmaWNhdGlvbnM6IE5vdGlmaWNhdGlvblRlbXBsYXRlW107XG4gIHBvbGljaWVzOiBQb2xpY2llc0NvbmZpZztcbiAgZ2lmdENhcmRzOiBHaWZ0Q2FyZENvbmZpZztcbiAgcGF5bWVudDogUGF5bWVudFNldHVwQ29uZmlnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlV29ya3NwYWNlRnJvbU9uYm9hcmRpbmcoc2VlZDogV29ya3NwYWNlU2VlZElucHV0KTogRmFrZUJ1c2luZXNzV29ya3NwYWNlIHtcbiAgLy8gVXNlIE9OTFkgdGhlIHVzZXIncyBhY3R1YWwgZGF0YSBmcm9tIGRhdGFiYXNlIC0gTk8gU0VFRCBEQVRBXG4gIGNvbnN0IHsgY2F0ZWdvcmllcywgdGVhbSwgcGF5bWVudCwgZ2lmdENhcmRzIH0gPSBzZWVkO1xuICBjb25zdCBjYXRhbG9nID0gY2xvbmVDYXRlZ29yaWVzKGNhdGVnb3JpZXMpO1xuICBjb25zdCBzdGFmZiA9IGNsb25lU3RhZmYodGVhbSk7XG4gIGNvbnN0IGF2YWlsYWJpbGl0eSA9IGNsb25lQXZhaWxhYmlsaXR5KHNlZWQuYXZhaWxhYmlsaXR5KTtcbiAgY29uc3QgYXZhaWxhYmlsaXR5VGVtcGxhdGVzID0gYnVpbGRBdmFpbGFiaWxpdHlUZW1wbGF0ZXMoY2F0YWxvZywgc3RhZmYsIGF2YWlsYWJpbGl0eSk7XG5cbiAgLy8gTk8gU0VFRCBEQVRBIC0gU3RhcnQgd2l0aCBjb21wbGV0ZWx5IGVtcHR5IGFycmF5cyBmb3IgbmV3IGJ1c2luZXNzZXNcbiAgLy8gUmVhbCBib29raW5ncyB3aWxsIGJlIGxvYWRlZCBmcm9tIGRhdGFiYXNlIGxhdGVyIHdoZW4gdGhleSBleGlzdFxuICBjb25zdCBib29raW5nczogRmFrZUJvb2tpbmdbXSA9IFtdO1xuICBjb25zdCBjdXN0b21lcnM6IEZha2VDdXN0b21lcltdID0gW107XG4gIFxuICAvLyBJbml0aWFsaXplIGFuYWx5dGljcyB3aXRoIHByb3BlciBzdHJ1Y3R1cmUgdXNpbmcgZGVyaXZlQW5hbHl0aWNzICh3b3JrcyB3aXRoIGVtcHR5IGJvb2tpbmdzKVxuICBjb25zdCBhbmFseXRpY3MgPSBkZXJpdmVBbmFseXRpY3MoYm9va2luZ3MpO1xuICBcbiAgY29uc29sZS5sb2coJ1tjcmVhdGVXb3Jrc3BhY2VGcm9tT25ib2FyZGluZ10gQ3JlYXRpbmcgd29ya3NwYWNlIHdpdGggT05MWSB1c2VyIGRhdGE6Jywge1xuICAgIGJ1c2luZXNzTmFtZTogc2VlZC5idXNpbmVzcy5idXNpbmVzc05hbWUsXG4gICAgc2VydmljZXNDb3VudDogY2F0YWxvZy5yZWR1Y2UoKHN1bSwgY2F0KSA9PiBzdW0gKyBjYXQuc2VydmljZXMubGVuZ3RoLCAwKSxcbiAgICBzdGFmZkNvdW50OiBzdGFmZi5sZW5ndGgsXG4gICAgYXZhaWxhYmlsaXR5Q291bnQ6IGF2YWlsYWJpbGl0eS5sZW5ndGgsXG4gICAgaGFzU2VlZEJvb2tpbmdzOiBmYWxzZSwgLy8gQ29uZmlybWluZyBubyBzZWVkIGJvb2tpbmdzXG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgaWRlbnRpdHk6IHtcbiAgICAgIGJ1c2luZXNzOiBjbG9uZShzZWVkLmJ1c2luZXNzKSxcbiAgICAgIGxvY2F0aW9uOiBjbG9uZShzZWVkLmxvY2F0aW9uKSxcbiAgICAgIGJyYW5kaW5nOiBjbG9uZShzZWVkLmJyYW5kaW5nKSxcbiAgICAgIHdlYnNpdGU6IGNsb25lKHNlZWQud2Vic2l0ZSlcbiAgICB9LFxuICAgIHN0YWZmLFxuICAgIGNhdGFsb2csXG4gICAgYXZhaWxhYmlsaXR5LFxuICAgIGF2YWlsYWJpbGl0eVRlbXBsYXRlcyxcbiAgICBhdmFpbGFiaWxpdHlDbGlwYm9hcmQ6IG51bGwsXG4gICAgbm90aWZpY2F0aW9uczogY2xvbmVOb3RpZmljYXRpb25zKHNlZWQubm90aWZpY2F0aW9ucyksXG4gICAgcG9saWNpZXM6IGNsb25lKHNlZWQucG9saWNpZXMpLFxuICAgIGdpZnRDYXJkczoge1xuICAgICAgY29uZmlnOiBjbG9uZShnaWZ0Q2FyZHMpLFxuICAgICAgcmVzdG9yZUJhbGFuY2VPblJlZnVuZDogdHJ1ZSxcbiAgICAgIGxlZGdlcjogW10gLy8gTk8gU0VFRCBEQVRBIC0gU3RhcnQgd2l0aCBlbXB0eSBsZWRnZXIgZm9yIG5ldyBidXNpbmVzc2VzXG4gICAgfSxcbiAgICBwYXltZW50OiB7XG4gICAgICAuLi5jbG9uZShwYXltZW50KSxcbiAgICAgIGtlZXBTaXRlTGl2ZVdoZW5QYXVzZWQ6IHRydWUsXG4gICAgICBwYXlMaW5rQXV0b21hdGlvbkVuYWJsZWQ6IHRydWUsXG4gICAgICBzdGFydGVkVHJpYWxBdDogcGF5bWVudC5zdWJzY3JpcHRpb25TdGF0dXMgPT09IFwidHJpYWxcIiA/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSA6IHVuZGVmaW5lZCxcbiAgICAgIGxhc3RTdGF0dXNDaGFuZ2VBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSxcbiAgICBib29raW5ncyxcbiAgICBjdXN0b21lcnMsXG4gICAgYW5hbHl0aWNzXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsb25lPFQ+KHZhbHVlOiBUKTogVCB7XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG59XG5cbmZ1bmN0aW9uIGNsb25lQ2F0ZWdvcmllcyhjYXRlZ29yaWVzOiBTZXJ2aWNlQ2F0ZWdvcnlbXSk6IFNlcnZpY2VDYXRlZ29yeVtdIHtcbiAgcmV0dXJuIGNhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKHtcbiAgICAuLi5jYXRlZ29yeSxcbiAgICBzZXJ2aWNlczogY2F0ZWdvcnkuc2VydmljZXMubWFwKChzZXJ2aWNlKSA9PiAoeyAuLi5zZXJ2aWNlIH0pKVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGNsb25lU3RhZmYoc3RhZmY6IFN0YWZmTWVtYmVyW10pOiBTdGFmZk1lbWJlcltdIHtcbiAgcmV0dXJuIHN0YWZmLm1hcCgobWVtYmVyKSA9PiAoeyAuLi5tZW1iZXIgfSkpO1xufVxuXG5mdW5jdGlvbiBjbG9uZUF2YWlsYWJpbGl0eShhdmFpbGFiaWxpdHk6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXSk6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXSB7XG4gIHJldHVybiBhdmFpbGFiaWxpdHkubWFwKChzZXJ2aWNlQXZhaWxhYmlsaXR5KSA9PiAoe1xuICAgIHNlcnZpY2VJZDogc2VydmljZUF2YWlsYWJpbGl0eS5zZXJ2aWNlSWQsXG4gICAgc3RhZmY6IHNlcnZpY2VBdmFpbGFiaWxpdHkuc3RhZmYubWFwKChzdGFmZkF2YWlsYWJpbGl0eSkgPT4gKHtcbiAgICAgIHN0YWZmSWQ6IHN0YWZmQXZhaWxhYmlsaXR5LnN0YWZmSWQsXG4gICAgICBzbG90czogc3RhZmZBdmFpbGFiaWxpdHkuc2xvdHMubWFwKChzbG90KSA9PiAoeyAuLi5zbG90IH0pKVxuICAgIH0pKVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGNsb25lTm90aWZpY2F0aW9ucyh0ZW1wbGF0ZXM6IE5vdGlmaWNhdGlvblRlbXBsYXRlW10pOiBOb3RpZmljYXRpb25UZW1wbGF0ZVtdIHtcbiAgcmV0dXJuIHRlbXBsYXRlcy5tYXAoKHRlbXBsYXRlKSA9PiAoeyAuLi50ZW1wbGF0ZSB9KSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQXZhaWxhYmlsaXR5VGVtcGxhdGVzKFxuICBjYXRhbG9nOiBTZXJ2aWNlQ2F0ZWdvcnlbXSxcbiAgc3RhZmY6IFN0YWZmTWVtYmVyW10sXG4gIGF2YWlsYWJpbGl0eTogU2VydmljZUF2YWlsYWJpbGl0eVtdXG4pOiBBdmFpbGFiaWxpdHlUZW1wbGF0ZVtdIHtcbiAgY29uc3QgdGVtcGxhdGVzOiBBdmFpbGFiaWxpdHlUZW1wbGF0ZVtdID0gW107XG4gIGZvciAoY29uc3Qgc2VydmljZUF2YWlsYWJpbGl0eSBvZiBhdmFpbGFiaWxpdHkpIHtcbiAgICBjb25zdCBzZXJ2aWNlID0gZmluZFNlcnZpY2UoY2F0YWxvZywgc2VydmljZUF2YWlsYWJpbGl0eS5zZXJ2aWNlSWQpO1xuICAgIGlmICghc2VydmljZSkgY29udGludWU7XG4gICAgdGVtcGxhdGVzLnB1c2goe1xuICAgICAgaWQ6IGB0ZW1wbGF0ZV8ke3NlcnZpY2UuaWR9YCxcbiAgICAgIGxhYmVsOiBgJHtzZXJ2aWNlLm5hbWV9IGRlZmF1bHRgLFxuICAgICAgc2VydmljZUlkOiBzZXJ2aWNlLmlkLFxuICAgICAgc2VydmljZU5hbWU6IHNlcnZpY2UubmFtZSxcbiAgICAgIHN0YWZmQXNzaWdubWVudHM6IHNlcnZpY2VBdmFpbGFiaWxpdHkuc3RhZmYubWFwKChhc3NpZ25tZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YWZmTWVtYmVyID0gc3RhZmYuZmluZCgobWVtYmVyKSA9PiBtZW1iZXIuaWQgPT09IGFzc2lnbm1lbnQuc3RhZmZJZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhZmZJZDogYXNzaWdubWVudC5zdGFmZklkLFxuICAgICAgICAgIHN0YWZmTmFtZTogc3RhZmZNZW1iZXIgPyBzdGFmZk1lbWJlci5uYW1lIDogXCJTdGFmZlwiLFxuICAgICAgICAgIHNsb3RzOiBhc3NpZ25tZW50LnNsb3RzLm1hcCgoc2xvdCkgPT4gKHsgLi4uc2xvdCB9KSlcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRlbXBsYXRlcztcbn1cblxuZnVuY3Rpb24gZmluZFNlcnZpY2UoXG4gIGNhdGFsb2c6IFNlcnZpY2VDYXRlZ29yeVtdLFxuICBzZXJ2aWNlSWQ6IHN0cmluZ1xuKTogeyBzZXJ2aWNlOiBTZXJ2aWNlQ2F0ZWdvcnlbXCJzZXJ2aWNlc1wiXVtudW1iZXJdOyBjYXRlZ29yeTogU2VydmljZUNhdGVnb3J5IH0gfCB1bmRlZmluZWQge1xuICBmb3IgKGNvbnN0IGNhdGVnb3J5IG9mIGNhdGFsb2cpIHtcbiAgICBjb25zdCBzZXJ2aWNlID0gY2F0ZWdvcnkuc2VydmljZXMuZmluZCgoc3ZjKSA9PiBzdmMuaWQgPT09IHNlcnZpY2VJZCk7XG4gICAgaWYgKHNlcnZpY2UpIHtcbiAgICAgIHJldHVybiB7IHNlcnZpY2UsIGNhdGVnb3J5IH07XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHNlZWRCb29raW5ncyhcbiAgY2F0YWxvZzogU2VydmljZUNhdGVnb3J5W10sXG4gIHN0YWZmOiBTdGFmZk1lbWJlcltdLFxuICBwYXltZW50OiBQYXltZW50U2V0dXBDb25maWdcbik6IEZha2VCb29raW5nW10ge1xuICBjb25zdCBzZXJ2aWNlcyA9IGNhdGFsb2cuZmxhdE1hcCgoY2F0ZWdvcnkpID0+XG4gICAgY2F0ZWdvcnkuc2VydmljZXMubWFwKChzZXJ2aWNlKSA9PiAoeyAuLi5zZXJ2aWNlLCBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5Lm5hbWUgfSkpXG4gICk7XG5cbiAgaWYgKHNlcnZpY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IGN1c3RvbWVyc1NlZWRzOiBBcnJheTxPbWl0PEZha2VDdXN0b21lciwgXCJpZFwiIHwgXCJjcmVhdGVkQXRcIj4+ID0gW1xuICAgIHsgbmFtZTogXCJKb3JkYW4gQmxha2VcIiwgZW1haWw6IFwiam9yZGFuQGV4YW1wbGUuY29tXCIsIHBob25lOiBcIisxNDE1NTU1MDEyM1wiIH0sXG4gICAgeyBuYW1lOiBcIlNvZmlhIFJleWVzXCIsIGVtYWlsOiBcInNvZmlhQGV4YW1wbGUuY29tXCIsIHBob25lOiBcIisxMjEzNTU1MTIxMlwiIH0sXG4gICAgeyBuYW1lOiBcIkFpZGVuIENoZW5cIiwgZW1haWw6IFwiYWlkZW5AZXhhbXBsZS5jb21cIiwgcGhvbmU6IFwiKzE0MTU1NTU5ODc2XCIgfSxcbiAgICB7IG5hbWU6IFwiUHJpeWEgUGF0ZWxcIiwgZW1haWw6IFwicHJpeWFAZXhhbXBsZS5jb21cIiwgcGhvbmU6IFwiKzE5MTc1NTUxMjM0XCIgfSxcbiAgICB7IG5hbWU6IFwiTm9haCBUaG9tcHNvblwiLCBlbWFpbDogXCJub2FoQGV4YW1wbGUuY29tXCIsIHBob25lOiBcIisxNjE3NTU1NDMyMVwiIH1cbiAgXTtcblxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXG4gIGNvbnN0IHNhbXBsZSA9IChpbmRleDogbnVtYmVyKSA9PiBzZXJ2aWNlc1tpbmRleCAlIHNlcnZpY2VzLmxlbmd0aF07XG5cbiAgY29uc3QgYm9va2luZ3M6IEZha2VCb29raW5nW10gPSBbXG4gICAgY3JlYXRlQm9va2luZyh7XG4gICAgICBjb2RlOiBcIlRUSC0yMDI1LTEwNDJcIixcbiAgICAgIGJhc2VEYXRlOiBzaGlmdERhdGUobm93LCAtMyksXG4gICAgICBzZXJ2aWNlOiBzYW1wbGUoMCksXG4gICAgICBzdGFmZjogc3RhZmZbMF0sXG4gICAgICBjdXN0b21lclNlZWQ6IGN1c3RvbWVyc1NlZWRzWzBdLFxuICAgICAgc3RhdHVzOiBcImNhcHR1cmVkXCIsXG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgcGF5bWVudCxcbiAgICAgIG5vdGVzOiBcIkN1c3RvbWVyIGxlZnQgYSBmaXZlLXN0YXIgcmV2aWV3LlwiXG4gICAgfSksXG4gICAgY3JlYXRlQm9va2luZyh7XG4gICAgICBjb2RlOiBcIlRUSC0yMDI1LTEwNDNcIixcbiAgICAgIGJhc2VEYXRlOiBzaGlmdERhdGUobm93LCAtMSksXG4gICAgICBzZXJ2aWNlOiBzYW1wbGUoMSksXG4gICAgICBzdGFmZjogc3RhZmZbMV0gPz8gc3RhZmZbMF0sXG4gICAgICBjdXN0b21lclNlZWQ6IGN1c3RvbWVyc1NlZWRzWzFdLFxuICAgICAgc3RhdHVzOiBcImF1dGhvcml6ZWRcIixcbiAgICAgIHBheW1lbnRcbiAgICB9KSxcbiAgICBjcmVhdGVCb29raW5nKHtcbiAgICAgIGNvZGU6IFwiVFRILTIwMjUtMTA0NFwiLFxuICAgICAgYmFzZURhdGU6IHNoaWZ0RGF0ZShub3csIC03KSxcbiAgICAgIHNlcnZpY2U6IHNhbXBsZSgyKSxcbiAgICAgIHN0YWZmOiBzdGFmZlswXSxcbiAgICAgIGN1c3RvbWVyU2VlZDogY3VzdG9tZXJzU2VlZHNbMl0sXG4gICAgICBzdGF0dXM6IFwibm9fc2hvd1wiLFxuICAgICAgbm9TaG93RmVlOiB0cnVlLFxuICAgICAgcGF5bWVudFxuICAgIH0pLFxuICAgIGNyZWF0ZUJvb2tpbmcoe1xuICAgICAgY29kZTogXCJUVEgtMjAyNS0xMDQ1XCIsXG4gICAgICBiYXNlRGF0ZTogc2hpZnREYXRlKG5vdywgLTIpLFxuICAgICAgc2VydmljZTogc2FtcGxlKDMpLFxuICAgICAgc3RhZmY6IHN0YWZmWzFdID8/IHN0YWZmWzBdLFxuICAgICAgY3VzdG9tZXJTZWVkOiBjdXN0b21lcnNTZWVkc1szXSxcbiAgICAgIHN0YXR1czogXCJjYW5jZWxlZFwiLFxuICAgICAgY2FuY2VsRmVlOiB0cnVlLFxuICAgICAgcGF5bWVudFxuICAgIH0pLFxuICAgIGNyZWF0ZUJvb2tpbmcoe1xuICAgICAgY29kZTogXCJUVEgtMjAyNS0xMDQ2XCIsXG4gICAgICBiYXNlRGF0ZTogc2hpZnREYXRlKG5vdywgMiksXG4gICAgICBzZXJ2aWNlOiBzYW1wbGUoNCksXG4gICAgICBzdGFmZjogc3RhZmZbMF0sXG4gICAgICBjdXN0b21lclNlZWQ6IGN1c3RvbWVyc1NlZWRzWzRdLFxuICAgICAgc3RhdHVzOiBcInJlcXVpcmVzX2FjdGlvblwiLFxuICAgICAgcGF5bWVudCxcbiAgICAgIHJlcXVpcmVzQWN0aW9uOiB0cnVlXG4gICAgfSlcbiAgXTtcblxuICByZXR1cm4gYm9va2luZ3M7XG59XG5cbmludGVyZmFjZSBDcmVhdGVCb29raW5nT3B0aW9ucyB7XG4gIGNvZGU6IHN0cmluZztcbiAgYmFzZURhdGU6IERhdGU7XG4gIHNlcnZpY2U6IFNlcnZpY2VDYXRlZ29yeVtcInNlcnZpY2VzXCJdW251bWJlcl0gJiB7IGNhdGVnb3J5TmFtZTogc3RyaW5nIH07XG4gIHN0YWZmPzogU3RhZmZNZW1iZXI7XG4gIGN1c3RvbWVyU2VlZDogT21pdDxGYWtlQ3VzdG9tZXIsIFwiaWRcIiB8IFwiY3JlYXRlZEF0XCI+O1xuICBzdGF0dXM6IEJvb2tpbmdTdGF0dXM7XG4gIGNhcHR1cmU/OiBib29sZWFuO1xuICBub1Nob3dGZWU/OiBib29sZWFuO1xuICBjYW5jZWxGZWU/OiBib29sZWFuO1xuICByZXF1aXJlc0FjdGlvbj86IGJvb2xlYW47XG4gIHBheW1lbnQ6IFBheW1lbnRTZXR1cENvbmZpZztcbiAgbm90ZXM/OiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJvb2tpbmcob3B0aW9uczogQ3JlYXRlQm9va2luZ09wdGlvbnMpOiBGYWtlQm9va2luZyB7XG4gIGNvbnN0IGR1cmF0aW9uTXMgPSBvcHRpb25zLnNlcnZpY2UuZHVyYXRpb25NaW51dGVzICogNjAgKiAxMDAwO1xuICBjb25zdCBzdGFydERhdGVUaW1lID0gbmV3IERhdGUob3B0aW9ucy5iYXNlRGF0ZSk7XG4gIHN0YXJ0RGF0ZVRpbWUuc2V0TWludXRlcyhzdGFydERhdGVUaW1lLmdldE1pbnV0ZXMoKSArIDkwKTtcbiAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShzdGFydERhdGVUaW1lLmdldFRpbWUoKSArIGR1cmF0aW9uTXMpO1xuXG4gIGNvbnN0IGN1c3RvbWVyOiBGYWtlQ3VzdG9tZXIgPSB7XG4gICAgaWQ6IGBjdXN0XyR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gLFxuICAgIG5hbWU6IG9wdGlvbnMuY3VzdG9tZXJTZWVkLm5hbWUsXG4gICAgZW1haWw6IG9wdGlvbnMuY3VzdG9tZXJTZWVkLmVtYWlsLFxuICAgIHBob25lOiBvcHRpb25zLmN1c3RvbWVyU2VlZC5waG9uZSxcbiAgICBjcmVhdGVkQXQ6IHNoaWZ0RGF0ZShvcHRpb25zLmJhc2VEYXRlLCAtMzApLnRvSVNPU3RyaW5nKClcbiAgfTtcblxuICBjb25zdCBhdXRob3JpemF0aW9uQW1vdW50ID0gb3B0aW9ucy5zZXJ2aWNlLnByaWNlQ2VudHM7XG4gIGNvbnN0IHBsYXRmb3JtRmVlID0gTWF0aC5yb3VuZChhdXRob3JpemF0aW9uQW1vdW50ICogMC4wMSk7XG4gIGNvbnN0IHN0cmlwZUZlZUVzdGltYXRlID0gTWF0aC5yb3VuZChhdXRob3JpemF0aW9uQW1vdW50ICogMC4wMjkpICsgMzA7XG5cbiAgY29uc3QgcGF5bWVudHM6IEZha2VQYXltZW50W10gPSBbXG4gICAge1xuICAgICAgaWQ6IGBwYXlfJHtjcnlwdG8ucmFuZG9tVVVJRCgpfWAsXG4gICAgICBib29raW5nSWQ6IGBib29raW5nXyR7b3B0aW9ucy5jb2RlfWAsXG4gICAgICB0eXBlOiBcImF1dGhvcml6YXRpb25cIixcbiAgICAgIGFtb3VudENlbnRzOiBhdXRob3JpemF0aW9uQW1vdW50LFxuICAgICAgc3RhdHVzOiBvcHRpb25zLnJlcXVpcmVzQWN0aW9uID8gXCJyZXF1aXJlc19hY3Rpb25cIiA6IFwiYXV0aG9yaXplZFwiLFxuICAgICAgb2NjdXJyZWRBdDogc3RhcnREYXRlVGltZS50b0lTT1N0cmluZygpXG4gICAgfVxuICBdO1xuXG4gIGlmIChvcHRpb25zLmNhcHR1cmUpIHtcbiAgICBwYXltZW50cy5wdXNoKHtcbiAgICAgIGlkOiBgcGF5XyR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gLFxuICAgICAgYm9va2luZ0lkOiBgYm9va2luZ18ke29wdGlvbnMuY29kZX1gLFxuICAgICAgdHlwZTogXCJjYXB0dXJlXCIsXG4gICAgICBhbW91bnRDZW50czogYXV0aG9yaXphdGlvbkFtb3VudCxcbiAgICAgIHN0YXR1czogXCJjYXB0dXJlZFwiLFxuICAgICAgb2NjdXJyZWRBdDogc2hpZnREYXRlKGVuZERhdGVUaW1lLCAtMSkudG9JU09TdHJpbmcoKSxcbiAgICAgIG5vdGVzOiBcIk1hbnVhbCBjYXB0dXJlIGNvbXBsZXRlZCBmcm9tIG1vbmV5IGJvYXJkXCJcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLm5vU2hvd0ZlZSkge1xuICAgIGNvbnN0IGZlZSA9IE1hdGgucm91bmQoYXV0aG9yaXphdGlvbkFtb3VudCAqIDAuNSk7XG4gICAgcGF5bWVudHMucHVzaCh7XG4gICAgICBpZDogYHBheV8ke2NyeXB0by5yYW5kb21VVUlEKCl9YCxcbiAgICAgIGJvb2tpbmdJZDogYGJvb2tpbmdfJHtvcHRpb25zLmNvZGV9YCxcbiAgICAgIHR5cGU6IFwibm9fc2hvd19mZWVcIixcbiAgICAgIGFtb3VudENlbnRzOiBmZWUsXG4gICAgICBzdGF0dXM6IFwiY2FwdHVyZWRcIixcbiAgICAgIG9jY3VycmVkQXQ6IHNoaWZ0RGF0ZShlbmREYXRlVGltZSwgMSkudG9JU09TdHJpbmcoKSxcbiAgICAgIG5vdGVzOiBcIk5vLXNob3cgZmVlIGFwcGxpZWRcIlxuICAgIH0pO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuY2FuY2VsRmVlKSB7XG4gICAgY29uc3QgZmVlID0gTWF0aC5yb3VuZChhdXRob3JpemF0aW9uQW1vdW50ICogMC4yNSk7XG4gICAgcGF5bWVudHMucHVzaCh7XG4gICAgICBpZDogYHBheV8ke2NyeXB0by5yYW5kb21VVUlEKCl9YCxcbiAgICAgIGJvb2tpbmdJZDogYGJvb2tpbmdfJHtvcHRpb25zLmNvZGV9YCxcbiAgICAgIHR5cGU6IFwiY2FuY2VsX2ZlZVwiLFxuICAgICAgYW1vdW50Q2VudHM6IGZlZSxcbiAgICAgIHN0YXR1czogXCJjYXB0dXJlZFwiLFxuICAgICAgb2NjdXJyZWRBdDogc2hpZnREYXRlKGVuZERhdGVUaW1lLCAtNikudG9JU09TdHJpbmcoKSxcbiAgICAgIG5vdGVzOiBcIkNhbmNlbGxhdGlvbiBmZWUgYXBwbGllZFwiXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCByZXF1aXJlc0FjdGlvbiA9IEJvb2xlYW4ob3B0aW9ucy5yZXF1aXJlc0FjdGlvbik7XG5cbiAgY29uc3Qgc3RhdHVzID0gcmVxdWlyZXNBY3Rpb24gPyBcInJlcXVpcmVzX2FjdGlvblwiIDogb3B0aW9ucy5zdGF0dXM7XG5cbiAgY29uc3QgY2FwdHVyZWRBbW91bnQgPVxuICAgIHBheW1lbnRzXG4gICAgICAuZmlsdGVyKChwYXltZW50KSA9PiBwYXltZW50LnR5cGUgPT09IFwiY2FwdHVyZVwiKVxuICAgICAgLnJlZHVjZSgoc3VtLCBwYXltZW50KSA9PiBzdW0gKyBwYXltZW50LmFtb3VudENlbnRzLCAwKSArXG4gICAgcGF5bWVudHNcbiAgICAgIC5maWx0ZXIoKHBheW1lbnQpID0+IHBheW1lbnQudHlwZSA9PT0gXCJub19zaG93X2ZlZVwiIHx8IHBheW1lbnQudHlwZSA9PT0gXCJjYW5jZWxfZmVlXCIpXG4gICAgICAucmVkdWNlKChzdW0sIHBheW1lbnQpID0+IHN1bSArIHBheW1lbnQuYW1vdW50Q2VudHMsIDApO1xuXG4gIGNvbnN0IHBsYXRmb3JtRmVlQ2VudHMgPSBNYXRoLnJvdW5kKGNhcHR1cmVkQW1vdW50ICogMC4wMSk7XG4gIGNvbnN0IHN0cmlwZUZlZUNlbnRzID0gY2FwdHVyZWRBbW91bnQgPyBNYXRoLnJvdW5kKGNhcHR1cmVkQW1vdW50ICogMC4wMjkpICsgMzAgOiAwO1xuXG4gIGNvbnN0IGJvb2tpbmc6IEZha2VCb29raW5nID0ge1xuICAgIGlkOiBgYm9va2luZ18ke29wdGlvbnMuY29kZX1gLFxuICAgIGNvZGU6IG9wdGlvbnMuY29kZSxcbiAgICBzdGF0dXMsXG4gICAgc2VydmljZUlkOiBvcHRpb25zLnNlcnZpY2UuaWQsXG4gICAgc2VydmljZU5hbWU6IG9wdGlvbnMuc2VydmljZS5uYW1lLFxuICAgIGNhdGVnb3J5TmFtZTogb3B0aW9ucy5zZXJ2aWNlLmNhdGVnb3J5TmFtZSxcbiAgICBkdXJhdGlvbk1pbnV0ZXM6IG9wdGlvbnMuc2VydmljZS5kdXJhdGlvbk1pbnV0ZXMsXG4gICAgc3RhcnREYXRlVGltZTogc3RhcnREYXRlVGltZS50b0lTT1N0cmluZygpLFxuICAgIGVuZERhdGVUaW1lOiBlbmREYXRlVGltZS50b0lTT1N0cmluZygpLFxuICAgIHN0YWZmOiBvcHRpb25zLnN0YWZmXG4gICAgICA/IHsgaWQ6IG9wdGlvbnMuc3RhZmYuaWQsIG5hbWU6IG9wdGlvbnMuc3RhZmYubmFtZSwgY29sb3I6IG9wdGlvbnMuc3RhZmYuY29sb3IgfVxuICAgICAgOiBudWxsLFxuICAgIGN1c3RvbWVyLFxuICAgIHBheW1lbnRzLFxuICAgIGZpbmFuY2lhbHM6IHtcbiAgICAgIGxpc3RQcmljZUNlbnRzOiBhdXRob3JpemF0aW9uQW1vdW50LFxuICAgICAgZ2lmdENhcmRBbW91bnRDZW50czogMCxcbiAgICAgIHBsYXRmb3JtRmVlQ2VudHM6IHBsYXRmb3JtRmVlQ2VudHMsXG4gICAgICBzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzOiBzdHJpcGVGZWVFc3RpbWF0ZSxcbiAgICAgIG5ldFBheW91dENlbnRzOiBNYXRoLm1heChjYXB0dXJlZEFtb3VudCAtIHBsYXRmb3JtRmVlQ2VudHMgLSBzdHJpcGVGZWVDZW50cywgMCksXG4gICAgICBjdXJyZW5jeTogXCJ1c2RcIlxuICAgIH0sXG4gICAgcG9saWN5Q29uc2VudDoge1xuICAgICAgaGFzaDogY3J5cHRvLnJhbmRvbVVVSUQoKS5yZXBsYWNlKC8tL2csIFwiXCIpLFxuICAgICAgYWNjZXB0ZWRBdDogc2hpZnREYXRlKG9wdGlvbnMuYmFzZURhdGUsIC0yKS50b0lTT1N0cmluZygpLFxuICAgICAgaXA6IFwiMjAzLjAuMTEzLjVcIixcbiAgICAgIHVzZXJBZ2VudDogXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWClcIlxuICAgIH0sXG4gICAgcmVxdWlyZXNBY3Rpb24sXG4gICAgbm90ZXM6IG9wdGlvbnMubm90ZXNcbiAgfTtcblxuICByZXR1cm4gYm9va2luZztcbn1cblxuZnVuY3Rpb24gc2hpZnREYXRlKGRhdGU6IERhdGUsIGRheXM6IG51bWJlcik6IERhdGUge1xuICBjb25zdCBjb3B5ID0gbmV3IERhdGUoZGF0ZSk7XG4gIGNvcHkuc2V0RGF0ZShjb3B5LmdldERhdGUoKSArIGRheXMpO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gZGVyaXZlQ3VzdG9tZXJzKGJvb2tpbmdzOiBGYWtlQm9va2luZ1tdKTogRmFrZUN1c3RvbWVyW10ge1xuICBjb25zdCBtYXAgPSBuZXcgTWFwPHN0cmluZywgRmFrZUN1c3RvbWVyPigpO1xuICBmb3IgKGNvbnN0IGJvb2tpbmcgb2YgYm9va2luZ3MpIHtcbiAgICBpZiAoIW1hcC5oYXMoYm9va2luZy5jdXN0b21lci5pZCkpIHtcbiAgICAgIG1hcC5zZXQoYm9va2luZy5jdXN0b21lci5pZCwgYm9va2luZy5jdXN0b21lcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBBcnJheS5mcm9tKG1hcC52YWx1ZXMoKSk7XG59XG5cbmZ1bmN0aW9uIGRlcml2ZUFuYWx5dGljcyhib29raW5nczogRmFrZUJvb2tpbmdbXSk6IEFuYWx5dGljc1NuYXBzaG90IHtcbiAgY29uc3QgcmV2ZW51ZUJ5TW9udGhNYXAgPSBuZXcgTWFwPFxuICAgIHN0cmluZyxcbiAgICB7IGNhcHR1cmVkQ2VudHM6IG51bWJlcjsgbm9TaG93RmVlQ2VudHM6IG51bWJlcjsgcmVmdW5kZWRDZW50czogbnVtYmVyIH1cbiAgPigpO1xuICBjb25zdCBib29raW5nc0J5U3RhdHVzTWFwID0gbmV3IE1hcDxCb29raW5nU3RhdHVzLCBudW1iZXI+KCk7XG4gIGNvbnN0IHN0YWZmTWFwID0gbmV3IE1hcDxzdHJpbmcsIHsgbmFtZTogc3RyaW5nOyBjYXB0dXJlZE1pbnV0ZXM6IG51bWJlcjsgdG90YWxNaW51dGVzOiBudW1iZXIgfT4oKTtcblxuICBsZXQgdG90YWxDYXB0dXJlZCA9IDA7XG4gIGxldCBwbGF0Zm9ybUZlZSA9IDA7XG4gIGxldCBzdHJpcGVGZWUgPSAwO1xuICBsZXQgcmVmdW5kZWQgPSAwO1xuICBsZXQgbm9TaG93UmF0ZUNvdW50ID0gMDtcblxuICBmb3IgKGNvbnN0IGJvb2tpbmcgb2YgYm9va2luZ3MpIHtcbiAgICBjb25zdCBtb250aEtleSA9IGJvb2tpbmcuc3RhcnREYXRlVGltZS5zdWJzdHJpbmcoMCwgNyk7XG4gICAgY29uc3QgcmVjb3JkID1cbiAgICAgIHJldmVudWVCeU1vbnRoTWFwLmdldChtb250aEtleSkgPz8ge1xuICAgICAgICBjYXB0dXJlZENlbnRzOiAwLFxuICAgICAgICBub1Nob3dGZWVDZW50czogMCxcbiAgICAgICAgcmVmdW5kZWRDZW50czogMFxuICAgICAgfTtcblxuICAgIGJvb2tpbmdzQnlTdGF0dXNNYXAuc2V0KGJvb2tpbmcuc3RhdHVzLCAoYm9va2luZ3NCeVN0YXR1c01hcC5nZXQoYm9va2luZy5zdGF0dXMpID8/IDApICsgMSk7XG5cbiAgICBjb25zdCBjYXB0dXJlZFBheW1lbnRzID0gYm9va2luZy5wYXltZW50cy5maWx0ZXIoXG4gICAgICAocGF5bWVudCkgPT4gcGF5bWVudC5zdGF0dXMgPT09IFwiY2FwdHVyZWRcIlxuICAgICk7XG5cbiAgICBmb3IgKGNvbnN0IHBheW1lbnQgb2YgY2FwdHVyZWRQYXltZW50cykge1xuICAgICAgaWYgKHBheW1lbnQudHlwZSA9PT0gXCJjYXB0dXJlXCIpIHtcbiAgICAgICAgcmVjb3JkLmNhcHR1cmVkQ2VudHMgKz0gcGF5bWVudC5hbW91bnRDZW50cztcbiAgICAgICAgdG90YWxDYXB0dXJlZCArPSBwYXltZW50LmFtb3VudENlbnRzO1xuICAgICAgfVxuICAgICAgaWYgKHBheW1lbnQudHlwZSA9PT0gXCJub19zaG93X2ZlZVwiKSB7XG4gICAgICAgIHJlY29yZC5ub1Nob3dGZWVDZW50cyArPSBwYXltZW50LmFtb3VudENlbnRzO1xuICAgICAgICB0b3RhbENhcHR1cmVkICs9IHBheW1lbnQuYW1vdW50Q2VudHM7XG4gICAgICAgIG5vU2hvd1JhdGVDb3VudCArPSAxO1xuICAgICAgfVxuICAgICAgaWYgKHBheW1lbnQudHlwZSA9PT0gXCJjYW5jZWxfZmVlXCIpIHtcbiAgICAgICAgdG90YWxDYXB0dXJlZCArPSBwYXltZW50LmFtb3VudENlbnRzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlZnVuZFBheW1lbnRzID0gYm9va2luZy5wYXltZW50cy5maWx0ZXIoKHBheW1lbnQpID0+IHBheW1lbnQudHlwZSA9PT0gXCJyZWZ1bmRcIik7XG4gICAgZm9yIChjb25zdCByZWZ1bmQgb2YgcmVmdW5kUGF5bWVudHMpIHtcbiAgICAgIHJlY29yZC5yZWZ1bmRlZENlbnRzICs9IHJlZnVuZC5hbW91bnRDZW50cztcbiAgICAgIHJlZnVuZGVkICs9IHJlZnVuZC5hbW91bnRDZW50cztcbiAgICB9XG5cbiAgICBwbGF0Zm9ybUZlZSArPSBib29raW5nLmZpbmFuY2lhbHMucGxhdGZvcm1GZWVDZW50cztcbiAgICBzdHJpcGVGZWUgKz0gYm9va2luZy5maW5hbmNpYWxzLnN0cmlwZUZlZUVzdGltYXRlQ2VudHM7XG5cbiAgICBpZiAoYm9va2luZy5zdGFmZikge1xuICAgICAgY29uc3Qgc3RhZmZFbnRyeSA9XG4gICAgICAgIHN0YWZmTWFwLmdldChib29raW5nLnN0YWZmLmlkKSA/P1xuICAgICAgICB7IG5hbWU6IGJvb2tpbmcuc3RhZmYubmFtZSwgY2FwdHVyZWRNaW51dGVzOiAwLCB0b3RhbE1pbnV0ZXM6IDAgfTtcbiAgICAgIHN0YWZmRW50cnkudG90YWxNaW51dGVzICs9IGJvb2tpbmcuZHVyYXRpb25NaW51dGVzO1xuICAgICAgc3RhZmZFbnRyeS5jYXB0dXJlZE1pbnV0ZXMgKz1cbiAgICAgICAgY2FwdHVyZWRQYXltZW50cy5sZW5ndGggPiAwID8gYm9va2luZy5kdXJhdGlvbk1pbnV0ZXMgOiBib29raW5nLmR1cmF0aW9uTWludXRlcyAvIDI7XG4gICAgICBzdGFmZk1hcC5zZXQoYm9va2luZy5zdGFmZi5pZCwgc3RhZmZFbnRyeSk7XG4gICAgfVxuXG4gICAgcmV2ZW51ZUJ5TW9udGhNYXAuc2V0KG1vbnRoS2V5LCByZWNvcmQpO1xuICB9XG5cbiAgY29uc3QgcmV2ZW51ZUJ5TW9udGggPSBBcnJheS5mcm9tKHJldmVudWVCeU1vbnRoTWFwLmVudHJpZXMoKSkubWFwKChbbW9udGgsIGRhdGFdKSA9PiAoe1xuICAgIG1vbnRoLFxuICAgIC4uLmRhdGFcbiAgfSkpO1xuXG4gIHJldmVudWVCeU1vbnRoLnNvcnQoKGEsIGIpID0+IChhLm1vbnRoID4gYi5tb250aCA/IDEgOiAtMSkpO1xuXG4gIGNvbnN0IGJvb2tpbmdzQnlTdGF0dXMgPSBBcnJheS5mcm9tKGJvb2tpbmdzQnlTdGF0dXNNYXAuZW50cmllcygpKS5tYXAoKFtzdGF0dXMsIGNvdW50XSkgPT4gKHtcbiAgICBzdGF0dXMsXG4gICAgY291bnRcbiAgfSkpO1xuXG4gIGNvbnN0IHN0YWZmVXRpbGl6YXRpb24gPSBBcnJheS5mcm9tKHN0YWZmTWFwLmVudHJpZXMoKSkubWFwKChbc3RhZmZJZCwgZGF0YV0pID0+ICh7XG4gICAgc3RhZmZJZCxcbiAgICBzdGFmZk5hbWU6IGRhdGEubmFtZSxcbiAgICB1dGlsaXphdGlvblBlcmNlbnQ6IGRhdGEudG90YWxNaW51dGVzXG4gICAgICA/IE1hdGgubWluKDEwMCwgTWF0aC5yb3VuZCgoZGF0YS5jYXB0dXJlZE1pbnV0ZXMgLyBkYXRhLnRvdGFsTWludXRlcykgKiAxMDApKVxuICAgICAgOiAwXG4gIH0pKTtcblxuICBjb25zdCB0b3RhbEJvb2tpbmdzID0gYm9va2luZ3MubGVuZ3RoIHx8IDE7XG4gIGNvbnN0IG5vU2hvd1JhdGVQZXJjZW50ID0gTWF0aC5yb3VuZCgobm9TaG93UmF0ZUNvdW50IC8gdG90YWxCb29raW5ncykgKiAxMDApO1xuXG4gIHJldHVybiB7XG4gICAgcmV2ZW51ZUJ5TW9udGgsXG4gICAgYm9va2luZ3NCeVN0YXR1cyxcbiAgICBzdGFmZlV0aWxpemF0aW9uLFxuICAgIGZlZUJyZWFrZG93bjoge1xuICAgICAgdG90YWxDYXB0dXJlZENlbnRzOiB0b3RhbENhcHR1cmVkLFxuICAgICAgcGxhdGZvcm1GZWVDZW50czogcGxhdGZvcm1GZWUsXG4gICAgICBzdHJpcGVGZWVDZW50czogc3RyaXBlRmVlLFxuICAgICAgbmV0UGF5b3V0Q2VudHM6IE1hdGgubWF4KHRvdGFsQ2FwdHVyZWQgLSBwbGF0Zm9ybUZlZSAtIHN0cmlwZUZlZSAtIHJlZnVuZGVkLCAwKVxuICAgIH0sXG4gICAgbm9TaG93UmF0ZVBlcmNlbnRcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2VlZEdpZnRDYXJkTGVkZ2VyKGNvbmZpZzogR2lmdENhcmRDb25maWcpOiBHaWZ0Q2FyZExlZGdlckVudHJ5W10ge1xuICBpZiAoIWNvbmZpZy5lbmFibGVkKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IGlzc3VlZDogR2lmdENhcmRMZWRnZXJFbnRyeSA9IHtcbiAgICBpZDogYGdjbF8ke2NyeXB0by5yYW5kb21VVUlEKCl9YCxcbiAgICBjb2RlOiBjb25maWcuZ2VuZXJhdGVkQ29kZXNbMF0gPz8gXCJXRUxDT01FMTIwXCIsXG4gICAgZGVsdGFDZW50czogY29uZmlnLmFtb3VudFR5cGUgPT09IFwiYW1vdW50XCIgPyBjb25maWcuYW1vdW50VmFsdWUgOiAwLFxuICAgIGJhbGFuY2VBZnRlckNlbnRzOiBjb25maWcuYW1vdW50VHlwZSA9PT0gXCJhbW91bnRcIiA/IGNvbmZpZy5hbW91bnRWYWx1ZSA6IDAsXG4gICAgb2NjdXJyZWRBdDogc2hpZnREYXRlKG5ldyBEYXRlKCksIC0xNSkudG9JU09TdHJpbmcoKSxcbiAgICByZWFzb246IFwiaXNzdWVkXCJcbiAgfTtcbiAgY29uc3QgcmVkZWVtZWQ6IEdpZnRDYXJkTGVkZ2VyRW50cnkgPSB7XG4gICAgaWQ6IGBnY2xfJHtjcnlwdG8ucmFuZG9tVVVJRCgpfWAsXG4gICAgY29kZTogaXNzdWVkLmNvZGUsXG4gICAgYm9va2luZ0NvZGU6IFwiVFRILTIwMjUtMTA0MlwiLFxuICAgIGRlbHRhQ2VudHM6IGNvbmZpZy5hbW91bnRUeXBlID09PSBcImFtb3VudFwiID8gLU1hdGgubWluKGNvbmZpZy5hbW91bnRWYWx1ZSwgNjAwMCkgOiAtMjQwMCxcbiAgICBiYWxhbmNlQWZ0ZXJDZW50czpcbiAgICAgIGlzc3VlZC5iYWxhbmNlQWZ0ZXJDZW50cyArXG4gICAgICAoY29uZmlnLmFtb3VudFR5cGUgPT09IFwiYW1vdW50XCIgPyAtTWF0aC5taW4oY29uZmlnLmFtb3VudFZhbHVlLCA2MDAwKSA6IC0yNDAwKSxcbiAgICBvY2N1cnJlZEF0OiBzaGlmdERhdGUobmV3IERhdGUoKSwgLTUpLnRvSVNPU3RyaW5nKCksXG4gICAgcmVhc29uOiBcInJlZGVlbWVkXCJcbiAgfTtcbiAgcmV0dXJuIFtpc3N1ZWQsIHJlZGVlbWVkXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY29tcHV0ZUFuYWx5dGljcyhib29raW5nczogRmFrZUJvb2tpbmdbXSk6IEFuYWx5dGljc1NuYXBzaG90IHtcbiAgcmV0dXJuIGRlcml2ZUFuYWx5dGljcyhib29raW5ncyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmVDdXN0b21lcnNGcm9tQm9va2luZ3MoYm9va2luZ3M6IEZha2VCb29raW5nW10pOiBGYWtlQ3VzdG9tZXJbXSB7XG4gIHJldHVybiBkZXJpdmVDdXN0b21lcnMoYm9va2luZ3MpO1xufVxuXG5leHBvcnQgY29uc3QgREVWX1dPUktTUEFDRV9TRUVEOiBXb3Jrc3BhY2VTZWVkSW5wdXQgPSB7XG4gIGJ1c2luZXNzOiB7XG4gICAgYnVzaW5lc3NOYW1lOiBcIlN0dWRpbyBOb3ZhXCIsXG4gICAgZGVzY3JpcHRpb246IFwiTW9kZXJuIGhhaXIgYW5kIHNraW4gc3R1ZGlvIGZvY3VzaW5nIG9uIGdsb3ctZmlyc3QgdHJlYXRtZW50cy5cIixcbiAgICBkb2luZ0J1c2luZXNzQXM6IFwiU3R1ZGlvIE5vdmFcIixcbiAgICBsZWdhbE5hbWU6IFwiU3R1ZGlvIE5vdmEgTExDXCIsXG4gICAgaW5kdXN0cnk6IFwiU2Fsb25cIlxuICB9LFxuICB3ZWJzaXRlOiB7XG4gICAgc3ViZG9tYWluOiBcIm5vdmFzdHVkaW9cIixcbiAgICBzdGF0dXM6IFwicmVzZXJ2ZWRcIixcbiAgICBtZXNzYWdlOiBcIlN1YmRvbWFpbiByZXNlcnZlZCBmb3IgZGVtb1wiXG4gIH0sXG4gIGxvY2F0aW9uOiB7XG4gICAgdGltZXpvbmU6IFwiQW1lcmljYS9OZXdfWW9ya1wiLFxuICAgIHBob25lOiBcIisxIDkxNyA1NTUgMDEwMFwiLFxuICAgIHN1cHBvcnRFbWFpbDogXCJzdXBwb3J0QG5vdmFzdHVkaW8uY29cIixcbiAgICB3ZWJzaXRlOiBcImh0dHBzOi8vbm92YXN0dWRpby5jb1wiLFxuICAgIGFkZHJlc3NMaW5lMTogXCIxNDUgTWVyY2VyIFN0cmVldFwiLFxuICAgIGFkZHJlc3NMaW5lMjogXCJGbG9vciAyXCIsXG4gICAgY2l0eTogXCJOZXcgWW9ya1wiLFxuICAgIHN0YXRlUHJvdmluY2U6IFwiTllcIixcbiAgICBwb3N0YWxDb2RlOiBcIjEwMDEyXCIsXG4gICAgY291bnRyeTogXCJVU1wiXG4gIH0sXG4gIGJyYW5kaW5nOiB7XG4gICAgcHJpbWFyeUNvbG9yOiBcIiM1QjY0RkZcIixcbiAgICBsb2dvVXJsOiBcIi9icmFuZGluZy9kZW1vLWxvZ28uc3ZnXCIsXG4gICAgbG9nb05hbWU6IFwiU3R1ZGlvIE5vdmEgbG9nb1wiLFxuICAgIHJlY29tbWVuZGVkRGltZW5zaW9uczoge1xuICAgICAgd2lkdGg6IDk2MCxcbiAgICAgIGhlaWdodDogMTI4MFxuICAgIH1cbiAgfSxcbiAgdGVhbTogW1xuICAgIHtcbiAgICAgIGlkOiBcInN0YWZmX2F2YVwiLFxuICAgICAgbmFtZTogXCJBdmEgVGhvbXBzb25cIixcbiAgICAgIHJvbGU6IFwiTGVhZCBTdHlsaXN0XCIsXG4gICAgICBjb2xvcjogXCIjNUI2NEZGXCIsXG4gICAgICBhY3RpdmU6IHRydWVcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInN0YWZmX2phbGVuXCIsXG4gICAgICBuYW1lOiBcIkphbGVuIFJpdmVyYVwiLFxuICAgICAgcm9sZTogXCJTZW5pb3IgRXN0aGV0aWNpYW5cIixcbiAgICAgIGNvbG9yOiBcIiM1N0QwRkZcIixcbiAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgIH1cbiAgXSxcbiAgY2F0ZWdvcmllczogW1xuICAgIHtcbiAgICAgIGlkOiBcImNhdF9oYWlyXCIsXG4gICAgICBuYW1lOiBcIkhhaXJcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIlNpZ25hdHVyZSBjdXRzIGFuZCBjb2xvci5cIixcbiAgICAgIGNvbG9yOiBcIiM1QjY0RkZcIixcbiAgICAgIHNlcnZpY2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogXCJzdmNfY3V0XCIsXG4gICAgICAgICAgbmFtZTogXCJTaWduYXR1cmUgQ3V0XCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiUHJlY2lzaW9uIGN1dCB3aXRoIGJlc3Bva2Ugc3R5bGluZyBhbmQgZmluaXNoaW5nIHRyZWF0bWVudC5cIixcbiAgICAgICAgICBkdXJhdGlvbk1pbnV0ZXM6IDYwLFxuICAgICAgICAgIHByaWNlQ2VudHM6IDEyMDAwLFxuICAgICAgICAgIGluc3RydWN0aW9uczogXCJBcnJpdmUgMTAgbWludXRlcyBlYXJseTsgY29tcGxpbWVudGFyeSBiZXZlcmFnZSBvbiBhcnJpdmFsLlwiLFxuICAgICAgICAgIHN0YWZmSWRzOiBbXCJzdGFmZl9hdmFcIiwgXCJzdGFmZl9qYWxlblwiXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IFwic3ZjX2JsZW5kXCIsXG4gICAgICAgICAgbmFtZTogXCJDb2xvciBCbGVuZFwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkN1c3RvbSBjb2xvciBibGVuZCB3aXRoIGdsb3NzIGZpbmlzaC5cIixcbiAgICAgICAgICBkdXJhdGlvbk1pbnV0ZXM6IDkwLFxuICAgICAgICAgIHByaWNlQ2VudHM6IDE4MDAwLFxuICAgICAgICAgIGluc3RydWN0aW9uczogXCJCcmluZyBpbnNwaXJhdGlvbiBwaG90b3M7IHBhdGNoIHRlc3QgcmVxdWlyZWQgaWYgbmV3IGNsaWVudC5cIixcbiAgICAgICAgICBzdGFmZklkczogW1wic3RhZmZfYXZhXCJdXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImNhdF9za2luXCIsXG4gICAgICBuYW1lOiBcIlNraW5cIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkh5ZHJhdGlvbiBhbmQgZ2xvdy1mb3J3YXJkIGZhY2lhbCBleHBlcmllbmNlcy5cIixcbiAgICAgIGNvbG9yOiBcIiM1N0QwRkZcIixcbiAgICAgIHNlcnZpY2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogXCJzdmNfaHlkcmFcIixcbiAgICAgICAgICBuYW1lOiBcIkh5ZHJhIEZhY2lhbFwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIk11bHRpLXN0ZXAgaHlkcmF0aW5nIGZhY2lhbCB0YWlsb3JlZCB0byB5b3VyIHNraW4gZ29hbHMuXCIsXG4gICAgICAgICAgZHVyYXRpb25NaW51dGVzOiA3NSxcbiAgICAgICAgICBwcmljZUNlbnRzOiAxODAwMCxcbiAgICAgICAgICBpbnN0cnVjdGlvbnM6IFwiQXZvaWQgYWN0aXZlIHRvcGljYWxzIDI0IGhvdXJzIGJlZm9yZSBhcHBvaW50bWVudC5cIixcbiAgICAgICAgICBzdGFmZklkczogW1wic3RhZmZfamFsZW5cIl1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgYXZhaWxhYmlsaXR5OiBbXG4gICAge1xuICAgICAgc2VydmljZUlkOiBcInN2Y19jdXRcIixcbiAgICAgIHN0YWZmOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdGFmZklkOiBcInN0YWZmX2F2YVwiLFxuICAgICAgICAgIHNsb3RzOiBnZW5lcmF0ZVdlZWtseVNsb3RzKFtcIm1vbmRheVwiLCBcIndlZG5lc2RheVwiLCBcImZyaWRheVwiXSwgXCIwOTowMFwiLCBcIjE3OjAwXCIpXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBzdGFmZklkOiBcInN0YWZmX2phbGVuXCIsXG4gICAgICAgICAgc2xvdHM6IGdlbmVyYXRlV2Vla2x5U2xvdHMoW1widHVlc2RheVwiLCBcInRodXJzZGF5XCJdLCBcIjEwOjAwXCIsIFwiMTg6MDBcIilcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgc2VydmljZUlkOiBcInN2Y19ibGVuZFwiLFxuICAgICAgc3RhZmY6IFtcbiAgICAgICAge1xuICAgICAgICAgIHN0YWZmSWQ6IFwic3RhZmZfYXZhXCIsXG4gICAgICAgICAgc2xvdHM6IGdlbmVyYXRlV2Vla2x5U2xvdHMoW1widHVlc2RheVwiLCBcInRodXJzZGF5XCJdLCBcIjExOjAwXCIsIFwiMTY6MDBcIilcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgc2VydmljZUlkOiBcInN2Y19oeWRyYVwiLFxuICAgICAgc3RhZmY6IFtcbiAgICAgICAge1xuICAgICAgICAgIHN0YWZmSWQ6IFwic3RhZmZfamFsZW5cIixcbiAgICAgICAgICBzbG90czogZ2VuZXJhdGVXZWVrbHlTbG90cyhbXCJtb25kYXlcIiwgXCJ3ZWRuZXNkYXlcIiwgXCJzYXR1cmRheVwiXSwgXCIxMDowMFwiLCBcIjE2OjAwXCIpXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIG5vdGlmaWNhdGlvbnM6IFtcbiAgICB7XG4gICAgICBpZDogXCJib29raW5nLWNyZWF0ZWRcIixcbiAgICAgIG5hbWU6IFwiQm9va2luZyByZWNlaXZlZFwiLFxuICAgICAgY2hhbm5lbDogXCJlbWFpbFwiLFxuICAgICAgY2F0ZWdvcnk6IFwiY29uZmlybWF0aW9uXCIsXG4gICAgICB0cmlnZ2VyOiBcImJvb2tpbmdfY3JlYXRlZFwiLFxuICAgICAgc3ViamVjdDogXCJTdHVkaW8gTm92YSByZWNlaXZlZCB5b3VyIGJvb2tpbmcg4oCUIG5vIGNoYXJnZSB5ZXRcIixcbiAgICAgIGJvZHk6XG4gICAgICAgIFwiSGkgJHtjdXN0b21lci5uYW1lfSwgd2UgbG9ja2VkIGluICR7c2VydmljZS5uYW1lfSBvbiAke2Jvb2tpbmcuZGF0ZX0gYXQgJHtib29raW5nLnRpbWV9LiBcIiArXG4gICAgICAgIFwiV2XigJlsbCBvbmx5IGNoYXJnZSB5b3VyIGNhcmQgYWZ0ZXIgdGhlIGFwcG9pbnRtZW50IHBlciAke2J1c2luZXNzLm5hbWV9IHBvbGljaWVzLlwiLFxuICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwicmVtaW5kZXItMjRoXCIsXG4gICAgICBuYW1lOiBcIjI0IGhvdXIgcmVtaW5kZXJcIixcbiAgICAgIGNoYW5uZWw6IFwic21zXCIsXG4gICAgICBjYXRlZ29yeTogXCJyZW1pbmRlclwiLFxuICAgICAgdHJpZ2dlcjogXCJyZW1pbmRlcl8yNGhcIixcbiAgICAgIGJvZHk6XG4gICAgICAgIFwiUmVtaW5kZXI6ICR7c2VydmljZS5uYW1lfSB0b21vcnJvdyBhdCAke2Jvb2tpbmcudGltZX0uIE5lZWQgdG8gY2hhbmdlIHBsYW5zPyBDYWxsIHVzIGF0ICsxIDkxNyA1NTUgMDEwMC5cIixcbiAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImNvbXBsZXRlZC1yZWNlaXB0XCIsXG4gICAgICBuYW1lOiBcIlBheW1lbnQgcmVjZWlwdFwiLFxuICAgICAgY2hhbm5lbDogXCJlbWFpbFwiLFxuICAgICAgY2F0ZWdvcnk6IFwiY29tcGxldGlvblwiLFxuICAgICAgdHJpZ2dlcjogXCJib29raW5nX2NvbXBsZXRlZFwiLFxuICAgICAgc3ViamVjdDogXCJSZWNlaXB0IGZvciAke3NlcnZpY2UubmFtZX0gYXQgU3R1ZGlvIE5vdmFcIixcbiAgICAgIGJvZHk6XG4gICAgICAgIFwiSGkgJHtjdXN0b21lci5uYW1lfSwgdGhhbmtzIGZvciB2aXNpdGluZy4gV2UgY2FwdHVyZWQgJHtzZXJ2aWNlLnByaWNlfSBhZnRlciB5b3VyIGFwcG9pbnRtZW50LiBcIiArXG4gICAgICAgIFwiVmlldyBwb2xpY2llcyBhbmQgbmV4dCBzdGVwcyBoZXJlOiAke2Jvb2tpbmcudXJsfVwiLFxuICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgIH1cbiAgXSxcbiAgcG9saWNpZXM6IHtcbiAgICBjYW5jZWxsYXRpb25Qb2xpY3k6XG4gICAgICBcIkNhbmNlbCBvciByZXNjaGVkdWxlIHVwIHRvIDI0IGhvdXJzIGJlZm9yZSB5b3VyIGFwcG9pbnRtZW50IHRvIGF2b2lkIGEgZmVlLiBcIiArXG4gICAgICBcIkxhc3QtbWludXRlIGNhbmNlbGxhdGlvbnMgbWFrZSBpdCBoYXJkIGZvciB1cyB0byBmaWxsIHlvdXIgc2xvdC5cIixcbiAgICBjYW5jZWxsYXRpb25GZWVUeXBlOiBcInBlcmNlbnRcIixcbiAgICBjYW5jZWxsYXRpb25GZWVWYWx1ZTogMjUsXG4gICAgbm9TaG93UG9saWN5OlxuICAgICAgXCJOby1zaG93cyBhcmUgY2hhcmdlZCA1MCUgb2YgdGhlIHNlcnZpY2UgcHJpY2UgdG8gY292ZXIgb3VyIHRlYW3igJlzIHRpbWUuIFBsZWFzZSBjYWxsIGlmIHlvdeKAmXJlIHJ1bm5pbmcgbGF0ZS5cIixcbiAgICBub1Nob3dGZWVUeXBlOiBcInBlcmNlbnRcIixcbiAgICBub1Nob3dGZWVWYWx1ZTogNTAsXG4gICAgcmVmdW5kUG9saWN5OlxuICAgICAgXCJSZWZ1bmRzIGFyZSByZXZpZXdlZCB3aXRoaW4gNSBidXNpbmVzcyBkYXlzLiBXZSBjYW4gY29udmVydCB0byBjcmVkaXQgd2hlbiBhcHByb3ByaWF0ZS5cIixcbiAgICBjYXNoUG9saWN5OiBcIkNhcmQgb24gZmlsZSBpcyByZXF1aXJlZDsgY2FzaCB0aXBzIGFjY2VwdGVkIGluIHN0dWRpby5cIlxuICB9LFxuICBnaWZ0Q2FyZHM6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGFtb3VudFR5cGU6IFwiYW1vdW50XCIsXG4gICAgYW1vdW50VmFsdWU6IDE1MDAwLFxuICAgIGV4cGlyYXRpb25FbmFibGVkOiB0cnVlLFxuICAgIGV4cGlyYXRpb25Nb250aHM6IDEyLFxuICAgIGdlbmVyYXRlZENvZGVzOiBbXCJXRUxDT01FMTIwXCIsIFwiU0VMRkNBUkUyMFwiXVxuICB9LFxuICBwYXltZW50OiB7XG4gICAgY29ubmVjdFN0YXR1czogXCJjb21wbGV0ZWRcIixcbiAgICBhY2NlcHRlZE1ldGhvZHM6IFtcImNhcmRcIl0sXG4gICAgc3Vic2NyaXB0aW9uU3RhdHVzOiBcImFjdGl2ZVwiLFxuICAgIHRyaWFsRW5kc0F0OiB1bmRlZmluZWQsXG4gICAgbmV4dEJpbGxEYXRlOiBhZGREYXlzSVNPKG5ldyBEYXRlKCksIDE4KVxuICB9XG59O1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVdlZWtseVNsb3RzKFxuICBkYXlzOiBEYXlPZldlZWtbXSxcbiAgc3RhcnRUaW1lOiBzdHJpbmcsXG4gIGVuZFRpbWU6IHN0cmluZ1xuKTogQXZhaWxhYmlsaXR5U2xvdFtdIHtcbiAgcmV0dXJuIGRheXMubWFwKChkYXksIGluZGV4KSA9PiAoe1xuICAgIGlkOiBgc2xvdF8ke2RheX1fJHtpbmRleH1gLFxuICAgIGRheSxcbiAgICBzdGFydFRpbWUsXG4gICAgZW5kVGltZVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGFkZERheXNJU08oZGF0ZTogRGF0ZSwgZGF5czogbnVtYmVyKSB7XG4gIGNvbnN0IGNvcHkgPSBuZXcgRGF0ZShkYXRlKTtcbiAgY29weS5zZXREYXRlKGNvcHkuZ2V0RGF0ZSgpICsgZGF5cyk7XG4gIHJldHVybiBjb3B5LnRvSVNPU3RyaW5nKCk7XG59XG5cbiJdLCJuYW1lcyI6WyJjcmVhdGVXb3Jrc3BhY2VGcm9tT25ib2FyZGluZyIsInNlZWQiLCJjYXRlZ29yaWVzIiwidGVhbSIsInBheW1lbnQiLCJnaWZ0Q2FyZHMiLCJjYXRhbG9nIiwiY2xvbmVDYXRlZ29yaWVzIiwic3RhZmYiLCJjbG9uZVN0YWZmIiwiYXZhaWxhYmlsaXR5IiwiY2xvbmVBdmFpbGFiaWxpdHkiLCJhdmFpbGFiaWxpdHlUZW1wbGF0ZXMiLCJidWlsZEF2YWlsYWJpbGl0eVRlbXBsYXRlcyIsImJvb2tpbmdzIiwiY3VzdG9tZXJzIiwiYW5hbHl0aWNzIiwiZGVyaXZlQW5hbHl0aWNzIiwiY29uc29sZSIsImxvZyIsImJ1c2luZXNzTmFtZSIsImJ1c2luZXNzIiwic2VydmljZXNDb3VudCIsInJlZHVjZSIsInN1bSIsImNhdCIsInNlcnZpY2VzIiwibGVuZ3RoIiwic3RhZmZDb3VudCIsImF2YWlsYWJpbGl0eUNvdW50IiwiaGFzU2VlZEJvb2tpbmdzIiwiaWRlbnRpdHkiLCJjbG9uZSIsImxvY2F0aW9uIiwiYnJhbmRpbmciLCJ3ZWJzaXRlIiwiYXZhaWxhYmlsaXR5Q2xpcGJvYXJkIiwibm90aWZpY2F0aW9ucyIsImNsb25lTm90aWZpY2F0aW9ucyIsInBvbGljaWVzIiwiY29uZmlnIiwicmVzdG9yZUJhbGFuY2VPblJlZnVuZCIsImxlZGdlciIsImtlZXBTaXRlTGl2ZVdoZW5QYXVzZWQiLCJwYXlMaW5rQXV0b21hdGlvbkVuYWJsZWQiLCJzdGFydGVkVHJpYWxBdCIsInN1YnNjcmlwdGlvblN0YXR1cyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVuZGVmaW5lZCIsImxhc3RTdGF0dXNDaGFuZ2VBdCIsInZhbHVlIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwibWFwIiwiY2F0ZWdvcnkiLCJzZXJ2aWNlIiwibWVtYmVyIiwic2VydmljZUF2YWlsYWJpbGl0eSIsInNlcnZpY2VJZCIsInN0YWZmQXZhaWxhYmlsaXR5Iiwic3RhZmZJZCIsInNsb3RzIiwic2xvdCIsInRlbXBsYXRlcyIsInRlbXBsYXRlIiwiZmluZFNlcnZpY2UiLCJwdXNoIiwiaWQiLCJsYWJlbCIsIm5hbWUiLCJzZXJ2aWNlTmFtZSIsInN0YWZmQXNzaWdubWVudHMiLCJhc3NpZ25tZW50Iiwic3RhZmZNZW1iZXIiLCJmaW5kIiwic3RhZmZOYW1lIiwic3ZjIiwic2VlZEJvb2tpbmdzIiwiZmxhdE1hcCIsImNhdGVnb3J5TmFtZSIsImN1c3RvbWVyc1NlZWRzIiwiZW1haWwiLCJwaG9uZSIsIm5vdyIsInNhbXBsZSIsImluZGV4IiwiY3JlYXRlQm9va2luZyIsImNvZGUiLCJiYXNlRGF0ZSIsInNoaWZ0RGF0ZSIsImN1c3RvbWVyU2VlZCIsInN0YXR1cyIsImNhcHR1cmUiLCJub3RlcyIsIm5vU2hvd0ZlZSIsImNhbmNlbEZlZSIsInJlcXVpcmVzQWN0aW9uIiwib3B0aW9ucyIsImR1cmF0aW9uTXMiLCJkdXJhdGlvbk1pbnV0ZXMiLCJzdGFydERhdGVUaW1lIiwic2V0TWludXRlcyIsImdldE1pbnV0ZXMiLCJlbmREYXRlVGltZSIsImdldFRpbWUiLCJjdXN0b21lciIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJjcmVhdGVkQXQiLCJhdXRob3JpemF0aW9uQW1vdW50IiwicHJpY2VDZW50cyIsInBsYXRmb3JtRmVlIiwiTWF0aCIsInJvdW5kIiwic3RyaXBlRmVlRXN0aW1hdGUiLCJwYXltZW50cyIsImJvb2tpbmdJZCIsInR5cGUiLCJhbW91bnRDZW50cyIsIm9jY3VycmVkQXQiLCJmZWUiLCJCb29sZWFuIiwiY2FwdHVyZWRBbW91bnQiLCJmaWx0ZXIiLCJwbGF0Zm9ybUZlZUNlbnRzIiwic3RyaXBlRmVlQ2VudHMiLCJib29raW5nIiwiY29sb3IiLCJmaW5hbmNpYWxzIiwibGlzdFByaWNlQ2VudHMiLCJnaWZ0Q2FyZEFtb3VudENlbnRzIiwic3RyaXBlRmVlRXN0aW1hdGVDZW50cyIsIm5ldFBheW91dENlbnRzIiwibWF4IiwiY3VycmVuY3kiLCJwb2xpY3lDb25zZW50IiwiaGFzaCIsInJlcGxhY2UiLCJhY2NlcHRlZEF0IiwiaXAiLCJ1c2VyQWdlbnQiLCJkYXRlIiwiZGF5cyIsImNvcHkiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRlcml2ZUN1c3RvbWVycyIsIk1hcCIsImhhcyIsInNldCIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsInJldmVudWVCeU1vbnRoTWFwIiwiYm9va2luZ3NCeVN0YXR1c01hcCIsInN0YWZmTWFwIiwidG90YWxDYXB0dXJlZCIsInN0cmlwZUZlZSIsInJlZnVuZGVkIiwibm9TaG93UmF0ZUNvdW50IiwibW9udGhLZXkiLCJzdWJzdHJpbmciLCJyZWNvcmQiLCJnZXQiLCJjYXB0dXJlZENlbnRzIiwibm9TaG93RmVlQ2VudHMiLCJyZWZ1bmRlZENlbnRzIiwiY2FwdHVyZWRQYXltZW50cyIsInJlZnVuZFBheW1lbnRzIiwicmVmdW5kIiwic3RhZmZFbnRyeSIsImNhcHR1cmVkTWludXRlcyIsInRvdGFsTWludXRlcyIsInJldmVudWVCeU1vbnRoIiwiZW50cmllcyIsIm1vbnRoIiwiZGF0YSIsInNvcnQiLCJhIiwiYiIsImJvb2tpbmdzQnlTdGF0dXMiLCJjb3VudCIsInN0YWZmVXRpbGl6YXRpb24iLCJ1dGlsaXphdGlvblBlcmNlbnQiLCJtaW4iLCJ0b3RhbEJvb2tpbmdzIiwibm9TaG93UmF0ZVBlcmNlbnQiLCJmZWVCcmVha2Rvd24iLCJ0b3RhbENhcHR1cmVkQ2VudHMiLCJzZWVkR2lmdENhcmRMZWRnZXIiLCJlbmFibGVkIiwiaXNzdWVkIiwiZ2VuZXJhdGVkQ29kZXMiLCJkZWx0YUNlbnRzIiwiYW1vdW50VHlwZSIsImFtb3VudFZhbHVlIiwiYmFsYW5jZUFmdGVyQ2VudHMiLCJyZWFzb24iLCJyZWRlZW1lZCIsImJvb2tpbmdDb2RlIiwicmVjb21wdXRlQW5hbHl0aWNzIiwiZGVyaXZlQ3VzdG9tZXJzRnJvbUJvb2tpbmdzIiwiREVWX1dPUktTUEFDRV9TRUVEIiwiZGVzY3JpcHRpb24iLCJkb2luZ0J1c2luZXNzQXMiLCJsZWdhbE5hbWUiLCJpbmR1c3RyeSIsInN1YmRvbWFpbiIsIm1lc3NhZ2UiLCJ0aW1lem9uZSIsInN1cHBvcnRFbWFpbCIsImFkZHJlc3NMaW5lMSIsImFkZHJlc3NMaW5lMiIsImNpdHkiLCJzdGF0ZVByb3ZpbmNlIiwicG9zdGFsQ29kZSIsImNvdW50cnkiLCJwcmltYXJ5Q29sb3IiLCJsb2dvVXJsIiwibG9nb05hbWUiLCJyZWNvbW1lbmRlZERpbWVuc2lvbnMiLCJ3aWR0aCIsImhlaWdodCIsInJvbGUiLCJhY3RpdmUiLCJpbnN0cnVjdGlvbnMiLCJzdGFmZklkcyIsImdlbmVyYXRlV2Vla2x5U2xvdHMiLCJjaGFubmVsIiwidHJpZ2dlciIsInN1YmplY3QiLCJib2R5IiwiY2FuY2VsbGF0aW9uUG9saWN5IiwiY2FuY2VsbGF0aW9uRmVlVHlwZSIsImNhbmNlbGxhdGlvbkZlZVZhbHVlIiwibm9TaG93UG9saWN5Iiwibm9TaG93RmVlVHlwZSIsIm5vU2hvd0ZlZVZhbHVlIiwicmVmdW5kUG9saWN5IiwiY2FzaFBvbGljeSIsImV4cGlyYXRpb25FbmFibGVkIiwiZXhwaXJhdGlvbk1vbnRocyIsImNvbm5lY3RTdGF0dXMiLCJhY2NlcHRlZE1ldGhvZHMiLCJ0cmlhbEVuZHNBdCIsIm5leHRCaWxsRGF0ZSIsImFkZERheXNJU08iLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZGF5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/admin-workspace.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/fake-business.tsx":
/*!***********************************!*\
  !*** ./src/lib/fake-business.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FakeBusinessProvider: function() { return /* binding */ FakeBusinessProvider; },\n/* harmony export */   useFakeBusiness: function() { return /* binding */ useFakeBusiness; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_admin_workspace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/admin-workspace */ \"(app-pages-browser)/./src/lib/admin-workspace.ts\");\n/* __next_internal_client_entry_do_not_use__ FakeBusinessProvider,useFakeBusiness auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst FakeBusinessContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext(undefined);\nfunction FakeBusinessProvider(param) {\n    let { children } = param;\n    _s();\n    const [business, setBusiness] = react__WEBPACK_IMPORTED_MODULE_1__.useState(undefined);\n    const [workspace, setWorkspace] = react__WEBPACK_IMPORTED_MODULE_1__.useState(undefined);\n    const [hasHydratedFromStorage, setHasHydratedFromStorage] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        if (false) {}\n        // Check if we have a current user session\n        const checkUserAndLoad = async ()=>{\n            try {\n                var _session_user;\n                // Get current user from Supabase session\n                const { createClientClient } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_supabase-client_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ./supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\"));\n                const supabase = createClientClient();\n                const { data: { session } } = await supabase.auth.getSession();\n                if (!(session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.id)) {\n                    // No user session - don't load any data\n                    setHasHydratedFromStorage(true);\n                    return;\n                }\n                // Business data should be loaded from database via API calls, not localStorage\n                // This ensures proper user isolation and fresh data for each user\n                console.log(\"[FakeBusinessProvider] Using database-only approach - no localStorage\");\n                setHasHydratedFromStorage(true);\n            } catch (error) {\n                console.warn(\"[FakeBusinessProvider] Failed to check session\", error);\n                setHasHydratedFromStorage(true);\n            }\n        };\n        checkUserAndLoad();\n    }, []);\n    // No localStorage persistence - data is stored in database only\n    // This ensures proper user isolation and prevents stale data issues\n    const createBusiness = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((payload)=>{\n        setBusiness(payload);\n    }, []);\n    const updateBusiness = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((updates)=>{\n        setBusiness((existing)=>existing ? {\n                ...existing,\n                ...updates\n            } : existing);\n    }, []);\n    const bootstrapWorkspace = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((seed)=>{\n        const workspaceSnapshot = (0,_lib_admin_workspace__WEBPACK_IMPORTED_MODULE_2__.createWorkspaceFromOnboarding)(seed);\n        setWorkspace(workspaceSnapshot);\n        return workspaceSnapshot;\n    }, []);\n    const updateWorkspace = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((updater)=>{\n        setWorkspace((existing)=>{\n            if (!existing) return existing;\n            const updated = updater(existing);\n            return updated;\n        });\n    }, []);\n    const setCatalog = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((catalog)=>{\n        updateWorkspace((existing)=>({\n                ...existing,\n                catalog,\n                availabilityTemplates: existing.availabilityTemplates.map((template)=>{\n                    const service = catalog.flatMap((category)=>category.services).find((service)=>service.id === template.serviceId);\n                    return service ? {\n                        ...template,\n                        serviceName: service.name\n                    } : template;\n                }),\n                availability: existing.availability.map((entry)=>{\n                    const service = catalog.flatMap((category)=>category.services).find((svc)=>svc.id === entry.serviceId);\n                    if (!service) return entry;\n                    const assignedIds = new Set(service.staffIds);\n                    const filteredStaff = entry.staff.filter((slot)=>assignedIds.has(slot.staffId));\n                    const missingStaff = service.staffIds.filter((id)=>!filteredStaff.some((slot)=>slot.staffId === id)).map((id)=>({\n                            staffId: id,\n                            slots: []\n                        }));\n                    return {\n                        ...entry,\n                        staff: [\n                            ...filteredStaff,\n                            ...missingStaff\n                        ]\n                    };\n                }).filter((entry)=>catalog.some((category)=>category.services.some((svc)=>svc.id === entry.serviceId)))\n            }));\n    }, [\n        updateWorkspace\n    ]);\n    const setStaff = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((staff)=>{\n        updateWorkspace((existing)=>({\n                ...existing,\n                staff,\n                availabilityTemplates: existing.availabilityTemplates.map((template)=>({\n                        ...template,\n                        staffAssignments: template.staffAssignments.map((assignment)=>{\n                            const member = staff.find((staffMember)=>staffMember.id === assignment.staffId);\n                            return {\n                                ...assignment,\n                                staffName: member ? member.name : assignment.staffName\n                            };\n                        })\n                    })),\n                availability: existing.availability.map((entry)=>({\n                        ...entry,\n                        staff: entry.staff.filter((assignment)=>staff.some((member)=>member.id === assignment.staffId))\n                    }))\n            }));\n    }, [\n        updateWorkspace\n    ]);\n    const setAvailability = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((availability)=>{\n        updateWorkspace((existing)=>({\n                ...existing,\n                availability,\n                availabilityTemplates: buildTemplatesFromAvailability(existing.catalog, existing.staff, availability)\n            }));\n    }, [\n        updateWorkspace\n    ]);\n    const setNotifications = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((templates)=>{\n        updateWorkspace((existing)=>({\n                ...existing,\n                notifications: templates\n            }));\n    }, [\n        updateWorkspace\n    ]);\n    const setPolicies = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((policies)=>{\n        updateWorkspace((existing)=>({\n                ...existing,\n                policies\n            }));\n    }, [\n        updateWorkspace\n    ]);\n    const setGiftCards = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((program)=>{\n        updateWorkspace((existing)=>({\n                ...existing,\n                giftCards: program\n            }));\n    }, [\n        updateWorkspace\n    ]);\n    const setPayment = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((updater)=>{\n        updateWorkspace((existing)=>({\n                ...existing,\n                payment: updater(existing.payment)\n            }));\n    }, [\n        updateWorkspace\n    ]);\n    const setIdentity = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((updater)=>{\n        updateWorkspace((existing)=>({\n                ...existing,\n                identity: updater(existing.identity)\n            }));\n    }, [\n        updateWorkspace\n    ]);\n    const performBookingAction = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((bookingId, action)=>{\n        let response;\n        setWorkspace((existing)=>{\n            if (!existing) return existing;\n            const index = existing.bookings.findIndex((booking)=>booking.id === bookingId);\n            if (index === -1) return existing;\n            const targetBooking = existing.bookings[index];\n            const actionResult = applyMoneyBoardAction(targetBooking, action, existing.policies, existing.giftCards);\n            response = actionResult.response;\n            if (!actionResult.shouldPersist) {\n                return existing;\n            }\n            const updatedBookings = [\n                ...existing.bookings\n            ];\n            updatedBookings[index] = actionResult.booking;\n            var _actionResult_giftCards;\n            const updatedWorkspace = {\n                ...existing,\n                bookings: updatedBookings,\n                customers: (0,_lib_admin_workspace__WEBPACK_IMPORTED_MODULE_2__.deriveCustomersFromBookings)(updatedBookings),\n                analytics: (0,_lib_admin_workspace__WEBPACK_IMPORTED_MODULE_2__.recomputeAnalytics)(updatedBookings),\n                giftCards: (_actionResult_giftCards = actionResult.giftCards) !== null && _actionResult_giftCards !== void 0 ? _actionResult_giftCards : existing.giftCards\n            };\n            return updatedWorkspace;\n        });\n        return response;\n    }, []);\n    const recordPublicBooking = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((payload)=>{\n        if (!business) return undefined;\n        let createdBooking;\n        setWorkspace((existing)=>{\n            if (!existing) return existing;\n            const result = createBookingFromPublicFlow(business, existing, payload);\n            if (!result) return existing;\n            createdBooking = result.booking;\n            return result.workspace;\n        });\n        return createdBooking;\n    }, [\n        business\n    ]);\n    const copyAvailabilityTemplate = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((templateId)=>{\n        updateWorkspace((existing)=>{\n            const template = existing.availabilityTemplates.find((entry)=>entry.id === templateId);\n            return template ? {\n                ...existing,\n                availabilityClipboard: {\n                    ...template,\n                    staffAssignments: template.staffAssignments.map((assignment)=>({\n                            ...assignment,\n                            slots: assignment.slots.map((slot)=>({\n                                    ...slot\n                                }))\n                        }))\n                }\n            } : existing;\n        });\n    }, [\n        updateWorkspace\n    ]);\n    const pasteAvailabilityTemplate = react__WEBPACK_IMPORTED_MODULE_1__.useCallback((serviceId)=>{\n        updateWorkspace((existing)=>{\n            if (!existing.availabilityClipboard) return existing;\n            const clipboard = existing.availabilityClipboard;\n            const newAvailability = existing.availability.map((entry)=>entry.serviceId === serviceId ? {\n                    serviceId,\n                    staff: clipboard.staffAssignments.map((assignment)=>({\n                            staffId: assignment.staffId,\n                            slots: assignment.slots.map((slot)=>({\n                                    ...slot\n                                }))\n                        }))\n                } : entry);\n            const newTemplates = existing.availabilityTemplates.some((template)=>template.serviceId === serviceId) ? existing.availabilityTemplates.map((template)=>template.serviceId === serviceId ? {\n                    ...clipboard,\n                    id: template.id,\n                    serviceId,\n                    serviceName: clipboard.serviceName\n                } : template) : [\n                ...existing.availabilityTemplates,\n                {\n                    ...clipboard,\n                    id: \"template_\".concat(serviceId),\n                    serviceId,\n                    serviceName: clipboard.serviceName\n                }\n            ];\n            return {\n                ...existing,\n                availability: newAvailability,\n                availabilityTemplates: newTemplates\n            };\n        });\n    }, [\n        updateWorkspace\n    ]);\n    const clearAvailabilityClipboard = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(()=>{\n        updateWorkspace((existing)=>({\n                ...existing,\n                availabilityClipboard: null\n            }));\n    }, [\n        updateWorkspace\n    ]);\n    const refreshAnalytics = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(()=>{\n        updateWorkspace((existing)=>({\n                ...existing,\n                analytics: (0,_lib_admin_workspace__WEBPACK_IMPORTED_MODULE_2__.recomputeAnalytics)(existing.bookings),\n                customers: (0,_lib_admin_workspace__WEBPACK_IMPORTED_MODULE_2__.deriveCustomersFromBookings)(existing.bookings)\n            }));\n    }, [\n        updateWorkspace\n    ]);\n    const loadSeedBusiness = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(function() {\n        let seed = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : _lib_admin_workspace__WEBPACK_IMPORTED_MODULE_2__.DEV_WORKSPACE_SEED, overrides = arguments.length > 1 ? arguments[1] : void 0;\n        var _overrides_slug, _ref;\n        const slug = ((_ref = (_overrides_slug = overrides === null || overrides === void 0 ? void 0 : overrides.slug) !== null && _overrides_slug !== void 0 ? _overrides_slug : seed.website.subdomain) !== null && _ref !== void 0 ? _ref : \"preview\").toLowerCase();\n        var _overrides_bookingUrl;\n        const bookingUrl = (_overrides_bookingUrl = overrides === null || overrides === void 0 ? void 0 : overrides.bookingUrl) !== null && _overrides_bookingUrl !== void 0 ? _overrides_bookingUrl : \"https://\".concat(slug, \".tithi.com\");\n        var _overrides_previewUrl;\n        const previewUrl = (_overrides_previewUrl = overrides === null || overrides === void 0 ? void 0 : overrides.previewUrl) !== null && _overrides_previewUrl !== void 0 ? _overrides_previewUrl : \"/public/\".concat(slug);\n        var _overrides_id, _overrides_name, _overrides_status, _overrides_createdAt, _overrides_trialEndsAt, _overrides_nextBillDate;\n        const businessPayload = {\n            id: (_overrides_id = overrides === null || overrides === void 0 ? void 0 : overrides.id) !== null && _overrides_id !== void 0 ? _overrides_id : \"biz_\".concat(slug),\n            name: (_overrides_name = overrides === null || overrides === void 0 ? void 0 : overrides.name) !== null && _overrides_name !== void 0 ? _overrides_name : seed.business.businessName,\n            slug,\n            bookingUrl,\n            previewUrl,\n            status: (_overrides_status = overrides === null || overrides === void 0 ? void 0 : overrides.status) !== null && _overrides_status !== void 0 ? _overrides_status : seed.payment.subscriptionStatus,\n            createdAt: (_overrides_createdAt = overrides === null || overrides === void 0 ? void 0 : overrides.createdAt) !== null && _overrides_createdAt !== void 0 ? _overrides_createdAt : new Date().toISOString(),\n            trialEndsAt: (_overrides_trialEndsAt = overrides === null || overrides === void 0 ? void 0 : overrides.trialEndsAt) !== null && _overrides_trialEndsAt !== void 0 ? _overrides_trialEndsAt : seed.payment.trialEndsAt,\n            nextBillDate: (_overrides_nextBillDate = overrides === null || overrides === void 0 ? void 0 : overrides.nextBillDate) !== null && _overrides_nextBillDate !== void 0 ? _overrides_nextBillDate : seed.payment.nextBillDate\n        };\n        const workspaceSnapshot = (0,_lib_admin_workspace__WEBPACK_IMPORTED_MODULE_2__.createWorkspaceFromOnboarding)(seed);\n        let resolvedBusiness = businessPayload;\n        setBusiness((existing)=>{\n            if (existing) {\n                resolvedBusiness = existing;\n                return existing;\n            }\n            resolvedBusiness = businessPayload;\n            return businessPayload;\n        });\n        let resolvedWorkspace = workspaceSnapshot;\n        setWorkspace((existing)=>{\n            if (existing) {\n                resolvedWorkspace = existing;\n                return existing;\n            }\n            resolvedWorkspace = workspaceSnapshot;\n            return workspaceSnapshot;\n        });\n        return {\n            business: resolvedBusiness,\n            workspace: resolvedWorkspace\n        };\n    }, []);\n    const clearBusiness = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(()=>{\n        setBusiness(undefined);\n        setWorkspace(undefined);\n    // Business data is in database, no localStorage to clear\n    }, []);\n    const value = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>({\n            business,\n            workspace,\n            createBusiness,\n            bootstrapWorkspace,\n            loadSeedBusiness,\n            updateBusiness,\n            updateWorkspace,\n            setCatalog,\n            setStaff,\n            setAvailability,\n            setNotifications,\n            setPolicies,\n            setGiftCards,\n            setPayment,\n            setIdentity,\n            performBookingAction,\n            copyAvailabilityTemplate,\n            pasteAvailabilityTemplate,\n            clearAvailabilityClipboard,\n            refreshAnalytics,\n            recordPublicBooking,\n            clearBusiness\n        }), [\n        business,\n        workspace,\n        createBusiness,\n        bootstrapWorkspace,\n        loadSeedBusiness,\n        updateBusiness,\n        updateWorkspace,\n        setCatalog,\n        setStaff,\n        setAvailability,\n        setNotifications,\n        setPolicies,\n        setGiftCards,\n        setPayment,\n        setIdentity,\n        performBookingAction,\n        copyAvailabilityTemplate,\n        pasteAvailabilityTemplate,\n        clearAvailabilityClipboard,\n        refreshAnalytics,\n        recordPublicBooking,\n        clearBusiness\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FakeBusinessContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/lib/fake-business.tsx\",\n        lineNumber: 554,\n        columnNumber: 5\n    }, this);\n}\n_s(FakeBusinessProvider, \"FJSaKVqVBip5wV1YNPwej/chXkw=\");\n_c = FakeBusinessProvider;\nfunction useFakeBusiness() {\n    _s1();\n    const context = react__WEBPACK_IMPORTED_MODULE_1__.useContext(FakeBusinessContext);\n    if (!context) {\n        throw new Error(\"useFakeBusiness must be used within a FakeBusinessProvider\");\n    }\n    return context;\n}\n_s1(useFakeBusiness, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nfunction createBookingFromPublicFlow(business, workspace, payload) {\n    var _payload_giftCard;\n    const serviceResult = findServiceInCatalog(workspace.catalog, payload.serviceId);\n    if (!serviceResult) {\n        return undefined;\n    }\n    const { service, category } = serviceResult;\n    const staffMember = payload.staffId ? workspace.staff.find((member)=>member.id === payload.staffId) : null;\n    const listPriceCents = Math.max(service.priceCents, 0);\n    var _payload_giftCard_amountCents;\n    const requestedGiftCardCents = Math.max((_payload_giftCard_amountCents = (_payload_giftCard = payload.giftCard) === null || _payload_giftCard === void 0 ? void 0 : _payload_giftCard.amountCents) !== null && _payload_giftCard_amountCents !== void 0 ? _payload_giftCard_amountCents : 0, 0);\n    const giftCardAmountCents = Math.min(requestedGiftCardCents, listPriceCents);\n    const authorizationAmountCents = Math.max(listPriceCents - giftCardAmountCents, 0);\n    const normalizedEmail = normalizeEmail(payload.customer.email);\n    const normalizedPhone = payload.customer.phone ? normalizePhone(payload.customer.phone) : undefined;\n    var _workspace_customers_find;\n    const existingCustomer = (_workspace_customers_find = workspace.customers.find((customer)=>normalizeEmail(customer.email) === normalizedEmail)) !== null && _workspace_customers_find !== void 0 ? _workspace_customers_find : normalizedPhone ? workspace.customers.find((customer)=>customer.phone && normalizePhone(customer.phone) === normalizedPhone) : undefined;\n    var _payload_customer_phone, _payload_consent_acceptedAt;\n    const customer = existingCustomer ? {\n        ...existingCustomer,\n        name: payload.customer.name,\n        phone: (_payload_customer_phone = payload.customer.phone) !== null && _payload_customer_phone !== void 0 ? _payload_customer_phone : existingCustomer.phone\n    } : {\n        id: \"cust_\".concat(crypto.randomUUID()),\n        name: payload.customer.name,\n        email: payload.customer.email,\n        phone: payload.customer.phone,\n        createdAt: (_payload_consent_acceptedAt = payload.consent.acceptedAt) !== null && _payload_consent_acceptedAt !== void 0 ? _payload_consent_acceptedAt : new Date().toISOString()\n    };\n    const bookingCode = generateBookingCode(business.slug, workspace.bookings.map((booking)=>booking.code));\n    const authorizationPayment = {\n        id: \"pay_\".concat(crypto.randomUUID()),\n        bookingId: \"booking_\".concat(bookingCode),\n        type: \"authorization\",\n        amountCents: authorizationAmountCents,\n        status: payload.requiresAction ? \"requires_action\" : \"authorized\",\n        occurredAt: payload.startDateTime,\n        notes: \"Card saved securely for manual capture\"\n    };\n    const booking = {\n        id: \"booking_\".concat(bookingCode),\n        code: bookingCode,\n        status: payload.requiresAction ? \"requires_action\" : \"authorized\",\n        serviceId: service.id,\n        serviceName: service.name,\n        categoryName: category.name,\n        durationMinutes: service.durationMinutes,\n        startDateTime: payload.startDateTime,\n        endDateTime: payload.endDateTime,\n        staff: staffMember ? {\n            id: staffMember.id,\n            name: staffMember.name,\n            color: staffMember.color\n        } : null,\n        customer,\n        payments: [\n            authorizationPayment\n        ],\n        financials: {\n            listPriceCents,\n            giftCardAmountCents,\n            platformFeeCents: 0,\n            stripeFeeEstimateCents: 0,\n            netPayoutCents: 0,\n            currency: \"usd\"\n        },\n        policyConsent: payload.consent,\n        requiresAction: Boolean(payload.requiresAction),\n        notes: undefined\n    };\n    const updatedBookings = [\n        booking,\n        ...workspace.bookings\n    ];\n    const updatedCustomers = (0,_lib_admin_workspace__WEBPACK_IMPORTED_MODULE_2__.deriveCustomersFromBookings)(updatedBookings);\n    const updatedAnalytics = (0,_lib_admin_workspace__WEBPACK_IMPORTED_MODULE_2__.recomputeAnalytics)(updatedBookings);\n    const updatedGiftCards = applyGiftCardRedemption(workspace.giftCards, payload, giftCardAmountCents, bookingCode);\n    return {\n        booking,\n        workspace: {\n            ...workspace,\n            bookings: updatedBookings,\n            customers: updatedCustomers,\n            analytics: updatedAnalytics,\n            giftCards: updatedGiftCards\n        }\n    };\n}\nfunction findServiceInCatalog(catalog, serviceId) {\n    for (const category of catalog){\n        const service = category.services.find((entry)=>entry.id === serviceId);\n        if (service) {\n            return {\n                service,\n                category\n            };\n        }\n    }\n    return undefined;\n}\nfunction applyGiftCardRedemption(giftCards, payload, redemptionAmountCents, bookingCode) {\n    var _ledgerForCode_at;\n    if (!giftCards.config.enabled || !payload.giftCard || redemptionAmountCents <= 0) {\n        return giftCards;\n    }\n    const code = payload.giftCard.code.toUpperCase();\n    const ledgerForCode = giftCards.ledger.filter((entry)=>entry.code === code);\n    var _ledgerForCode_at_balanceAfterCents;\n    const lastBalance = (_ledgerForCode_at_balanceAfterCents = (_ledgerForCode_at = ledgerForCode.at(-1)) === null || _ledgerForCode_at === void 0 ? void 0 : _ledgerForCode_at.balanceAfterCents) !== null && _ledgerForCode_at_balanceAfterCents !== void 0 ? _ledgerForCode_at_balanceAfterCents : giftCards.config.amountType === \"amount\" ? giftCards.config.amountValue : 0;\n    const nextBalance = giftCards.config.amountType === \"amount\" ? Math.max(lastBalance - redemptionAmountCents, 0) : 0;\n    var _payload_consent_acceptedAt;\n    const ledgerEntry = {\n        id: \"gcl_\".concat(crypto.randomUUID()),\n        code,\n        bookingCode,\n        deltaCents: -redemptionAmountCents,\n        balanceAfterCents: nextBalance,\n        occurredAt: (_payload_consent_acceptedAt = payload.consent.acceptedAt) !== null && _payload_consent_acceptedAt !== void 0 ? _payload_consent_acceptedAt : new Date().toISOString(),\n        reason: \"redeemed\"\n    };\n    return {\n        ...giftCards,\n        config: {\n            ...giftCards.config,\n            generatedCodes: Array.from(new Set([\n                ...giftCards.config.generatedCodes,\n                code\n            ]))\n        },\n        ledger: [\n            ...giftCards.ledger,\n            ledgerEntry\n        ]\n    };\n}\nfunction generateBookingCode(slug, existingCodes) {\n    const prefix = createBookingPrefix(slug);\n    const year = new Date().getFullYear();\n    let attempt = 0;\n    let code = \"\";\n    do {\n        const sequence = Math.floor(1000 + Math.random() * 9000);\n        code = \"\".concat(prefix, \"-\").concat(year, \"-\").concat(sequence);\n        attempt += 1;\n    }while (existingCodes.includes(code) && attempt < 25);\n    return code;\n}\nfunction createBookingPrefix(slug) {\n    const sanitized = slug.replace(/[^a-z0-9]/gi, \"\");\n    const prefix = sanitized.slice(0, 3).toUpperCase();\n    return prefix.padEnd(3, \"X\");\n}\nfunction normalizeEmail(email) {\n    return email.trim().toLowerCase();\n}\nfunction normalizePhone(phone) {\n    return phone ? phone.replace(/\\D/g, \"\") : \"\";\n}\nfunction buildTemplatesFromAvailability(catalog, staff, availability) {\n    return availability.map((entry)=>{\n        const service = catalog.flatMap((category)=>category.services).find((svc)=>svc.id === entry.serviceId);\n        return {\n            id: \"template_\".concat(entry.serviceId),\n            label: service ? \"\".concat(service.name, \" default\") : \"Default\",\n            serviceId: entry.serviceId,\n            serviceName: service ? service.name : \"Service\",\n            staffAssignments: entry.staff.map((assignment)=>{\n                const member = staff.find((staffMember)=>staffMember.id === assignment.staffId);\n                return {\n                    staffId: assignment.staffId,\n                    staffName: member ? member.name : \"Staff\",\n                    slots: assignment.slots.map((slot)=>({\n                            ...slot\n                        }))\n                };\n            })\n        };\n    });\n}\nfunction applyMoneyBoardAction(booking, action, policies, giftCards) {\n    switch(action){\n        case \"complete\":\n            return completeBooking(booking);\n        case \"no_show\":\n            return noShowBooking(booking, policies);\n        case \"cancel\":\n            return cancelBooking(booking, policies);\n        case \"refund\":\n            return refundBooking(booking, giftCards);\n        default:\n            return {\n                booking,\n                response: {\n                    booking,\n                    status: \"success\",\n                    message: \"No action taken.\"\n                },\n                shouldPersist: false\n            };\n    }\n}\nfunction completeBooking(booking) {\n    if (booking.status === \"captured\") {\n        return {\n            booking,\n            response: {\n                booking,\n                status: \"success\",\n                message: \"This booking is already captured.\"\n            },\n            shouldPersist: false\n        };\n    }\n    if (booking.requiresAction) {\n        return {\n            booking: {\n                ...booking,\n                status: \"requires_action\"\n            },\n            response: {\n                booking,\n                status: \"requires_action\",\n                message: \"Customer must complete authentication.\",\n                payLinkUrl: \"https://pay.stripe.com/pm/\".concat(booking.code.toLowerCase())\n            },\n            shouldPersist: false\n        };\n    }\n    const hasCapture = booking.payments.some((payment)=>payment.type === \"capture\");\n    if (hasCapture) {\n        return {\n            booking,\n            response: {\n                booking,\n                status: \"success\",\n                message: \"Capture already recorded.\"\n            },\n            shouldPersist: false\n        };\n    }\n    const captureAmount = booking.financials.listPriceCents - booking.financials.giftCardAmountCents;\n    const platformFee = Math.round(captureAmount * 0.01);\n    const stripeFee = Math.round(captureAmount * 0.029) + 30;\n    const capturePayment = {\n        id: \"pay_\".concat(crypto.randomUUID()),\n        bookingId: booking.id,\n        type: \"capture\",\n        amountCents: captureAmount,\n        status: \"captured\",\n        occurredAt: new Date().toISOString(),\n        notes: \"Captured from money board\"\n    };\n    const updatedBooking = {\n        ...booking,\n        status: \"captured\",\n        requiresAction: false,\n        payments: [\n            ...booking.payments,\n            capturePayment\n        ],\n        financials: {\n            ...booking.financials,\n            platformFeeCents: platformFee,\n            stripeFeeEstimateCents: stripeFee,\n            netPayoutCents: Math.max(captureAmount - platformFee - stripeFee, 0)\n        }\n    };\n    return {\n        booking: updatedBooking,\n        response: {\n            booking: updatedBooking,\n            status: \"success\",\n            message: \"Capture succeeded  funds en route to your Connect account.\"\n        },\n        shouldPersist: true\n    };\n}\nfunction noShowBooking(booking, policies) {\n    const fee = policies.noShowFeeType === \"percent\" ? Math.round(booking.financials.listPriceCents * policies.noShowFeeValue / 100) : Math.round(policies.noShowFeeValue * 100);\n    if (fee <= 0) {\n        const updatedBooking = {\n            ...booking,\n            status: \"no_show\",\n            payments: booking.payments,\n            financials: {\n                ...booking.financials,\n                platformFeeCents: 0,\n                stripeFeeEstimateCents: 0,\n                netPayoutCents: 0\n            }\n        };\n        return {\n            booking: updatedBooking,\n            response: {\n                booking: updatedBooking,\n                status: \"success\",\n                message: \"Marked as no-show with no charge.\"\n            },\n            shouldPersist: true\n        };\n    }\n    const platformFee = Math.round(fee * 0.01);\n    const stripeFee = Math.round(fee * 0.029) + 30;\n    const feePayment = {\n        id: \"pay_\".concat(crypto.randomUUID()),\n        bookingId: booking.id,\n        type: \"no_show_fee\",\n        amountCents: fee,\n        status: \"captured\",\n        occurredAt: new Date().toISOString(),\n        notes: \"No-show fee charged\"\n    };\n    const updatedBooking = {\n        ...booking,\n        status: \"no_show\",\n        requiresAction: false,\n        payments: [\n            ...booking.payments,\n            feePayment\n        ],\n        financials: {\n            ...booking.financials,\n            platformFeeCents: platformFee,\n            stripeFeeEstimateCents: stripeFee,\n            netPayoutCents: Math.max(fee - platformFee - stripeFee, 0)\n        }\n    };\n    return {\n        booking: updatedBooking,\n        response: {\n            booking: updatedBooking,\n            status: \"success\",\n            message: \"No-show fee captured.\"\n        },\n        shouldPersist: true\n    };\n}\nfunction cancelBooking(booking, policies) {\n    const fee = policies.cancellationFeeType === \"percent\" ? Math.round(booking.financials.listPriceCents * policies.cancellationFeeValue / 100) : Math.round(policies.cancellationFeeValue * 100);\n    if (fee <= 0) {\n        const updatedBooking = {\n            ...booking,\n            status: \"canceled\",\n            requiresAction: false,\n            financials: {\n                ...booking.financials,\n                platformFeeCents: 0,\n                stripeFeeEstimateCents: 0,\n                netPayoutCents: 0\n            }\n        };\n        return {\n            booking: updatedBooking,\n            response: {\n                booking: updatedBooking,\n                status: \"success\",\n                message: \"Booking canceled without charge.\"\n            },\n            shouldPersist: true\n        };\n    }\n    const platformFee = Math.round(fee * 0.01);\n    const stripeFee = Math.round(fee * 0.029) + 30;\n    const feePayment = {\n        id: \"pay_\".concat(crypto.randomUUID()),\n        bookingId: booking.id,\n        type: \"cancel_fee\",\n        amountCents: fee,\n        status: \"captured\",\n        occurredAt: new Date().toISOString(),\n        notes: \"Cancellation fee charged\"\n    };\n    const updatedBooking = {\n        ...booking,\n        status: \"canceled\",\n        requiresAction: false,\n        payments: [\n            ...booking.payments,\n            feePayment\n        ],\n        financials: {\n            ...booking.financials,\n            platformFeeCents: platformFee,\n            stripeFeeEstimateCents: stripeFee,\n            netPayoutCents: Math.max(fee - platformFee - stripeFee, 0)\n        }\n    };\n    return {\n        booking: updatedBooking,\n        response: {\n            booking: updatedBooking,\n            status: \"success\",\n            message: \"Cancellation fee captured.\"\n        },\n        shouldPersist: true\n    };\n}\nfunction refundBooking(booking, giftCards) {\n    const capturedAmount = booking.payments.filter((payment)=>payment.type !== \"authorization\" && payment.status === \"captured\").reduce((sum, payment)=>sum + payment.amountCents, 0);\n    if (capturedAmount <= 0) {\n        return {\n            booking,\n            response: {\n                booking,\n                status: \"success\",\n                message: \"No payment to refund.\"\n            },\n            shouldPersist: false\n        };\n    }\n    const refundPayment = {\n        id: \"pay_\".concat(crypto.randomUUID()),\n        bookingId: booking.id,\n        type: \"refund\",\n        amountCents: capturedAmount,\n        status: \"refunded\",\n        occurredAt: new Date().toISOString(),\n        notes: \"Refund processed from admin\"\n    };\n    const updatedBooking = {\n        ...booking,\n        status: \"refunded\",\n        requiresAction: false,\n        payments: [\n            ...booking.payments,\n            refundPayment\n        ],\n        financials: {\n            ...booking.financials,\n            platformFeeCents: 0,\n            stripeFeeEstimateCents: 0,\n            netPayoutCents: 0\n        }\n    };\n    let updatedGiftCards;\n    if (giftCards.config.enabled && giftCards.restoreBalanceOnRefund && booking.financials.giftCardAmountCents > 0) {\n        var _giftCards_ledger_;\n        var _giftCards_config_generatedCodes_, _giftCards_ledger__balanceAfterCents;\n        const restoreEntry = {\n            id: \"gcl_\".concat(crypto.randomUUID()),\n            code: (_giftCards_config_generatedCodes_ = giftCards.config.generatedCodes[0]) !== null && _giftCards_config_generatedCodes_ !== void 0 ? _giftCards_config_generatedCodes_ : \"WELCOME120\",\n            bookingCode: booking.code,\n            deltaCents: booking.financials.giftCardAmountCents,\n            balanceAfterCents: ((_giftCards_ledger__balanceAfterCents = (_giftCards_ledger_ = giftCards.ledger[0]) === null || _giftCards_ledger_ === void 0 ? void 0 : _giftCards_ledger_.balanceAfterCents) !== null && _giftCards_ledger__balanceAfterCents !== void 0 ? _giftCards_ledger__balanceAfterCents : 0) + booking.financials.giftCardAmountCents,\n            occurredAt: new Date().toISOString(),\n            reason: \"refunded\"\n        };\n        updatedGiftCards = {\n            ...giftCards,\n            ledger: [\n                ...giftCards.ledger,\n                restoreEntry\n            ]\n        };\n    }\n    return {\n        booking: updatedBooking,\n        response: {\n            booking: updatedBooking,\n            status: \"success\",\n            message: \"Refund issued. Gift card balance restored if applicable.\"\n        },\n        shouldPersist: true,\n        giftCards: updatedGiftCards\n    };\n}\nvar _c;\n$RefreshReg$(_c, \"FakeBusinessProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZmFrZS1idXNpbmVzcy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFK0I7QUFnQkE7QUFxRi9CLE1BQU1LLG9DQUFzQkwsZ0RBQW1CLENBQzdDTztBQUdLLFNBQVNDLHFCQUFxQixLQUEyQztRQUEzQyxFQUFFQyxRQUFRLEVBQWlDLEdBQTNDOztJQUNuQyxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR1gsMkNBQWMsQ0FBMkJPO0lBQ3pFLE1BQU0sQ0FBQ00sV0FBV0MsYUFBYSxHQUFHZCwyQ0FBYyxDQUFvQ087SUFDcEYsTUFBTSxDQUFDUSx3QkFBd0JDLDBCQUEwQixHQUFHaEIsMkNBQWMsQ0FBQztJQUUzRUEsNENBQWUsQ0FBQztRQUNkLElBQUksS0FBNkIsRUFBRSxFQUFPO1FBRTFDLDBDQUEwQztRQUMxQyxNQUFNa0IsbUJBQW1CO1lBQ3ZCLElBQUk7b0JBTUdDO2dCQUxMLHlDQUF5QztnQkFDekMsTUFBTSxFQUFFQyxrQkFBa0IsRUFBRSxHQUFHLE1BQU0sdU5BQU87Z0JBQzVDLE1BQU1DLFdBQVdEO2dCQUNqQixNQUFNLEVBQUVFLE1BQU0sRUFBRUgsT0FBTyxFQUFFLEVBQUUsR0FBRyxNQUFNRSxTQUFTRSxJQUFJLENBQUNDLFVBQVU7Z0JBRTVELElBQUksRUFBQ0wsb0JBQUFBLCtCQUFBQSxnQkFBQUEsUUFBU00sSUFBSSxjQUFiTixvQ0FBQUEsY0FBZU8sRUFBRSxHQUFFO29CQUN0Qix3Q0FBd0M7b0JBQ3hDViwwQkFBMEI7b0JBQzFCO2dCQUNGO2dCQUVBLCtFQUErRTtnQkFDL0Usa0VBQWtFO2dCQUNsRVcsUUFBUUMsR0FBRyxDQUFDO2dCQUVaWiwwQkFBMEI7WUFDNUIsRUFBRSxPQUFPYSxPQUFPO2dCQUNkRixRQUFRRyxJQUFJLENBQUMsa0RBQWtERDtnQkFDL0RiLDBCQUEwQjtZQUM1QjtRQUNGO1FBRUFFO0lBQ0YsR0FBRyxFQUFFO0lBRUwsZ0VBQWdFO0lBQ2hFLG9FQUFvRTtJ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QkMsd0JBQXdCO1lBQ3hCQyxnQkFBZ0I7UUFDbEI7SUFDRjtJQUVBLElBQUlNO0lBQ0osSUFDRTVHLFVBQVVnSCxNQUFNLENBQUNDLE9BQU8sSUFDeEJqSCxVQUFVdUssc0JBQXNCLElBQ2hDM0osUUFBUXVGLFVBQVUsQ0FBQzdCLG1CQUFtQixHQUFHLEdBQ3pDO1lBT0t0RTtZQUpHQSxtQ0FJSEE7UUFOTCxNQUFNd0ssZUFBZTtZQUNuQnBPLElBQUksT0FBMkIsT0FBcEI2SSxPQUFPQyxVQUFVO1lBQzVCSyxNQUFNdkYsQ0FBQUEsb0NBQUFBLFVBQVVnSCxNQUFNLENBQUNhLGNBQWMsQ0FBQyxFQUFFLGNBQWxDN0gsK0NBQUFBLG9DQUFzQztZQUM1Q3FGLGFBQWF6RSxRQUFRMkUsSUFBSTtZQUN6Qm9DLFlBQVkvRyxRQUFRdUYsVUFBVSxDQUFDN0IsbUJBQW1CO1lBQ2xEZ0QsbUJBQ0UsQ0FBQ3RILENBQUFBLHdDQUFBQSxxQkFBQUEsVUFBVW1ILE1BQU0sQ0FBQyxFQUFFLGNBQW5CbkgseUNBQUFBLG1CQUFxQnNILGlCQUFpQixjQUF0Q3RILGtEQUFBQSx1Q0FBMEMsS0FBS1ksUUFBUXVGLFVBQVUsQ0FBQzdCLG1CQUFtQjtZQUN4RnFCLFlBQVksSUFBSTVDLE9BQU9DLFdBQVc7WUFDbEM0RSxRQUFRO1FBQ1Y7UUFDQWhCLG1CQUFtQjtZQUNqQixHQUFHNUcsU0FBUztZQUNabUgsUUFBUTttQkFBSW5ILFVBQVVtSCxNQUFNO2dCQUFFcUQ7YUFBYTtRQUM3QztJQUNGO0lBRUEsT0FBTztRQUNMNUosU0FBU2dKO1FBQ1RwSixVQUFVO1lBQ1JJLFNBQVNnSjtZQUNUaEgsUUFBUTtZQUNSd0csU0FBUztRQUNYO1FBQ0FwSSxlQUFlO1FBQ2ZoQixXQUFXNEc7SUFDYjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvZmFrZS1idXNpbmVzcy50c3g/YTA0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7XG4gIERFVl9XT1JLU1BBQ0VfU0VFRCxcbiAgY3JlYXRlV29ya3NwYWNlRnJvbU9uYm9hcmRpbmcsXG4gIGRlcml2ZUN1c3RvbWVyc0Zyb21Cb29raW5ncyxcbiAgcmVjb21wdXRlQW5hbHl0aWNzLFxuICB0eXBlIEJvb2tpbmdBY3Rpb25SZXNwb25zZSxcbiAgdHlwZSBGYWtlQnVzaW5lc3NXb3Jrc3BhY2UsXG4gIHR5cGUgRmFrZUJvb2tpbmcsXG4gIHR5cGUgRmFrZUN1c3RvbWVyLFxuICB0eXBlIEZha2VCb29raW5nUG9saWN5Q29uc2VudCxcbiAgdHlwZSBHaWZ0Q2FyZExlZGdlckVudHJ5LFxuICB0eXBlIEdpZnRDYXJkUHJvZ3JhbVN0YXRlLFxuICB0eXBlIE1vbmV5Qm9hcmRBY3Rpb24sXG4gIHR5cGUgV29ya3NwYWNlU2VlZElucHV0XG59IGZyb20gXCJAL2xpYi9hZG1pbi13b3Jrc3BhY2VcIjtcbmltcG9ydCB0eXBlIHtcbiAgTm90aWZpY2F0aW9uVGVtcGxhdGUsXG4gIFBvbGljaWVzQ29uZmlnLFxuICBTZXJ2aWNlQXZhaWxhYmlsaXR5LFxuICBTZXJ2aWNlQ2F0ZWdvcnksXG4gIFN0YWZmTWVtYmVyXG59IGZyb20gXCJAL2xpYi9vbmJvYXJkaW5nLXR5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIEJ1c2luZXNzU3Vic2NyaXB0aW9uU3RhdHVzID0gXCJ0cmlhbFwiIHwgXCJhY3RpdmVcIiB8IFwicGF1c2VkXCIgfCBcImNhbmNlbGVkXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmFrZUJ1c2luZXNzIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzbHVnOiBzdHJpbmc7XG4gIGJvb2tpbmdVcmw6IHN0cmluZztcbiAgcHJldmlld1VybDogc3RyaW5nO1xuICBzdGF0dXM6IEJ1c2luZXNzU3Vic2NyaXB0aW9uU3RhdHVzO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdHJpYWxFbmRzQXQ/OiBzdHJpbmc7XG4gIG5leHRCaWxsRGF0ZT86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEZha2VCdXNpbmVzc0NvbnRleHRWYWx1ZSB7XG4gIGJ1c2luZXNzPzogRmFrZUJ1c2luZXNzO1xuICB3b3Jrc3BhY2U/OiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2U7XG4gIGNyZWF0ZUJ1c2luZXNzOiAoYnVzaW5lc3M6IEZha2VCdXNpbmVzcykgPT4gdm9pZDtcbiAgYm9vdHN0cmFwV29ya3NwYWNlOiAoc2VlZDogV29ya3NwYWNlU2VlZElucHV0KSA9PiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2UgfCB1bmRlZmluZWQ7XG4gIGxvYWRTZWVkQnVzaW5lc3M6IChcbiAgICBzZWVkPzogV29ya3NwYWNlU2VlZElucHV0LFxuICAgIG92ZXJyaWRlcz86IFBhcnRpYWw8RmFrZUJ1c2luZXNzPlxuICApID0+IHsgYnVzaW5lc3M6IEZha2VCdXNpbmVzczsgd29ya3NwYWNlOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2UgfTtcbiAgdXBkYXRlQnVzaW5lc3M6ICh1cGRhdGVzOiBQYXJ0aWFsPEZha2VCdXNpbmVzcz4pID0+IHZvaWQ7XG4gIHVwZGF0ZVdvcmtzcGFjZTogKFxuICAgIHVwZGF0ZXI6ICh3b3Jrc3BhY2U6IEZha2VCdXNpbmVzc1dvcmtzcGFjZSkgPT4gRmFrZUJ1c2luZXNzV29ya3NwYWNlXG4gICkgPT4gdm9pZDtcbiAgc2V0Q2F0YWxvZzogKGNhdGFsb2c6IFNlcnZpY2VDYXRlZ29yeVtdKSA9PiB2b2lkO1xuICBzZXRTdGFmZjogKHN0YWZmOiBTdGFmZk1lbWJlcltdKSA9PiB2b2lkO1xuICBzZXRBdmFpbGFiaWxpdHk6IChhdmFpbGFiaWxpdHk6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXSkgPT4gdm9pZDtcbiAgc2V0Tm90aWZpY2F0aW9uczogKHRlbXBsYXRlczogTm90aWZpY2F0aW9uVGVtcGxhdGVbXSkgPT4gdm9pZDtcbiAgc2V0UG9saWNpZXM6IChwb2xpY2llczogUG9saWNpZXNDb25maWcpID0+IHZvaWQ7XG4gIHNldEdpZnRDYXJkczogKHByb2dyYW06IEdpZnRDYXJkUHJvZ3JhbVN0YXRlKSA9PiB2b2lkO1xuICBzZXRQYXltZW50OiAoXG4gICAgdXBkYXRlcjogKFxuICAgICAgcGF5bWVudDogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicGF5bWVudFwiXVxuICAgICkgPT4gRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicGF5bWVudFwiXVxuICApID0+IHZvaWQ7XG4gIHNldElkZW50aXR5OiAoXG4gICAgdXBkYXRlcjogKFxuICAgICAgaWRlbnRpdHk6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcImlkZW50aXR5XCJdXG4gICAgKSA9PiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJpZGVudGl0eVwiXVxuICApID0+IHZvaWQ7XG4gIHBlcmZvcm1Cb29raW5nQWN0aW9uOiAoXG4gICAgYm9va2luZ0lkOiBzdHJpbmcsXG4gICAgYWN0aW9uOiBNb25leUJvYXJkQWN0aW9uXG4gICkgPT4gQm9va2luZ0FjdGlvblJlc3BvbnNlIHwgdW5kZWZpbmVkO1xuICBjb3B5QXZhaWxhYmlsaXR5VGVtcGxhdGU6ICh0ZW1wbGF0ZUlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHBhc3RlQXZhaWxhYmlsaXR5VGVtcGxhdGU6IChzZXJ2aWNlSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgY2xlYXJBdmFpbGFiaWxpdHlDbGlwYm9hcmQ6ICgpID0+IHZvaWQ7XG4gIHJlZnJlc2hBbmFseXRpY3M6ICgpID0+IHZvaWQ7XG4gIHJlY29yZFB1YmxpY0Jvb2tpbmc6IChwYXlsb2FkOiBQdWJsaWNCb29raW5nUGF5bG9hZCkgPT4gRmFrZUJvb2tpbmcgfCB1bmRlZmluZWQ7XG4gIGNsZWFyQnVzaW5lc3M6ICgpID0+IHZvaWQ7XG59XG5cbi8vIFJlbW92ZWQgU1RPUkFHRV9LRVkgLSBubyBsb2NhbFN0b3JhZ2UgdXNhZ2UsIGFsbCBkYXRhIGluIGRhdGFiYXNlXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHVibGljQm9va2luZ1BheWxvYWQge1xuICBzZXJ2aWNlSWQ6IHN0cmluZztcbiAgc3RhZmZJZD86IHN0cmluZyB8IG51bGw7XG4gIHN0YXJ0RGF0ZVRpbWU6IHN0cmluZztcbiAgZW5kRGF0ZVRpbWU6IHN0cmluZztcbiAgY3VzdG9tZXI6IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZW1haWw6IHN0cmluZztcbiAgICBwaG9uZT86IHN0cmluZztcbiAgfTtcbiAgY29uc2VudDogRmFrZUJvb2tpbmdQb2xpY3lDb25zZW50O1xuICBnaWZ0Q2FyZD86IHtcbiAgICBjb2RlOiBzdHJpbmc7XG4gICAgYW1vdW50Q2VudHM6IG51bWJlcjtcbiAgfTtcbiAgcGF5bWVudE1ldGhvZDogc3RyaW5nO1xuICByZXF1aXJlc0FjdGlvbj86IGJvb2xlYW47XG59XG5cbmNvbnN0IEZha2VCdXNpbmVzc0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PEZha2VCdXNpbmVzc0NvbnRleHRWYWx1ZSB8IHVuZGVmaW5lZD4oXG4gIHVuZGVmaW5lZFxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIEZha2VCdXNpbmVzc1Byb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgW2J1c2luZXNzLCBzZXRCdXNpbmVzc10gPSBSZWFjdC51c2VTdGF0ZTxGYWtlQnVzaW5lc3MgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIGNvbnN0IFt3b3Jrc3BhY2UsIHNldFdvcmtzcGFjZV0gPSBSZWFjdC51c2VTdGF0ZTxGYWtlQnVzaW5lc3NXb3Jrc3BhY2UgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIGNvbnN0IFtoYXNIeWRyYXRlZEZyb21TdG9yYWdlLCBzZXRIYXNIeWRyYXRlZEZyb21TdG9yYWdlXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhIGN1cnJlbnQgdXNlciBzZXNzaW9uXG4gICAgY29uc3QgY2hlY2tVc2VyQW5kTG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEdldCBjdXJyZW50IHVzZXIgZnJvbSBTdXBhYmFzZSBzZXNzaW9uXG4gICAgICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50Q2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJy4vc3VwYWJhc2UtY2xpZW50Jyk7XG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50Q2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFzZXNzaW9uPy51c2VyPy5pZCkge1xuICAgICAgICAgIC8vIE5vIHVzZXIgc2Vzc2lvbiAtIGRvbid0IGxvYWQgYW55IGRhdGFcbiAgICAgICAgICBzZXRIYXNIeWRyYXRlZEZyb21TdG9yYWdlKHRydWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQnVzaW5lc3MgZGF0YSBzaG91bGQgYmUgbG9hZGVkIGZyb20gZGF0YWJhc2UgdmlhIEFQSSBjYWxscywgbm90IGxvY2FsU3RvcmFnZVxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgcHJvcGVyIHVzZXIgaXNvbGF0aW9uIGFuZCBmcmVzaCBkYXRhIGZvciBlYWNoIHVzZXJcbiAgICAgICAgY29uc29sZS5sb2coJ1tGYWtlQnVzaW5lc3NQcm92aWRlcl0gVXNpbmcgZGF0YWJhc2Utb25seSBhcHByb2FjaCAtIG5vIGxvY2FsU3RvcmFnZScpO1xuICAgICAgICBcbiAgICAgICAgc2V0SGFzSHlkcmF0ZWRGcm9tU3RvcmFnZSh0cnVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIltGYWtlQnVzaW5lc3NQcm92aWRlcl0gRmFpbGVkIHRvIGNoZWNrIHNlc3Npb25cIiwgZXJyb3IpO1xuICAgICAgICBzZXRIYXNIeWRyYXRlZEZyb21TdG9yYWdlKHRydWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY2hlY2tVc2VyQW5kTG9hZCgpO1xuICB9LCBbXSk7XG5cbiAgLy8gTm8gbG9jYWxTdG9yYWdlIHBlcnNpc3RlbmNlIC0gZGF0YSBpcyBzdG9yZWQgaW4gZGF0YWJhc2Ugb25seVxuICAvLyBUaGlzIGVuc3VyZXMgcHJvcGVyIHVzZXIgaXNvbGF0aW9uIGFuZCBwcmV2ZW50cyBzdGFsZSBkYXRhIGlzc3Vlc1xuXG4gIGNvbnN0IGNyZWF0ZUJ1c2luZXNzID0gUmVhY3QudXNlQ2FsbGJhY2soKHBheWxvYWQ6IEZha2VCdXNpbmVzcykgPT4ge1xuICAgIHNldEJ1c2luZXNzKHBheWxvYWQpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgdXBkYXRlQnVzaW5lc3MgPSBSZWFjdC51c2VDYWxsYmFjaygodXBkYXRlczogUGFydGlhbDxGYWtlQnVzaW5lc3M+KSA9PiB7XG4gICAgc2V0QnVzaW5lc3MoKGV4aXN0aW5nKSA9PiAoZXhpc3RpbmcgPyB7IC4uLmV4aXN0aW5nLCAuLi51cGRhdGVzIH0gOiBleGlzdGluZykpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgYm9vdHN0cmFwV29ya3NwYWNlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHNlZWQ6IFdvcmtzcGFjZVNlZWRJbnB1dCk6IEZha2VCdXNpbmVzc1dvcmtzcGFjZSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICBjb25zdCB3b3Jrc3BhY2VTbmFwc2hvdCA9IGNyZWF0ZVdvcmtzcGFjZUZyb21PbmJvYXJkaW5nKHNlZWQpO1xuICAgICAgc2V0V29ya3NwYWNlKHdvcmtzcGFjZVNuYXBzaG90KTtcbiAgICAgIHJldHVybiB3b3Jrc3BhY2VTbmFwc2hvdDtcbiAgICB9LFxuICAgIFtdXG4gICk7XG5cbiAgY29uc3QgdXBkYXRlV29ya3NwYWNlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHVwZGF0ZXI6ICh3b3Jrc3BhY2U6IEZha2VCdXNpbmVzc1dvcmtzcGFjZSkgPT4gRmFrZUJ1c2luZXNzV29ya3NwYWNlKSA9PiB7XG4gICAgICBzZXRXb3Jrc3BhY2UoKGV4aXN0aW5nKSA9PiB7XG4gICAgICAgIGlmICghZXhpc3RpbmcpIHJldHVybiBleGlzdGluZztcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IHVwZGF0ZXIoZXhpc3RpbmcpO1xuICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW11cbiAgKTtcblxuICBjb25zdCBzZXRDYXRhbG9nID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGNhdGFsb2c6IFNlcnZpY2VDYXRlZ29yeVtdKSA9PiB7XG4gICAgICB1cGRhdGVXb3Jrc3BhY2UoKGV4aXN0aW5nKSA9PiAoe1xuICAgICAgICAuLi5leGlzdGluZyxcbiAgICAgICAgY2F0YWxvZyxcbiAgICAgICAgYXZhaWxhYmlsaXR5VGVtcGxhdGVzOiBleGlzdGluZy5hdmFpbGFiaWxpdHlUZW1wbGF0ZXMubWFwKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHNlcnZpY2UgPSBjYXRhbG9nXG4gICAgICAgICAgICAuZmxhdE1hcCgoY2F0ZWdvcnkpID0+IGNhdGVnb3J5LnNlcnZpY2VzKVxuICAgICAgICAgICAgLmZpbmQoKHNlcnZpY2UpID0+IHNlcnZpY2UuaWQgPT09IHRlbXBsYXRlLnNlcnZpY2VJZCk7XG4gICAgICAgICAgcmV0dXJuIHNlcnZpY2VcbiAgICAgICAgICAgID8geyAuLi50ZW1wbGF0ZSwgc2VydmljZU5hbWU6IHNlcnZpY2UubmFtZSB9XG4gICAgICAgICAgICA6IHRlbXBsYXRlO1xuICAgICAgICB9KSxcbiAgICAgICAgYXZhaWxhYmlsaXR5OiBleGlzdGluZy5hdmFpbGFiaWxpdHlcbiAgICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VydmljZSA9IGNhdGFsb2dcbiAgICAgICAgICAgICAgLmZsYXRNYXAoKGNhdGVnb3J5KSA9PiBjYXRlZ29yeS5zZXJ2aWNlcylcbiAgICAgICAgICAgICAgLmZpbmQoKHN2YykgPT4gc3ZjLmlkID09PSBlbnRyeS5zZXJ2aWNlSWQpO1xuICAgICAgICAgICAgaWYgKCFzZXJ2aWNlKSByZXR1cm4gZW50cnk7XG4gICAgICAgICAgICBjb25zdCBhc3NpZ25lZElkcyA9IG5ldyBTZXQoc2VydmljZS5zdGFmZklkcyk7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFN0YWZmID0gZW50cnkuc3RhZmYuZmlsdGVyKChzbG90KSA9PiBhc3NpZ25lZElkcy5oYXMoc2xvdC5zdGFmZklkKSk7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nU3RhZmYgPSBzZXJ2aWNlLnN0YWZmSWRzXG4gICAgICAgICAgICAgIC5maWx0ZXIoKGlkKSA9PiAhZmlsdGVyZWRTdGFmZi5zb21lKChzbG90KSA9PiBzbG90LnN0YWZmSWQgPT09IGlkKSlcbiAgICAgICAgICAgICAgLm1hcCgoaWQpID0+ICh7XG4gICAgICAgICAgICAgICAgc3RhZmZJZDogaWQsXG4gICAgICAgICAgICAgICAgc2xvdHM6IFtdXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgICAgICBzdGFmZjogWy4uLmZpbHRlcmVkU3RhZmYsIC4uLm1pc3NpbmdTdGFmZl1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmlsdGVyKChlbnRyeSkgPT5cbiAgICAgICAgICAgIGNhdGFsb2cuc29tZSgoY2F0ZWdvcnkpID0+IGNhdGVnb3J5LnNlcnZpY2VzLnNvbWUoKHN2YykgPT4gc3ZjLmlkID09PSBlbnRyeS5zZXJ2aWNlSWQpKVxuICAgICAgICAgIClcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFt1cGRhdGVXb3Jrc3BhY2VdXG4gICk7XG5cbiAgY29uc3Qgc2V0U3RhZmYgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoc3RhZmY6IFN0YWZmTWVtYmVyW10pID0+IHtcbiAgICAgIHVwZGF0ZVdvcmtzcGFjZSgoZXhpc3RpbmcpID0+ICh7XG4gICAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgICBzdGFmZixcbiAgICAgICAgYXZhaWxhYmlsaXR5VGVtcGxhdGVzOiBleGlzdGluZy5hdmFpbGFiaWxpdHlUZW1wbGF0ZXMubWFwKCh0ZW1wbGF0ZSkgPT4gKHtcbiAgICAgICAgICAuLi50ZW1wbGF0ZSxcbiAgICAgICAgICBzdGFmZkFzc2lnbm1lbnRzOiB0ZW1wbGF0ZS5zdGFmZkFzc2lnbm1lbnRzLm1hcCgoYXNzaWdubWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVtYmVyID0gc3RhZmYuZmluZCgoc3RhZmZNZW1iZXIpID0+IHN0YWZmTWVtYmVyLmlkID09PSBhc3NpZ25tZW50LnN0YWZmSWQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uYXNzaWdubWVudCxcbiAgICAgICAgICAgICAgc3RhZmZOYW1lOiBtZW1iZXIgPyBtZW1iZXIubmFtZSA6IGFzc2lnbm1lbnQuc3RhZmZOYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pKSxcbiAgICAgICAgYXZhaWxhYmlsaXR5OiBleGlzdGluZy5hdmFpbGFiaWxpdHkubWFwKChlbnRyeSkgPT4gKHtcbiAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICBzdGFmZjogZW50cnkuc3RhZmYuZmlsdGVyKChhc3NpZ25tZW50KSA9PlxuICAgICAgICAgICAgc3RhZmYuc29tZSgobWVtYmVyKSA9PiBtZW1iZXIuaWQgPT09IGFzc2lnbm1lbnQuc3RhZmZJZClcbiAgICAgICAgICApXG4gICAgICAgIH0pKVxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgW3VwZGF0ZVdvcmtzcGFjZV1cbiAgKTtcblxuICBjb25zdCBzZXRBdmFpbGFiaWxpdHkgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoYXZhaWxhYmlsaXR5OiBTZXJ2aWNlQXZhaWxhYmlsaXR5W10pID0+IHtcbiAgICAgIHVwZGF0ZVdvcmtzcGFjZSgoZXhpc3RpbmcpID0+ICh7XG4gICAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgICBhdmFpbGFiaWxpdHksXG4gICAgICAgIGF2YWlsYWJpbGl0eVRlbXBsYXRlczogYnVpbGRUZW1wbGF0ZXNGcm9tQXZhaWxhYmlsaXR5KFxuICAgICAgICAgIGV4aXN0aW5nLmNhdGFsb2csXG4gICAgICAgICAgZXhpc3Rpbmcuc3RhZmYsXG4gICAgICAgICAgYXZhaWxhYmlsaXR5XG4gICAgICAgIClcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFt1cGRhdGVXb3Jrc3BhY2VdXG4gICk7XG5cbiAgY29uc3Qgc2V0Tm90aWZpY2F0aW9ucyA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICh0ZW1wbGF0ZXM6IE5vdGlmaWNhdGlvblRlbXBsYXRlW10pID0+IHtcbiAgICAgIHVwZGF0ZVdvcmtzcGFjZSgoZXhpc3RpbmcpID0+ICh7XG4gICAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgICBub3RpZmljYXRpb25zOiB0ZW1wbGF0ZXNcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFt1cGRhdGVXb3Jrc3BhY2VdXG4gICk7XG5cbiAgY29uc3Qgc2V0UG9saWNpZXMgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAocG9saWNpZXM6IFBvbGljaWVzQ29uZmlnKSA9PiB7XG4gICAgICB1cGRhdGVXb3Jrc3BhY2UoKGV4aXN0aW5nKSA9PiAoe1xuICAgICAgICAuLi5leGlzdGluZyxcbiAgICAgICAgcG9saWNpZXNcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFt1cGRhdGVXb3Jrc3BhY2VdXG4gICk7XG5cbiAgY29uc3Qgc2V0R2lmdENhcmRzID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHByb2dyYW06IEdpZnRDYXJkUHJvZ3JhbVN0YXRlKSA9PiB7XG4gICAgICB1cGRhdGVXb3Jrc3BhY2UoKGV4aXN0aW5nKSA9PiAoe1xuICAgICAgICAuLi5leGlzdGluZyxcbiAgICAgICAgZ2lmdENhcmRzOiBwcm9ncmFtXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbdXBkYXRlV29ya3NwYWNlXVxuICApO1xuXG4gIGNvbnN0IHNldFBheW1lbnQgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAodXBkYXRlcjogKHBheW1lbnQ6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInBheW1lbnRcIl0pID0+IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInBheW1lbnRcIl0pID0+IHtcbiAgICAgIHVwZGF0ZVdvcmtzcGFjZSgoZXhpc3RpbmcpID0+ICh7XG4gICAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgICBwYXltZW50OiB1cGRhdGVyKGV4aXN0aW5nLnBheW1lbnQpXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbdXBkYXRlV29ya3NwYWNlXVxuICApO1xuXG4gIGNvbnN0IHNldElkZW50aXR5ID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKFxuICAgICAgdXBkYXRlcjogKFxuICAgICAgICBpZGVudGl0eTogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wiaWRlbnRpdHlcIl1cbiAgICAgICkgPT4gRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wiaWRlbnRpdHlcIl1cbiAgICApID0+IHtcbiAgICAgIHVwZGF0ZVdvcmtzcGFjZSgoZXhpc3RpbmcpID0+ICh7XG4gICAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgICBpZGVudGl0eTogdXBkYXRlcihleGlzdGluZy5pZGVudGl0eSlcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFt1cGRhdGVXb3Jrc3BhY2VdXG4gICk7XG5cbiAgY29uc3QgcGVyZm9ybUJvb2tpbmdBY3Rpb24gPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoYm9va2luZ0lkOiBzdHJpbmcsIGFjdGlvbjogTW9uZXlCb2FyZEFjdGlvbikgPT4ge1xuICAgICAgbGV0IHJlc3BvbnNlOiBCb29raW5nQWN0aW9uUmVzcG9uc2UgfCB1bmRlZmluZWQ7XG4gICAgICBzZXRXb3Jrc3BhY2UoKGV4aXN0aW5nKSA9PiB7XG4gICAgICAgIGlmICghZXhpc3RpbmcpIHJldHVybiBleGlzdGluZztcbiAgICAgICAgY29uc3QgaW5kZXggPSBleGlzdGluZy5ib29raW5ncy5maW5kSW5kZXgoKGJvb2tpbmcpID0+IGJvb2tpbmcuaWQgPT09IGJvb2tpbmdJZCk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBleGlzdGluZztcblxuICAgICAgICBjb25zdCB0YXJnZXRCb29raW5nID0gZXhpc3RpbmcuYm9va2luZ3NbaW5kZXhdO1xuICAgICAgICBjb25zdCBhY3Rpb25SZXN1bHQgPSBhcHBseU1vbmV5Qm9hcmRBY3Rpb24oXG4gICAgICAgICAgdGFyZ2V0Qm9va2luZyxcbiAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgZXhpc3RpbmcucG9saWNpZXMsXG4gICAgICAgICAgZXhpc3RpbmcuZ2lmdENhcmRzXG4gICAgICAgICk7XG5cbiAgICAgICAgcmVzcG9uc2UgPSBhY3Rpb25SZXN1bHQucmVzcG9uc2U7XG4gICAgICAgIGlmICghYWN0aW9uUmVzdWx0LnNob3VsZFBlcnNpc3QpIHtcbiAgICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1cGRhdGVkQm9va2luZ3MgPSBbLi4uZXhpc3RpbmcuYm9va2luZ3NdO1xuICAgICAgICB1cGRhdGVkQm9va2luZ3NbaW5kZXhdID0gYWN0aW9uUmVzdWx0LmJvb2tpbmc7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlZFdvcmtzcGFjZTogRmFrZUJ1c2luZXNzV29ya3NwYWNlID0ge1xuICAgICAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgICAgIGJvb2tpbmdzOiB1cGRhdGVkQm9va2luZ3MsXG4gICAgICAgICAgY3VzdG9tZXJzOiBkZXJpdmVDdXN0b21lcnNGcm9tQm9va2luZ3ModXBkYXRlZEJvb2tpbmdzKSxcbiAgICAgICAgICBhbmFseXRpY3M6IHJlY29tcHV0ZUFuYWx5dGljcyh1cGRhdGVkQm9va2luZ3MpLFxuICAgICAgICAgIGdpZnRDYXJkczogYWN0aW9uUmVzdWx0LmdpZnRDYXJkcyA/PyBleGlzdGluZy5naWZ0Q2FyZHNcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdXBkYXRlZFdvcmtzcGFjZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0sXG4gICAgW11cbiAgKTtcblxuICBjb25zdCByZWNvcmRQdWJsaWNCb29raW5nID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHBheWxvYWQ6IFB1YmxpY0Jvb2tpbmdQYXlsb2FkKSA9PiB7XG4gICAgICBpZiAoIWJ1c2luZXNzKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgbGV0IGNyZWF0ZWRCb29raW5nOiBGYWtlQm9va2luZyB8IHVuZGVmaW5lZDtcbiAgICAgIHNldFdvcmtzcGFjZSgoZXhpc3RpbmcpID0+IHtcbiAgICAgICAgaWYgKCFleGlzdGluZykgcmV0dXJuIGV4aXN0aW5nO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGVCb29raW5nRnJvbVB1YmxpY0Zsb3coXG4gICAgICAgICAgYnVzaW5lc3MsXG4gICAgICAgICAgZXhpc3RpbmcsXG4gICAgICAgICAgcGF5bG9hZFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXJlc3VsdCkgcmV0dXJuIGV4aXN0aW5nO1xuICAgICAgICBjcmVhdGVkQm9va2luZyA9IHJlc3VsdC5ib29raW5nO1xuICAgICAgICByZXR1cm4gcmVzdWx0LndvcmtzcGFjZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNyZWF0ZWRCb29raW5nO1xuICAgIH0sXG4gICAgW2J1c2luZXNzXVxuICApO1xuXG4gIGNvbnN0IGNvcHlBdmFpbGFiaWxpdHlUZW1wbGF0ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCh0ZW1wbGF0ZUlkOiBzdHJpbmcpID0+IHtcbiAgICB1cGRhdGVXb3Jrc3BhY2UoKGV4aXN0aW5nKSA9PiB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGV4aXN0aW5nLmF2YWlsYWJpbGl0eVRlbXBsYXRlcy5maW5kKChlbnRyeSkgPT4gZW50cnkuaWQgPT09IHRlbXBsYXRlSWQpO1xuICAgICAgcmV0dXJuIHRlbXBsYXRlXG4gICAgICAgID8ge1xuICAgICAgICAgICAgLi4uZXhpc3RpbmcsXG4gICAgICAgICAgICBhdmFpbGFiaWxpdHlDbGlwYm9hcmQ6IHtcbiAgICAgICAgICAgICAgLi4udGVtcGxhdGUsXG4gICAgICAgICAgICAgIHN0YWZmQXNzaWdubWVudHM6IHRlbXBsYXRlLnN0YWZmQXNzaWdubWVudHMubWFwKChhc3NpZ25tZW50KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLmFzc2lnbm1lbnQsXG4gICAgICAgICAgICAgICAgc2xvdHM6IGFzc2lnbm1lbnQuc2xvdHMubWFwKChzbG90KSA9PiAoeyAuLi5zbG90IH0pKVxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIDogZXhpc3Rpbmc7XG4gICAgfSk7XG4gIH0sIFt1cGRhdGVXb3Jrc3BhY2VdKTtcblxuICBjb25zdCBwYXN0ZUF2YWlsYWJpbGl0eVRlbXBsYXRlID0gUmVhY3QudXNlQ2FsbGJhY2soKHNlcnZpY2VJZDogc3RyaW5nKSA9PiB7XG4gICAgdXBkYXRlV29ya3NwYWNlKChleGlzdGluZykgPT4ge1xuICAgICAgaWYgKCFleGlzdGluZy5hdmFpbGFiaWxpdHlDbGlwYm9hcmQpIHJldHVybiBleGlzdGluZztcbiAgICAgIGNvbnN0IGNsaXBib2FyZCA9IGV4aXN0aW5nLmF2YWlsYWJpbGl0eUNsaXBib2FyZDtcbiAgICAgIGNvbnN0IG5ld0F2YWlsYWJpbGl0eSA9IGV4aXN0aW5nLmF2YWlsYWJpbGl0eS5tYXAoKGVudHJ5KSA9PlxuICAgICAgICBlbnRyeS5zZXJ2aWNlSWQgPT09IHNlcnZpY2VJZFxuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICBzZXJ2aWNlSWQsXG4gICAgICAgICAgICAgIHN0YWZmOiBjbGlwYm9hcmQuc3RhZmZBc3NpZ25tZW50cy5tYXAoKGFzc2lnbm1lbnQpID0+ICh7XG4gICAgICAgICAgICAgICAgc3RhZmZJZDogYXNzaWdubWVudC5zdGFmZklkLFxuICAgICAgICAgICAgICAgIHNsb3RzOiBhc3NpZ25tZW50LnNsb3RzLm1hcCgoc2xvdCkgPT4gKHsgLi4uc2xvdCB9KSlcbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiBlbnRyeVxuICAgICAgKTtcblxuICAgICAgY29uc3QgbmV3VGVtcGxhdGVzID0gZXhpc3RpbmcuYXZhaWxhYmlsaXR5VGVtcGxhdGVzLnNvbWUoXG4gICAgICAgICh0ZW1wbGF0ZSkgPT4gdGVtcGxhdGUuc2VydmljZUlkID09PSBzZXJ2aWNlSWRcbiAgICAgIClcbiAgICAgICAgPyBleGlzdGluZy5hdmFpbGFiaWxpdHlUZW1wbGF0ZXMubWFwKCh0ZW1wbGF0ZSkgPT5cbiAgICAgICAgICAgIHRlbXBsYXRlLnNlcnZpY2VJZCA9PT0gc2VydmljZUlkXG4gICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgLi4uY2xpcGJvYXJkLFxuICAgICAgICAgICAgICAgICAgaWQ6IHRlbXBsYXRlLmlkLFxuICAgICAgICAgICAgICAgICAgc2VydmljZUlkLFxuICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU6IGNsaXBib2FyZC5zZXJ2aWNlTmFtZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiB0ZW1wbGF0ZVxuICAgICAgICAgIClcbiAgICAgICAgOiBbXG4gICAgICAgICAgICAuLi5leGlzdGluZy5hdmFpbGFiaWxpdHlUZW1wbGF0ZXMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC4uLmNsaXBib2FyZCxcbiAgICAgICAgICAgICAgaWQ6IGB0ZW1wbGF0ZV8ke3NlcnZpY2VJZH1gLFxuICAgICAgICAgICAgICBzZXJ2aWNlSWQsXG4gICAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBjbGlwYm9hcmQuc2VydmljZU5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5leGlzdGluZyxcbiAgICAgICAgYXZhaWxhYmlsaXR5OiBuZXdBdmFpbGFiaWxpdHksXG4gICAgICAgIGF2YWlsYWJpbGl0eVRlbXBsYXRlczogbmV3VGVtcGxhdGVzXG4gICAgICB9O1xuICAgIH0pO1xuICB9LCBbdXBkYXRlV29ya3NwYWNlXSk7XG5cbiAgY29uc3QgY2xlYXJBdmFpbGFiaWxpdHlDbGlwYm9hcmQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgdXBkYXRlV29ya3NwYWNlKChleGlzdGluZykgPT4gKHtcbiAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgYXZhaWxhYmlsaXR5Q2xpcGJvYXJkOiBudWxsXG4gICAgfSkpO1xuICB9LCBbdXBkYXRlV29ya3NwYWNlXSk7XG5cbiAgY29uc3QgcmVmcmVzaEFuYWx5dGljcyA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICB1cGRhdGVXb3Jrc3BhY2UoKGV4aXN0aW5nKSA9PiAoe1xuICAgICAgLi4uZXhpc3RpbmcsXG4gICAgICBhbmFseXRpY3M6IHJlY29tcHV0ZUFuYWx5dGljcyhleGlzdGluZy5ib29raW5ncyksXG4gICAgICBjdXN0b21lcnM6IGRlcml2ZUN1c3RvbWVyc0Zyb21Cb29raW5ncyhleGlzdGluZy5ib29raW5ncylcbiAgICB9KSk7XG4gIH0sIFt1cGRhdGVXb3Jrc3BhY2VdKTtcblxuICBjb25zdCBsb2FkU2VlZEJ1c2luZXNzID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKFxuICAgICAgc2VlZDogV29ya3NwYWNlU2VlZElucHV0ID0gREVWX1dPUktTUEFDRV9TRUVELFxuICAgICAgb3ZlcnJpZGVzPzogUGFydGlhbDxGYWtlQnVzaW5lc3M+XG4gICAgKSA9PiB7XG4gICAgICBjb25zdCBzbHVnID0gKG92ZXJyaWRlcz8uc2x1ZyA/PyBzZWVkLndlYnNpdGUuc3ViZG9tYWluID8/IFwicHJldmlld1wiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgYm9va2luZ1VybCA9IG92ZXJyaWRlcz8uYm9va2luZ1VybCA/PyBgaHR0cHM6Ly8ke3NsdWd9LnRpdGhpLmNvbWA7XG4gICAgICBjb25zdCBwcmV2aWV3VXJsID0gb3ZlcnJpZGVzPy5wcmV2aWV3VXJsID8/IGAvcHVibGljLyR7c2x1Z31gO1xuICAgICAgY29uc3QgYnVzaW5lc3NQYXlsb2FkOiBGYWtlQnVzaW5lc3MgPSB7XG4gICAgICAgIGlkOiBvdmVycmlkZXM/LmlkID8/IGBiaXpfJHtzbHVnfWAsXG4gICAgICAgIG5hbWU6IG92ZXJyaWRlcz8ubmFtZSA/PyBzZWVkLmJ1c2luZXNzLmJ1c2luZXNzTmFtZSxcbiAgICAgICAgc2x1ZyxcbiAgICAgICAgYm9va2luZ1VybCxcbiAgICAgICAgcHJldmlld1VybCxcbiAgICAgICAgc3RhdHVzOiBvdmVycmlkZXM/LnN0YXR1cyA/PyBzZWVkLnBheW1lbnQuc3Vic2NyaXB0aW9uU3RhdHVzLFxuICAgICAgICBjcmVhdGVkQXQ6IG92ZXJyaWRlcz8uY3JlYXRlZEF0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdHJpYWxFbmRzQXQ6IG92ZXJyaWRlcz8udHJpYWxFbmRzQXQgPz8gc2VlZC5wYXltZW50LnRyaWFsRW5kc0F0LFxuICAgICAgICBuZXh0QmlsbERhdGU6IG92ZXJyaWRlcz8ubmV4dEJpbGxEYXRlID8/IHNlZWQucGF5bWVudC5uZXh0QmlsbERhdGVcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHdvcmtzcGFjZVNuYXBzaG90ID0gY3JlYXRlV29ya3NwYWNlRnJvbU9uYm9hcmRpbmcoc2VlZCk7XG5cbiAgICAgIGxldCByZXNvbHZlZEJ1c2luZXNzID0gYnVzaW5lc3NQYXlsb2FkO1xuICAgICAgc2V0QnVzaW5lc3MoKGV4aXN0aW5nKSA9PiB7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgIHJlc29sdmVkQnVzaW5lc3MgPSBleGlzdGluZztcbiAgICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZWRCdXNpbmVzcyA9IGJ1c2luZXNzUGF5bG9hZDtcbiAgICAgICAgcmV0dXJuIGJ1c2luZXNzUGF5bG9hZDtcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgcmVzb2x2ZWRXb3Jrc3BhY2UgPSB3b3Jrc3BhY2VTbmFwc2hvdDtcbiAgICAgIHNldFdvcmtzcGFjZSgoZXhpc3RpbmcpID0+IHtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgcmVzb2x2ZWRXb3Jrc3BhY2UgPSBleGlzdGluZztcbiAgICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZWRXb3Jrc3BhY2UgPSB3b3Jrc3BhY2VTbmFwc2hvdDtcbiAgICAgICAgcmV0dXJuIHdvcmtzcGFjZVNuYXBzaG90O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7IGJ1c2luZXNzOiByZXNvbHZlZEJ1c2luZXNzLCB3b3Jrc3BhY2U6IHJlc29sdmVkV29ya3NwYWNlIH07XG4gICAgfSxcbiAgICBbXVxuICApO1xuXG4gIGNvbnN0IGNsZWFyQnVzaW5lc3MgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0QnVzaW5lc3ModW5kZWZpbmVkKTtcbiAgICBzZXRXb3Jrc3BhY2UodW5kZWZpbmVkKTtcbiAgICAvLyBCdXNpbmVzcyBkYXRhIGlzIGluIGRhdGFiYXNlLCBubyBsb2NhbFN0b3JhZ2UgdG8gY2xlYXJcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHZhbHVlID0gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgYnVzaW5lc3MsXG4gICAgICB3b3Jrc3BhY2UsXG4gICAgICBjcmVhdGVCdXNpbmVzcyxcbiAgICAgIGJvb3RzdHJhcFdvcmtzcGFjZSxcbiAgICAgIGxvYWRTZWVkQnVzaW5lc3MsXG4gICAgICB1cGRhdGVCdXNpbmVzcyxcbiAgICAgIHVwZGF0ZVdvcmtzcGFjZSxcbiAgICAgIHNldENhdGFsb2csXG4gICAgICBzZXRTdGFmZixcbiAgICAgIHNldEF2YWlsYWJpbGl0eSxcbiAgICAgIHNldE5vdGlmaWNhdGlvbnMsXG4gICAgICBzZXRQb2xpY2llcyxcbiAgICAgIHNldEdpZnRDYXJkcyxcbiAgICAgIHNldFBheW1lbnQsXG4gICAgICBzZXRJZGVudGl0eSxcbiAgICAgIHBlcmZvcm1Cb29raW5nQWN0aW9uLFxuICAgICAgY29weUF2YWlsYWJpbGl0eVRlbXBsYXRlLFxuICAgICAgcGFzdGVBdmFpbGFiaWxpdHlUZW1wbGF0ZSxcbiAgICAgIGNsZWFyQXZhaWxhYmlsaXR5Q2xpcGJvYXJkLFxuICAgICAgcmVmcmVzaEFuYWx5dGljcyxcbiAgICAgIHJlY29yZFB1YmxpY0Jvb2tpbmcsXG4gICAgICBjbGVhckJ1c2luZXNzXG4gICAgfSksXG4gICAgW1xuICAgICAgYnVzaW5lc3MsXG4gICAgICB3b3Jrc3BhY2UsXG4gICAgICBjcmVhdGVCdXNpbmVzcyxcbiAgICAgIGJvb3RzdHJhcFdvcmtzcGFjZSxcbiAgICAgIGxvYWRTZWVkQnVzaW5lc3MsXG4gICAgICB1cGRhdGVCdXNpbmVzcyxcbiAgICAgIHVwZGF0ZVdvcmtzcGFjZSxcbiAgICAgIHNldENhdGFsb2csXG4gICAgICBzZXRTdGFmZixcbiAgICAgIHNldEF2YWlsYWJpbGl0eSxcbiAgICAgIHNldE5vdGlmaWNhdGlvbnMsXG4gICAgICBzZXRQb2xpY2llcyxcbiAgICAgIHNldEdpZnRDYXJkcyxcbiAgICAgIHNldFBheW1lbnQsXG4gICAgICBzZXRJZGVudGl0eSxcbiAgICAgIHBlcmZvcm1Cb29raW5nQWN0aW9uLFxuICAgICAgY29weUF2YWlsYWJpbGl0eVRlbXBsYXRlLFxuICAgICAgcGFzdGVBdmFpbGFiaWxpdHlUZW1wbGF0ZSxcbiAgICAgIGNsZWFyQXZhaWxhYmlsaXR5Q2xpcGJvYXJkLFxuICAgICAgcmVmcmVzaEFuYWx5dGljcyxcbiAgICAgIHJlY29yZFB1YmxpY0Jvb2tpbmcsXG4gICAgICBjbGVhckJ1c2luZXNzXG4gICAgXVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPEZha2VCdXNpbmVzc0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9GYWtlQnVzaW5lc3NDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlRmFrZUJ1c2luZXNzKCkge1xuICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChGYWtlQnVzaW5lc3NDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlRmFrZUJ1c2luZXNzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBGYWtlQnVzaW5lc3NQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQm9va2luZ0Zyb21QdWJsaWNGbG93KFxuICBidXNpbmVzczogRmFrZUJ1c2luZXNzLFxuICB3b3Jrc3BhY2U6IEZha2VCdXNpbmVzc1dvcmtzcGFjZSxcbiAgcGF5bG9hZDogUHVibGljQm9va2luZ1BheWxvYWRcbik6IHsgYm9va2luZzogRmFrZUJvb2tpbmc7IHdvcmtzcGFjZTogRmFrZUJ1c2luZXNzV29ya3NwYWNlIH0gfCB1bmRlZmluZWQge1xuICBjb25zdCBzZXJ2aWNlUmVzdWx0ID0gZmluZFNlcnZpY2VJbkNhdGFsb2cod29ya3NwYWNlLmNhdGFsb2csIHBheWxvYWQuc2VydmljZUlkKTtcbiAgaWYgKCFzZXJ2aWNlUmVzdWx0KSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IHsgc2VydmljZSwgY2F0ZWdvcnkgfSA9IHNlcnZpY2VSZXN1bHQ7XG4gIGNvbnN0IHN0YWZmTWVtYmVyID0gcGF5bG9hZC5zdGFmZklkXG4gICAgPyB3b3Jrc3BhY2Uuc3RhZmYuZmluZCgobWVtYmVyKSA9PiBtZW1iZXIuaWQgPT09IHBheWxvYWQuc3RhZmZJZClcbiAgICA6IG51bGw7XG5cbiAgY29uc3QgbGlzdFByaWNlQ2VudHMgPSBNYXRoLm1heChzZXJ2aWNlLnByaWNlQ2VudHMsIDApO1xuICBjb25zdCByZXF1ZXN0ZWRHaWZ0Q2FyZENlbnRzID0gTWF0aC5tYXgocGF5bG9hZC5naWZ0Q2FyZD8uYW1vdW50Q2VudHMgPz8gMCwgMCk7XG4gIGNvbnN0IGdpZnRDYXJkQW1vdW50Q2VudHMgPSBNYXRoLm1pbihyZXF1ZXN0ZWRHaWZ0Q2FyZENlbnRzLCBsaXN0UHJpY2VDZW50cyk7XG4gIGNvbnN0IGF1dGhvcml6YXRpb25BbW91bnRDZW50cyA9IE1hdGgubWF4KGxpc3RQcmljZUNlbnRzIC0gZ2lmdENhcmRBbW91bnRDZW50cywgMCk7XG5cbiAgY29uc3Qgbm9ybWFsaXplZEVtYWlsID0gbm9ybWFsaXplRW1haWwocGF5bG9hZC5jdXN0b21lci5lbWFpbCk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRQaG9uZSA9IHBheWxvYWQuY3VzdG9tZXIucGhvbmUgPyBub3JtYWxpemVQaG9uZShwYXlsb2FkLmN1c3RvbWVyLnBob25lKSA6IHVuZGVmaW5lZDtcblxuICBjb25zdCBleGlzdGluZ0N1c3RvbWVyID1cbiAgICB3b3Jrc3BhY2UuY3VzdG9tZXJzLmZpbmQoKGN1c3RvbWVyKSA9PiBub3JtYWxpemVFbWFpbChjdXN0b21lci5lbWFpbCkgPT09IG5vcm1hbGl6ZWRFbWFpbCkgPz9cbiAgICAobm9ybWFsaXplZFBob25lXG4gICAgICA/IHdvcmtzcGFjZS5jdXN0b21lcnMuZmluZChcbiAgICAgICAgICAoY3VzdG9tZXIpID0+IGN1c3RvbWVyLnBob25lICYmIG5vcm1hbGl6ZVBob25lKGN1c3RvbWVyLnBob25lKSA9PT0gbm9ybWFsaXplZFBob25lXG4gICAgICAgIClcbiAgICAgIDogdW5kZWZpbmVkKTtcblxuICBjb25zdCBjdXN0b21lcjogRmFrZUN1c3RvbWVyID0gZXhpc3RpbmdDdXN0b21lclxuICAgID8ge1xuICAgICAgICAuLi5leGlzdGluZ0N1c3RvbWVyLFxuICAgICAgICBuYW1lOiBwYXlsb2FkLmN1c3RvbWVyLm5hbWUsXG4gICAgICAgIHBob25lOiBwYXlsb2FkLmN1c3RvbWVyLnBob25lID8/IGV4aXN0aW5nQ3VzdG9tZXIucGhvbmVcbiAgICAgIH1cbiAgICA6IHtcbiAgICAgICAgaWQ6IGBjdXN0XyR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gLFxuICAgICAgICBuYW1lOiBwYXlsb2FkLmN1c3RvbWVyLm5hbWUsXG4gICAgICAgIGVtYWlsOiBwYXlsb2FkLmN1c3RvbWVyLmVtYWlsLFxuICAgICAgICBwaG9uZTogcGF5bG9hZC5jdXN0b21lci5waG9uZSxcbiAgICAgICAgY3JlYXRlZEF0OiBwYXlsb2FkLmNvbnNlbnQuYWNjZXB0ZWRBdCA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG5cbiAgY29uc3QgYm9va2luZ0NvZGUgPSBnZW5lcmF0ZUJvb2tpbmdDb2RlKFxuICAgIGJ1c2luZXNzLnNsdWcsXG4gICAgd29ya3NwYWNlLmJvb2tpbmdzLm1hcCgoYm9va2luZykgPT4gYm9va2luZy5jb2RlKVxuICApO1xuXG4gIGNvbnN0IGF1dGhvcml6YXRpb25QYXltZW50OiBGYWtlQm9va2luZ1tcInBheW1lbnRzXCJdW251bWJlcl0gPSB7XG4gICAgaWQ6IGBwYXlfJHtjcnlwdG8ucmFuZG9tVVVJRCgpfWAsXG4gICAgYm9va2luZ0lkOiBgYm9va2luZ18ke2Jvb2tpbmdDb2RlfWAsXG4gICAgdHlwZTogXCJhdXRob3JpemF0aW9uXCIsXG4gICAgYW1vdW50Q2VudHM6IGF1dGhvcml6YXRpb25BbW91bnRDZW50cyxcbiAgICBzdGF0dXM6IHBheWxvYWQucmVxdWlyZXNBY3Rpb24gPyBcInJlcXVpcmVzX2FjdGlvblwiIDogXCJhdXRob3JpemVkXCIsXG4gICAgb2NjdXJyZWRBdDogcGF5bG9hZC5zdGFydERhdGVUaW1lLFxuICAgIG5vdGVzOiBcIkNhcmQgc2F2ZWQgc2VjdXJlbHkgZm9yIG1hbnVhbCBjYXB0dXJlXCJcbiAgfTtcblxuICBjb25zdCBib29raW5nOiBGYWtlQm9va2luZyA9IHtcbiAgICBpZDogYGJvb2tpbmdfJHtib29raW5nQ29kZX1gLFxuICAgIGNvZGU6IGJvb2tpbmdDb2RlLFxuICAgIHN0YXR1czogcGF5bG9hZC5yZXF1aXJlc0FjdGlvbiA/IFwicmVxdWlyZXNfYWN0aW9uXCIgOiBcImF1dGhvcml6ZWRcIixcbiAgICBzZXJ2aWNlSWQ6IHNlcnZpY2UuaWQsXG4gICAgc2VydmljZU5hbWU6IHNlcnZpY2UubmFtZSxcbiAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5Lm5hbWUsXG4gICAgZHVyYXRpb25NaW51dGVzOiBzZXJ2aWNlLmR1cmF0aW9uTWludXRlcyxcbiAgICBzdGFydERhdGVUaW1lOiBwYXlsb2FkLnN0YXJ0RGF0ZVRpbWUsXG4gICAgZW5kRGF0ZVRpbWU6IHBheWxvYWQuZW5kRGF0ZVRpbWUsXG4gICAgc3RhZmY6IHN0YWZmTWVtYmVyXG4gICAgICA/IHsgaWQ6IHN0YWZmTWVtYmVyLmlkLCBuYW1lOiBzdGFmZk1lbWJlci5uYW1lLCBjb2xvcjogc3RhZmZNZW1iZXIuY29sb3IgfVxuICAgICAgOiBudWxsLFxuICAgIGN1c3RvbWVyLFxuICAgIHBheW1lbnRzOiBbYXV0aG9yaXphdGlvblBheW1lbnRdLFxuICAgIGZpbmFuY2lhbHM6IHtcbiAgICAgIGxpc3RQcmljZUNlbnRzLFxuICAgICAgZ2lmdENhcmRBbW91bnRDZW50cyxcbiAgICAgIHBsYXRmb3JtRmVlQ2VudHM6IDAsXG4gICAgICBzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzOiAwLFxuICAgICAgbmV0UGF5b3V0Q2VudHM6IDAsXG4gICAgICBjdXJyZW5jeTogXCJ1c2RcIlxuICAgIH0sXG4gICAgcG9saWN5Q29uc2VudDogcGF5bG9hZC5jb25zZW50LFxuICAgIHJlcXVpcmVzQWN0aW9uOiBCb29sZWFuKHBheWxvYWQucmVxdWlyZXNBY3Rpb24pLFxuICAgIG5vdGVzOiB1bmRlZmluZWRcbiAgfTtcblxuICBjb25zdCB1cGRhdGVkQm9va2luZ3MgPSBbYm9va2luZywgLi4ud29ya3NwYWNlLmJvb2tpbmdzXTtcbiAgY29uc3QgdXBkYXRlZEN1c3RvbWVycyA9IGRlcml2ZUN1c3RvbWVyc0Zyb21Cb29raW5ncyh1cGRhdGVkQm9va2luZ3MpO1xuICBjb25zdCB1cGRhdGVkQW5hbHl0aWNzID0gcmVjb21wdXRlQW5hbHl0aWNzKHVwZGF0ZWRCb29raW5ncyk7XG4gIGNvbnN0IHVwZGF0ZWRHaWZ0Q2FyZHMgPSBhcHBseUdpZnRDYXJkUmVkZW1wdGlvbihcbiAgICB3b3Jrc3BhY2UuZ2lmdENhcmRzLFxuICAgIHBheWxvYWQsXG4gICAgZ2lmdENhcmRBbW91bnRDZW50cyxcbiAgICBib29raW5nQ29kZVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgYm9va2luZyxcbiAgICB3b3Jrc3BhY2U6IHtcbiAgICAgIC4uLndvcmtzcGFjZSxcbiAgICAgIGJvb2tpbmdzOiB1cGRhdGVkQm9va2luZ3MsXG4gICAgICBjdXN0b21lcnM6IHVwZGF0ZWRDdXN0b21lcnMsXG4gICAgICBhbmFseXRpY3M6IHVwZGF0ZWRBbmFseXRpY3MsXG4gICAgICBnaWZ0Q2FyZHM6IHVwZGF0ZWRHaWZ0Q2FyZHNcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZpbmRTZXJ2aWNlSW5DYXRhbG9nKFxuICBjYXRhbG9nOiBTZXJ2aWNlQ2F0ZWdvcnlbXSxcbiAgc2VydmljZUlkOiBzdHJpbmdcbik6IHsgc2VydmljZTogU2VydmljZUNhdGVnb3J5W1wic2VydmljZXNcIl1bbnVtYmVyXTsgY2F0ZWdvcnk6IFNlcnZpY2VDYXRlZ29yeSB9IHwgdW5kZWZpbmVkIHtcbiAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBjYXRhbG9nKSB7XG4gICAgY29uc3Qgc2VydmljZSA9IGNhdGVnb3J5LnNlcnZpY2VzLmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gc2VydmljZUlkKTtcbiAgICBpZiAoc2VydmljZSkge1xuICAgICAgcmV0dXJuIHsgc2VydmljZSwgY2F0ZWdvcnkgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gYXBwbHlHaWZ0Q2FyZFJlZGVtcHRpb24oXG4gIGdpZnRDYXJkczogR2lmdENhcmRQcm9ncmFtU3RhdGUsXG4gIHBheWxvYWQ6IFB1YmxpY0Jvb2tpbmdQYXlsb2FkLFxuICByZWRlbXB0aW9uQW1vdW50Q2VudHM6IG51bWJlcixcbiAgYm9va2luZ0NvZGU6IHN0cmluZ1xuKTogR2lmdENhcmRQcm9ncmFtU3RhdGUge1xuICBpZiAoIWdpZnRDYXJkcy5jb25maWcuZW5hYmxlZCB8fCAhcGF5bG9hZC5naWZ0Q2FyZCB8fCByZWRlbXB0aW9uQW1vdW50Q2VudHMgPD0gMCkge1xuICAgIHJldHVybiBnaWZ0Q2FyZHM7XG4gIH1cblxuICBjb25zdCBjb2RlID0gcGF5bG9hZC5naWZ0Q2FyZC5jb2RlLnRvVXBwZXJDYXNlKCk7XG4gIGNvbnN0IGxlZGdlckZvckNvZGUgPSBnaWZ0Q2FyZHMubGVkZ2VyLmZpbHRlcigoZW50cnkpID0+IGVudHJ5LmNvZGUgPT09IGNvZGUpO1xuICBjb25zdCBsYXN0QmFsYW5jZSA9XG4gICAgbGVkZ2VyRm9yQ29kZS5hdCgtMSk/LmJhbGFuY2VBZnRlckNlbnRzID8/XG4gICAgKGdpZnRDYXJkcy5jb25maWcuYW1vdW50VHlwZSA9PT0gXCJhbW91bnRcIiA/IGdpZnRDYXJkcy5jb25maWcuYW1vdW50VmFsdWUgOiAwKTtcbiAgY29uc3QgbmV4dEJhbGFuY2UgPVxuICAgIGdpZnRDYXJkcy5jb25maWcuYW1vdW50VHlwZSA9PT0gXCJhbW91bnRcIlxuICAgICAgPyBNYXRoLm1heChsYXN0QmFsYW5jZSAtIHJlZGVtcHRpb25BbW91bnRDZW50cywgMClcbiAgICAgIDogMDtcblxuICBjb25zdCBsZWRnZXJFbnRyeTogR2lmdENhcmRMZWRnZXJFbnRyeSA9IHtcbiAgICBpZDogYGdjbF8ke2NyeXB0by5yYW5kb21VVUlEKCl9YCxcbiAgICBjb2RlLFxuICAgIGJvb2tpbmdDb2RlLFxuICAgIGRlbHRhQ2VudHM6IC1yZWRlbXB0aW9uQW1vdW50Q2VudHMsXG4gICAgYmFsYW5jZUFmdGVyQ2VudHM6IG5leHRCYWxhbmNlLFxuICAgIG9jY3VycmVkQXQ6IHBheWxvYWQuY29uc2VudC5hY2NlcHRlZEF0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICByZWFzb246IFwicmVkZWVtZWRcIlxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgLi4uZ2lmdENhcmRzLFxuICAgIGNvbmZpZzoge1xuICAgICAgLi4uZ2lmdENhcmRzLmNvbmZpZyxcbiAgICAgIGdlbmVyYXRlZENvZGVzOiBBcnJheS5mcm9tKG5ldyBTZXQoWy4uLmdpZnRDYXJkcy5jb25maWcuZ2VuZXJhdGVkQ29kZXMsIGNvZGVdKSlcbiAgICB9LFxuICAgIGxlZGdlcjogWy4uLmdpZnRDYXJkcy5sZWRnZXIsIGxlZGdlckVudHJ5XVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUJvb2tpbmdDb2RlKHNsdWc6IHN0cmluZywgZXhpc3RpbmdDb2Rlczogc3RyaW5nW10pOiBzdHJpbmcge1xuICBjb25zdCBwcmVmaXggPSBjcmVhdGVCb29raW5nUHJlZml4KHNsdWcpO1xuICBjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuICBsZXQgYXR0ZW1wdCA9IDA7XG4gIGxldCBjb2RlID0gXCJcIjtcbiAgZG8ge1xuICAgIGNvbnN0IHNlcXVlbmNlID0gTWF0aC5mbG9vcigxMDAwICsgTWF0aC5yYW5kb20oKSAqIDkwMDApO1xuICAgIGNvZGUgPSBgJHtwcmVmaXh9LSR7eWVhcn0tJHtzZXF1ZW5jZX1gO1xuICAgIGF0dGVtcHQgKz0gMTtcbiAgfSB3aGlsZSAoZXhpc3RpbmdDb2Rlcy5pbmNsdWRlcyhjb2RlKSAmJiBhdHRlbXB0IDwgMjUpO1xuICByZXR1cm4gY29kZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQm9va2luZ1ByZWZpeChzbHVnOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBzYW5pdGl6ZWQgPSBzbHVnLnJlcGxhY2UoL1teYS16MC05XS9naSwgXCJcIik7XG4gIGNvbnN0IHByZWZpeCA9IHNhbml0aXplZC5zbGljZSgwLCAzKS50b1VwcGVyQ2FzZSgpO1xuICByZXR1cm4gcHJlZml4LnBhZEVuZCgzLCBcIlhcIik7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUVtYWlsKGVtYWlsOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gZW1haWwudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVBob25lKHBob25lPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHBob25lID8gcGhvbmUucmVwbGFjZSgvXFxEL2csIFwiXCIpIDogXCJcIjtcbn1cblxuZnVuY3Rpb24gYnVpbGRUZW1wbGF0ZXNGcm9tQXZhaWxhYmlsaXR5KFxuICBjYXRhbG9nOiBTZXJ2aWNlQ2F0ZWdvcnlbXSxcbiAgc3RhZmY6IFN0YWZmTWVtYmVyW10sXG4gIGF2YWlsYWJpbGl0eTogU2VydmljZUF2YWlsYWJpbGl0eVtdXG4pIHtcbiAgcmV0dXJuIGF2YWlsYWJpbGl0eS5tYXAoKGVudHJ5KSA9PiB7XG4gICAgY29uc3Qgc2VydmljZSA9IGNhdGFsb2dcbiAgICAgIC5mbGF0TWFwKChjYXRlZ29yeSkgPT4gY2F0ZWdvcnkuc2VydmljZXMpXG4gICAgICAuZmluZCgoc3ZjKSA9PiBzdmMuaWQgPT09IGVudHJ5LnNlcnZpY2VJZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBgdGVtcGxhdGVfJHtlbnRyeS5zZXJ2aWNlSWR9YCxcbiAgICAgIGxhYmVsOiBzZXJ2aWNlID8gYCR7c2VydmljZS5uYW1lfSBkZWZhdWx0YCA6IFwiRGVmYXVsdFwiLFxuICAgICAgc2VydmljZUlkOiBlbnRyeS5zZXJ2aWNlSWQsXG4gICAgICBzZXJ2aWNlTmFtZTogc2VydmljZSA/IHNlcnZpY2UubmFtZSA6IFwiU2VydmljZVwiLFxuICAgICAgc3RhZmZBc3NpZ25tZW50czogZW50cnkuc3RhZmYubWFwKChhc3NpZ25tZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG1lbWJlciA9IHN0YWZmLmZpbmQoKHN0YWZmTWVtYmVyKSA9PiBzdGFmZk1lbWJlci5pZCA9PT0gYXNzaWdubWVudC5zdGFmZklkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGFmZklkOiBhc3NpZ25tZW50LnN0YWZmSWQsXG4gICAgICAgICAgc3RhZmZOYW1lOiBtZW1iZXIgPyBtZW1iZXIubmFtZSA6IFwiU3RhZmZcIixcbiAgICAgICAgICBzbG90czogYXNzaWdubWVudC5zbG90cy5tYXAoKHNsb3QpID0+ICh7IC4uLnNsb3QgfSkpXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgIH07XG4gIH0pO1xufVxuXG5pbnRlcmZhY2UgQWN0aW9uUmVzdWx0IHtcbiAgYm9va2luZzogRmFrZUJvb2tpbmc7XG4gIHJlc3BvbnNlOiBCb29raW5nQWN0aW9uUmVzcG9uc2U7XG4gIHNob3VsZFBlcnNpc3Q6IGJvb2xlYW47XG4gIGdpZnRDYXJkcz86IEdpZnRDYXJkUHJvZ3JhbVN0YXRlO1xufVxuXG5mdW5jdGlvbiBhcHBseU1vbmV5Qm9hcmRBY3Rpb24oXG4gIGJvb2tpbmc6IEZha2VCb29raW5nLFxuICBhY3Rpb246IE1vbmV5Qm9hcmRBY3Rpb24sXG4gIHBvbGljaWVzOiBQb2xpY2llc0NvbmZpZyxcbiAgZ2lmdENhcmRzOiBHaWZ0Q2FyZFByb2dyYW1TdGF0ZVxuKTogQWN0aW9uUmVzdWx0IHtcbiAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgIHJldHVybiBjb21wbGV0ZUJvb2tpbmcoYm9va2luZyk7XG4gICAgY2FzZSBcIm5vX3Nob3dcIjpcbiAgICAgIHJldHVybiBub1Nob3dCb29raW5nKGJvb2tpbmcsIHBvbGljaWVzKTtcbiAgICBjYXNlIFwiY2FuY2VsXCI6XG4gICAgICByZXR1cm4gY2FuY2VsQm9va2luZyhib29raW5nLCBwb2xpY2llcyk7XG4gICAgY2FzZSBcInJlZnVuZFwiOlxuICAgICAgcmV0dXJuIHJlZnVuZEJvb2tpbmcoYm9va2luZywgZ2lmdENhcmRzKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYm9va2luZyxcbiAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICBib29raW5nLFxuICAgICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJObyBhY3Rpb24gdGFrZW4uXCJcbiAgICAgICAgfSxcbiAgICAgICAgc2hvdWxkUGVyc2lzdDogZmFsc2VcbiAgICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcGxldGVCb29raW5nKGJvb2tpbmc6IEZha2VCb29raW5nKTogQWN0aW9uUmVzdWx0IHtcbiAgaWYgKGJvb2tpbmcuc3RhdHVzID09PSBcImNhcHR1cmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYm9va2luZyxcbiAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgIGJvb2tpbmcsXG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwiVGhpcyBib29raW5nIGlzIGFscmVhZHkgY2FwdHVyZWQuXCJcbiAgICAgIH0sXG4gICAgICBzaG91bGRQZXJzaXN0OiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBpZiAoYm9va2luZy5yZXF1aXJlc0FjdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICBib29raW5nOiB7XG4gICAgICAgIC4uLmJvb2tpbmcsXG4gICAgICAgIHN0YXR1czogXCJyZXF1aXJlc19hY3Rpb25cIlxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgIGJvb2tpbmcsXG4gICAgICAgIHN0YXR1czogXCJyZXF1aXJlc19hY3Rpb25cIixcbiAgICAgICAgbWVzc2FnZTogXCJDdXN0b21lciBtdXN0IGNvbXBsZXRlIGF1dGhlbnRpY2F0aW9uLlwiLFxuICAgICAgICBwYXlMaW5rVXJsOiBgaHR0cHM6Ly9wYXkuc3RyaXBlLmNvbS9wbS8ke2Jvb2tpbmcuY29kZS50b0xvd2VyQ2FzZSgpfWBcbiAgICAgIH0sXG4gICAgICBzaG91bGRQZXJzaXN0OiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjb25zdCBoYXNDYXB0dXJlID0gYm9va2luZy5wYXltZW50cy5zb21lKChwYXltZW50KSA9PiBwYXltZW50LnR5cGUgPT09IFwiY2FwdHVyZVwiKTtcbiAgaWYgKGhhc0NhcHR1cmUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYm9va2luZyxcbiAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgIGJvb2tpbmcsXG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwiQ2FwdHVyZSBhbHJlYWR5IHJlY29yZGVkLlwiXG4gICAgICB9LFxuICAgICAgc2hvdWxkUGVyc2lzdDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgY2FwdHVyZUFtb3VudCA9XG4gICAgYm9va2luZy5maW5hbmNpYWxzLmxpc3RQcmljZUNlbnRzIC0gYm9va2luZy5maW5hbmNpYWxzLmdpZnRDYXJkQW1vdW50Q2VudHM7XG4gIGNvbnN0IHBsYXRmb3JtRmVlID0gTWF0aC5yb3VuZChjYXB0dXJlQW1vdW50ICogMC4wMSk7XG4gIGNvbnN0IHN0cmlwZUZlZSA9IE1hdGgucm91bmQoY2FwdHVyZUFtb3VudCAqIDAuMDI5KSArIDMwO1xuXG4gIGNvbnN0IGNhcHR1cmVQYXltZW50ID0ge1xuICAgIGlkOiBgcGF5XyR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gLFxuICAgIGJvb2tpbmdJZDogYm9va2luZy5pZCxcbiAgICB0eXBlOiBcImNhcHR1cmVcIiBhcyBjb25zdCxcbiAgICBhbW91bnRDZW50czogY2FwdHVyZUFtb3VudCxcbiAgICBzdGF0dXM6IFwiY2FwdHVyZWRcIiBhcyBjb25zdCxcbiAgICBvY2N1cnJlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgbm90ZXM6IFwiQ2FwdHVyZWQgZnJvbSBtb25leSBib2FyZFwiXG4gIH07XG5cbiAgY29uc3QgdXBkYXRlZEJvb2tpbmc6IEZha2VCb29raW5nID0ge1xuICAgIC4uLmJvb2tpbmcsXG4gICAgc3RhdHVzOiBcImNhcHR1cmVkXCIsXG4gICAgcmVxdWlyZXNBY3Rpb246IGZhbHNlLFxuICAgIHBheW1lbnRzOiBbLi4uYm9va2luZy5wYXltZW50cywgY2FwdHVyZVBheW1lbnRdLFxuICAgIGZpbmFuY2lhbHM6IHtcbiAgICAgIC4uLmJvb2tpbmcuZmluYW5jaWFscyxcbiAgICAgIHBsYXRmb3JtRmVlQ2VudHM6IHBsYXRmb3JtRmVlLFxuICAgICAgc3RyaXBlRmVlRXN0aW1hdGVDZW50czogc3RyaXBlRmVlLFxuICAgICAgbmV0UGF5b3V0Q2VudHM6IE1hdGgubWF4KGNhcHR1cmVBbW91bnQgLSBwbGF0Zm9ybUZlZSAtIHN0cmlwZUZlZSwgMClcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBib29raW5nOiB1cGRhdGVkQm9va2luZyxcbiAgICByZXNwb25zZToge1xuICAgICAgYm9va2luZzogdXBkYXRlZEJvb2tpbmcsXG4gICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgbWVzc2FnZTogXCJDYXB0dXJlIHN1Y2NlZWRlZCDigJQgZnVuZHMgZW4gcm91dGUgdG8geW91ciBDb25uZWN0IGFjY291bnQuXCJcbiAgICB9LFxuICAgIHNob3VsZFBlcnNpc3Q6IHRydWVcbiAgfTtcbn1cblxuZnVuY3Rpb24gbm9TaG93Qm9va2luZyhib29raW5nOiBGYWtlQm9va2luZywgcG9saWNpZXM6IFBvbGljaWVzQ29uZmlnKTogQWN0aW9uUmVzdWx0IHtcbiAgY29uc3QgZmVlID1cbiAgICBwb2xpY2llcy5ub1Nob3dGZWVUeXBlID09PSBcInBlcmNlbnRcIlxuICAgICAgPyBNYXRoLnJvdW5kKChib29raW5nLmZpbmFuY2lhbHMubGlzdFByaWNlQ2VudHMgKiBwb2xpY2llcy5ub1Nob3dGZWVWYWx1ZSkgLyAxMDApXG4gICAgICA6IE1hdGgucm91bmQocG9saWNpZXMubm9TaG93RmVlVmFsdWUgKiAxMDApO1xuXG4gIGlmIChmZWUgPD0gMCkge1xuICAgIGNvbnN0IHVwZGF0ZWRCb29raW5nOiBGYWtlQm9va2luZyA9IHtcbiAgICAgIC4uLmJvb2tpbmcsXG4gICAgICBzdGF0dXM6IFwibm9fc2hvd1wiLFxuICAgICAgcGF5bWVudHM6IGJvb2tpbmcucGF5bWVudHMsXG4gICAgICBmaW5hbmNpYWxzOiB7XG4gICAgICAgIC4uLmJvb2tpbmcuZmluYW5jaWFscyxcbiAgICAgICAgcGxhdGZvcm1GZWVDZW50czogMCxcbiAgICAgICAgc3RyaXBlRmVlRXN0aW1hdGVDZW50czogMCxcbiAgICAgICAgbmV0UGF5b3V0Q2VudHM6IDBcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBib29raW5nOiB1cGRhdGVkQm9va2luZyxcbiAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgIGJvb2tpbmc6IHVwZGF0ZWRCb29raW5nLFxuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBtZXNzYWdlOiBcIk1hcmtlZCBhcyBuby1zaG93IHdpdGggbm8gY2hhcmdlLlwiXG4gICAgICB9LFxuICAgICAgc2hvdWxkUGVyc2lzdDogdHJ1ZVxuICAgIH07XG4gIH1cblxuICBjb25zdCBwbGF0Zm9ybUZlZSA9IE1hdGgucm91bmQoZmVlICogMC4wMSk7XG4gIGNvbnN0IHN0cmlwZUZlZSA9IE1hdGgucm91bmQoZmVlICogMC4wMjkpICsgMzA7XG5cbiAgY29uc3QgZmVlUGF5bWVudCA9IHtcbiAgICBpZDogYHBheV8ke2NyeXB0by5yYW5kb21VVUlEKCl9YCxcbiAgICBib29raW5nSWQ6IGJvb2tpbmcuaWQsXG4gICAgdHlwZTogXCJub19zaG93X2ZlZVwiIGFzIGNvbnN0LFxuICAgIGFtb3VudENlbnRzOiBmZWUsXG4gICAgc3RhdHVzOiBcImNhcHR1cmVkXCIgYXMgY29uc3QsXG4gICAgb2NjdXJyZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIG5vdGVzOiBcIk5vLXNob3cgZmVlIGNoYXJnZWRcIlxuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZWRCb29raW5nOiBGYWtlQm9va2luZyA9IHtcbiAgICAuLi5ib29raW5nLFxuICAgIHN0YXR1czogXCJub19zaG93XCIsXG4gICAgcmVxdWlyZXNBY3Rpb246IGZhbHNlLFxuICAgIHBheW1lbnRzOiBbLi4uYm9va2luZy5wYXltZW50cywgZmVlUGF5bWVudF0sXG4gICAgZmluYW5jaWFsczoge1xuICAgICAgLi4uYm9va2luZy5maW5hbmNpYWxzLFxuICAgICAgcGxhdGZvcm1GZWVDZW50czogcGxhdGZvcm1GZWUsXG4gICAgICBzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzOiBzdHJpcGVGZWUsXG4gICAgICBuZXRQYXlvdXRDZW50czogTWF0aC5tYXgoZmVlIC0gcGxhdGZvcm1GZWUgLSBzdHJpcGVGZWUsIDApXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYm9va2luZzogdXBkYXRlZEJvb2tpbmcsXG4gICAgcmVzcG9uc2U6IHtcbiAgICAgIGJvb2tpbmc6IHVwZGF0ZWRCb29raW5nLFxuICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgIG1lc3NhZ2U6IFwiTm8tc2hvdyBmZWUgY2FwdHVyZWQuXCJcbiAgICB9LFxuICAgIHNob3VsZFBlcnNpc3Q6IHRydWVcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2FuY2VsQm9va2luZyhib29raW5nOiBGYWtlQm9va2luZywgcG9saWNpZXM6IFBvbGljaWVzQ29uZmlnKTogQWN0aW9uUmVzdWx0IHtcbiAgY29uc3QgZmVlID1cbiAgICBwb2xpY2llcy5jYW5jZWxsYXRpb25GZWVUeXBlID09PSBcInBlcmNlbnRcIlxuICAgICAgPyBNYXRoLnJvdW5kKChib29raW5nLmZpbmFuY2lhbHMubGlzdFByaWNlQ2VudHMgKiBwb2xpY2llcy5jYW5jZWxsYXRpb25GZWVWYWx1ZSkgLyAxMDApXG4gICAgICA6IE1hdGgucm91bmQocG9saWNpZXMuY2FuY2VsbGF0aW9uRmVlVmFsdWUgKiAxMDApO1xuXG4gIGlmIChmZWUgPD0gMCkge1xuICAgIGNvbnN0IHVwZGF0ZWRCb29raW5nOiBGYWtlQm9va2luZyA9IHtcbiAgICAgIC4uLmJvb2tpbmcsXG4gICAgICBzdGF0dXM6IFwiY2FuY2VsZWRcIixcbiAgICAgIHJlcXVpcmVzQWN0aW9uOiBmYWxzZSxcbiAgICAgIGZpbmFuY2lhbHM6IHtcbiAgICAgICAgLi4uYm9va2luZy5maW5hbmNpYWxzLFxuICAgICAgICBwbGF0Zm9ybUZlZUNlbnRzOiAwLFxuICAgICAgICBzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzOiAwLFxuICAgICAgICBuZXRQYXlvdXRDZW50czogMFxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvb2tpbmc6IHVwZGF0ZWRCb29raW5nLFxuICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgYm9va2luZzogdXBkYXRlZEJvb2tpbmcsXG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwiQm9va2luZyBjYW5jZWxlZCB3aXRob3V0IGNoYXJnZS5cIlxuICAgICAgfSxcbiAgICAgIHNob3VsZFBlcnNpc3Q6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgcGxhdGZvcm1GZWUgPSBNYXRoLnJvdW5kKGZlZSAqIDAuMDEpO1xuICBjb25zdCBzdHJpcGVGZWUgPSBNYXRoLnJvdW5kKGZlZSAqIDAuMDI5KSArIDMwO1xuXG4gIGNvbnN0IGZlZVBheW1lbnQgPSB7XG4gICAgaWQ6IGBwYXlfJHtjcnlwdG8ucmFuZG9tVVVJRCgpfWAsXG4gICAgYm9va2luZ0lkOiBib29raW5nLmlkLFxuICAgIHR5cGU6IFwiY2FuY2VsX2ZlZVwiIGFzIGNvbnN0LFxuICAgIGFtb3VudENlbnRzOiBmZWUsXG4gICAgc3RhdHVzOiBcImNhcHR1cmVkXCIgYXMgY29uc3QsXG4gICAgb2NjdXJyZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIG5vdGVzOiBcIkNhbmNlbGxhdGlvbiBmZWUgY2hhcmdlZFwiXG4gIH07XG5cbiAgY29uc3QgdXBkYXRlZEJvb2tpbmc6IEZha2VCb29raW5nID0ge1xuICAgIC4uLmJvb2tpbmcsXG4gICAgc3RhdHVzOiBcImNhbmNlbGVkXCIsXG4gICAgcmVxdWlyZXNBY3Rpb246IGZhbHNlLFxuICAgIHBheW1lbnRzOiBbLi4uYm9va2luZy5wYXltZW50cywgZmVlUGF5bWVudF0sXG4gICAgZmluYW5jaWFsczoge1xuICAgICAgLi4uYm9va2luZy5maW5hbmNpYWxzLFxuICAgICAgcGxhdGZvcm1GZWVDZW50czogcGxhdGZvcm1GZWUsXG4gICAgICBzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzOiBzdHJpcGVGZWUsXG4gICAgICBuZXRQYXlvdXRDZW50czogTWF0aC5tYXgoZmVlIC0gcGxhdGZvcm1GZWUgLSBzdHJpcGVGZWUsIDApXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYm9va2luZzogdXBkYXRlZEJvb2tpbmcsXG4gICAgcmVzcG9uc2U6IHtcbiAgICAgIGJvb2tpbmc6IHVwZGF0ZWRCb29raW5nLFxuICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgIG1lc3NhZ2U6IFwiQ2FuY2VsbGF0aW9uIGZlZSBjYXB0dXJlZC5cIlxuICAgIH0sXG4gICAgc2hvdWxkUGVyc2lzdDogdHJ1ZVxuICB9O1xufVxuXG5mdW5jdGlvbiByZWZ1bmRCb29raW5nKGJvb2tpbmc6IEZha2VCb29raW5nLCBnaWZ0Q2FyZHM6IEdpZnRDYXJkUHJvZ3JhbVN0YXRlKTogQWN0aW9uUmVzdWx0IHtcbiAgY29uc3QgY2FwdHVyZWRBbW91bnQgPSBib29raW5nLnBheW1lbnRzXG4gICAgLmZpbHRlcigocGF5bWVudCkgPT4gcGF5bWVudC50eXBlICE9PSBcImF1dGhvcml6YXRpb25cIiAmJiBwYXltZW50LnN0YXR1cyA9PT0gXCJjYXB0dXJlZFwiKVxuICAgIC5yZWR1Y2UoKHN1bSwgcGF5bWVudCkgPT4gc3VtICsgcGF5bWVudC5hbW91bnRDZW50cywgMCk7XG5cbiAgaWYgKGNhcHR1cmVkQW1vdW50IDw9IDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgYm9va2luZyxcbiAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgIGJvb2tpbmcsXG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwiTm8gcGF5bWVudCB0byByZWZ1bmQuXCJcbiAgICAgIH0sXG4gICAgICBzaG91bGRQZXJzaXN0OiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjb25zdCByZWZ1bmRQYXltZW50ID0ge1xuICAgIGlkOiBgcGF5XyR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gLFxuICAgIGJvb2tpbmdJZDogYm9va2luZy5pZCxcbiAgICB0eXBlOiBcInJlZnVuZFwiIGFzIGNvbnN0LFxuICAgIGFtb3VudENlbnRzOiBjYXB0dXJlZEFtb3VudCxcbiAgICBzdGF0dXM6IFwicmVmdW5kZWRcIiBhcyBjb25zdCxcbiAgICBvY2N1cnJlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgbm90ZXM6IFwiUmVmdW5kIHByb2Nlc3NlZCBmcm9tIGFkbWluXCJcbiAgfTtcblxuICBjb25zdCB1cGRhdGVkQm9va2luZzogRmFrZUJvb2tpbmcgPSB7XG4gICAgLi4uYm9va2luZyxcbiAgICBzdGF0dXM6IFwicmVmdW5kZWRcIixcbiAgICByZXF1aXJlc0FjdGlvbjogZmFsc2UsXG4gICAgcGF5bWVudHM6IFsuLi5ib29raW5nLnBheW1lbnRzLCByZWZ1bmRQYXltZW50XSxcbiAgICBmaW5hbmNpYWxzOiB7XG4gICAgICAuLi5ib29raW5nLmZpbmFuY2lhbHMsXG4gICAgICBwbGF0Zm9ybUZlZUNlbnRzOiAwLFxuICAgICAgc3RyaXBlRmVlRXN0aW1hdGVDZW50czogMCxcbiAgICAgIG5ldFBheW91dENlbnRzOiAwXG4gICAgfVxuICB9O1xuXG4gIGxldCB1cGRhdGVkR2lmdENhcmRzOiBHaWZ0Q2FyZFByb2dyYW1TdGF0ZSB8IHVuZGVmaW5lZDtcbiAgaWYgKFxuICAgIGdpZnRDYXJkcy5jb25maWcuZW5hYmxlZCAmJlxuICAgIGdpZnRDYXJkcy5yZXN0b3JlQmFsYW5jZU9uUmVmdW5kICYmXG4gICAgYm9va2luZy5maW5hbmNpYWxzLmdpZnRDYXJkQW1vdW50Q2VudHMgPiAwXG4gICkge1xuICAgIGNvbnN0IHJlc3RvcmVFbnRyeSA9IHtcbiAgICAgIGlkOiBgZ2NsXyR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gLFxuICAgICAgY29kZTogZ2lmdENhcmRzLmNvbmZpZy5nZW5lcmF0ZWRDb2Rlc1swXSA/PyBcIldFTENPTUUxMjBcIixcbiAgICAgIGJvb2tpbmdDb2RlOiBib29raW5nLmNvZGUsXG4gICAgICBkZWx0YUNlbnRzOiBib29raW5nLmZpbmFuY2lhbHMuZ2lmdENhcmRBbW91bnRDZW50cyxcbiAgICAgIGJhbGFuY2VBZnRlckNlbnRzOlxuICAgICAgICAoZ2lmdENhcmRzLmxlZGdlclswXT8uYmFsYW5jZUFmdGVyQ2VudHMgPz8gMCkgKyBib29raW5nLmZpbmFuY2lhbHMuZ2lmdENhcmRBbW91bnRDZW50cyxcbiAgICAgIG9jY3VycmVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHJlYXNvbjogXCJyZWZ1bmRlZFwiIGFzIGNvbnN0XG4gICAgfTtcbiAgICB1cGRhdGVkR2lmdENhcmRzID0ge1xuICAgICAgLi4uZ2lmdENhcmRzLFxuICAgICAgbGVkZ2VyOiBbLi4uZ2lmdENhcmRzLmxlZGdlciwgcmVzdG9yZUVudHJ5XVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJvb2tpbmc6IHVwZGF0ZWRCb29raW5nLFxuICAgIHJlc3BvbnNlOiB7XG4gICAgICBib29raW5nOiB1cGRhdGVkQm9va2luZyxcbiAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICBtZXNzYWdlOiBcIlJlZnVuZCBpc3N1ZWQuIEdpZnQgY2FyZCBiYWxhbmNlIHJlc3RvcmVkIGlmIGFwcGxpY2FibGUuXCJcbiAgICB9LFxuICAgIHNob3VsZFBlcnNpc3Q6IHRydWUsXG4gICAgZ2lmdENhcmRzOiB1cGRhdGVkR2lmdENhcmRzXG4gIH07XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJERVZfV09SS1NQQUNFX1NFRUQiLCJjcmVhdGVXb3Jrc3BhY2VGcm9tT25ib2FyZGluZyIsImRlcml2ZUN1c3RvbWVyc0Zyb21Cb29raW5ncyIsInJlY29tcHV0ZUFuYWx5dGljcyIsIkZha2VCdXNpbmVzc0NvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidW5kZWZpbmVkIiwiRmFrZUJ1c2luZXNzUHJvdmlkZXIiLCJjaGlsZHJlbiIsImJ1c2luZXNzIiwic2V0QnVzaW5lc3MiLCJ1c2VTdGF0ZSIsIndvcmtzcGFjZSIsInNldFdvcmtzcGFjZSIsImhhc0h5ZHJhdGVkRnJvbVN0b3JhZ2UiLCJzZXRIYXNIeWRyYXRlZEZyb21TdG9yYWdlIiwidXNlRWZmZWN0IiwiY2hlY2tVc2VyQW5kTG9hZCIsInNlc3Npb24iLCJjcmVhdGVDbGllbnRDbGllbnQiLCJzdXBhYmFzZSIsImRhdGEiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsInVzZXIiLCJpZCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIndhcm4iLCJjcmVhdGVCdXNpbmVzcyIsInVzZUNhbGxiYWNrIiwicGF5bG9hZCIsInVwZGF0ZUJ1c2luZXNzIiwidXBkYXRlcyIsImV4aXN0aW5nIiwiYm9vdHN0cmFwV29ya3NwYWNlIiwic2VlZCIsIndvcmtzcGFjZVNuYXBzaG90IiwidXBkYXRlV29ya3NwYWNlIiwidXBkYXRlciIsInVwZGF0ZWQiLCJzZXRDYXRhbG9nIiwiY2F0YWxvZyIsImF2YWlsYWJpbGl0eVRlbXBsYXRlcyIsIm1hcCIsInRlbXBsYXRlIiwic2VydmljZSIsImZsYXRNYXAiLCJjYXRlZ29yeSIsInNlcnZpY2VzIiwiZmluZCIsInNlcnZpY2VJZCIsInNlcnZpY2VOYW1lIiwibmFtZSIsImF2YWlsYWJpbGl0eSIsImVudHJ5Iiwic3ZjIiwiYXNzaWduZWRJZHMiLCJTZXQiLCJzdGFmZklkcyIsImZpbHRlcmVkU3RhZmYiLCJzdGFmZiIsImZpbHRlciIsInNsb3QiLCJoYXMiLCJzdGFmZklkIiwibWlzc2luZ1N0YWZmIiwic29tZSIsInNsb3RzIiwic2V0U3RhZmYiLCJzdGFmZkFzc2lnbm1lbnRzIiwiYXNzaWdubWVudCIsIm1lbWJlciIsInN0YWZmTWVtYmVyIiwic3RhZmZOYW1lIiwic2V0QXZhaWxhYmlsaXR5IiwiYnVpbGRUZW1wbGF0ZXNGcm9tQXZhaWxhYmlsaXR5Iiwic2V0Tm90aWZpY2F0aW9ucyIsInRlbXBsYXRlcyIsIm5vdGlmaWNhdGlvbnMiLCJzZXRQb2xpY2llcyIsInBvbGljaWVzIiwic2V0R2lmdENhcmRzIiwicHJvZ3JhbSIsImdpZnRDYXJkcyIsInNldFBheW1lbnQiLCJwYXltZW50Iiwic2V0SWRlbnRpdHkiLCJpZGVudGl0eSIsInBlcmZvcm1Cb29raW5nQWN0aW9uIiwiYm9va2luZ0lkIiwiYWN0aW9uIiwicmVzcG9uc2UiLCJpbmRleCIsImJvb2tpbmdzIiwiZmluZEluZGV4IiwiYm9va2luZyIsInRhcmdldEJvb2tpbmciLCJhY3Rpb25SZXN1bHQiLCJhcHBseU1vbmV5Qm9hcmRBY3Rpb24iLCJzaG91bGRQZXJzaXN0IiwidXBkYXRlZEJvb2tpbmdzIiwidXBkYXRlZFdvcmtzcGFjZSIsImN1c3RvbWVycyIsImFuYWx5dGljcyIsInJlY29yZFB1YmxpY0Jvb2tpbmciLCJjcmVhdGVkQm9va2luZyIsInJlc3VsdCIsImNyZWF0ZUJvb2tpbmdGcm9tUHVibGljRmxvdyIsImNvcHlBdmFpbGFiaWxpdHlUZW1wbGF0ZSIsInRlbXBsYXRlSWQiLCJhdmFpbGFiaWxpdHlDbGlwYm9hcmQiLCJwYXN0ZUF2YWlsYWJpbGl0eVRlbXBsYXRlIiwiY2xpcGJvYXJkIiwibmV3QXZhaWxhYmlsaXR5IiwibmV3VGVtcGxhdGVzIiwiY2xlYXJBdmFpbGFiaWxpdHlDbGlwYm9hcmQiLCJyZWZyZXNoQW5hbHl0aWNzIiwibG9hZFNlZWRCdXNpbmVzcyIsIm92ZXJyaWRlcyIsInNsdWciLCJ3ZWJzaXRlIiwic3ViZG9tYWluIiwidG9Mb3dlckNhc2UiLCJib29raW5nVXJsIiwicHJldmlld1VybCIsImJ1c2luZXNzUGF5bG9hZCIsImJ1c2luZXNzTmFtZSIsInN0YXR1cyIsInN1YnNjcmlwdGlvblN0YXR1cyIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInRyaWFsRW5kc0F0IiwibmV4dEJpbGxEYXRlIiwicmVzb2x2ZWRCdXNpbmVzcyIsInJlc29sdmVkV29ya3NwYWNlIiwiY2xlYXJCdXNpbmVzcyIsInZhbHVlIiwidXNlTWVtbyIsIlByb3ZpZGVyIiwidXNlRmFrZUJ1c2luZXNzIiwiY29udGV4dCIsInVzZUNvbnRleHQiLCJFcnJvciIsInNlcnZpY2VSZXN1bHQiLCJmaW5kU2VydmljZUluQ2F0YWxvZyIsImxpc3RQcmljZUNlbnRzIiwiTWF0aCIsIm1heCIsInByaWNlQ2VudHMiLCJyZXF1ZXN0ZWRHaWZ0Q2FyZENlbnRzIiwiZ2lmdENhcmQiLCJhbW91bnRDZW50cyIsImdpZnRDYXJkQW1vdW50Q2VudHMiLCJtaW4iLCJhdXRob3JpemF0aW9uQW1vdW50Q2VudHMiLCJub3JtYWxpemVkRW1haWwiLCJub3JtYWxpemVFbWFpbCIsImN1c3RvbWVyIiwiZW1haWwiLCJub3JtYWxpemVkUGhvbmUiLCJwaG9uZSIsIm5vcm1hbGl6ZVBob25lIiwiZXhpc3RpbmdDdXN0b21lciIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJjb25zZW50IiwiYWNjZXB0ZWRBdCIsImJvb2tpbmdDb2RlIiwiZ2VuZXJhdGVCb29raW5nQ29kZSIsImNvZGUiLCJhdXRob3JpemF0aW9uUGF5bWVudCIsInR5cGUiLCJyZXF1aXJlc0FjdGlvbiIsIm9jY3VycmVkQXQiLCJzdGFydERhdGVUaW1lIiwibm90ZXMiLCJjYXRlZ29yeU5hbWUiLCJkdXJhdGlvbk1pbnV0ZXMiLCJlbmREYXRlVGltZSIsImNvbG9yIiwicGF5bWVudHMiLCJmaW5hbmNpYWxzIiwicGxhdGZvcm1GZWVDZW50cyIsInN0cmlwZUZlZUVzdGltYXRlQ2VudHMiLCJuZXRQYXlvdXRDZW50cyIsImN1cnJlbmN5IiwicG9saWN5Q29uc2VudCIsIkJvb2xlYW4iLCJ1cGRhdGVkQ3VzdG9tZXJzIiwidXBkYXRlZEFuYWx5dGljcyIsInVwZGF0ZWRHaWZ0Q2FyZHMiLCJhcHBseUdpZnRDYXJkUmVkZW1wdGlvbiIsInJlZGVtcHRpb25BbW91bnRDZW50cyIsImxlZGdlckZvckNvZGUiLCJjb25maWciLCJlbmFibGVkIiwidG9VcHBlckNhc2UiLCJsZWRnZXIiLCJsYXN0QmFsYW5jZSIsImF0IiwiYmFsYW5jZUFmdGVyQ2VudHMiLCJhbW91bnRUeXBlIiwiYW1vdW50VmFsdWUiLCJuZXh0QmFsYW5jZSIsImxlZGdlckVudHJ5IiwiZGVsdGFDZW50cyIsInJlYXNvbiIsImdlbmVyYXRlZENvZGVzIiwiQXJyYXkiLCJmcm9tIiwiZXhpc3RpbmdDb2RlcyIsInByZWZpeCIsImNyZWF0ZUJvb2tpbmdQcmVmaXgiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJhdHRlbXB0Iiwic2VxdWVuY2UiLCJmbG9vciIsInJhbmRvbSIsImluY2x1ZGVzIiwic2FuaXRpemVkIiwicmVwbGFjZSIsInNsaWNlIiwicGFkRW5kIiwidHJpbSIsImxhYmVsIiwiY29tcGxldGVCb29raW5nIiwibm9TaG93Qm9va2luZyIsImNhbmNlbEJvb2tpbmciLCJyZWZ1bmRCb29raW5nIiwibWVzc2FnZSIsInBheUxpbmtVcmwiLCJoYXNDYXB0dXJlIiwiY2FwdHVyZUFtb3VudCIsInBsYXRmb3JtRmVlIiwicm91bmQiLCJzdHJpcGVGZWUiLCJjYXB0dXJlUGF5bWVudCIsInVwZGF0ZWRCb29raW5nIiwiZmVlIiwibm9TaG93RmVlVHlwZSIsIm5vU2hvd0ZlZVZhbHVlIiwiZmVlUGF5bWVudCIsImNhbmNlbGxhdGlvbkZlZVR5cGUiLCJjYW5jZWxsYXRpb25GZWVWYWx1ZSIsImNhcHR1cmVkQW1vdW50IiwicmVkdWNlIiwic3VtIiwicmVmdW5kUGF5bWVudCIsInJlc3RvcmVCYWxhbmNlT25SZWZ1bmQiLCJyZXN0b3JlRW50cnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/fake-business.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\n\nvar REACT_CONSUMER_TYPE = Symbol.for('react.consumer');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar REACT_CACHE_TYPE = Symbol.for('react.cache');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\nvar enableRenderableContext = false;\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false;\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n}\n\nvar REACT_CLIENT_REFERENCE$2 = Symbol.for('react.client.reference'); // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  if (typeof type === 'function') {\n    if (type.$$typeof === REACT_CLIENT_REFERENCE$2) {\n      // TODO: Create a convention for naming client references with debug info.\n      return null;\n    }\n\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n    case REACT_CACHE_TYPE:\n      {\n        return 'Cache';\n      }\n\n  }\n\n  if (typeof type === 'object') {\n    {\n      if (typeof type.tag === 'number') {\n        error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n      }\n    }\n\n    switch (type.$$typeof) {\n      case REACT_PROVIDER_TYPE:\n        {\n          var provider = type;\n          return getContextName(provider._context) + '.Provider';\n        }\n\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n\n        {\n          return getContextName(context) + '.Consumer';\n        }\n\n      case REACT_CONSUMER_TYPE:\n        {\n          return null;\n        }\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n    }\n  }\n\n  return null;\n}\n\n// $FlowFixMe[method-unbinding]\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar assign = Object.assign;\n\n/*\n * The `'' + value` pattern (used in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object'; // $FlowFixMe[incompatible-return]\n\n    return type;\n  }\n} // $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar REACT_CLIENT_REFERENCE$1 = Symbol.for('react.client.reference');\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || enableRenderableContext  || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_CLIENT_REFERENCE$1 || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n/**\n * Leverages native browser/VM stack frames to get proper details (e.g.\n * filename, line + col number) for a single component in a component stack. We\n * do this by:\n *   (1) throwing and catching an error in the function - this will be our\n *       control error.\n *   (2) calling the component which will eventually throw an error that we'll\n *       catch - this will be our sample error.\n *   (3) diffing the control and sample error stacks to find the stack frame\n *       which represents our component.\n */\n\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe[incompatible-type] It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n\n\n  var RunInRootFrame = {\n    DetermineComponentFrameRoot: function () {\n      var control;\n\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          var Fake = function () {\n            throw Error();\n          }; // $FlowFixMe[prop-missing]\n\n\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            }\n          });\n\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            } // $FlowFixMe[prop-missing] found when upgrading Flow\n\n\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          } // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n\n\n          var maybePromise = fn(); // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(function () {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n\n      return [null, null];\n    }\n  }; // $FlowFixMe[prop-missing]\n\n  RunInRootFrame.DetermineComponentFrameRoot.displayName = 'DetermineComponentFrameRoot';\n  var namePropDescriptor = Object.getOwnPropertyDescriptor(RunInRootFrame.DetermineComponentFrameRoot, 'name'); // Before ES6, the `name` property was not configurable.\n\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(RunInRootFrame.DetermineComponentFrameRoot, // Configurable properties can be updated even if its writable descriptor\n    // is set to `false`.\n    // $FlowFixMe[cannot-write]\n    'name', {\n      value: 'DetermineComponentFrameRoot'\n    });\n  }\n\n  try {\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n        sampleStack = _RunInRootFrame$Deter[0],\n        controlStack = _RunInRootFrame$Deter[1];\n\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sampleStack.split('\\n');\n      var controlLines = controlStack.split('\\n');\n      var s = 0;\n      var c = 0;\n\n      while (s < sampleLines.length && !sampleLines[s].includes('DetermineComponentFrameRoot')) {\n        s++;\n      }\n\n      while (c < controlLines.length && !controlLines[c].includes('DetermineComponentFrameRoot')) {\n        c++;\n      } // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n\n\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (true) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\nvar REACT_CLIENT_REFERENCE = Symbol.for('react.client.reference');\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    {\n      var warnAboutAccessingRef = function () {\n        if (!specialPropRefWarningShown) {\n          specialPropRefWarningShown = true;\n\n          error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n        }\n      };\n\n      warnAboutAccessingRef.isReactWarning = true;\n      Object.defineProperty(props, 'ref', {\n        get: warnAboutAccessingRef,\n        configurable: true\n      });\n    }\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nfunction ReactElement(type, key, _ref, self, source, owner, props) {\n  var ref;\n\n  {\n    ref = _ref;\n  }\n\n  var element;\n\n  {\n    // In prod, `ref` is a regular property. It will be removed in a\n    // future release.\n    element = {\n      // This tag allows us to uniquely identify this as a React Element\n      $$typeof: REACT_ELEMENT_TYPE,\n      // Built-in properties that belong on the element\n      type: type,\n      key: key,\n      ref: ref,\n      props: props,\n      // Record the component responsible for creating this element.\n      _owner: owner\n    };\n  }\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // debugInfo contains Server Component debug information.\n\n    Object.defineProperty(element, '_debugInfo', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: null\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n}\nvar didWarnAboutKeySpread = {};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV$1(type, config, maybeKey, isStaticChildren, source, self) {\n  {\n    if (!isValidElementType(type)) {\n      // This is an invalid element type.\n      //\n      // We warn in this case but don't throw. We expect the element creation to\n      // succeed and there will likely be errors in render.\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    } else {\n      // This is a valid element type.\n      // Skip key warning if the type isn't valid since our key validation logic\n      // doesn't expect a non-string/function type and can throw confusing\n      // errors. We don't want exception behavior to differ between dev and\n      // prod. (Rendering will throw with a helpful message and as soon as the\n      // type is fixed, the key warnings will appear.)\n      var children = config.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    } // Warn about key spread regardless of whether the type is valid.\n\n\n    if (hasOwnProperty.call(config, 'key')) {\n      var componentName = getComponentNameFromType(type);\n      var keys = Object.keys(config).filter(function (k) {\n        return k !== 'key';\n      });\n      var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n      if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n        var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n        error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n        didWarnAboutKeySpread[componentName + beforeExample] = true;\n      }\n    }\n\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      {\n        ref = config.ref;\n      }\n\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && // Skip over reserved prop names\n      propName !== 'key' && (propName !== 'ref')) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    var element = ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    }\n\n    return element;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object' || !node) {\n      return;\n    }\n\n    if (node.$$typeof === REACT_CLIENT_REFERENCE) ; else if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nvar ownerHasKeyUseWarning = {};\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement(null);\n  }\n}\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = getComponentNameFromType(parentType);\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  // TODO: Move this to render phase instead of at element creation.\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement(null);\n    }\n  }\n}\n\nvar jsxDEV = jsxDEV$1 ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyxzR0FBMEI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIsa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBLHFDQUFxQzs7QUFFckMsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBLHFFQUFxRTs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHOztBQUVsRztBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLGVBQWU7QUFDMUIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtB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QUFXLGNBQWM7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpQkFBaUI7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQixjQUFjO0FBQ2QsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcz9lM2I1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKTtcblxuLy8gQVRURU5USU9OXG4vLyBXaGVuIGFkZGluZyBuZXcgc3ltYm9scyB0byB0aGlzIGZpbGUsXG4vLyBQbGVhc2UgY29uc2lkZXIgYWxzbyBhZGRpbmcgdG8gJ3JlYWN0LWRldnRvb2xzLXNoYXJlZC9zcmMvYmFja2VuZC9SZWFjdFN5bWJvbHMnXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50Jyk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKTtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKTtcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKTsgLy8gVE9ETzogRGVsZXRlIHdpdGggZW5hYmxlUmVuZGVyYWJsZUNvbnRleHRcblxudmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jb25zdW1lcicpO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTtcbnZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIFJFQUNUX0NBQ0hFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jYWNoZScpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuZnVuY3Rpb24gZXJyb3IoZm9ybWF0KSB7XG4gIHtcbiAgICB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcoJ2Vycm9yJywgZm9ybWF0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuXG4gICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgZm9ybWF0ICs9ICclcyc7XG4gICAgICBhcmdzID0gYXJncy5jb25jYXQoW3N0YWNrXSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cblxuXG4gICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7XG4gICAgfSk7IC8vIENhcmVmdWw6IFJOIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJlZml4XG5cbiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAvLyBicmVha3MgSUU5OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEzNjEwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZ1xuXG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIENyZWF0ZSBFdmVudCBIYW5kbGUgQVBJLlxudmFyIGVuYWJsZUNhY2hlRWxlbWVudCA9IGZhbHNlO1xudmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cbnZhciBlbmFibGVMZWdhY3lIaWRkZW4gPSBmYWxzZTsgLy8gRW5hYmxlcyB1bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFjayBmZWF0dXJlIGluIEZpYmVyXG52YXIgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgPSBmYWxzZTtcbi8vIHN0dWZmLiBJbnRlbmRlZCB0byBlbmFibGUgUmVhY3QgY29yZSBtZW1iZXJzIHRvIG1vcmUgZWFzaWx5IGRlYnVnIHNjaGVkdWxpbmdcbi8vIGlzc3VlcyBpbiBERVYgYnVpbGRzLlxuXG52YXIgZW5hYmxlRGVidWdUcmFjaW5nID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBvdXRlclR5cGUuZGlzcGxheU5hbWU7XG5cbiAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICB9XG5cbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcbiAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZTtcbn0gLy8gS2VlcCBpbiBzeW5jIHdpdGggcmVhY3QtcmVjb25jaWxlci9nZXRDb21wb25lbnROYW1lRnJvbUZpYmVyXG5cblxuZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAnQ29udGV4dCc7XG59XG5cbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKCdyZWFjdC5jbGllbnQucmVmZXJlbmNlJyk7IC8vIE5vdGUgdGhhdCB0aGUgcmVjb25jaWxlciBwYWNrYWdlIHNob3VsZCBnZW5lcmFsbHkgcHJlZmVyIHRvIHVzZSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKCkgaW5zdGVhZC5cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMikge1xuICAgICAgLy8gVE9ETzogQ3JlYXRlIGEgY29udmVudGlvbiBmb3IgbmFtaW5nIGNsaWVudCByZWZlcmVuY2VzIHdpdGggZGVidWcgaW5mby5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuICdGcmFnbWVudCc7XG5cbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuICdQb3J0YWwnO1xuXG4gICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgcmV0dXJuICdQcm9maWxlcic7XG5cbiAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N0cmljdE1vZGUnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2VMaXN0JztcblxuICAgIGNhc2UgUkVBQ1RfQ0FDSEVfVFlQRTpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuICdDYWNoZSc7XG4gICAgICB9XG5cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB7XG4gICAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgICBlcnJvcignUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuICcgKyAnVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHByb3ZpZGVyID0gdHlwZTtcbiAgICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgIHZhciBjb250ZXh0ID0gdHlwZTtcblxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGdldENvbnRleHROYW1lKGNvbnRleHQpICsgJy5Db25zdW1lcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICB2YXIgb3V0ZXJOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuXG4gICAgICAgIGlmIChvdXRlck5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdNZW1vJztcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl0gb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnOyAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dXG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cbmZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gIHtcbiAgICB0cnkge1xuICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LFxuICAvLyBET00gYXR0cmlidXRlLCBDU1MgcHJvcGVydHksIHN0cmluZyByZWYsIGV0Yy4pIGFuZCB3aGVuIFJlYWN0IHRyaWVkIHRvXG4gIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuICAvL1xuICAvLyBUaGUgbW9zdCBjb21tb24gdHlwZXMgdGhhdCB3aWxsIGNhdXNlIHRoaXMgZXhjZXB0aW9uIGFyZSBgU3ltYm9sYCBpbnN0YW5jZXNcbiAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcbiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzXG4gIC8vIGV4Y2VwdGlvbi4gKExpYnJhcnkgYXV0aG9ycyBkbyB0aGlzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSB1c2luZyBidWlsdC1pblxuICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cbiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLilcbiAgLy9cbiAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuXG4gIC8vXG4gIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG4gIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dFxuICAvLyB0aGF0IHNob3dzIHRoZSB0eXBlIChTeW1ib2wsIFRlbXBvcmFsLlBsYWluRGF0ZSwgZXRjLikgdGhhdCBjYXVzZWQgdGhlXG4gIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG4gIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHNcbiAgLy8gYW5jZXN0b3IgY29tcG9uZW50cyB3aGVyZSB0aGUgZXhjZXB0aW9uIGhhcHBlbmVkLlxuICAvL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIHtcbiAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG4gICAgICBlcnJvcignVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLicgKyAnIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgIC8vIHR5cGVzIHN1cHBvcnRlZCBieSBhbnkgRmxpZ2h0IGNvbmZpZ3VyYXRpb24gYW55d2hlcmUgc2luY2VcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAvLyB3aXRoLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5mdW5jdGlvbiBpc0FycmF5KGEpIHtcbiAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpO1xufVxuXG4vLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG4vLyByZXBsYXlpbmcgb24gcmVuZGVyIGZ1bmN0aW9uLiBUaGlzIGN1cnJlbnRseSBvbmx5IHBhdGNoZXMgdGhlIG9iamVjdFxuLy8gbGF6aWx5IHdoaWNoIHdvbid0IGNvdmVyIGlmIHRoZSBsb2cgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBlYWdlcmx5LlxuLy8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG52YXIgZGlzYWJsZWREZXB0aCA9IDA7XG52YXIgcHJldkxvZztcbnZhciBwcmV2SW5mbztcbnZhciBwcmV2V2FybjtcbnZhciBwcmV2RXJyb3I7XG52YXIgcHJldkdyb3VwO1xudmFyIHByZXZHcm91cENvbGxhcHNlZDtcbnZhciBwcmV2R3JvdXBFbmQ7XG5cbmZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gdHJ1ZTtcbmZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICB7XG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGRpc2FibGVkRGVwdGgrKztcbiAgfVxufVxuZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICB7XG4gICAgZGlzYWJsZWREZXB0aC0tO1xuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lW2Nhbm5vdC13cml0ZV0gRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZMb2dcbiAgICAgICAgfSksXG4gICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkluZm9cbiAgICAgICAgfSksXG4gICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldldhcm5cbiAgICAgICAgfSksXG4gICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZFcnJvclxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWRcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cEVuZFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZERlcHRoIDwgMCkge1xuICAgICAgZXJyb3IoJ2Rpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiAnICsgJ1RoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudERpc3BhdGNoZXI7XG52YXIgcHJlZml4O1xuZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cbi8qKlxuICogTGV2ZXJhZ2VzIG5hdGl2ZSBicm93c2VyL1ZNIHN0YWNrIGZyYW1lcyB0byBnZXQgcHJvcGVyIGRldGFpbHMgKGUuZy5cbiAqIGZpbGVuYW1lLCBsaW5lICsgY29sIG51bWJlcikgZm9yIGEgc2luZ2xlIGNvbXBvbmVudCBpbiBhIGNvbXBvbmVudCBzdGFjay4gV2VcbiAqIGRvIHRoaXMgYnk6XG4gKiAgICgxKSB0aHJvd2luZyBhbmQgY2F0Y2hpbmcgYW4gZXJyb3IgaW4gdGhlIGZ1bmN0aW9uIC0gdGhpcyB3aWxsIGJlIG91clxuICogICAgICAgY29udHJvbCBlcnJvci5cbiAqICAgKDIpIGNhbGxpbmcgdGhlIGNvbXBvbmVudCB3aGljaCB3aWxsIGV2ZW50dWFsbHkgdGhyb3cgYW4gZXJyb3IgdGhhdCB3ZSdsbFxuICogICAgICAgY2F0Y2ggLSB0aGlzIHdpbGwgYmUgb3VyIHNhbXBsZSBlcnJvci5cbiAqICAgKDMpIGRpZmZpbmcgdGhlIGNvbnRyb2wgYW5kIHNhbXBsZSBlcnJvciBzdGFja3MgdG8gZmluZCB0aGUgc3RhY2sgZnJhbWVcbiAqICAgICAgIHdoaWNoIHJlcHJlc2VudHMgb3VyIGNvbXBvbmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cbiAgaWYgKCFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgcmVlbnRyeSA9IHRydWU7XG4gIHZhciBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRpbmcgYSBjb21tb24gc3RhY2sgZnJhbWUgYmV0d2VlbiBzYW1wbGUgYW5kIGNvbnRyb2wgZXJyb3JzIGNhbiBiZVxuICAgKiB0cmlja3kgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcyBhbmQgbGV2ZWxzIG9mIHN0YWNrIHRyYWNlIHRydW5jYXRpb24gZnJvbVxuICAgKiBkaWZmZXJlbnQgSlMgVk1zLiBTbyBpbnN0ZWFkIHdlJ2xsIGF0dGVtcHQgdG8gY29udHJvbCB3aGF0IHRoYXQgY29tbW9uXG4gICAqIGZyYW1lIHNob3VsZCBiZSB0aHJvdWdoIHRoaXMgb2JqZWN0IG1ldGhvZDpcbiAgICogSGF2aW5nIGJvdGggdGhlIHNhbXBsZSBhbmQgY29udHJvbCBlcnJvcnMgYmUgaW4gdGhlIGZ1bmN0aW9uIHVuZGVyIHRoZVxuICAgKiBgRGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZVJvb3RgIHByb3BlcnR5LCArIHNldHRpbmcgdGhlIGBuYW1lYCBhbmRcbiAgICogYGRpc3BsYXlOYW1lYCBwcm9wZXJ0aWVzIG9mIHRoZSBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgYSBzdGFja1xuICAgKiBmcmFtZSBleGlzdHMgdGhhdCBoYXMgdGhlIG1ldGhvZCBuYW1lIGBEZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lUm9vdGAgaW5cbiAgICogaXQgZm9yIGJvdGggY29udHJvbCBhbmQgc2FtcGxlIHN0YWNrcy5cbiAgICovXG5cblxuICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udHJvbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgdGhyb3cuXG4gICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfTsgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG5cblxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgICAgIH0gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIGZvdW5kIHdoZW4gdXBncmFkaW5nIEZsb3dcblxuXG4gICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgfSAvLyBUT0RPKGx1bmEpOiBUaGlzIHdpbGwgY3VycmVudGx5IG9ubHkgdGhyb3cgaWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudFxuICAgICAgICAgIC8vIHRyaWVzIHRvIGFjY2VzcyBSZWFjdC9SZWFjdERPTS9wcm9wcy4gV2Ugc2hvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyB0aHJvd1xuICAgICAgICAgIC8vIGluIHNpbXBsZSBjb21wb25lbnRzIHRvb1xuXG5cbiAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gZm4oKTsgLy8gSWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudCByZXR1cm5zIGEgcHJvbWlzZSwgaXQncyBsaWtlbHkgYW4gYXN5bmNcbiAgICAgICAgICAvLyBjb21wb25lbnQsIHdoaWNoIHdlIGRvbid0IHlldCBzdXBwb3J0LiBBdHRhY2ggYSBub29wIGNhdGNoIGhhbmRsZXIgdG9cbiAgICAgICAgICAvLyBzaWxlbmNlIHRoZSBlcnJvci5cbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgY29tcG9uZW50IHN0YWNrcyBmb3IgYXN5bmMgY2xpZW50IGNvbXBvbmVudHM/XG5cbiAgICAgICAgICBpZiAobWF5YmVQcm9taXNlICYmIHR5cGVvZiBtYXliZVByb21pc2UuY2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBpbmxpbmVkIG1hbnVhbGx5IGJlY2F1c2UgY2xvc3VyZSBkb2Vzbid0IGRvIGl0IGZvciB1cy5cbiAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuICB9OyAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cblxuICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPSAnRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290JztcbiAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LCAnbmFtZScpOyAvLyBCZWZvcmUgRVM2LCB0aGUgYG5hbWVgIHByb3BlcnR5IHdhcyBub3QgY29uZmlndXJhYmxlLlxuXG4gIGlmIChuYW1lUHJvcERlc2NyaXB0b3IgJiYgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgIC8vIFY4IHV0aWxpemVzIGEgZnVuY3Rpb24ncyBgbmFtZWAgcHJvcGVydHkgd2hlbiBnZW5lcmF0aW5nIGEgc3RhY2sgdHJhY2UuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCwgLy8gQ29uZmlndXJhYmxlIHByb3BlcnRpZXMgY2FuIGJlIHVwZGF0ZWQgZXZlbiBpZiBpdHMgd3JpdGFibGUgZGVzY3JpcHRvclxuICAgIC8vIGlzIHNldCB0byBgZmFsc2VgLlxuICAgIC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXVxuICAgICduYW1lJywge1xuICAgICAgdmFsdWU6ICdEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QnXG4gICAgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcblxuICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgIC8vIFRoaXMgZXh0cmFjdHMgdGhlIGZpcnN0IGZyYW1lIGZyb20gdGhlIHNhbXBsZSB0aGF0IGlzbid0IGFsc28gaW4gdGhlIGNvbnRyb2wuXG4gICAgICAvLyBTa2lwcGluZyBvbmUgZnJhbWUgdGhhdCB3ZSBhc3N1bWUgaXMgdGhlIGZyYW1lIHRoYXQgY2FsbHMgdGhlIHR3by5cbiAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSAwO1xuICAgICAgdmFyIGMgPSAwO1xuXG4gICAgICB3aGlsZSAocyA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJiAhc2FtcGxlTGluZXNbc10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIHMrKztcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGMgPCBjb250cm9sTGluZXMubGVuZ3RoICYmICFjb250cm9sTGluZXNbY10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIGMrKztcbiAgICAgIH0gLy8gV2UgY291bGRuJ3QgZmluZCBvdXIgaW50ZW50aW9uYWxseSBpbmplY3RlZCBjb21tb24gcm9vdCBmcmFtZSwgYXR0ZW1wdFxuICAgICAgLy8gdG8gZmluZCBhbm90aGVyIGNvbW1vbiByb290IGZyYW1lIGJ5IHNlYXJjaCBmcm9tIHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAvLyBjb250cm9sIHN0YWNrLi4uXG5cblxuICAgICAgaWYgKHMgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fCBjID09PSBjb250cm9sTGluZXMubGVuZ3RoKSB7XG4gICAgICAgIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIFdlIGV4cGVjdCBhdCBsZWFzdCBvbmUgc3RhY2sgZnJhbWUgdG8gYmUgc2hhcmVkLlxuICAgICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAgIC8vIGVhcmxpZXIgdGhhbiB0aGUgb3RoZXIuIFdlIGFzc3VtZSB0aGF0IHRoZSBzYW1wbGUgaXMgbG9uZ2VyIG9yIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgICBjLS07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgbGluZSB3ZSBmb3VuZC5cblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmVlbnRyeSA9IGZhbHNlO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldmlvdXNEaXNwYXRjaGVyO1xuICAgICAgcmVlbmFibGVMb2dzKCk7XG4gICAgfVxuXG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlO1xuICB9IC8vIEZhbGxiYWNrIHRvIGp1c3QgdXNpbmcgdGhlIG5hbWUgaWYgd2UgY291bGRuJ3QgbWFrZSBpdCB0aHJvdy5cblxuXG4gIHZhciBuYW1lID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogJyc7XG4gIHZhciBzeW50aGV0aWNGcmFtZSA9IG5hbWUgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSA6ICcnO1xuXG4gIHtcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc3ludGhldGljRnJhbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzeW50aGV0aWNGcmFtZTtcbn1cbmZ1bmN0aW9uIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZShmbiwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIG93bmVyRm4pIHtcblxuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZSwgc2hvdWxkQ29uc3RydWN0KHR5cGUpKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZScpO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlTGlzdCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIC8vIE1lbW8gbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlLCBvd25lckZuKTtcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMYXp5IG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihpbml0KHBheWxvYWQpLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZnM7XG5cbntcbiAgZGlkV2FybkFib3V0U3RyaW5nUmVmcyA9IHt9O1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5yZWYgPT09ICdzdHJpbmcnICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgc2VsZiAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnN0YXRlTm9kZSAhPT0gc2VsZikge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIGVycm9yKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gJyArICdTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gJyArICdUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiAnICsgJ1dlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiAnICsgJ0xlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogJyArICdodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpLCBjb25maWcucmVmKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB7XG4gICAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgX3JlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIHJlZjtcblxuICB7XG4gICAgcmVmID0gX3JlZjtcbiAgfVxuXG4gIHZhciBlbGVtZW50O1xuXG4gIHtcbiAgICAvLyBJbiBwcm9kLCBgcmVmYCBpcyBhIHJlZ3VsYXIgcHJvcGVydHkuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiBhXG4gICAgLy8gZnV0dXJlIHJlbGVhc2UuXG4gICAgZWxlbWVudCA9IHtcbiAgICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBrZXk6IGtleSxcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICAgIF9vd25lcjogb3duZXJcbiAgICB9O1xuICB9XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9OyAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pOyAvLyBkZWJ1Z0luZm8gY29udGFpbnMgU2VydmVyIENvbXBvbmVudCBkZWJ1ZyBpbmZvcm1hdGlvbi5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX2RlYnVnSW5mbycsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KTtcblxuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cbnZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYkMSh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIGlmICghaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpKSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGludmFsaWQgZWxlbWVudCB0eXBlLlxuICAgICAgLy9cbiAgICAgIC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgICAvLyBzdWNjZWVkIGFuZCB0aGVyZSB3aWxsIGxpa2VseSBiZSBlcnJvcnMgaW4gcmVuZGVyLlxuICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGVTdHJpbmc7XG5cbiAgICAgIGlmICh0eXBlID09PSBudWxsKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IFwiPFwiICsgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdVbmtub3duJykgKyBcIiAvPlwiO1xuICAgICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgICB9XG5cbiAgICAgIGVycm9yKCdSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSB2YWxpZCBlbGVtZW50IHR5cGUuXG4gICAgICAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgICAgLy8gZG9lc24ndCBleHBlY3QgYSBub24tc3RyaW5nL2Z1bmN0aW9uIHR5cGUgYW5kIGNhbiB0aHJvdyBjb25mdXNpbmdcbiAgICAgIC8vIGVycm9ycy4gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZFxuICAgICAgLy8gcHJvZC4gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlXG4gICAgICAvLyB0eXBlIGlzIGZpeGVkLCB0aGUga2V5IHdhcm5pbmdzIHdpbGwgYXBwZWFyLilcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcblxuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baV0sIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuICcgKyAnWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiAnICsgJ1VzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gV2FybiBhYm91dCBrZXkgc3ByZWFkIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgdHlwZSBpcyB2YWxpZC5cblxuXG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gayAhPT0gJ2tleSc7XG4gICAgICB9KTtcbiAgICAgIHZhciBiZWZvcmVFeGFtcGxlID0ga2V5cy5sZW5ndGggPiAwID8gJ3trZXk6IHNvbWVLZXksICcgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3trZXk6IHNvbWVLZXl9JztcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdKSB7XG4gICAgICAgIHZhciBhZnRlckV4YW1wbGUgPSBrZXlzLmxlbmd0aCA+IDAgPyAneycgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3t9JztcblxuICAgICAgICBlcnJvcignQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMgey4uLnByb3BzfSAvPlxcbicgKyAnUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JywgYmVmb3JlRXhhbXBsZSwgY29tcG9uZW50TmFtZSwgYWZ0ZXJFeGFtcGxlLCBjb21wb25lbnROYW1lKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcbiAgICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgICAvLyBvciA8ZGl2IGtleT1cIkhpXCIgey4uLnByb3BzfSAvPiApLiBXZSB3YW50IHRvIGRlcHJlY2F0ZSBrZXkgc3ByZWFkLFxuICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuICAgIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gICAgLy8ga2V5IGlzIGV4cGxpY2l0bHkgZGVjbGFyZWQgdG8gYmUgdW5kZWZpbmVkIG9yIG5vdC5cblxuICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgfVxuXG4gICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmIC8vIFNraXAgb3ZlciByZXNlcnZlZCBwcm9wIG5hbWVzXG4gICAgICBwcm9wTmFtZSAhPT0gJ2tleScgJiYgKHByb3BOYW1lICE9PSAncmVmJykpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIHtcbiAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnIHx8ICFub2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UpIDsgZWxzZSBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuXG4gICAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7IC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gICAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAgIC8vIGFzc2lnbmluZyBpdCBhIGtleS5cblxuICAgIHZhciBjaGlsZE93bmVyID0gJyc7XG5cbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgICBjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkgKyBcIi5cIjtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgIGVycm9yKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAge1xuICAgIHZhciBpbmZvID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG5cbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpO1xuXG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudE5hbWUgKyBcIj4uXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZnJhZ21lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gcmVuZGVyIHBoYXNlIGluc3RlYWQgb2YgYXQgZWxlbWVudCBjcmVhdGlvbi5cbiAge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgZXJyb3IoJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJyk7XG5cbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIganN4REVWID0ganN4REVWJDEgO1xuXG5leHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbmV4cG9ydHMuanN4REVWID0ganN4REVWO1xuICB9KSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanM/YTM1NCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["main-app"], function() { return __webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2F3017387smacbookm%2FDownloads%2FCareer%2FTithi%2Fapps%2Fweb%2Fsrc%2Fapp%2Fapp%2Fb%2F%5BbusinessId%5D%2Fanalytics%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);