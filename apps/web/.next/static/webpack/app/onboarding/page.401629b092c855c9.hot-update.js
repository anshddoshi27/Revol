"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/onboarding/page",{

/***/ "(app-pages-browser)/./src/components/onboarding/availability-step.tsx":
/*!*********************************************************!*\
  !*** ./src/components/onboarding/availability-step.tsx ***!
  \*********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AvailabilityStep: function() { return /* binding */ AvailabilityStep; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar-check-2.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_helper_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/helper-text */ \"(app-pages-browser)/./src/components/ui/helper-text.tsx\");\n/* harmony import */ var _components_ui_label__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/label */ \"(app-pages-browser)/./src/components/ui/label.tsx\");\n/* harmony import */ var _components_onboarding_step_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/onboarding/step-actions */ \"(app-pages-browser)/./src/components/onboarding/step-actions.tsx\");\n/* harmony import */ var _components_onboarding_test_data_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/onboarding/test-data-button */ \"(app-pages-browser)/./src/components/onboarding/test-data-button.tsx\");\n/* harmony import */ var _lib_test_data_generator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/test-data-generator */ \"(app-pages-browser)/./src/lib/test-data-generator.ts\");\n/* harmony import */ var _lib_timezone__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/timezone */ \"(app-pages-browser)/./src/lib/timezone.ts\");\n/* harmony import */ var _lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/availability-utils */ \"(app-pages-browser)/./src/lib/availability-utils.ts\");\n/* harmony import */ var _lib_supabase_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\");\n/* __next_internal_client_entry_do_not_use__ AvailabilityStep auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nfunction AvailabilityStep(param) {\n    let { services, staff, defaultValues, onNext, onBack, timezone = \"America/New_York\" // Default timezone\n     } = param;\n    var _staff_find;\n    _s();\n    const [currentWeekStart, setCurrentWeekStart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        const today = new Date();\n        const dayOfWeek = today.getDay();\n        const diff = today.getDate() - dayOfWeek;\n        const sunday = new Date(today.setDate(diff));\n        sunday.setHours(0, 0, 0, 0);\n        return sunday;\n    });\n    const [selectedServiceId, setSelectedServiceId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedStaffId, setSelectedStaffId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"any\"); // \"any\" means show all staff\n    const [fetchedSlots, setFetchedSlots] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isSavingAvailability, setIsSavingAvailability] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Track saved availability during this onboarding session\n    const [savedAvailability, setSavedAvailability] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Pending availability additions - slots clicked but not yet saved\n    const [pendingAvailabilityAdditions, setPendingAvailabilityAdditions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Get all services for dropdown\n    const allServices = services.flatMap((category)=>category.services.map((service)=>({\n                ...service,\n                categoryName: category.name\n            })));\n    // When service changes, load saved availability for that service\n    // This ensures saved slots persist when switching between services\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!selectedServiceId) {\n            setFetchedSlots([]);\n            return;\n        }\n        const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n        if (!selectedService) {\n            setFetchedSlots([]);\n            return;\n        }\n        // Check if we have saved availability for this service in state\n        const serviceAvail = savedAvailability.find((avail)=>avail.serviceId === selectedServiceId);\n        if (serviceAvail) {\n            // Expand saved slots for this service\n            const weekStart = new Date(currentWeekStart);\n            weekStart.setHours(0, 0, 0, 0);\n            const expandedSlots = (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.buildExpandedSlots)({\n                service: selectedService,\n                serviceAvailability: serviceAvail,\n                staff: staff,\n                timezone: timezone,\n                startDate: weekStart,\n                horizonDays: 14,\n                includePastSlots: true\n            });\n            setFetchedSlots(expandedSlots);\n        } else {\n            // No saved availability for this service yet - start with empty calendar\n            setFetchedSlots([]);\n        }\n    }, [\n        selectedServiceId,\n        savedAvailability,\n        allServices,\n        staff,\n        timezone,\n        currentWeekStart\n    ]);\n    // Group slots by day - during onboarding, we only show pending slots and saved slots from this session\n    const groupedSlots = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!selectedServiceId) return {};\n        // Combine fetched slots (saved during this session) with any additional slots\n        return (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.groupSlotsByDay)(fetchedSlots, timezone);\n    }, [\n        fetchedSlots,\n        timezone,\n        selectedServiceId\n    ]);\n    // Generate days of the week\n    const weekDays = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const days = [];\n        for(let i = 0; i < 7; i++){\n            const date = new Date(currentWeekStart);\n            date.setDate(currentWeekStart.getDate() + i);\n            days.push(date);\n        }\n        return days;\n    }, [\n        currentWeekStart\n    ]);\n    // Generate hours from 8 AM to 8 PM (matching booking flow)\n    const hours = Array.from({\n        length: 13\n    }, (_, i)=>i + 8);\n    // Group availability slots by day and hour (including pending additions)\n    const slotsByDayAndHour = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const grouped = {};\n        // Flatten all slots from all days\n        const allSlots = Object.values(groupedSlots).flat();\n        // Add fetched slots\n        allSlots.forEach((slot)=>{\n            const slotDate = new Date(slot.startDateTime);\n            const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(slotDate, timezone, \"yyyy-MM-dd\");\n            const hour = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(slotDate, timezone, {\n                hour: \"numeric\",\n                hour12: false\n            });\n            const hourNum = parseInt(hour, 10);\n            // Only include slots that are in the current week\n            const isInCurrentWeek = weekDays.some((day)=>{\n                const dayKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                return dayKey === dateKey;\n            });\n            if (!isInCurrentWeek) return;\n            if (!grouped[dateKey]) {\n                grouped[dateKey] = {};\n            }\n            if (!grouped[dateKey][hourNum]) {\n                grouped[dateKey][hourNum] = [];\n            }\n            // Check for duplicates (same hour, same staff, same date)\n            const isDuplicate = grouped[dateKey][hourNum].some((existing)=>existing.staffId === slot.staffId && existing.startDateTime === slot.startDateTime);\n            if (!isDuplicate) {\n                grouped[dateKey][hourNum].push(slot);\n            }\n        });\n        // Add pending availability additions as visual slots\n        if (selectedServiceId) {\n            const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n            if (selectedService) {\n                pendingAvailabilityAdditions.forEach((pending)=>{\n                    const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(pending.date, timezone, \"yyyy-MM-dd\");\n                    const hourNum = pending.hour;\n                    // Only include if in current week\n                    const isInCurrentWeek = weekDays.some((day)=>{\n                        const dayKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                        return dayKey === dateKey;\n                    });\n                    if (!isInCurrentWeek) return;\n                    if (!grouped[dateKey]) {\n                        grouped[dateKey] = {};\n                    }\n                    if (!grouped[dateKey][hourNum]) {\n                        grouped[dateKey][hourNum] = [];\n                    }\n                    // Check if this pending slot already exists as pending (don't duplicate)\n                    const alreadyPending = grouped[dateKey][hourNum].some((existing)=>existing.staffId === pending.staffId && existing.id && existing.id.startsWith(\"pending-\"));\n                    if (!alreadyPending) {\n                        // Remove any saved slot for the same time/staff (pending replaces saved)\n                        grouped[dateKey][hourNum] = grouped[dateKey][hourNum].filter((existing)=>{\n                            var _existing_id;\n                            return !(existing.staffId === pending.staffId && !((_existing_id = existing.id) === null || _existing_id === void 0 ? void 0 : _existing_id.startsWith(\"pending-\")));\n                        });\n                        const staffMember = staff.find((s)=>s.id === pending.staffId);\n                        const startDateTime = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.zonedMinutesToDate)(pending.date, pending.hour * 60, timezone);\n                        const endDateTime = new Date(startDateTime.getTime() + selectedService.durationMinutes * 60 * 1000);\n                        grouped[dateKey][hourNum].push({\n                            id: \"pending-\".concat(pending.staffId, \"-\").concat(dateKey, \"-\").concat(hourNum),\n                            serviceId: selectedServiceId,\n                            staffId: pending.staffId,\n                            staffName: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.name) || \"Unknown\",\n                            staffColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) || \"#000000\",\n                            startDateTime: startDateTime.toISOString(),\n                            endDateTime: endDateTime.toISOString(),\n                            dayLabel: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(pending.date, timezone, {\n                                weekday: \"long\"\n                            })\n                        });\n                    }\n                });\n            }\n        }\n        return grouped;\n    }, [\n        groupedSlots,\n        weekDays,\n        timezone,\n        pendingAvailabilityAdditions,\n        selectedServiceId,\n        allServices,\n        staff\n    ]);\n    const navigateWeek = (direction)=>{\n        const newDate = new Date(currentWeekStart);\n        newDate.setDate(newDate.getDate() + (direction === \"next\" ? 7 : -7));\n        setCurrentWeekStart(newDate);\n    };\n    const handleEmptySlotClick = (day, hour)=>{\n        if (!selectedServiceId) {\n            setError(\"Please select a service first\");\n            return;\n        }\n        const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n        if (!selectedService) {\n            setError(\"Service not found\");\n            return;\n        }\n        // Get staff members assigned to this service\n        const serviceStaff = staff.filter((member)=>{\n            if (member.active === false) return false;\n            return selectedService.staffIds.includes(member.id);\n        });\n        if (serviceStaff.length === 0) {\n            setError(\"No staff members assigned to this service\");\n            return;\n        }\n        // Determine which staff members to add/remove availability for\n        const staffToProcess = selectedStaffId !== \"any\" ? [\n            serviceStaff.find((m)=>m.id === selectedStaffId)\n        ].filter(Boolean) : serviceStaff;\n        if (staffToProcess.length === 0) {\n            return;\n        }\n        // Check if ALL selected staff already have this slot pending\n        const allPending = staffToProcess.every((member)=>pendingAvailabilityAdditions.some((pending)=>pending.staffId === member.id && pending.date.toDateString() === day.toDateString() && pending.hour === hour));\n        if (allPending) {\n            // Remove for all selected staff (toggle off)\n            setPendingAvailabilityAdditions((prev)=>prev.filter((pending)=>{\n                    const isSelectedStaff = staffToProcess.some((m)=>m.id === pending.staffId);\n                    return !(isSelectedStaff && pending.date.toDateString() === day.toDateString() && pending.hour === hour);\n                }));\n        } else {\n            // Add for all selected staff (or just the one selected)\n            const newAdditions = staffToProcess.filter((member)=>{\n                // Only add if not already pending\n                return !pendingAvailabilityAdditions.some((pending)=>pending.staffId === member.id && pending.date.toDateString() === day.toDateString() && pending.hour === hour);\n            }).map((member)=>({\n                    staffId: member.id,\n                    date: day,\n                    hour\n                }));\n            if (newAdditions.length > 0) {\n                setPendingAvailabilityAdditions((prev)=>[\n                        ...prev,\n                        ...newAdditions\n                    ]);\n            }\n        }\n        setError(null);\n    };\n    const handleSaveAvailability = async ()=>{\n        if (!selectedServiceId || pendingAvailabilityAdditions.length === 0) return true;\n        setIsSavingAvailability(true);\n        setError(null);\n        try {\n            // Get auth token from Supabase client\n            const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_10__.createClientClient)();\n            const { data: { session } } = await supabase.auth.getSession();\n            const authToken = session === null || session === void 0 ? void 0 : session.access_token;\n            const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n            if (!selectedService) {\n                throw new Error(\"Selected service not found\");\n            }\n            // Use savedAvailability state (which has temporary IDs) as the base\n            // This ensures consistency - we don't mix real UUIDs from API with temporary IDs\n            // The API handles ID mapping when saving, but our state keeps temporary IDs\n            let allAvailability = [\n                ...savedAvailability\n            ];\n            // Find or create service availability entry for the current service\n            let serviceAvailability = allAvailability.find((avail)=>avail.serviceId === selectedServiceId);\n            if (!serviceAvailability) {\n                serviceAvailability = {\n                    serviceId: selectedServiceId,\n                    staff: []\n                };\n                allAvailability.push(serviceAvailability);\n            }\n            // Process all pending additions\n            for (const pending of pendingAvailabilityAdditions){\n                const targetDate = pending.date;\n                const targetHour = pending.hour;\n                const staffId = pending.staffId;\n                // Get weekday name from the date (timezone-aware)\n                // Store as lowercase to match buildExpandedSlots expectation and API format\n                const weekdayName = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(targetDate, timezone, {\n                    weekday: \"long\"\n                });\n                const weekday = weekdayName.toLowerCase();\n                // Format time as HH:mm\n                const startTime = \"\".concat(String(targetHour).padStart(2, \"0\"), \":00\");\n                // Calculate end time based on service duration\n                const startMinutes = targetHour * 60;\n                const endMinutes = startMinutes + selectedService.durationMinutes;\n                const endHour = Math.floor(endMinutes / 60);\n                const endMin = endMinutes % 60;\n                const endTime = \"\".concat(String(endHour).padStart(2, \"0\"), \":\").concat(String(endMin).padStart(2, \"0\"));\n                // Find or create staff availability entry\n                let staffAvailability = serviceAvailability.staff.find((s)=>s.staffId === staffId);\n                if (!staffAvailability) {\n                    staffAvailability = {\n                        staffId: staffId,\n                        slots: []\n                    };\n                    serviceAvailability.staff.push(staffAvailability);\n                }\n                // Check if this slot already exists\n                const slotExists = staffAvailability.slots.some((slot)=>slot.day === weekday && slot.startTime === startTime && slot.endTime === endTime);\n                if (!slotExists) {\n                    // Add the new slot\n                    staffAvailability.slots.push({\n                        id: \"slot-\".concat(Date.now(), \"-\").concat(Math.random()),\n                        day: weekday,\n                        startTime: startTime,\n                        endTime: endTime\n                    });\n                }\n            }\n            // Save all changes to API\n            const saveResponse = await fetch(\"/api/business/onboarding/step-7-availability\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    ...authToken && {\n                        \"Authorization\": \"Bearer \".concat(authToken)\n                    }\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    availability: allAvailability\n                })\n            });\n            if (!saveResponse.ok) {\n                const errorData = await saveResponse.json().catch(()=>({}));\n                throw new Error(errorData.error || \"Failed to save availability\");\n            }\n            // Update saved availability state with the data we just saved\n            // allAvailability already contains all services (merged from savedAvailability state)\n            // and now has the updated slots for the current service\n            // This preserves availability for all services with temporary IDs\n            setSavedAvailability(allAvailability);\n            // Expand the saved slots FIRST before clearing pending additions\n            // This ensures a smooth transition from pending to saved\n            const serviceAvail = allAvailability.find((avail)=>avail.serviceId === selectedServiceId);\n            if (selectedService && serviceAvail) {\n                // Start from the beginning of the current week to show all slots in the week view\n                const weekStart = new Date(currentWeekStart);\n                weekStart.setHours(0, 0, 0, 0);\n                const expandedSlots = (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.buildExpandedSlots)({\n                    service: selectedService,\n                    serviceAvailability: serviceAvail,\n                    staff: staff,\n                    timezone: timezone,\n                    startDate: weekStart,\n                    horizonDays: 14,\n                    includePastSlots: true // Show all slots in the current week view for onboarding\n                });\n                // Update fetchedSlots with saved slots BEFORE clearing pending\n                // This ensures saved slots appear immediately\n                setFetchedSlots(expandedSlots);\n            } else {\n                setFetchedSlots([]);\n            }\n            // Clear pending additions AFTER we've updated the saved slots\n            // This ensures slots switch from \"Pending\" to \"Saved\" smoothly\n            setPendingAvailabilityAdditions([]);\n            return true; // Success\n        } catch (error) {\n            console.error(\"Error saving availability:\", error);\n            setError(\"Failed to save availability: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n            return false; // Failure\n        } finally{\n            setIsSavingAvailability(false);\n        }\n    };\n    const handleContinue = async ()=>{\n        setError(null);\n        // Before continuing, save any pending availability\n        if (pendingAvailabilityAdditions.length > 0 && selectedServiceId) {\n            const saveSuccess = await handleSaveAvailability();\n            if (!saveSuccess) {\n                // Error already set by handleSaveAvailability\n                return; // Don't continue if save failed\n            }\n        }\n        // Convert saved availability to ServiceAvailability format\n        // Use saved availability from this session, or convert pending if nothing saved yet\n        let result = savedAvailability.length > 0 ? savedAvailability : [];\n        // If we have no saved availability but have pending, convert pending\n        if (result.length === 0 && pendingAvailabilityAdditions.length > 0 && selectedServiceId) {\n            result = mapPendingToServiceAvailability();\n        }\n        // Validate that services with staff have at least one slot\n        const servicesNeedingAvailability = result.filter((service)=>{\n            // Check if this service has staff assigned\n            const serviceDef = allServices.find((s)=>s.id === service.serviceId);\n            if (!serviceDef || serviceDef.staffIds.length === 0) return false;\n            // Check if all staff have slots\n            return service.staff.length > 0 && service.staff.every((staffEntry)=>staffEntry.slots.length === 0);\n        });\n        if (servicesNeedingAvailability.length) {\n            const serviceDef = allServices.find((s)=>s.id === servicesNeedingAvailability[0].serviceId);\n            setError('Add at least one availability slot for service \"'.concat((serviceDef === null || serviceDef === void 0 ? void 0 : serviceDef.name) || servicesNeedingAvailability[0].serviceId, '\". Each service with staff needs availability to appear in booking.'));\n            return;\n        }\n        await onNext(result);\n    };\n    const mapPendingToServiceAvailability = ()=>{\n        // This is a fallback if no current availability exists\n        // Convert pending additions to ServiceAvailability format\n        const result = [];\n        if (!selectedServiceId || pendingAvailabilityAdditions.length === 0) {\n            return result;\n        }\n        const serviceAvailability = {\n            serviceId: selectedServiceId,\n            staff: []\n        };\n        const staffMap = new Map();\n        const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n        if (!selectedService) return result;\n        for (const pending of pendingAvailabilityAdditions){\n            const staffId = pending.staffId;\n            const targetDate = pending.date;\n            const targetHour = pending.hour;\n            // Store weekday as lowercase to match buildExpandedSlots expectation and API format\n            const weekdayName = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(targetDate, timezone, {\n                weekday: \"long\"\n            });\n            const weekday = weekdayName.toLowerCase();\n            const startTime = \"\".concat(String(targetHour).padStart(2, \"0\"), \":00\");\n            const startMinutes = targetHour * 60;\n            const endMinutes = startMinutes + selectedService.durationMinutes;\n            const endHour = Math.floor(endMinutes / 60);\n            const endMin = endMinutes % 60;\n            const endTime = \"\".concat(String(endHour).padStart(2, \"0\"), \":\").concat(String(endMin).padStart(2, \"0\"));\n            if (!staffMap.has(staffId)) {\n                staffMap.set(staffId, []);\n            }\n            const slots = staffMap.get(staffId);\n            const slotExists = slots.some((slot)=>slot.day === weekday && slot.startTime === startTime && slot.endTime === endTime);\n            if (!slotExists) {\n                slots.push({\n                    id: \"slot-\".concat(Date.now(), \"-\").concat(Math.random()),\n                    day: weekday,\n                    startTime: startTime,\n                    endTime: endTime\n                });\n            }\n        }\n        for (const [staffId, slots] of staffMap.entries()){\n            serviceAvailability.staff.push({\n                staffId,\n                slots\n            });\n        }\n        if (serviceAvailability.staff.length > 0) {\n            result.push(serviceAvailability);\n        }\n        return result;\n    };\n    const handleFillTestData = async ()=>{\n        const testData = (0,_lib_test_data_generator__WEBPACK_IMPORTED_MODULE_7__.generateAvailabilityData)(services, staff);\n        // Save test data via API\n        try {\n            const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_10__.createClientClient)();\n            const { data: { session } } = await supabase.auth.getSession();\n            const authToken = session === null || session === void 0 ? void 0 : session.access_token;\n            const response = await fetch(\"/api/business/onboarding/step-7-availability\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    ...authToken && {\n                        \"Authorization\": \"Bearer \".concat(authToken)\n                    }\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    availability: testData\n                })\n            });\n            if (response.ok) {\n                setSavedAvailability(testData);\n                if (selectedServiceId) {\n                    const serviceAvail = testData.find((avail)=>avail.serviceId === selectedServiceId);\n                    const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n                    if (selectedService && serviceAvail) {\n                        const today = new Date();\n                        const expandedSlots = (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.buildExpandedSlots)({\n                            service: selectedService,\n                            serviceAvailability: serviceAvail,\n                            staff: staff,\n                            timezone: timezone,\n                            startDate: today,\n                            horizonDays: 14\n                        });\n                        setFetchedSlots(expandedSlots);\n                    }\n                }\n                setError(null);\n            }\n        } catch (error) {\n            console.error(\"Error filling test data:\", error);\n            setError(\"Failed to load test data\");\n        }\n    };\n    const monthYear = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(weekDays[0], timezone, {\n        month: \"long\",\n        year: \"numeric\"\n    });\n    const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-8\",\n        \"aria-labelledby\": \"availability-step-heading\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"inline-flex items-center gap-2 rounded-full border border-primary/30 bg-primary/10 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-primary/90\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 623,\n                                columnNumber: 11\n                            }, this),\n                            \"Step 7 \\xb7 Availability\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 622,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        id: \"availability-step-heading\",\n                        className: \"font-display text-3xl text-white\",\n                        children: \"Set availability by clicking time slots\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 626,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"max-w-3xl text-base text-white/70\",\n                        children: 'Select a service and staff member, then click empty time slots to add availability. Click again to remove. Click \"Save Availability\" when done, then continue to the next step. This availability will be used in your booking flow.'\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 629,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 621,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"rounded-3xl border border-white/10 bg-white/5 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_label__WEBPACK_IMPORTED_MODULE_4__.Label, {\n                        className: \"text-white/70 mb-2 block\",\n                        children: \"Filter by Service\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 636,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        className: \"w-full rounded-2xl border border-white/15 bg-[#050F2C]/60 px-4 py-3 text-sm text-white focus:border-primary focus:outline-none\",\n                        value: selectedServiceId || \"\",\n                        onChange: (e)=>{\n                            setSelectedServiceId(e.target.value || null);\n                            // Clear pending availability when changing service\n                            setPendingAvailabilityAdditions([]);\n                            setError(null);\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"\",\n                                className: \"bg-[#050F2C] text-white\",\n                                children: \"All Services\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 647,\n                                columnNumber: 11\n                            }, this),\n                            allServices.map((service)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: service.id,\n                                    className: \"bg-[#050F2C] text-white\",\n                                    children: [\n                                        service.categoryName,\n                                        \" - \",\n                                        service.name,\n                                        \" (\",\n                                        service.durationMinutes,\n                                        \" min \\xb7 $\",\n                                        (service.priceCents / 100).toFixed(2),\n                                        \")\"\n                                    ]\n                                }, service.id, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 651,\n                                    columnNumber: 13\n                                }, this))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 637,\n                        columnNumber: 9\n                    }, this),\n                    selectedService && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-xs text-white/60\",\n                        children: [\n                            \"Showing availability for: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                className: \"text-white\",\n                                children: selectedService.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 659,\n                                columnNumber: 39\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 658,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 635,\n                columnNumber: 7\n            }, this),\n            selectedServiceId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"rounded-3xl border border-white/10 bg-white/5 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_label__WEBPACK_IMPORTED_MODULE_4__.Label, {\n                        className: \"text-white/70 mb-3 block\",\n                        children: \"Select Staff Member\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 667,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                                label: \"All Staff\",\n                                active: selectedStaffId === \"any\",\n                                onClick: ()=>{\n                                    setSelectedStaffId(\"any\");\n                                // Don't clear pending - keep all pending slots visible\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 669,\n                                columnNumber: 13\n                            }, this),\n                            staff.filter((member)=>{\n                                if (member.active === false) return false;\n                                // Only show staff assigned to this service\n                                if (selectedService) {\n                                    return selectedService.staffIds.includes(member.id);\n                                }\n                                return true;\n                            }).map((member)=>{\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                                    label: member.name,\n                                    color: member.color,\n                                    active: selectedStaffId === member.id,\n                                    onClick: ()=>{\n                                        // Don't clear pending - keep all pending slots visible when switching staff\n                                        setSelectedStaffId(member.id);\n                                    }\n                                }, member.id, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 688,\n                                    columnNumber: 19\n                                }, this);\n                            })\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 668,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_3__.HelperText, {\n                        className: \"mt-3 text-white/50\",\n                        children: selectedStaffId === \"any\" ? \"Select a staff member above, then click empty time slots to add availability\" : \"Adding availability for \".concat((_staff_find = staff.find((s)=>s.id === selectedStaffId)) === null || _staff_find === void 0 ? void 0 : _staff_find.name, '. Click empty time slots to add availability. Click \"Save\" when done.')\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 702,\n                        columnNumber: 11\n                    }, this),\n                    pendingAvailabilityAdditions.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 flex items-center justify-between rounded-2xl border border-primary/40 bg-primary/10 px-4 py-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm font-semibold text-white\",\n                                        children: [\n                                            pendingAvailabilityAdditions.length,\n                                            \" availability slot\",\n                                            pendingAvailabilityAdditions.length > 1 ? \"s\" : \"\",\n                                            \" pending\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 710,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-white/60\",\n                                        children: 'Click \"Save\" to apply changes to the booking system'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 713,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 709,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        variant: \"ghost\",\n                                        onClick: ()=>setPendingAvailabilityAdditions([]),\n                                        disabled: isSavingAvailability,\n                                        children: \"Clear\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 718,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        onClick: handleSaveAvailability,\n                                        isLoading: isSavingAvailability,\n                                        disabled: isSavingAvailability,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                className: \"mr-2 h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                lineNumber: 730,\n                                                columnNumber: 19\n                                            }, this),\n                                            \"Save Availability\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 725,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 717,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 708,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 666,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between rounded-3xl border border-white/10 bg-white/5 px-6 py-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"ghost\",\n                        onClick: ()=>navigateWeek(\"prev\"),\n                        className: \"text-white/70 hover:text-white\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            className: \"h-5 w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 746,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 741,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold text-white\",\n                                children: monthYear\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 749,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-white/60\",\n                                children: [\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(weekDays[0], timezone, {\n                                        month: \"short\",\n                                        day: \"numeric\"\n                                    }),\n                                    \" -\",\n                                    \" \",\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(weekDays[6], timezone, {\n                                        month: \"short\",\n                                        day: \"numeric\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 750,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 748,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"ghost\",\n                        onClick: ()=>navigateWeek(\"next\"),\n                        className: \"text-white/70 hover:text-white\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            className: \"h-5 w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 760,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 755,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 740,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.15)]\",\n                children: !selectedServiceId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-base\",\n                        children: \"Select a service above to add availability\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 768,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 767,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"overflow-x-auto\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"min-w-full\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-8 gap-2 border-b border-white/10 pb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs font-semibold text-white/60\",\n                                        children: \"Time\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 775,\n                                        columnNumber: 17\n                                    }, this),\n                                    weekDays.map((day, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs font-semibold text-white/60\",\n                                                    children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, {\n                                                        weekday: \"short\"\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                    lineNumber: 778,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm font-semibold text-white\",\n                                                    children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, {\n                                                        day: \"numeric\"\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                    lineNumber: 781,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, idx, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 777,\n                                            columnNumber: 19\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 774,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 space-y-1\",\n                                children: hours.map((hour)=>{\n                                    const hourLabel = hour === 12 ? \"12 PM\" : hour > 12 ? \"\".concat(hour - 12, \" PM\") : \"\".concat(hour, \" AM\");\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-8 gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center text-xs text-white/60 py-2\",\n                                                children: hourLabel\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                lineNumber: 794,\n                                                columnNumber: 23\n                                            }, this),\n                                            weekDays.map((day, dayIdx)=>{\n                                                var _slotsByDayAndHour_dateKey;\n                                                const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                                                const slotsForHour = ((_slotsByDayAndHour_dateKey = slotsByDayAndHour[dateKey]) === null || _slotsByDayAndHour_dateKey === void 0 ? void 0 : _slotsByDayAndHour_dateKey[hour]) || [];\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"py-1\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-1\",\n                                                        children: [\n                                                            slotsForHour.map((slot)=>{\n                                                                const staffMember = staff.find((s)=>s.id === slot.staffId);\n                                                                const isPending = slot.id && slot.id.startsWith(\"pending-\");\n                                                                const isSelectedStaff = selectedStaffId !== \"any\" && slot.staffId === selectedStaffId;\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    onClick: isPending && isSelectedStaff ? ()=>{\n                                                                        // Remove pending slot on click\n                                                                        const slotDateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                                                                        setPendingAvailabilityAdditions((prev)=>prev.filter((pending)=>{\n                                                                                const pendingDateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(pending.date, timezone, \"yyyy-MM-dd\");\n                                                                                return !(pending.staffId === slot.staffId && pendingDateKey === slotDateKey && pending.hour === hour);\n                                                                            }));\n                                                                    } : undefined,\n                                                                    className: \"w-full rounded-lg border px-2 py-1.5 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 \".concat(isPending ? \"border-primary/60 bg-primary/20 hover:border-red-500/60 hover:bg-red-500/20\" : \"border-primary/40 bg-primary/20 hover:border-primary/60 hover:bg-primary/30\"),\n                                                                    style: {\n                                                                        borderColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"80\") : undefined,\n                                                                        backgroundColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"20\") : undefined\n                                                                    },\n                                                                    title: isPending && isSelectedStaff ? \"Click to remove\" : undefined,\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs font-semibold text-white\",\n                                                                            children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(new Date(slot.startDateTime), timezone, {\n                                                                                hour: \"numeric\",\n                                                                                minute: \"2-digit\"\n                                                                            })\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                            lineNumber: 839,\n                                                                            columnNumber: 37\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-white/70 mt-0.5 truncate\",\n                                                                            children: slot.staffName\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                            lineNumber: 842,\n                                                                            columnNumber: 37\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] mt-0.5 truncate \".concat(isPending ? \"text-primary/90 font-semibold\" : \"text-emerald-400/90 font-semibold\"),\n                                                                            children: isPending ? \" Pending\" : \" Saved\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                            lineNumber: 845,\n                                                                            columnNumber: 37\n                                                                        }, this)\n                                                                    ]\n                                                                }, slot.id, true, {\n                                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                    lineNumber: 811,\n                                                                    columnNumber: 35\n                                                                }, this);\n                                                            }),\n                                                            slotsForHour.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                type: \"button\",\n                                                                onClick: ()=>handleEmptySlotClick(day, hour),\n                                                                className: \"h-full w-full rounded-lg bg-white/5 border border-white/5 hover:border-primary/40 hover:bg-primary/10 py-1.5 transition cursor-pointer\",\n                                                                title: \"Click to add availability\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-[10px] text-white/20 text-center\",\n                                                                    children: \"+ Add\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                    lineNumber: 860,\n                                                                    columnNumber: 35\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                lineNumber: 854,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                        lineNumber: 803,\n                                                        columnNumber: 29\n                                                    }, this)\n                                                }, dayIdx, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                    lineNumber: 802,\n                                                    columnNumber: 27\n                                                }, this);\n                                            })\n                                        ]\n                                    }, hour, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 793,\n                                        columnNumber: 21\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 789,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 772,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 771,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 765,\n                columnNumber: 7\n            }, this),\n            error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_3__.HelperText, {\n                intent: \"error\",\n                role: \"alert\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 877,\n                columnNumber: 9\n            }, this) : null,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-8 flex items-center justify-end gap-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_test_data_button__WEBPACK_IMPORTED_MODULE_6__.TestDataButton, {\n                    onClick: handleFillTestData\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 883,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 882,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_step_actions__WEBPACK_IMPORTED_MODULE_5__.StepActions, {\n                onBack: onBack,\n                onNext: handleContinue\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 887,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n        lineNumber: 620,\n        columnNumber: 5\n    }, this);\n}\n_s(AvailabilityStep, \"DKHOWPDmbaS3BrHC5AI19g8x/jA=\");\n_c = AvailabilityStep;\nfunction StaffPill(param) {\n    let { label, color, active, onClick } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"button\",\n        onClick: onClick,\n        className: \"rounded-full border px-4 py-2 text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black \".concat(active ? \"border-white/60 bg-white/15 text-white\" : \"border-white/10 bg-white/5 text-white/60 hover:text-white/80\"),\n        style: active && color ? {\n            borderColor: color,\n            boxShadow: \"0 0 25px \".concat(color, \"33\")\n        } : undefined,\n        children: label\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n        lineNumber: 904,\n        columnNumber: 5\n    }, this);\n}\n_c1 = StaffPill;\nvar _c, _c1;\n$RefreshReg$(_c, \"AvailabilityStep\");\n$RefreshReg$(_c1, \"StaffPill\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL29uYm9hcmRpbmcvYXZhaWxhYmlsaXR5LXN0ZXAudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFcUQ7QUFDNkI7QUFFbEM7QUFDUztBQUNYO0FBQ3FCO0FBQ087QUFDTDtBQUNzQjtBQUNtQjtBQUNuRDtBQWtCcEQsU0FBU2tCLGlCQUFpQixLQU9UO1FBUFMsRUFDL0JDLFFBQVEsRUFDUkMsS0FBSyxFQUNMQyxhQUFhLEVBQ2JDLE1BQU0sRUFDTkMsTUFBTSxFQUNOQyxXQUFXLG1CQUFtQixtQkFBbUI7SUFBcEIsRUFDUCxHQVBTO1FBaXFCVUo7O0lBenBCekMsTUFBTSxDQUFDSyxrQkFBa0JDLG9CQUFvQixHQUFHekIsK0NBQVFBLENBQUM7UUFDdkQsTUFBTTBCLFFBQVEsSUFBSUM7UUFDbEIsTUFBTUMsWUFBWUYsTUFBTUcsTUFBTTtRQUM5QixNQUFNQyxPQUFPSixNQUFNSyxPQUFPLEtBQUtIO1FBQy9CLE1BQU1JLFNBQVMsSUFBSUwsS0FBS0QsTUFBTU8sT0FBTyxDQUFDSDtRQUN0Q0UsT0FBT0UsUUFBUSxDQUFDLEdBQUcsR0FBRyxHQUFHO1FBQ3pCLE9BQU9GO0lBQ1Q7SUFDQSxNQUFNLENBQUNHLG1CQUFtQkMscUJBQXFCLEdBQUdwQywrQ0FBUUEsQ0FBZ0I7SUFDMUUsTUFBTSxDQUFDcUMsaUJBQWlCQyxtQkFBbUIsR0FBR3RDLCtDQUFRQSxDQUFTLFFBQVEsNkJBQTZCO0lBQ3BHLE1BQU0sQ0FBQ3VDLGNBQWNDLGdCQUFnQixHQUFHeEMsK0NBQVFBLENBQTZCLEVBQUU7SUFDL0UsTUFBTSxDQUFDeUMsc0JBQXNCQyx3QkFBd0IsR0FBRzFDLCtDQUFRQSxDQUFDO0lBQ2pFLDBEQUEwRDtJQUMxRCxNQUFNLENBQUMyQyxtQkFBbUJDLHFCQUFxQixHQUFHNUMsK0NBQVFBLENBQXdCLEVBQUU7SUFDcEYsbUVBQW1FO0lBQ25FLE1BQU0sQ0FBQzZDLDhCQUE4QkMs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QzJHLFdBQVU7Z0VBQ1ZvQyxPQUFNOzBFQUVOLDRFQUFDOUI7b0VBQUVOLFdBQVU7OEVBQXdDOzs7Ozs7Ozs7Ozs7Ozs7OzttREExRG5EeUI7Ozs7OzRDQWdFZDs7dUNBekVRcEk7Ozs7O2dDQTRFZDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQU9UNUMsc0JBQ0MsOERBQUN4QyxrRUFBVUE7Z0JBQUNxTyxRQUFPO2dCQUFRQyxNQUFLOzBCQUM3QjlMOzs7Ozt1QkFFRDswQkFFSiw4REFBQ3NKO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDNUwsbUZBQWNBO29CQUFDOE0sU0FBU3pCOzs7Ozs7Ozs7OzswQkFJM0IsOERBQUN0TCw0RUFBV0E7Z0JBQUNhLFFBQVFBO2dCQUFRRCxRQUFRNko7Ozs7Ozs7Ozs7OztBQUczQztHQTExQmdCaks7S0FBQUE7QUE0MUJoQixTQUFTcU0sVUFBVSxLQVVsQjtRQVZrQixFQUNqQkMsS0FBSyxFQUNMdkcsS0FBSyxFQUNMVSxNQUFNLEVBQ044RixPQUFPLEVBTVIsR0FWa0I7SUFXakIscUJBQ0UsOERBQUNVO1FBQ0NDLE1BQUs7UUFDTFgsU0FBU0E7UUFDVGxCLFdBQVcsME1BSVYsT0FIQzVFLFNBQ0ksMkNBQ0E7UUFFTjZHLE9BQU83RyxVQUFVVixRQUFRO1lBQUV3SCxhQUFheEg7WUFBTzhILFdBQVcsWUFBa0IsT0FBTjlILE9BQU07UUFBSSxJQUFJc0g7a0JBRW5GZjs7Ozs7O0FBR1A7TUF6QlNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL29uYm9hcmRpbmcvYXZhaWxhYmlsaXR5LXN0ZXAudHN4P2NkOGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENoZXZyb25MZWZ0LCBDaGV2cm9uUmlnaHQsIFNhdmUsIENhbGVuZGFyQ2hlY2syLCBYIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgSGVscGVyVGV4dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaGVscGVyLXRleHRcIjtcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9sYWJlbFwiO1xuaW1wb3J0IHsgU3RlcEFjdGlvbnMgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvc3RlcC1hY3Rpb25zXCI7XG5pbXBvcnQgeyBUZXN0RGF0YUJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy90ZXN0LWRhdGEtYnV0dG9uXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUF2YWlsYWJpbGl0eURhdGEgfSBmcm9tIFwiQC9saWIvdGVzdC1kYXRhLWdlbmVyYXRvclwiO1xuaW1wb3J0IHsgZm9ybWF0SW5UaW1lWm9uZSwgem9uZWRNaW51dGVzVG9EYXRlLCB0aW1lU3RyaW5nVG9NaW51dGVzIH0gZnJvbSBcIkAvbGliL3RpbWV6b25lXCI7XG5pbXBvcnQgeyBidWlsZEV4cGFuZGVkU2xvdHMsIGdyb3VwU2xvdHNCeURheSwgdHlwZSBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QgfSBmcm9tIFwiQC9saWIvYXZhaWxhYmlsaXR5LXV0aWxzXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2UtY2xpZW50XCI7XG5pbXBvcnQgdHlwZSB7XG4gIEF2YWlsYWJpbGl0eVNsb3QsXG4gIFNlcnZpY2VBdmFpbGFiaWxpdHksXG4gIFNlcnZpY2VDYXRlZ29yeSxcbiAgU2VydmljZURlZmluaXRpb24sXG4gIFN0YWZmTWVtYmVyXG59IGZyb20gXCJAL2xpYi9vbmJvYXJkaW5nLWNvbnRleHRcIjtcblxuaW50ZXJmYWNlIEF2YWlsYWJpbGl0eVN0ZXBQcm9wcyB7XG4gIHNlcnZpY2VzOiBTZXJ2aWNlQ2F0ZWdvcnlbXTtcbiAgc3RhZmY6IFN0YWZmTWVtYmVyW107XG4gIGRlZmF1bHRWYWx1ZXM6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXTtcbiAgb25OZXh0OiAodmFsdWVzOiBTZXJ2aWNlQXZhaWxhYmlsaXR5W10pID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xuICBvbkJhY2s6ICgpID0+IHZvaWQ7XG4gIHRpbWV6b25lPzogc3RyaW5nOyAvLyBPcHRpb25hbCB0aW1lem9uZSBwcm9wXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdmFpbGFiaWxpdHlTdGVwKHtcbiAgc2VydmljZXMsXG4gIHN0YWZmLFxuICBkZWZhdWx0VmFsdWVzLFxuICBvbk5leHQsXG4gIG9uQmFjayxcbiAgdGltZXpvbmUgPSBcIkFtZXJpY2EvTmV3X1lvcmtcIiAvLyBEZWZhdWx0IHRpbWV6b25lXG59OiBBdmFpbGFiaWxpdHlTdGVwUHJvcHMpIHtcbiAgY29uc3QgW2N1cnJlbnRXZWVrU3RhcnQsIHNldEN1cnJlbnRXZWVrU3RhcnRdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkYXlPZldlZWsgPSB0b2RheS5nZXREYXkoKTtcbiAgICBjb25zdCBkaWZmID0gdG9kYXkuZ2V0RGF0ZSgpIC0gZGF5T2ZXZWVrO1xuICAgIGNvbnN0IHN1bmRheSA9IG5ldyBEYXRlKHRvZGF5LnNldERhdGUoZGlmZikpO1xuICAgIHN1bmRheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICByZXR1cm4gc3VuZGF5O1xuICB9KTtcbiAgY29uc3QgW3NlbGVjdGVkU2VydmljZUlkLCBzZXRTZWxlY3RlZFNlcnZpY2VJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkU3RhZmZJZCwgc2V0U2VsZWN0ZWRTdGFmZklkXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJhbnlcIik7IC8vIFwiYW55XCIgbWVhbnMgc2hvdyBhbGwgc3RhZmZcbiAgY29uc3QgW2ZldGNoZWRTbG90cywgc2V0RmV0Y2hlZFNsb3RzXSA9IHVzZVN0YXRlPEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdFtdPihbXSk7XG4gIGNvbnN0IFtpc1NhdmluZ0F2YWlsYWJpbGl0eSwgc2V0SXNTYXZpbmdBdmFpbGFiaWxpdHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBUcmFjayBzYXZlZCBhdmFpbGFiaWxpdHkgZHVyaW5nIHRoaXMgb25ib2FyZGluZyBzZXNzaW9uXG4gIGNvbnN0IFtzYXZlZEF2YWlsYWJpbGl0eSwgc2V0U2F2ZWRBdmFpbGFiaWxpdHldID0gdXNlU3RhdGU8U2VydmljZUF2YWlsYWJpbGl0eVtdPihbXSk7XG4gIC8vIFBlbmRpbmcgYXZhaWxhYmlsaXR5IGFkZGl0aW9ucyAtIHNsb3RzIGNsaWNrZWQgYnV0IG5vdCB5ZXQgc2F2ZWRcbiAgY29uc3QgW3BlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMsIHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnNdID0gdXNlU3RhdGU8QXJyYXk8e1xuICAgIHN0YWZmSWQ6IHN0cmluZztcbiAgICBkYXRlOiBEYXRlO1xuICAgIGhvdXI6IG51bWJlcjtcbiAgfT4+KFtdKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBHZXQgYWxsIHNlcnZpY2VzIGZvciBkcm9wZG93blxuICBjb25zdCBhbGxTZXJ2aWNlcyA9IHNlcnZpY2VzLmZsYXRNYXAoKGNhdGVnb3J5KSA9PlxuICAgIGNhdGVnb3J5LnNlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4gKHtcbiAgICAgIC4uLnNlcnZpY2UsXG4gICAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5Lm5hbWVcbiAgICB9KSlcbiAgKTtcblxuICAvLyBXaGVuIHNlcnZpY2UgY2hhbmdlcywgbG9hZCBzYXZlZCBhdmFpbGFiaWxpdHkgZm9yIHRoYXQgc2VydmljZVxuICAvLyBUaGlzIGVuc3VyZXMgc2F2ZWQgc2xvdHMgcGVyc2lzdCB3aGVuIHN3aXRjaGluZyBiZXR3ZWVuIHNlcnZpY2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2VJZCkge1xuICAgICAgc2V0RmV0Y2hlZFNsb3RzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc2VsZWN0ZWRTZXJ2aWNlID0gYWxsU2VydmljZXMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSkge1xuICAgICAgc2V0RmV0Y2hlZFNsb3RzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBzYXZlZCBhdmFpbGFiaWxpdHkgZm9yIHRoaXMgc2VydmljZSBpbiBzdGF0ZVxuICAgIGNvbnN0IHNlcnZpY2VBdmFpbCA9IHNhdmVkQXZhaWxhYmlsaXR5LmZpbmQoXG4gICAgICAoYXZhaWw6IFNlcnZpY2VBdmFpbGFiaWxpdHkpID0+IGF2YWlsLnNlcnZpY2VJZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWRcbiAgICApO1xuICAgIFxuICAgIGlmIChzZXJ2aWNlQXZhaWwpIHtcbiAgICAgIC8vIEV4cGFuZCBzYXZlZCBzbG90cyBmb3IgdGhpcyBzZXJ2aWNlXG4gICAgICBjb25zdCB3ZWVrU3RhcnQgPSBuZXcgRGF0ZShjdXJyZW50V2Vla1N0YXJ0KTtcbiAgICAgIHdlZWtTdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIFxuICAgICAgY29uc3QgZXhwYW5kZWRTbG90cyA9IGJ1aWxkRXhwYW5kZWRTbG90cyh7XG4gICAgICAgIHNlcnZpY2U6IHNlbGVjdGVkU2VydmljZSxcbiAgICAgICAgc2VydmljZUF2YWlsYWJpbGl0eTogc2VydmljZUF2YWlsLFxuICAgICAgICBzdGFmZjogc3RhZmYsXG4gICAgICAgIHRpbWV6b25lOiB0aW1lem9uZSxcbiAgICAgICAgc3RhcnREYXRlOiB3ZWVrU3RhcnQsXG4gICAgICAgIGhvcml6b25EYXlzOiAxNCxcbiAgICAgICAgaW5jbHVkZVBhc3RTbG90czogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBzZXRGZXRjaGVkU2xvdHMoZXhwYW5kZWRTbG90cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIHNhdmVkIGF2YWlsYWJpbGl0eSBmb3IgdGhpcyBzZXJ2aWNlIHlldCAtIHN0YXJ0IHdpdGggZW1wdHkgY2FsZW5kYXJcbiAgICAgIHNldEZldGNoZWRTbG90cyhbXSk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRTZXJ2aWNlSWQsIHNhdmVkQXZhaWxhYmlsaXR5LCBhbGxTZXJ2aWNlcywgc3RhZmYsIHRpbWV6b25lLCBjdXJyZW50V2Vla1N0YXJ0XSk7XG5cbiAgLy8gR3JvdXAgc2xvdHMgYnkgZGF5IC0gZHVyaW5nIG9uYm9hcmRpbmcsIHdlIG9ubHkgc2hvdyBwZW5kaW5nIHNsb3RzIGFuZCBzYXZlZCBzbG90cyBmcm9tIHRoaXMgc2Vzc2lvblxuICBjb25zdCBncm91cGVkU2xvdHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZUlkKSByZXR1cm4ge307XG4gICAgLy8gQ29tYmluZSBmZXRjaGVkIHNsb3RzIChzYXZlZCBkdXJpbmcgdGhpcyBzZXNzaW9uKSB3aXRoIGFueSBhZGRpdGlvbmFsIHNsb3RzXG4gICAgcmV0dXJuIGdyb3VwU2xvdHNCeURheShmZXRjaGVkU2xvdHMsIHRpbWV6b25lKTtcbiAgfSwgW2ZldGNoZWRTbG90cywgdGltZXpvbmUsIHNlbGVjdGVkU2VydmljZUlkXSk7XG5cbiAgLy8gR2VuZXJhdGUgZGF5cyBvZiB0aGUgd2Vla1xuICBjb25zdCB3ZWVrRGF5cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGRheXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRXZWVrU3RhcnQpO1xuICAgICAgZGF0ZS5zZXREYXRlKGN1cnJlbnRXZWVrU3RhcnQuZ2V0RGF0ZSgpICsgaSk7XG4gICAgICBkYXlzLnB1c2goZGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBkYXlzO1xuICB9LCBbY3VycmVudFdlZWtTdGFydF0pO1xuXG4gIC8vIEdlbmVyYXRlIGhvdXJzIGZyb20gOCBBTSB0byA4IFBNIChtYXRjaGluZyBib29raW5nIGZsb3cpXG4gIGNvbnN0IGhvdXJzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTMgfSwgKF8sIGkpID0+IGkgKyA4KTtcblxuICAvLyBHcm91cCBhdmFpbGFiaWxpdHkgc2xvdHMgYnkgZGF5IGFuZCBob3VyIChpbmNsdWRpbmcgcGVuZGluZyBhZGRpdGlvbnMpXG4gIGNvbnN0IHNsb3RzQnlEYXlBbmRIb3VyID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZ3JvdXBlZDogUmVjb3JkPHN0cmluZywgUmVjb3JkPG51bWJlciwgRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90W10+PiA9IHt9O1xuICAgIFxuICAgIC8vIEZsYXR0ZW4gYWxsIHNsb3RzIGZyb20gYWxsIGRheXNcbiAgICBjb25zdCBhbGxTbG90cyA9IE9iamVjdC52YWx1ZXMoZ3JvdXBlZFNsb3RzKS5mbGF0KCk7XG4gICAgXG4gICAgLy8gQWRkIGZldGNoZWQgc2xvdHNcbiAgICBhbGxTbG90cy5mb3JFYWNoKHNsb3QgPT4ge1xuICAgICAgY29uc3Qgc2xvdERhdGUgPSBuZXcgRGF0ZShzbG90LnN0YXJ0RGF0ZVRpbWUpO1xuICAgICAgY29uc3QgZGF0ZUtleSA9IGZvcm1hdEluVGltZVpvbmUoc2xvdERhdGUsIHRpbWV6b25lLCBcInl5eXktTU0tZGRcIik7XG4gICAgICBjb25zdCBob3VyID0gZm9ybWF0SW5UaW1lWm9uZShzbG90RGF0ZSwgdGltZXpvbmUsIHsgaG91cjogXCJudW1lcmljXCIsIGhvdXIxMjogZmFsc2UgfSk7XG4gICAgICBjb25zdCBob3VyTnVtID0gcGFyc2VJbnQoaG91ciwgMTApO1xuICAgICAgXG4gICAgICAvLyBPbmx5IGluY2x1ZGUgc2xvdHMgdGhhdCBhcmUgaW4gdGhlIGN1cnJlbnQgd2Vla1xuICAgICAgY29uc3QgaXNJbkN1cnJlbnRXZWVrID0gd2Vla0RheXMuc29tZShkYXkgPT4ge1xuICAgICAgICBjb25zdCBkYXlLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgcmV0dXJuIGRheUtleSA9PT0gZGF0ZUtleTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIWlzSW5DdXJyZW50V2VlaykgcmV0dXJuO1xuICAgICAgXG4gICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV0pIHtcbiAgICAgICAgZ3JvdXBlZFtkYXRlS2V5XSA9IHt9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0pIHtcbiAgICAgICAgZ3JvdXBlZFtkYXRlS2V5XVtob3VyTnVtXSA9IFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3IgZHVwbGljYXRlcyAoc2FtZSBob3VyLCBzYW1lIHN0YWZmLCBzYW1lIGRhdGUpXG4gICAgICBjb25zdCBpc0R1cGxpY2F0ZSA9IGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0uc29tZShcbiAgICAgICAgZXhpc3RpbmcgPT4gZXhpc3Rpbmcuc3RhZmZJZCA9PT0gc2xvdC5zdGFmZklkICYmIGV4aXN0aW5nLnN0YXJ0RGF0ZVRpbWUgPT09IHNsb3Quc3RhcnREYXRlVGltZVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xuICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLnB1c2goc2xvdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQWRkIHBlbmRpbmcgYXZhaWxhYmlsaXR5IGFkZGl0aW9ucyBhcyB2aXN1YWwgc2xvdHNcbiAgICBpZiAoc2VsZWN0ZWRTZXJ2aWNlSWQpIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG4gICAgICBpZiAoc2VsZWN0ZWRTZXJ2aWNlKSB7XG4gICAgICAgIHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMuZm9yRWFjaCgocGVuZGluZykgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGVLZXkgPSBmb3JtYXRJblRpbWVab25lKHBlbmRpbmcuZGF0ZSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICBjb25zdCBob3VyTnVtID0gcGVuZGluZy5ob3VyO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBpZiBpbiBjdXJyZW50IHdlZWtcbiAgICAgICAgICBjb25zdCBpc0luQ3VycmVudFdlZWsgPSB3ZWVrRGF5cy5zb21lKGRheSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXlLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBkYXlLZXkgPT09IGRhdGVLZXk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFpc0luQ3VycmVudFdlZWspIHJldHVybjtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV0pIHtcbiAgICAgICAgICAgIGdyb3VwZWRbZGF0ZUtleV0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dKSB7XG4gICAgICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgcGVuZGluZyBzbG90IGFscmVhZHkgZXhpc3RzIGFzIHBlbmRpbmcgKGRvbid0IGR1cGxpY2F0ZSlcbiAgICAgICAgICBjb25zdCBhbHJlYWR5UGVuZGluZyA9IGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0uc29tZShcbiAgICAgICAgICAgIGV4aXN0aW5nID0+IGV4aXN0aW5nLnN0YWZmSWQgPT09IHBlbmRpbmcuc3RhZmZJZCAmJiBcbiAgICAgICAgICAgIGV4aXN0aW5nLmlkICYmIGV4aXN0aW5nLmlkLnN0YXJ0c1dpdGgoJ3BlbmRpbmctJylcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghYWxyZWFkeVBlbmRpbmcpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgc2F2ZWQgc2xvdCBmb3IgdGhlIHNhbWUgdGltZS9zdGFmZiAocGVuZGluZyByZXBsYWNlcyBzYXZlZClcbiAgICAgICAgICAgIGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0gPSBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLmZpbHRlcihcbiAgICAgICAgICAgICAgZXhpc3RpbmcgPT4gIShleGlzdGluZy5zdGFmZklkID09PSBwZW5kaW5nLnN0YWZmSWQgJiYgIWV4aXN0aW5nLmlkPy5zdGFydHNXaXRoKCdwZW5kaW5nLScpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc3RhZmZNZW1iZXIgPSBzdGFmZi5maW5kKChzOiBTdGFmZk1lbWJlcikgPT4gcy5pZCA9PT0gcGVuZGluZy5zdGFmZklkKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSB6b25lZE1pbnV0ZXNUb0RhdGUocGVuZGluZy5kYXRlLCBwZW5kaW5nLmhvdXIgKiA2MCwgdGltZXpvbmUpO1xuICAgICAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShzdGFydERhdGVUaW1lLmdldFRpbWUoKSArIHNlbGVjdGVkU2VydmljZS5kdXJhdGlvbk1pbnV0ZXMgKiA2MCAqIDEwMDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLnB1c2goe1xuICAgICAgICAgICAgICBpZDogYHBlbmRpbmctJHtwZW5kaW5nLnN0YWZmSWR9LSR7ZGF0ZUtleX0tJHtob3VyTnVtfWAsXG4gICAgICAgICAgICAgIHNlcnZpY2VJZDogc2VsZWN0ZWRTZXJ2aWNlSWQsXG4gICAgICAgICAgICAgIHN0YWZmSWQ6IHBlbmRpbmcuc3RhZmZJZCxcbiAgICAgICAgICAgICAgc3RhZmZOYW1lOiBzdGFmZk1lbWJlcj8ubmFtZSB8fCAnVW5rbm93bicsXG4gICAgICAgICAgICAgIHN0YWZmQ29sb3I6IHN0YWZmTWVtYmVyPy5jb2xvciB8fCBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgICAgc3RhcnREYXRlVGltZTogc3RhcnREYXRlVGltZS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICBlbmREYXRlVGltZTogZW5kRGF0ZVRpbWUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgZGF5TGFiZWw6IGZvcm1hdEluVGltZVpvbmUocGVuZGluZy5kYXRlLCB0aW1lem9uZSwgeyB3ZWVrZGF5OiBcImxvbmdcIiB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBncm91cGVkO1xuICB9LCBbZ3JvdXBlZFNsb3RzLCB3ZWVrRGF5cywgdGltZXpvbmUsIHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMsIHNlbGVjdGVkU2VydmljZUlkLCBhbGxTZXJ2aWNlcywgc3RhZmZdKTtcblxuICBjb25zdCBuYXZpZ2F0ZVdlZWsgPSAoZGlyZWN0aW9uOiBcInByZXZcIiB8IFwibmV4dFwiKSA9PiB7XG4gICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRXZWVrU3RhcnQpO1xuICAgIG5ld0RhdGUuc2V0RGF0ZShuZXdEYXRlLmdldERhdGUoKSArIChkaXJlY3Rpb24gPT09IFwibmV4dFwiID8gNyA6IC03KSk7XG4gICAgc2V0Q3VycmVudFdlZWtTdGFydChuZXdEYXRlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFbXB0eVNsb3RDbGljayA9IChkYXk6IERhdGUsIGhvdXI6IG51bWJlcikgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlSWQpIHtcbiAgICAgIHNldEVycm9yKCdQbGVhc2Ugc2VsZWN0IGEgc2VydmljZSBmaXJzdCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBzZWxlY3RlZFNlcnZpY2UgPSBhbGxTZXJ2aWNlcy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWQpO1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlKSB7XG4gICAgICBzZXRFcnJvcignU2VydmljZSBub3QgZm91bmQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IHN0YWZmIG1lbWJlcnMgYXNzaWduZWQgdG8gdGhpcyBzZXJ2aWNlXG4gICAgY29uc3Qgc2VydmljZVN0YWZmID0gc3RhZmYuZmlsdGVyKG1lbWJlciA9PiB7XG4gICAgICBpZiAobWVtYmVyLmFjdGl2ZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBzZWxlY3RlZFNlcnZpY2Uuc3RhZmZJZHMuaW5jbHVkZXMobWVtYmVyLmlkKTtcbiAgICB9KTtcbiAgICBcbiAgICBpZiAoc2VydmljZVN0YWZmLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0RXJyb3IoJ05vIHN0YWZmIG1lbWJlcnMgYXNzaWduZWQgdG8gdGhpcyBzZXJ2aWNlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIERldGVybWluZSB3aGljaCBzdGFmZiBtZW1iZXJzIHRvIGFkZC9yZW1vdmUgYXZhaWxhYmlsaXR5IGZvclxuICAgIGNvbnN0IHN0YWZmVG9Qcm9jZXNzID0gc2VsZWN0ZWRTdGFmZklkICE9PSBcImFueVwiIFxuICAgICAgPyBbc2VydmljZVN0YWZmLmZpbmQobSA9PiBtLmlkID09PSBzZWxlY3RlZFN0YWZmSWQpXS5maWx0ZXIoQm9vbGVhbilcbiAgICAgIDogc2VydmljZVN0YWZmO1xuICAgIFxuICAgIGlmIChzdGFmZlRvUHJvY2Vzcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgQUxMIHNlbGVjdGVkIHN0YWZmIGFscmVhZHkgaGF2ZSB0aGlzIHNsb3QgcGVuZGluZ1xuICAgIGNvbnN0IGFsbFBlbmRpbmcgPSBzdGFmZlRvUHJvY2Vzcy5ldmVyeShtZW1iZXIgPT4gXG4gICAgICBwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLnNvbWUoXG4gICAgICAgIChwZW5kaW5nKSA9PlxuICAgICAgICAgIHBlbmRpbmcuc3RhZmZJZCA9PT0gbWVtYmVyLmlkICYmXG4gICAgICAgICAgcGVuZGluZy5kYXRlLnRvRGF0ZVN0cmluZygpID09PSBkYXkudG9EYXRlU3RyaW5nKCkgJiZcbiAgICAgICAgICBwZW5kaW5nLmhvdXIgPT09IGhvdXJcbiAgICAgIClcbiAgICApO1xuICAgIFxuICAgIGlmIChhbGxQZW5kaW5nKSB7XG4gICAgICAvLyBSZW1vdmUgZm9yIGFsbCBzZWxlY3RlZCBzdGFmZiAodG9nZ2xlIG9mZilcbiAgICAgIHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMoKHByZXYpID0+XG4gICAgICAgIHByZXYuZmlsdGVyKFxuICAgICAgICAgIChwZW5kaW5nKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkU3RhZmYgPSBzdGFmZlRvUHJvY2Vzcy5zb21lKG0gPT4gbS5pZCA9PT0gcGVuZGluZy5zdGFmZklkKTtcbiAgICAgICAgICAgIHJldHVybiAhKGlzU2VsZWN0ZWRTdGFmZiAmJlxuICAgICAgICAgICAgICBwZW5kaW5nLmRhdGUudG9EYXRlU3RyaW5nKCkgPT09IGRheS50b0RhdGVTdHJpbmcoKSAmJlxuICAgICAgICAgICAgICBwZW5kaW5nLmhvdXIgPT09IGhvdXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQWRkIGZvciBhbGwgc2VsZWN0ZWQgc3RhZmYgKG9yIGp1c3QgdGhlIG9uZSBzZWxlY3RlZClcbiAgICAgIGNvbnN0IG5ld0FkZGl0aW9ucyA9IHN0YWZmVG9Qcm9jZXNzXG4gICAgICAgIC5maWx0ZXIobWVtYmVyID0+IHtcbiAgICAgICAgICAvLyBPbmx5IGFkZCBpZiBub3QgYWxyZWFkeSBwZW5kaW5nXG4gICAgICAgICAgcmV0dXJuICFwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLnNvbWUoXG4gICAgICAgICAgICAocGVuZGluZykgPT5cbiAgICAgICAgICAgICAgcGVuZGluZy5zdGFmZklkID09PSBtZW1iZXIuaWQgJiZcbiAgICAgICAgICAgICAgcGVuZGluZy5kYXRlLnRvRGF0ZVN0cmluZygpID09PSBkYXkudG9EYXRlU3RyaW5nKCkgJiZcbiAgICAgICAgICAgICAgcGVuZGluZy5ob3VyID09PSBob3VyXG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm1hcChtZW1iZXIgPT4gKHtcbiAgICAgICAgICBzdGFmZklkOiBtZW1iZXIuaWQsXG4gICAgICAgICAgZGF0ZTogZGF5LFxuICAgICAgICAgIGhvdXJcbiAgICAgICAgfSkpO1xuICAgICAgXG4gICAgICBpZiAobmV3QWRkaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2V0UGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucygocHJldikgPT4gWy4uLnByZXYsIC4uLm5ld0FkZGl0aW9uc10pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgfTtcblxuXG4gIGNvbnN0IGhhbmRsZVNhdmVBdmFpbGFiaWxpdHkgPSBhc3luYyAoKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2VJZCB8fCBwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG5cbiAgICBzZXRJc1NhdmluZ0F2YWlsYWJpbGl0eSh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGF1dGggdG9rZW4gZnJvbSBTdXBhYmFzZSBjbGllbnRcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50Q2xpZW50KCk7XG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IHNlc3Npb24/LmFjY2Vzc190b2tlbjtcblxuICAgICAgY29uc3Qgc2VsZWN0ZWRTZXJ2aWNlID0gYWxsU2VydmljZXMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0ZWQgc2VydmljZSBub3QgZm91bmQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXNlIHNhdmVkQXZhaWxhYmlsaXR5IHN0YXRlICh3aGljaCBoYXMgdGVtcG9yYXJ5IElEcykgYXMgdGhlIGJhc2VcbiAgICAgIC8vIFRoaXMgZW5zdXJlcyBjb25zaXN0ZW5jeSAtIHdlIGRvbid0IG1peCByZWFsIFVVSURzIGZyb20gQVBJIHdpdGggdGVtcG9yYXJ5IElEc1xuICAgICAgLy8gVGhlIEFQSSBoYW5kbGVzIElEIG1hcHBpbmcgd2hlbiBzYXZpbmcsIGJ1dCBvdXIgc3RhdGUga2VlcHMgdGVtcG9yYXJ5IElEc1xuICAgICAgbGV0IGFsbEF2YWlsYWJpbGl0eTogU2VydmljZUF2YWlsYWJpbGl0eVtdID0gWy4uLnNhdmVkQXZhaWxhYmlsaXR5XTtcblxuICAgICAgLy8gRmluZCBvciBjcmVhdGUgc2VydmljZSBhdmFpbGFiaWxpdHkgZW50cnkgZm9yIHRoZSBjdXJyZW50IHNlcnZpY2VcbiAgICAgIGxldCBzZXJ2aWNlQXZhaWxhYmlsaXR5ID0gYWxsQXZhaWxhYmlsaXR5LmZpbmQoKGF2YWlsOiBTZXJ2aWNlQXZhaWxhYmlsaXR5KSA9PiBhdmFpbC5zZXJ2aWNlSWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICAgIFxuICAgICAgaWYgKCFzZXJ2aWNlQXZhaWxhYmlsaXR5KSB7XG4gICAgICAgIHNlcnZpY2VBdmFpbGFiaWxpdHkgPSB7XG4gICAgICAgICAgc2VydmljZUlkOiBzZWxlY3RlZFNlcnZpY2VJZCxcbiAgICAgICAgICBzdGFmZjogW11cbiAgICAgICAgfTtcbiAgICAgICAgYWxsQXZhaWxhYmlsaXR5LnB1c2goc2VydmljZUF2YWlsYWJpbGl0eSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFByb2Nlc3MgYWxsIHBlbmRpbmcgYWRkaXRpb25zXG4gICAgICBmb3IgKGNvbnN0IHBlbmRpbmcgb2YgcGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucykge1xuICAgICAgICBjb25zdCB0YXJnZXREYXRlID0gcGVuZGluZy5kYXRlO1xuICAgICAgICBjb25zdCB0YXJnZXRIb3VyID0gcGVuZGluZy5ob3VyO1xuICAgICAgICBjb25zdCBzdGFmZklkID0gcGVuZGluZy5zdGFmZklkO1xuXG4gICAgICAgIC8vIEdldCB3ZWVrZGF5IG5hbWUgZnJvbSB0aGUgZGF0ZSAodGltZXpvbmUtYXdhcmUpXG4gICAgICAgIC8vIFN0b3JlIGFzIGxvd2VyY2FzZSB0byBtYXRjaCBidWlsZEV4cGFuZGVkU2xvdHMgZXhwZWN0YXRpb24gYW5kIEFQSSBmb3JtYXRcbiAgICAgICAgY29uc3Qgd2Vla2RheU5hbWUgPSBmb3JtYXRJblRpbWVab25lKHRhcmdldERhdGUsIHRpbWV6b25lLCB7IHdlZWtkYXk6IFwibG9uZ1wiIH0pO1xuICAgICAgICBjb25zdCB3ZWVrZGF5ID0gd2Vla2RheU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZvcm1hdCB0aW1lIGFzIEhIOm1tXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IGAke1N0cmluZyh0YXJnZXRIb3VyKS5wYWRTdGFydCgyLCAnMCcpfTowMGA7XG4gICAgICAgIFxuICAgICAgICAvLyBDYWxjdWxhdGUgZW5kIHRpbWUgYmFzZWQgb24gc2VydmljZSBkdXJhdGlvblxuICAgICAgICBjb25zdCBzdGFydE1pbnV0ZXMgPSB0YXJnZXRIb3VyICogNjA7XG4gICAgICAgIGNvbnN0IGVuZE1pbnV0ZXMgPSBzdGFydE1pbnV0ZXMgKyBzZWxlY3RlZFNlcnZpY2UuZHVyYXRpb25NaW51dGVzO1xuICAgICAgICBjb25zdCBlbmRIb3VyID0gTWF0aC5mbG9vcihlbmRNaW51dGVzIC8gNjApO1xuICAgICAgICBjb25zdCBlbmRNaW4gPSBlbmRNaW51dGVzICUgNjA7XG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBgJHtTdHJpbmcoZW5kSG91cikucGFkU3RhcnQoMiwgJzAnKX06JHtTdHJpbmcoZW5kTWluKS5wYWRTdGFydCgyLCAnMCcpfWA7XG5cbiAgICAgICAgLy8gRmluZCBvciBjcmVhdGUgc3RhZmYgYXZhaWxhYmlsaXR5IGVudHJ5XG4gICAgICAgIGxldCBzdGFmZkF2YWlsYWJpbGl0eSA9IHNlcnZpY2VBdmFpbGFiaWxpdHkuc3RhZmYuZmluZCgoczogYW55KSA9PiBzLnN0YWZmSWQgPT09IHN0YWZmSWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFzdGFmZkF2YWlsYWJpbGl0eSkge1xuICAgICAgICAgIHN0YWZmQXZhaWxhYmlsaXR5ID0ge1xuICAgICAgICAgICAgc3RhZmZJZDogc3RhZmZJZCxcbiAgICAgICAgICAgIHNsb3RzOiBbXVxuICAgICAgICAgIH07XG4gICAgICAgICAgc2VydmljZUF2YWlsYWJpbGl0eS5zdGFmZi5wdXNoKHN0YWZmQXZhaWxhYmlsaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgc2xvdCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zdCBzbG90RXhpc3RzID0gc3RhZmZBdmFpbGFiaWxpdHkuc2xvdHMuc29tZSgoc2xvdDogQXZhaWxhYmlsaXR5U2xvdCkgPT4gXG4gICAgICAgICAgc2xvdC5kYXkgPT09IHdlZWtkYXkgJiYgc2xvdC5zdGFydFRpbWUgPT09IHN0YXJ0VGltZSAmJiBzbG90LmVuZFRpbWUgPT09IGVuZFRpbWVcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIXNsb3RFeGlzdHMpIHtcbiAgICAgICAgICAvLyBBZGQgdGhlIG5ldyBzbG90XG4gICAgICAgICAgc3RhZmZBdmFpbGFiaWxpdHkuc2xvdHMucHVzaCh7XG4gICAgICAgICAgICBpZDogYHNsb3QtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgICAgICAgIGRheTogd2Vla2RheSBhcyBBdmFpbGFiaWxpdHlTbG90W1wiZGF5XCJdLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU2F2ZSBhbGwgY2hhbmdlcyB0byBBUElcbiAgICAgIGNvbnN0IHNhdmVSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC03LWF2YWlsYWJpbGl0eScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgLi4uKGF1dGhUb2tlbiAmJiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2F1dGhUb2tlbn1gIH0pLFxuICAgICAgICB9LFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYXZhaWxhYmlsaXR5OiBhbGxBdmFpbGFiaWxpdHlcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFzYXZlUmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgc2F2ZVJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCAnRmFpbGVkIHRvIHNhdmUgYXZhaWxhYmlsaXR5Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBzYXZlZCBhdmFpbGFiaWxpdHkgc3RhdGUgd2l0aCB0aGUgZGF0YSB3ZSBqdXN0IHNhdmVkXG4gICAgICAvLyBhbGxBdmFpbGFiaWxpdHkgYWxyZWFkeSBjb250YWlucyBhbGwgc2VydmljZXMgKG1lcmdlZCBmcm9tIHNhdmVkQXZhaWxhYmlsaXR5IHN0YXRlKVxuICAgICAgLy8gYW5kIG5vdyBoYXMgdGhlIHVwZGF0ZWQgc2xvdHMgZm9yIHRoZSBjdXJyZW50IHNlcnZpY2VcbiAgICAgIC8vIFRoaXMgcHJlc2VydmVzIGF2YWlsYWJpbGl0eSBmb3IgYWxsIHNlcnZpY2VzIHdpdGggdGVtcG9yYXJ5IElEc1xuICAgICAgc2V0U2F2ZWRBdmFpbGFiaWxpdHkoYWxsQXZhaWxhYmlsaXR5KTtcbiAgICAgIFxuICAgICAgLy8gRXhwYW5kIHRoZSBzYXZlZCBzbG90cyBGSVJTVCBiZWZvcmUgY2xlYXJpbmcgcGVuZGluZyBhZGRpdGlvbnNcbiAgICAgIC8vIFRoaXMgZW5zdXJlcyBhIHNtb290aCB0cmFuc2l0aW9uIGZyb20gcGVuZGluZyB0byBzYXZlZFxuICAgICAgY29uc3Qgc2VydmljZUF2YWlsID0gYWxsQXZhaWxhYmlsaXR5LmZpbmQoXG4gICAgICAgIChhdmFpbDogU2VydmljZUF2YWlsYWJpbGl0eSkgPT4gYXZhaWwuc2VydmljZUlkID09PSBzZWxlY3RlZFNlcnZpY2VJZFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKHNlbGVjdGVkU2VydmljZSAmJiBzZXJ2aWNlQXZhaWwpIHtcbiAgICAgICAgLy8gU3RhcnQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjdXJyZW50IHdlZWsgdG8gc2hvdyBhbGwgc2xvdHMgaW4gdGhlIHdlZWsgdmlld1xuICAgICAgICBjb25zdCB3ZWVrU3RhcnQgPSBuZXcgRGF0ZShjdXJyZW50V2Vla1N0YXJ0KTtcbiAgICAgICAgd2Vla1N0YXJ0LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZXhwYW5kZWRTbG90cyA9IGJ1aWxkRXhwYW5kZWRTbG90cyh7XG4gICAgICAgICAgc2VydmljZTogc2VsZWN0ZWRTZXJ2aWNlLFxuICAgICAgICAgIHNlcnZpY2VBdmFpbGFiaWxpdHk6IHNlcnZpY2VBdmFpbCxcbiAgICAgICAgICBzdGFmZjogc3RhZmYsXG4gICAgICAgICAgdGltZXpvbmU6IHRpbWV6b25lLFxuICAgICAgICAgIHN0YXJ0RGF0ZTogd2Vla1N0YXJ0LFxuICAgICAgICAgIGhvcml6b25EYXlzOiAxNCxcbiAgICAgICAgICBpbmNsdWRlUGFzdFNsb3RzOiB0cnVlIC8vIFNob3cgYWxsIHNsb3RzIGluIHRoZSBjdXJyZW50IHdlZWsgdmlldyBmb3Igb25ib2FyZGluZ1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBmZXRjaGVkU2xvdHMgd2l0aCBzYXZlZCBzbG90cyBCRUZPUkUgY2xlYXJpbmcgcGVuZGluZ1xuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgc2F2ZWQgc2xvdHMgYXBwZWFyIGltbWVkaWF0ZWx5XG4gICAgICAgIHNldEZldGNoZWRTbG90cyhleHBhbmRlZFNsb3RzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEZldGNoZWRTbG90cyhbXSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFyIHBlbmRpbmcgYWRkaXRpb25zIEFGVEVSIHdlJ3ZlIHVwZGF0ZWQgdGhlIHNhdmVkIHNsb3RzXG4gICAgICAvLyBUaGlzIGVuc3VyZXMgc2xvdHMgc3dpdGNoIGZyb20gXCJQZW5kaW5nXCIgdG8gXCJTYXZlZFwiIHNtb290aGx5XG4gICAgICBzZXRQZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zKFtdKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7IC8vIFN1Y2Nlc3NcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGF2YWlsYWJpbGl0eTonLCBlcnJvcik7XG4gICAgICBzZXRFcnJvcihgRmFpbGVkIHRvIHNhdmUgYXZhaWxhYmlsaXR5OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBGYWlsdXJlXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU2F2aW5nQXZhaWxhYmlsaXR5KGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29udGludWUgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgXG4gICAgLy8gQmVmb3JlIGNvbnRpbnVpbmcsIHNhdmUgYW55IHBlbmRpbmcgYXZhaWxhYmlsaXR5XG4gICAgaWYgKHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZFNlcnZpY2VJZCkge1xuICAgICAgY29uc3Qgc2F2ZVN1Y2Nlc3MgPSBhd2FpdCBoYW5kbGVTYXZlQXZhaWxhYmlsaXR5KCk7XG4gICAgICBpZiAoIXNhdmVTdWNjZXNzKSB7XG4gICAgICAgIC8vIEVycm9yIGFscmVhZHkgc2V0IGJ5IGhhbmRsZVNhdmVBdmFpbGFiaWxpdHlcbiAgICAgICAgcmV0dXJuOyAvLyBEb24ndCBjb250aW51ZSBpZiBzYXZlIGZhaWxlZFxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDb252ZXJ0IHNhdmVkIGF2YWlsYWJpbGl0eSB0byBTZXJ2aWNlQXZhaWxhYmlsaXR5IGZvcm1hdFxuICAgIC8vIFVzZSBzYXZlZCBhdmFpbGFiaWxpdHkgZnJvbSB0aGlzIHNlc3Npb24sIG9yIGNvbnZlcnQgcGVuZGluZyBpZiBub3RoaW5nIHNhdmVkIHlldFxuICAgIGxldCByZXN1bHQgPSBzYXZlZEF2YWlsYWJpbGl0eS5sZW5ndGggPiAwID8gc2F2ZWRBdmFpbGFiaWxpdHkgOiBbXTtcbiAgICBcbiAgICAvLyBJZiB3ZSBoYXZlIG5vIHNhdmVkIGF2YWlsYWJpbGl0eSBidXQgaGF2ZSBwZW5kaW5nLCBjb252ZXJ0IHBlbmRpbmdcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCAmJiBwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRTZXJ2aWNlSWQpIHtcbiAgICAgIHJlc3VsdCA9IG1hcFBlbmRpbmdUb1NlcnZpY2VBdmFpbGFiaWxpdHkoKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgdGhhdCBzZXJ2aWNlcyB3aXRoIHN0YWZmIGhhdmUgYXQgbGVhc3Qgb25lIHNsb3RcbiAgICBjb25zdCBzZXJ2aWNlc05lZWRpbmdBdmFpbGFiaWxpdHkgPSByZXN1bHQuZmlsdGVyKFxuICAgICAgKHNlcnZpY2UpID0+IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBzZXJ2aWNlIGhhcyBzdGFmZiBhc3NpZ25lZFxuICAgICAgICBjb25zdCBzZXJ2aWNlRGVmID0gYWxsU2VydmljZXMuZmluZChzID0+IHMuaWQgPT09IHNlcnZpY2Uuc2VydmljZUlkKTtcbiAgICAgICAgaWYgKCFzZXJ2aWNlRGVmIHx8IHNlcnZpY2VEZWYuc3RhZmZJZHMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBhbGwgc3RhZmYgaGF2ZSBzbG90c1xuICAgICAgICByZXR1cm4gc2VydmljZS5zdGFmZi5sZW5ndGggPiAwICYmXG4gICAgICAgICAgc2VydmljZS5zdGFmZi5ldmVyeSgoc3RhZmZFbnRyeSkgPT4gc3RhZmZFbnRyeS5zbG90cy5sZW5ndGggPT09IDApO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBpZiAoc2VydmljZXNOZWVkaW5nQXZhaWxhYmlsaXR5Lmxlbmd0aCkge1xuICAgICAgY29uc3Qgc2VydmljZURlZiA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZXJ2aWNlc05lZWRpbmdBdmFpbGFiaWxpdHlbMF0uc2VydmljZUlkKTtcbiAgICAgIHNldEVycm9yKFxuICAgICAgICBgQWRkIGF0IGxlYXN0IG9uZSBhdmFpbGFiaWxpdHkgc2xvdCBmb3Igc2VydmljZSBcIiR7c2VydmljZURlZj8ubmFtZSB8fCBzZXJ2aWNlc05lZWRpbmdBdmFpbGFiaWxpdHlbMF0uc2VydmljZUlkfVwiLiBFYWNoIHNlcnZpY2Ugd2l0aCBzdGFmZiBuZWVkcyBhdmFpbGFiaWxpdHkgdG8gYXBwZWFyIGluIGJvb2tpbmcuYFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCBvbk5leHQocmVzdWx0KTtcbiAgfTtcblxuICBjb25zdCBtYXBQZW5kaW5nVG9TZXJ2aWNlQXZhaWxhYmlsaXR5ID0gKCk6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXSA9PiB7XG4gICAgLy8gVGhpcyBpcyBhIGZhbGxiYWNrIGlmIG5vIGN1cnJlbnQgYXZhaWxhYmlsaXR5IGV4aXN0c1xuICAgIC8vIENvbnZlcnQgcGVuZGluZyBhZGRpdGlvbnMgdG8gU2VydmljZUF2YWlsYWJpbGl0eSBmb3JtYXRcbiAgICBjb25zdCByZXN1bHQ6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXSA9IFtdO1xuICAgIFxuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlSWQgfHwgcGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHNlcnZpY2VBdmFpbGFiaWxpdHk6IFNlcnZpY2VBdmFpbGFiaWxpdHkgPSB7XG4gICAgICBzZXJ2aWNlSWQ6IHNlbGVjdGVkU2VydmljZUlkLFxuICAgICAgc3RhZmY6IFtdXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBzdGFmZk1hcCA9IG5ldyBNYXA8c3RyaW5nLCBBdmFpbGFiaWxpdHlTbG90W10+KCk7XG4gICAgXG4gICAgY29uc3Qgc2VsZWN0ZWRTZXJ2aWNlID0gYWxsU2VydmljZXMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSkgcmV0dXJuIHJlc3VsdDtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHBlbmRpbmcgb2YgcGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucykge1xuICAgICAgY29uc3Qgc3RhZmZJZCA9IHBlbmRpbmcuc3RhZmZJZDtcbiAgICAgIGNvbnN0IHRhcmdldERhdGUgPSBwZW5kaW5nLmRhdGU7XG4gICAgICBjb25zdCB0YXJnZXRIb3VyID0gcGVuZGluZy5ob3VyO1xuICAgICAgXG4gICAgICAvLyBTdG9yZSB3ZWVrZGF5IGFzIGxvd2VyY2FzZSB0byBtYXRjaCBidWlsZEV4cGFuZGVkU2xvdHMgZXhwZWN0YXRpb24gYW5kIEFQSSBmb3JtYXRcbiAgICAgIGNvbnN0IHdlZWtkYXlOYW1lID0gZm9ybWF0SW5UaW1lWm9uZSh0YXJnZXREYXRlLCB0aW1lem9uZSwgeyB3ZWVrZGF5OiBcImxvbmdcIiB9KTtcbiAgICAgIGNvbnN0IHdlZWtkYXkgPSB3ZWVrZGF5TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gYCR7U3RyaW5nKHRhcmdldEhvdXIpLnBhZFN0YXJ0KDIsICcwJyl9OjAwYDtcbiAgICAgIGNvbnN0IHN0YXJ0TWludXRlcyA9IHRhcmdldEhvdXIgKiA2MDtcbiAgICAgIGNvbnN0IGVuZE1pbnV0ZXMgPSBzdGFydE1pbnV0ZXMgKyBzZWxlY3RlZFNlcnZpY2UuZHVyYXRpb25NaW51dGVzO1xuICAgICAgY29uc3QgZW5kSG91ciA9IE1hdGguZmxvb3IoZW5kTWludXRlcyAvIDYwKTtcbiAgICAgIGNvbnN0IGVuZE1pbiA9IGVuZE1pbnV0ZXMgJSA2MDtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBgJHtTdHJpbmcoZW5kSG91cikucGFkU3RhcnQoMiwgJzAnKX06JHtTdHJpbmcoZW5kTWluKS5wYWRTdGFydCgyLCAnMCcpfWA7XG4gICAgICBcbiAgICAgIGlmICghc3RhZmZNYXAuaGFzKHN0YWZmSWQpKSB7XG4gICAgICAgIHN0YWZmTWFwLnNldChzdGFmZklkLCBbXSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHNsb3RzID0gc3RhZmZNYXAuZ2V0KHN0YWZmSWQpITtcbiAgICAgIGNvbnN0IHNsb3RFeGlzdHMgPSBzbG90cy5zb21lKHNsb3QgPT4gXG4gICAgICAgIHNsb3QuZGF5ID09PSB3ZWVrZGF5ICYmIHNsb3Quc3RhcnRUaW1lID09PSBzdGFydFRpbWUgJiYgc2xvdC5lbmRUaW1lID09PSBlbmRUaW1lXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoIXNsb3RFeGlzdHMpIHtcbiAgICAgICAgc2xvdHMucHVzaCh7XG4gICAgICAgICAgaWQ6IGBzbG90LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICAgICAgZGF5OiB3ZWVrZGF5IGFzIEF2YWlsYWJpbGl0eVNsb3RbXCJkYXlcIl0sXG4gICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgICAgICAgZW5kVGltZTogZW5kVGltZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZm9yIChjb25zdCBbc3RhZmZJZCwgc2xvdHNdIG9mIHN0YWZmTWFwLmVudHJpZXMoKSkge1xuICAgICAgc2VydmljZUF2YWlsYWJpbGl0eS5zdGFmZi5wdXNoKHsgc3RhZmZJZCwgc2xvdHMgfSk7XG4gICAgfVxuICAgIFxuICAgIGlmIChzZXJ2aWNlQXZhaWxhYmlsaXR5LnN0YWZmLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlc3VsdC5wdXNoKHNlcnZpY2VBdmFpbGFiaWxpdHkpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZpbGxUZXN0RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB0ZXN0RGF0YSA9IGdlbmVyYXRlQXZhaWxhYmlsaXR5RGF0YShzZXJ2aWNlcywgc3RhZmYpO1xuICAgIC8vIFNhdmUgdGVzdCBkYXRhIHZpYSBBUElcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDbGllbnQoKTtcbiAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgICAgY29uc3QgYXV0aFRva2VuID0gc2Vzc2lvbj8uYWNjZXNzX3Rva2VuO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC03LWF2YWlsYWJpbGl0eScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgLi4uKGF1dGhUb2tlbiAmJiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2F1dGhUb2tlbn1gIH0pLFxuICAgICAgICB9LFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YWlsYWJpbGl0eTogdGVzdERhdGEgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHNldFNhdmVkQXZhaWxhYmlsaXR5KHRlc3REYXRhKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkU2VydmljZUlkKSB7XG4gICAgICAgICAgY29uc3Qgc2VydmljZUF2YWlsID0gdGVzdERhdGEuZmluZCgoYXZhaWw6IFNlcnZpY2VBdmFpbGFiaWxpdHkpID0+IGF2YWlsLnNlcnZpY2VJZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWQpO1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkU2VydmljZSAmJiBzZXJ2aWNlQXZhaWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGFuZGVkU2xvdHMgPSBidWlsZEV4cGFuZGVkU2xvdHMoe1xuICAgICAgICAgICAgICBzZXJ2aWNlOiBzZWxlY3RlZFNlcnZpY2UsXG4gICAgICAgICAgICAgIHNlcnZpY2VBdmFpbGFiaWxpdHk6IHNlcnZpY2VBdmFpbCxcbiAgICAgICAgICAgICAgc3RhZmY6IHN0YWZmLFxuICAgICAgICAgICAgICB0aW1lem9uZTogdGltZXpvbmUsXG4gICAgICAgICAgICAgIHN0YXJ0RGF0ZTogdG9kYXksXG4gICAgICAgICAgICAgIGhvcml6b25EYXlzOiAxNFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRGZXRjaGVkU2xvdHMoZXhwYW5kZWRTbG90cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmaWxsaW5nIHRlc3QgZGF0YTonLCBlcnJvcik7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGxvYWQgdGVzdCBkYXRhJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG1vbnRoWWVhciA9IGZvcm1hdEluVGltZVpvbmUod2Vla0RheXNbMF0sIHRpbWV6b25lLCB7IG1vbnRoOiBcImxvbmdcIiwgeWVhcjogXCJudW1lcmljXCIgfSk7XG4gIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktOFwiIGFyaWEtbGFiZWxsZWRieT1cImF2YWlsYWJpbGl0eS1zdGVwLWhlYWRpbmdcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1wcmltYXJ5LzMwIGJnLXByaW1hcnkvMTAgcHgtNCBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXByaW1hcnkvOTBcIj5cbiAgICAgICAgICA8Q2FsZW5kYXJDaGVjazIgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgU3RlcCA3IMK3IEF2YWlsYWJpbGl0eVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxoMiBpZD1cImF2YWlsYWJpbGl0eS1zdGVwLWhlYWRpbmdcIiBjbGFzc05hbWU9XCJmb250LWRpc3BsYXkgdGV4dC0zeGwgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgIFNldCBhdmFpbGFiaWxpdHkgYnkgY2xpY2tpbmcgdGltZSBzbG90c1xuICAgICAgICA8L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtYXgtdy0zeGwgdGV4dC1iYXNlIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICBTZWxlY3QgYSBzZXJ2aWNlIGFuZCBzdGFmZiBtZW1iZXIsIHRoZW4gY2xpY2sgZW1wdHkgdGltZSBzbG90cyB0byBhZGQgYXZhaWxhYmlsaXR5LiBDbGljayBhZ2FpbiB0byByZW1vdmUuIENsaWNrIFwiU2F2ZSBBdmFpbGFiaWxpdHlcIiB3aGVuIGRvbmUsIHRoZW4gY29udGludWUgdG8gdGhlIG5leHQgc3RlcC4gVGhpcyBhdmFpbGFiaWxpdHkgd2lsbCBiZSB1c2VkIGluIHlvdXIgYm9va2luZyBmbG93LlxuICAgICAgICA8L3A+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgey8qIFNlcnZpY2UgRHJvcGRvd24gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTZcIj5cbiAgICAgICAgPExhYmVsIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNzAgbWItMiBibG9ja1wiPkZpbHRlciBieSBTZXJ2aWNlPC9MYWJlbD5cbiAgICAgICAgPHNlbGVjdFxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzE1IGJnLVsjMDUwRjJDXS82MCBweC00IHB5LTMgdGV4dC1zbSB0ZXh0LXdoaXRlIGZvY3VzOmJvcmRlci1wcmltYXJ5IGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgdmFsdWU9e3NlbGVjdGVkU2VydmljZUlkIHx8IFwiXCJ9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZFNlcnZpY2VJZChlLnRhcmdldC52YWx1ZSB8fCBudWxsKTtcbiAgICAgICAgICAgIC8vIENsZWFyIHBlbmRpbmcgYXZhaWxhYmlsaXR5IHdoZW4gY2hhbmdpbmcgc2VydmljZVxuICAgICAgICAgICAgc2V0UGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucyhbXSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiIGNsYXNzTmFtZT1cImJnLVsjMDUwRjJDXSB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICBBbGwgU2VydmljZXNcbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICB7YWxsU2VydmljZXMubWFwKChzZXJ2aWNlKSA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17c2VydmljZS5pZH0gdmFsdWU9e3NlcnZpY2UuaWR9IGNsYXNzTmFtZT1cImJnLVsjMDUwRjJDXSB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgIHtzZXJ2aWNlLmNhdGVnb3J5TmFtZX0gLSB7c2VydmljZS5uYW1lfSAoe3NlcnZpY2UuZHVyYXRpb25NaW51dGVzfSBtaW4gwrcgJFxuICAgICAgICAgICAgICB7KHNlcnZpY2UucHJpY2VDZW50cyAvIDEwMCkudG9GaXhlZCgyKX0pXG4gICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIHtzZWxlY3RlZFNlcnZpY2UgJiYgKFxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICBTaG93aW5nIGF2YWlsYWJpbGl0eSBmb3I6IDxzdHJvbmcgY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntzZWxlY3RlZFNlcnZpY2UubmFtZX08L3N0cm9uZz5cbiAgICAgICAgICA8L3A+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFN0YWZmIFNlbGVjdGlvbiBQaWxscyAtIE9ubHkgc2hvdyB3aGVuIHNlcnZpY2UgaXMgc2VsZWN0ZWQgKi99XG4gICAgICB7c2VsZWN0ZWRTZXJ2aWNlSWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTZcIj5cbiAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCBtYi0zIGJsb2NrXCI+U2VsZWN0IFN0YWZmIE1lbWJlcjwvTGFiZWw+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxTdGFmZlBpbGxcbiAgICAgICAgICAgICAgbGFiZWw9XCJBbGwgU3RhZmZcIlxuICAgICAgICAgICAgICBhY3RpdmU9e3NlbGVjdGVkU3RhZmZJZCA9PT0gXCJhbnlcIn1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkU3RhZmZJZChcImFueVwiKTtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBjbGVhciBwZW5kaW5nIC0ga2VlcCBhbGwgcGVuZGluZyBzbG90cyB2aXNpYmxlXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAge3N0YWZmXG4gICAgICAgICAgICAgIC5maWx0ZXIobWVtYmVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyLmFjdGl2ZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHNob3cgc3RhZmYgYXNzaWduZWQgdG8gdGhpcyBzZXJ2aWNlXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkU2VydmljZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkU2VydmljZS5zdGFmZklkcy5pbmNsdWRlcyhtZW1iZXIuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm1hcCgobWVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxTdGFmZlBpbGxcbiAgICAgICAgICAgICAgICAgICAga2V5PXttZW1iZXIuaWR9XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXttZW1iZXIubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgY29sb3I9e21lbWJlci5jb2xvcn1cbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlPXtzZWxlY3RlZFN0YWZmSWQgPT09IG1lbWJlci5pZH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNsZWFyIHBlbmRpbmcgLSBrZWVwIGFsbCBwZW5kaW5nIHNsb3RzIHZpc2libGUgd2hlbiBzd2l0Y2hpbmcgc3RhZmZcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFN0YWZmSWQobWVtYmVyLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8SGVscGVyVGV4dCBjbGFzc05hbWU9XCJtdC0zIHRleHQtd2hpdGUvNTBcIj5cbiAgICAgICAgICAgIHtzZWxlY3RlZFN0YWZmSWQgPT09IFwiYW55XCIgXG4gICAgICAgICAgICAgID8gXCJTZWxlY3QgYSBzdGFmZiBtZW1iZXIgYWJvdmUsIHRoZW4gY2xpY2sgZW1wdHkgdGltZSBzbG90cyB0byBhZGQgYXZhaWxhYmlsaXR5XCJcbiAgICAgICAgICAgICAgOiBgQWRkaW5nIGF2YWlsYWJpbGl0eSBmb3IgJHtzdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTdGFmZklkKT8ubmFtZX0uIENsaWNrIGVtcHR5IHRpbWUgc2xvdHMgdG8gYWRkIGF2YWlsYWJpbGl0eS4gQ2xpY2sgXCJTYXZlXCIgd2hlbiBkb25lLmB9XG4gICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICAgIHtwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXByaW1hcnkvNDAgYmctcHJpbWFyeS8xMCBweC00IHB5LTNcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAge3BlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMubGVuZ3RofSBhdmFpbGFiaWxpdHkgc2xvdHtwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gcGVuZGluZ1xuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgICAgICAgIENsaWNrIFwiU2F2ZVwiIHRvIGFwcGx5IGNoYW5nZXMgdG8gdGhlIGJvb2tpbmcgc3lzdGVtXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIiBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMoW10pfSBcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NhdmluZ0F2YWlsYWJpbGl0eX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBDbGVhclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlQXZhaWxhYmlsaXR5fSBcbiAgICAgICAgICAgICAgICAgIGlzTG9hZGluZz17aXNTYXZpbmdBdmFpbGFiaWxpdHl9IFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2F2aW5nQXZhaWxhYmlsaXR5fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxTYXZlIGNsYXNzTmFtZT1cIm1yLTIgaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICBTYXZlIEF2YWlsYWJpbGl0eVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIFdlZWsgTmF2aWdhdGlvbiAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC02IHB5LTRcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gbmF2aWdhdGVXZWVrKFwicHJldlwiKX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwIGhvdmVyOnRleHQtd2hpdGVcIlxuICAgICAgICA+XG4gICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPnttb250aFllYXJ9PC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKHdlZWtEYXlzWzBdLCB0aW1lem9uZSwgeyBtb250aDogXCJzaG9ydFwiLCBkYXk6IFwibnVtZXJpY1wiIH0pfSAte1wiIFwifVxuICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUod2Vla0RheXNbNl0sIHRpbWV6b25lLCB7IG1vbnRoOiBcInNob3J0XCIsIGRheTogXCJudW1lcmljXCIgfSl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gbmF2aWdhdGVXZWVrKFwibmV4dFwiKX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwIGhvdmVyOnRleHQtd2hpdGVcIlxuICAgICAgICA+XG4gICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIENhbGVuZGFyIEdyaWQgLSBNYXRjaGluZyBBZG1pbiBWaWV3IFN0eWxlICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcC04IHNoYWRvdy1bMF8wXzYwcHhfcmdiYSg5MSwxMDAsMjU1LDAuMTUpXVwiPlxuICAgICAgICB7IXNlbGVjdGVkU2VydmljZUlkID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay82MCBwLTggdGV4dC1jZW50ZXIgdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+U2VsZWN0IGEgc2VydmljZSBhYm92ZSB0byBhZGQgYXZhaWxhYmlsaXR5PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LWZ1bGxcIj5cbiAgICAgICAgICAgICAgey8qIERheSBIZWFkZXJzICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTggZ2FwLTIgYm9yZGVyLWIgYm9yZGVyLXdoaXRlLzEwIHBiLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlLzYwXCI+VGltZTwvZGl2PlxuICAgICAgICAgICAgICAgIHt3ZWVrRGF5cy5tYXAoKGRheSwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIHsgd2Vla2RheTogXCJzaG9ydFwiIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUoZGF5LCB0aW1lem9uZSwgeyBkYXk6IFwibnVtZXJpY1wiIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIEhvdXIgUm93cyAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgIHtob3Vycy5tYXAoKGhvdXIpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJMYWJlbCA9IGhvdXIgPT09IDEyID8gXCIxMiBQTVwiIDogaG91ciA+IDEyID8gYCR7aG91ciAtIDEyfSBQTWAgOiBgJHtob3VyfSBBTWA7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aG91cn0gY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtOCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC14cyB0ZXh0LXdoaXRlLzYwIHB5LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtob3VyTGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge3dlZWtEYXlzLm1hcCgoZGF5LCBkYXlJZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNsb3RzRm9ySG91ciA9IHNsb3RzQnlEYXlBbmRIb3VyW2RhdGVLZXldPy5baG91cl0gfHwgW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtkYXlJZHh9IGNsYXNzTmFtZT1cInB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFNob3cgYXZhaWxhYmxlIHNsb3RzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nsb3RzRm9ySG91ci5tYXAoKHNsb3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhZmZNZW1iZXIgPSBzdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc2xvdC5zdGFmZklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNQZW5kaW5nID0gc2xvdC5pZCAmJiBzbG90LmlkLnN0YXJ0c1dpdGgoJ3BlbmRpbmctJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWRTdGFmZiA9IHNlbGVjdGVkU3RhZmZJZCAhPT0gXCJhbnlcIiAmJiBzbG90LnN0YWZmSWQgPT09IHNlbGVjdGVkU3RhZmZJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzbG90LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpc1BlbmRpbmcgJiYgaXNTZWxlY3RlZFN0YWZmID8gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgcGVuZGluZyBzbG90IG9uIGNsaWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNsb3REYXRlS2V5ID0gZm9ybWF0SW5UaW1lWm9uZShkYXksIHRpbWV6b25lLCBcInl5eXktTU0tZGRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGVuZGluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZW5kaW5nRGF0ZUtleSA9IGZvcm1hdEluVGltZVpvbmUocGVuZGluZy5kYXRlLCB0aW1lem9uZSwgXCJ5eXl5LU1NLWRkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIShwZW5kaW5nLnN0YWZmSWQgPT09IHNsb3Quc3RhZmZJZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdEYXRlS2V5ID09PSBzbG90RGF0ZUtleSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmcuaG91ciA9PT0gaG91cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCByb3VuZGVkLWxnIGJvcmRlciBweC0yIHB5LTEuNSB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcHJpbWFyeS83MCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1BlbmRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYm9yZGVyLXByaW1hcnkvNjAgYmctcHJpbWFyeS8yMCBob3Zlcjpib3JkZXItcmVkLTUwMC82MCBob3ZlcjpiZy1yZWQtNTAwLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXByaW1hcnkvNDAgYmctcHJpbWFyeS8yMCBob3Zlcjpib3JkZXItcHJpbWFyeS82MCBob3ZlcjpiZy1wcmltYXJ5LzMwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHN0YWZmTWVtYmVyPy5jb2xvciA/IGAke3N0YWZmTWVtYmVyLmNvbG9yfTgwYCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzdGFmZk1lbWJlcj8uY29sb3IgPyBgJHtzdGFmZk1lbWJlci5jb2xvcn0yMGAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2lzUGVuZGluZyAmJiBpc1NlbGVjdGVkU3RhZmYgPyBcIkNsaWNrIHRvIHJlbW92ZVwiIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKG5ldyBEYXRlKHNsb3Quc3RhcnREYXRlVGltZSksIHRpbWV6b25lLCB7IGhvdXI6IFwibnVtZXJpY1wiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC13aGl0ZS83MCBtdC0wLjUgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nsb3Quc3RhZmZOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC1bMTBweF0gbXQtMC41IHRydW5jYXRlICR7aXNQZW5kaW5nID8gXCJ0ZXh0LXByaW1hcnkvOTAgZm9udC1zZW1pYm9sZFwiIDogXCJ0ZXh0LWVtZXJhbGQtNDAwLzkwIGZvbnQtc2VtaWJvbGRcIn1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzUGVuZGluZyA/IFwi4pyTIFBlbmRpbmdcIiA6IFwi4pyTIFNhdmVkXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFNob3cgZW1wdHkgc3RhdGUgaWYgbm8gc2xvdHMgLSBtYWtlIGl0IGNsaWNrYWJsZSB0byBhZGQgYXZhaWxhYmlsaXR5ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nsb3RzRm9ySG91ci5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRW1wdHlTbG90Q2xpY2soZGF5LCBob3VyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtbGcgYmctd2hpdGUvNSBib3JkZXIgYm9yZGVyLXdoaXRlLzUgaG92ZXI6Ym9yZGVyLXByaW1hcnkvNDAgaG92ZXI6YmctcHJpbWFyeS8xMCBweS0xLjUgdHJhbnNpdGlvbiBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDbGljayB0byBhZGQgYXZhaWxhYmlsaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtd2hpdGUvMjAgdGV4dC1jZW50ZXJcIj4rIEFkZDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7ZXJyb3IgPyAoXG4gICAgICAgIDxIZWxwZXJUZXh0IGludGVudD1cImVycm9yXCIgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAge2Vycm9yfVxuICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICApIDogbnVsbH1cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0zXCI+XG4gICAgICAgIDxUZXN0RGF0YUJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVGaWxsVGVzdERhdGF9IC8+XG4gICAgICA8L2Rpdj5cblxuXG4gICAgICA8U3RlcEFjdGlvbnMgb25CYWNrPXtvbkJhY2t9IG9uTmV4dD17aGFuZGxlQ29udGludWV9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFN0YWZmUGlsbCh7XG4gIGxhYmVsLFxuICBjb2xvcixcbiAgYWN0aXZlLFxuICBvbkNsaWNrXG59OiB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGNvbG9yPzogc3RyaW5nO1xuICBhY3RpdmU6IGJvb2xlYW47XG4gIG9uQ2xpY2s6ICgpID0+IHZvaWQ7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgY2xhc3NOYW1lPXtgcm91bmRlZC1mdWxsIGJvcmRlciBweC00IHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1wcmltYXJ5LzcwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LWJsYWNrICR7XG4gICAgICAgIGFjdGl2ZSBcbiAgICAgICAgICA/IFwiYm9yZGVyLXdoaXRlLzYwIGJnLXdoaXRlLzE1IHRleHQtd2hpdGVcIiBcbiAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgdGV4dC13aGl0ZS82MCBob3Zlcjp0ZXh0LXdoaXRlLzgwXCJcbiAgICAgIH1gfVxuICAgICAgc3R5bGU9e2FjdGl2ZSAmJiBjb2xvciA/IHsgYm9yZGVyQ29sb3I6IGNvbG9yLCBib3hTaGFkb3c6IGAwIDAgMjVweCAke2NvbG9yfTMzYCB9IDogdW5kZWZpbmVkfVxuICAgID5cbiAgICAgIHtsYWJlbH1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJDaGV2cm9uTGVmdCIsIkNoZXZyb25SaWdodCIsIlNhdmUiLCJDYWxlbmRhckNoZWNrMiIsIkJ1dHRvbiIsIkhlbHBlclRleHQiLCJMYWJlbCIsIlN0ZXBBY3Rpb25zIiwiVGVzdERhdGFCdXR0b24iLCJnZW5lcmF0ZUF2YWlsYWJpbGl0eURhdGEiLCJmb3JtYXRJblRpbWVab25lIiwiem9uZWRNaW51dGVzVG9EYXRlIiwiYnVpbGRFeHBhbmRlZFNsb3RzIiwiZ3JvdXBTbG90c0J5RGF5IiwiY3JlYXRlQ2xpZW50Q2xpZW50IiwiQXZhaWxhYmlsaXR5U3RlcCIsInNlcnZpY2VzIiwic3RhZmYiLCJkZWZhdWx0VmFsdWVzIiwib25OZXh0Iiwib25CYWNrIiwidGltZXpvbmUiLCJjdXJyZW50V2Vla1N0YXJ0Iiwic2V0Q3VycmVudFdlZWtTdGFydCIsInRvZGF5IiwiRGF0ZSIsImRheU9mV2VlayIsImdldERheSIsImRpZmYiLCJnZXREYXRlIiwic3VuZGF5Iiwic2V0RGF0ZSIsInNldEhvdXJzIiwic2VsZWN0ZWRTZXJ2aWNlSWQiLCJzZXRTZWxlY3RlZFNlcnZpY2VJZCIsInNlbGVjdGVkU3RhZmZJZCIsInNldFNlbGVjdGVkU3RhZmZJZCIsImZldGNoZWRTbG90cyIsInNldEZldGNoZWRTbG90cyIsImlzU2F2aW5nQXZhaWxhYmlsaXR5Iiwic2V0SXNTYXZpbmdBdmFpbGFiaWxpdHkiLCJzYXZlZEF2YWlsYWJpbGl0eSIsInNldFNhdmVkQXZhaWxhYmlsaXR5IiwicGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucyIsInNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMiLCJlcnJvciIsInNldEVycm9yIiwiYWxsU2VydmljZXMiLCJmbGF0TWFwIiwiY2F0ZWdvcnkiLCJtYXAiLCJzZXJ2aWNlIiwiY2F0ZWdvcnlOYW1lIiwibmFtZSIsInNlbGVjdGVkU2VydmljZSIsImZpbmQiLCJzIiwiaWQiLCJzZXJ2aWNlQXZhaWwiLCJhdmFpbCIsInNlcnZpY2VJZCIsIndlZWtTdGFydCIsImV4cGFuZGVkU2xvdHMiLCJzZXJ2aWNlQXZhaWxhYmlsaXR5Iiwic3RhcnREYXRlIiwiaG9yaXpvbkRheXMiLCJpbmNsdWRlUGFzdFNsb3RzIiwiZ3JvdXBlZFNsb3RzIiwid2Vla0RheXMiLCJkYXlzIiwiaSIsImRhdGUiLCJwdXNoIiwiaG91cnMiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwic2xvdHNCeURheUFuZEhvdXIiLCJncm91cGVkIiwiYWxsU2xvdHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmbGF0IiwiZm9yRWFjaCIsInNsb3QiLCJzbG90RGF0ZSIsInN0YXJ0RGF0ZVRpbWUiLCJkYXRlS2V5IiwiaG91ciIsImhvdXIxMiIsImhvdXJOdW0iLCJwYXJzZUludCIsImlzSW5DdXJyZW50V2VlayIsInNvbWUiLCJkYXkiLCJkYXlLZXkiLCJpc0R1cGxpY2F0ZSIsImV4aXN0aW5nIiwic3RhZmZJZCIsInBlbmRpbmciLCJhbHJlYWR5UGVuZGluZyIsInN0YXJ0c1dpdGgiLCJmaWx0ZXIiLCJzdGFmZk1lbWJlciIsImVuZERhdGVUaW1lIiwiZ2V0VGltZSIsImR1cmF0aW9uTWludXRlcyIsInN0YWZmTmFtZSIsInN0YWZmQ29sb3IiLCJjb2xvciIsInRvSVNPU3RyaW5nIiwiZGF5TGFiZWwiLCJ3ZWVrZGF5IiwibmF2aWdhdGVXZWVrIiwiZGlyZWN0aW9uIiwibmV3RGF0ZSIsImhhbmRsZUVtcHR5U2xvdENsaWNrIiwic2VydmljZVN0YWZmIiwibWVtYmVyIiwiYWN0aXZlIiwic3RhZmZJZHMiLCJpbmNsdWRlcyIsInN0YWZmVG9Qcm9jZXNzIiwibSIsIkJvb2xlYW4iLCJhbGxQZW5kaW5nIiwiZXZlcnkiLCJ0b0RhdGVTdHJpbmciLCJwcmV2IiwiaXNTZWxlY3RlZFN0YWZmIiwibmV3QWRkaXRpb25zIiwiaGFuZGxlU2F2ZUF2YWlsYWJpbGl0eSIsInN1cGFiYXNlIiwiZGF0YSIsInNlc3Npb24iLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImF1dGhUb2tlbiIsImFjY2Vzc190b2tlbiIsIkVycm9yIiwiYWxsQXZhaWxhYmlsaXR5IiwidGFyZ2V0RGF0ZSIsInRhcmdldEhvdXIiLCJ3ZWVrZGF5TmFtZSIsInRvTG93ZXJDYXNlIiwic3RhcnRUaW1lIiwiU3RyaW5nIiwicGFkU3RhcnQiLCJzdGFydE1pbnV0ZXMiLCJlbmRNaW51dGVzIiwiZW5kSG91ciIsIk1hdGgiLCJmbG9vciIsImVuZE1pbiIsImVuZFRpbWUiLCJzdGFmZkF2YWlsYWJpbGl0eSIsInNsb3RzIiwic2xvdEV4aXN0cyIsIm5vdyIsInJhbmRvbSIsInNhdmVSZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImNyZWRlbnRpYWxzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmFpbGFiaWxpdHkiLCJvayIsImVycm9yRGF0YSIsImpzb24iLCJjYXRjaCIsImNvbnNvbGUiLCJtZXNzYWdlIiwiaGFuZGxlQ29udGludWUiLCJzYXZlU3VjY2VzcyIsInJlc3VsdCIsIm1hcFBlbmRpbmdUb1NlcnZpY2VBdmFpbGFiaWxpdHkiLCJzZXJ2aWNlc05lZWRpbmdBdmFpbGFiaWxpdHkiLCJzZXJ2aWNlRGVmIiwic3RhZmZFbnRyeSIsInN0YWZmTWFwIiwiTWFwIiwiaGFzIiwic2V0IiwiZ2V0IiwiZW50cmllcyIsImhhbmRsZUZpbGxUZXN0RGF0YSIsInRlc3REYXRhIiwicmVzcG9uc2UiLCJtb250aFllYXIiLCJtb250aCIsInllYXIiLCJkaXYiLCJjbGFzc05hbWUiLCJhcmlhLWxhYmVsbGVkYnkiLCJoZWFkZXIiLCJzcGFuIiwiYXJpYS1oaWRkZW4iLCJoMiIsInAiLCJzZWxlY3QiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIm9wdGlvbiIsInByaWNlQ2VudHMiLCJ0b0ZpeGVkIiwic3Ryb25nIiwiU3RhZmZQaWxsIiwibGFiZWwiLCJvbkNsaWNrIiwidmFyaWFudCIsImRpc2FibGVkIiwiaXNMb2FkaW5nIiwiaDMiLCJpZHgiLCJob3VyTGFiZWwiLCJkYXlJZHgiLCJzbG90c0ZvckhvdXIiLCJpc1BlbmRpbmciLCJidXR0b24iLCJ0eXBlIiwic2xvdERhdGVLZXkiLCJwZW5kaW5nRGF0ZUtleSIsInVuZGVmaW5lZCIsInN0eWxlIiwiYm9yZGVyQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0aXRsZSIsIm1pbnV0ZSIsImludGVudCIsInJvbGUiLCJib3hTaGFkb3ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/onboarding/availability-step.tsx\n"));

/***/ })

});