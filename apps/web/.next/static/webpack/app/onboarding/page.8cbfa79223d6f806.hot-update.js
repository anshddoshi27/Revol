"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/onboarding/page",{

/***/ "(app-pages-browser)/./src/components/onboarding/availability-step.tsx":
/*!*********************************************************!*\
  !*** ./src/components/onboarding/availability-step.tsx ***!
  \*********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AvailabilityStep: function() { return /* binding */ AvailabilityStep; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar-check-2.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_helper_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/helper-text */ \"(app-pages-browser)/./src/components/ui/helper-text.tsx\");\n/* harmony import */ var _components_ui_label__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/label */ \"(app-pages-browser)/./src/components/ui/label.tsx\");\n/* harmony import */ var _components_onboarding_step_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/onboarding/step-actions */ \"(app-pages-browser)/./src/components/onboarding/step-actions.tsx\");\n/* harmony import */ var _components_onboarding_test_data_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/onboarding/test-data-button */ \"(app-pages-browser)/./src/components/onboarding/test-data-button.tsx\");\n/* harmony import */ var _lib_test_data_generator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/test-data-generator */ \"(app-pages-browser)/./src/lib/test-data-generator.ts\");\n/* harmony import */ var _lib_timezone__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/timezone */ \"(app-pages-browser)/./src/lib/timezone.ts\");\n/* harmony import */ var _lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/availability-utils */ \"(app-pages-browser)/./src/lib/availability-utils.ts\");\n/* harmony import */ var _lib_supabase_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\");\n/* __next_internal_client_entry_do_not_use__ AvailabilityStep auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nfunction AvailabilityStep(param) {\n    let { services, staff, defaultValues, onNext, onBack, timezone = \"America/New_York\" // Default timezone\n     } = param;\n    var _staff_find;\n    _s();\n    const [currentWeekStart, setCurrentWeekStart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        const today = new Date();\n        const dayOfWeek = today.getDay();\n        const diff = today.getDate() - dayOfWeek;\n        const sunday = new Date(today.setDate(diff));\n        sunday.setHours(0, 0, 0, 0);\n        return sunday;\n    });\n    const [selectedServiceId, setSelectedServiceId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedStaffId, setSelectedStaffId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"any\"); // \"any\" means show all staff\n    const [fetchedSlots, setFetchedSlots] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isSavingAvailability, setIsSavingAvailability] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Track saved availability during this onboarding session\n    const [savedAvailability, setSavedAvailability] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Pending availability additions - slots clicked but not yet saved\n    const [pendingAvailabilityAdditions, setPendingAvailabilityAdditions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Get all services for dropdown\n    const allServices = services.flatMap((category)=>category.services.map((service)=>({\n                ...service,\n                categoryName: category.name\n            })));\n    // When service changes, load saved availability for that service\n    // This ensures saved slots persist when switching between services\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!selectedServiceId) {\n            setFetchedSlots([]);\n            return;\n        }\n        const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n        if (!selectedService) {\n            setFetchedSlots([]);\n            return;\n        }\n        // Check if we have saved availability for this service in state\n        const serviceAvail = savedAvailability.find((avail)=>avail.serviceId === selectedServiceId);\n        if (serviceAvail) {\n            // Expand saved slots for this service\n            const weekStart = new Date(currentWeekStart);\n            weekStart.setHours(0, 0, 0, 0);\n            const expandedSlots = (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.buildExpandedSlots)({\n                service: selectedService,\n                serviceAvailability: serviceAvail,\n                staff: staff,\n                timezone: timezone,\n                startDate: weekStart,\n                horizonDays: 14,\n                includePastSlots: true\n            });\n            setFetchedSlots(expandedSlots);\n        } else {\n            // No saved availability for this service yet - start with empty calendar\n            setFetchedSlots([]);\n        }\n    }, [\n        selectedServiceId,\n        savedAvailability,\n        allServices,\n        staff,\n        timezone,\n        currentWeekStart\n    ]);\n    // Group slots by day - during onboarding, we only show pending slots and saved slots from this session\n    const groupedSlots = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!selectedServiceId) return {};\n        // Combine fetched slots (saved during this session) with any additional slots\n        return (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.groupSlotsByDay)(fetchedSlots, timezone);\n    }, [\n        fetchedSlots,\n        timezone,\n        selectedServiceId\n    ]);\n    // Generate days of the week\n    const weekDays = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const days = [];\n        for(let i = 0; i < 7; i++){\n            const date = new Date(currentWeekStart);\n            date.setDate(currentWeekStart.getDate() + i);\n            days.push(date);\n        }\n        return days;\n    }, [\n        currentWeekStart\n    ]);\n    // Generate hours from 8 AM to 8 PM (matching booking flow)\n    const hours = Array.from({\n        length: 13\n    }, (_, i)=>i + 8);\n    // Group availability slots by day and hour (including pending additions)\n    const slotsByDayAndHour = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const grouped = {};\n        // Flatten all slots from all days\n        const allSlots = Object.values(groupedSlots).flat();\n        // Add fetched slots\n        allSlots.forEach((slot)=>{\n            const slotDate = new Date(slot.startDateTime);\n            const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(slotDate, timezone, \"yyyy-MM-dd\");\n            const hour = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(slotDate, timezone, {\n                hour: \"numeric\",\n                hour12: false\n            });\n            const hourNum = parseInt(hour, 10);\n            // Only include slots that are in the current week\n            const isInCurrentWeek = weekDays.some((day)=>{\n                const dayKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                return dayKey === dateKey;\n            });\n            if (!isInCurrentWeek) return;\n            if (!grouped[dateKey]) {\n                grouped[dateKey] = {};\n            }\n            if (!grouped[dateKey][hourNum]) {\n                grouped[dateKey][hourNum] = [];\n            }\n            // Check for duplicates (same hour, same staff, same date)\n            const isDuplicate = grouped[dateKey][hourNum].some((existing)=>existing.staffId === slot.staffId && existing.startDateTime === slot.startDateTime);\n            if (!isDuplicate) {\n                grouped[dateKey][hourNum].push(slot);\n            }\n        });\n        // Add pending availability additions as visual slots\n        if (selectedServiceId) {\n            const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n            if (selectedService) {\n                pendingAvailabilityAdditions.forEach((pending)=>{\n                    const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(pending.date, timezone, \"yyyy-MM-dd\");\n                    const hourNum = pending.hour;\n                    // Only include if in current week\n                    const isInCurrentWeek = weekDays.some((day)=>{\n                        const dayKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                        return dayKey === dateKey;\n                    });\n                    if (!isInCurrentWeek) return;\n                    if (!grouped[dateKey]) {\n                        grouped[dateKey] = {};\n                    }\n                    if (!grouped[dateKey][hourNum]) {\n                        grouped[dateKey][hourNum] = [];\n                    }\n                    // Check if this pending slot already exists as pending (don't duplicate)\n                    const alreadyPending = grouped[dateKey][hourNum].some((existing)=>existing.staffId === pending.staffId && existing.id && existing.id.startsWith(\"pending-\"));\n                    if (!alreadyPending) {\n                        // Remove any saved slot for the same time/staff (pending replaces saved)\n                        grouped[dateKey][hourNum] = grouped[dateKey][hourNum].filter((existing)=>{\n                            var _existing_id;\n                            return !(existing.staffId === pending.staffId && !((_existing_id = existing.id) === null || _existing_id === void 0 ? void 0 : _existing_id.startsWith(\"pending-\")));\n                        });\n                        const staffMember = staff.find((s)=>s.id === pending.staffId);\n                        const startDateTime = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.zonedMinutesToDate)(pending.date, pending.hour * 60, timezone);\n                        const endDateTime = new Date(startDateTime.getTime() + selectedService.durationMinutes * 60 * 1000);\n                        grouped[dateKey][hourNum].push({\n                            id: \"pending-\".concat(pending.staffId, \"-\").concat(dateKey, \"-\").concat(hourNum),\n                            serviceId: selectedServiceId,\n                            staffId: pending.staffId,\n                            staffName: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.name) || \"Unknown\",\n                            staffColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) || \"#000000\",\n                            startDateTime: startDateTime.toISOString(),\n                            endDateTime: endDateTime.toISOString(),\n                            dayLabel: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(pending.date, timezone, {\n                                weekday: \"long\"\n                            })\n                        });\n                    }\n                });\n            }\n        }\n        return grouped;\n    }, [\n        groupedSlots,\n        weekDays,\n        timezone,\n        pendingAvailabilityAdditions,\n        selectedServiceId,\n        allServices,\n        staff\n    ]);\n    const navigateWeek = (direction)=>{\n        const newDate = new Date(currentWeekStart);\n        newDate.setDate(newDate.getDate() + (direction === \"next\" ? 7 : -7));\n        setCurrentWeekStart(newDate);\n    };\n    const handleEmptySlotClick = (day, hour)=>{\n        if (!selectedServiceId) {\n            setError(\"Please select a service first\");\n            return;\n        }\n        // If a specific staff member is selected, add to pending directly\n        if (selectedStaffId !== \"any\") {\n            // Check if this slot is already pending\n            const alreadyPending = pendingAvailabilityAdditions.some((pending)=>pending.staffId === selectedStaffId && pending.date.toDateString() === day.toDateString() && pending.hour === hour);\n            if (alreadyPending) {\n                // Remove it if clicking again (toggle)\n                setPendingAvailabilityAdditions((prev)=>prev.filter((pending)=>!(pending.staffId === selectedStaffId && pending.date.toDateString() === day.toDateString() && pending.hour === hour)));\n            } else {\n                // Add to pending\n                setPendingAvailabilityAdditions((prev)=>[\n                        ...prev,\n                        {\n                            staffId: selectedStaffId,\n                            date: day,\n                            hour\n                        }\n                    ]);\n            }\n        } else {\n            // If \"All Staff\" is selected, check if there's only one staff member\n            const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n            if (!selectedService) {\n                setError(\"Service not found\");\n                return;\n            }\n            // Get staff members assigned to this service\n            const serviceStaff = staff.filter((member)=>{\n                if (member.active === false) return false;\n                return selectedService.staffIds.includes(member.id);\n            });\n            // If only one staff member, automatically add for that person\n            if (serviceStaff.length === 1) {\n                const singleStaffId = serviceStaff[0].id;\n                // Check if this slot is already pending\n                const alreadyPending = pendingAvailabilityAdditions.some((pending)=>pending.staffId === singleStaffId && pending.date.toDateString() === day.toDateString() && pending.hour === hour);\n                if (alreadyPending) {\n                    // Remove it if clicking again (toggle)\n                    setPendingAvailabilityAdditions((prev)=>prev.filter((pending)=>!(pending.staffId === singleStaffId && pending.date.toDateString() === day.toDateString() && pending.hour === hour)));\n                } else {\n                    // Add to pending\n                    setPendingAvailabilityAdditions((prev)=>[\n                            ...prev,\n                            {\n                                staffId: singleStaffId,\n                                date: day,\n                                hour\n                            }\n                        ]);\n                }\n            } else if (serviceStaff.length > 1) {\n                // Multiple staff members, show modal to pick\n                setAddingAvailability({\n                    date: day,\n                    hour,\n                    minute: 0\n                });\n            } else {\n                // No staff members assigned to this service\n                setError(\"No staff members assigned to this service\");\n            }\n        }\n        setError(null);\n    };\n    const handleAddAvailabilityForStaff = (staffId, date, hour)=>{\n        var _addingAvailability, _addingAvailability1;\n        if (!selectedServiceId) return;\n        // Use provided date/hour or from addingAvailability state\n        const targetDate = date || ((_addingAvailability = addingAvailability) === null || _addingAvailability === void 0 ? void 0 : _addingAvailability.date);\n        const targetHour = hour !== undefined ? hour : (_addingAvailability1 = addingAvailability) === null || _addingAvailability1 === void 0 ? void 0 : _addingAvailability1.hour;\n        if (!targetDate || targetHour === undefined) return;\n        // Check if this slot is already pending\n        const alreadyPending = pendingAvailabilityAdditions.some((pending)=>pending.staffId === staffId && pending.date.toDateString() === targetDate.toDateString() && pending.hour === targetHour);\n        if (alreadyPending) {\n            // Remove it if clicking again (toggle)\n            setPendingAvailabilityAdditions((prev)=>prev.filter((pending)=>!(pending.staffId === staffId && pending.date.toDateString() === targetDate.toDateString() && pending.hour === targetHour)));\n        } else {\n            // Add to pending\n            setPendingAvailabilityAdditions((prev)=>[\n                    ...prev,\n                    {\n                        staffId,\n                        date: targetDate,\n                        hour: targetHour\n                    }\n                ]);\n        }\n        // Close modal if it was open\n        if (addingAvailability) {\n            setAddingAvailability(null);\n        }\n    };\n    const handleSaveAvailability = async ()=>{\n        if (!selectedServiceId || pendingAvailabilityAdditions.length === 0) return true;\n        setIsSavingAvailability(true);\n        setError(null);\n        try {\n            // Get auth token from Supabase client\n            const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_10__.createClientClient)();\n            const { data: { session } } = await supabase.auth.getSession();\n            const authToken = session === null || session === void 0 ? void 0 : session.access_token;\n            const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n            if (!selectedService) {\n                throw new Error(\"Selected service not found\");\n            }\n            // Use savedAvailability state (which has temporary IDs) as the base\n            // This ensures consistency - we don't mix real UUIDs from API with temporary IDs\n            // The API handles ID mapping when saving, but our state keeps temporary IDs\n            let allAvailability = [\n                ...savedAvailability\n            ];\n            // Find or create service availability entry for the current service\n            let serviceAvailability = allAvailability.find((avail)=>avail.serviceId === selectedServiceId);\n            if (!serviceAvailability) {\n                serviceAvailability = {\n                    serviceId: selectedServiceId,\n                    staff: []\n                };\n                allAvailability.push(serviceAvailability);\n            }\n            // Process all pending additions\n            for (const pending of pendingAvailabilityAdditions){\n                const targetDate = pending.date;\n                const targetHour = pending.hour;\n                const staffId = pending.staffId;\n                // Get weekday name from the date (timezone-aware)\n                // Store as lowercase to match buildExpandedSlots expectation and API format\n                const weekdayName = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(targetDate, timezone, {\n                    weekday: \"long\"\n                });\n                const weekday = weekdayName.toLowerCase();\n                // Format time as HH:mm\n                const startTime = \"\".concat(String(targetHour).padStart(2, \"0\"), \":00\");\n                // Calculate end time based on service duration\n                const startMinutes = targetHour * 60;\n                const endMinutes = startMinutes + selectedService.durationMinutes;\n                const endHour = Math.floor(endMinutes / 60);\n                const endMin = endMinutes % 60;\n                const endTime = \"\".concat(String(endHour).padStart(2, \"0\"), \":\").concat(String(endMin).padStart(2, \"0\"));\n                // Find or create staff availability entry\n                let staffAvailability = serviceAvailability.staff.find((s)=>s.staffId === staffId);\n                if (!staffAvailability) {\n                    staffAvailability = {\n                        staffId: staffId,\n                        slots: []\n                    };\n                    serviceAvailability.staff.push(staffAvailability);\n                }\n                // Check if this slot already exists\n                const slotExists = staffAvailability.slots.some((slot)=>slot.day === weekday && slot.startTime === startTime && slot.endTime === endTime);\n                if (!slotExists) {\n                    // Add the new slot\n                    staffAvailability.slots.push({\n                        id: \"slot-\".concat(Date.now(), \"-\").concat(Math.random()),\n                        day: weekday,\n                        startTime: startTime,\n                        endTime: endTime\n                    });\n                }\n            }\n            // Save all changes to API\n            const saveResponse = await fetch(\"/api/business/onboarding/step-7-availability\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    ...authToken && {\n                        \"Authorization\": \"Bearer \".concat(authToken)\n                    }\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    availability: allAvailability\n                })\n            });\n            if (!saveResponse.ok) {\n                const errorData = await saveResponse.json().catch(()=>({}));\n                throw new Error(errorData.error || \"Failed to save availability\");\n            }\n            // Update saved availability state with the data we just saved\n            // allAvailability already contains all services (merged from savedAvailability state)\n            // and now has the updated slots for the current service\n            // This preserves availability for all services with temporary IDs\n            setSavedAvailability(allAvailability);\n            // Expand the saved slots FIRST before clearing pending additions\n            // This ensures a smooth transition from pending to saved\n            const serviceAvail = allAvailability.find((avail)=>avail.serviceId === selectedServiceId);\n            if (selectedService && serviceAvail) {\n                // Start from the beginning of the current week to show all slots in the week view\n                const weekStart = new Date(currentWeekStart);\n                weekStart.setHours(0, 0, 0, 0);\n                const expandedSlots = (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.buildExpandedSlots)({\n                    service: selectedService,\n                    serviceAvailability: serviceAvail,\n                    staff: staff,\n                    timezone: timezone,\n                    startDate: weekStart,\n                    horizonDays: 14,\n                    includePastSlots: true // Show all slots in the current week view for onboarding\n                });\n                // Update fetchedSlots with saved slots BEFORE clearing pending\n                // This ensures saved slots appear immediately\n                setFetchedSlots(expandedSlots);\n            } else {\n                setFetchedSlots([]);\n            }\n            // Clear pending additions AFTER we've updated the saved slots\n            // This ensures slots switch from \"Pending\" to \"Saved\" smoothly\n            setPendingAvailabilityAdditions([]);\n            return true; // Success\n        } catch (error) {\n            console.error(\"Error saving availability:\", error);\n            setError(\"Failed to save availability: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n            return false; // Failure\n        } finally{\n            setIsSavingAvailability(false);\n        }\n    };\n    const handleContinue = async ()=>{\n        setError(null);\n        // Before continuing, save any pending availability\n        if (pendingAvailabilityAdditions.length > 0 && selectedServiceId) {\n            const saveSuccess = await handleSaveAvailability();\n            if (!saveSuccess) {\n                // Error already set by handleSaveAvailability\n                return; // Don't continue if save failed\n            }\n        }\n        // Convert saved availability to ServiceAvailability format\n        // Use saved availability from this session, or convert pending if nothing saved yet\n        let result = savedAvailability.length > 0 ? savedAvailability : [];\n        // If we have no saved availability but have pending, convert pending\n        if (result.length === 0 && pendingAvailabilityAdditions.length > 0 && selectedServiceId) {\n            result = mapPendingToServiceAvailability();\n        }\n        // Validate that services with staff have at least one slot\n        const servicesNeedingAvailability = result.filter((service)=>{\n            // Check if this service has staff assigned\n            const serviceDef = allServices.find((s)=>s.id === service.serviceId);\n            if (!serviceDef || serviceDef.staffIds.length === 0) return false;\n            // Check if all staff have slots\n            return service.staff.length > 0 && service.staff.every((staffEntry)=>staffEntry.slots.length === 0);\n        });\n        if (servicesNeedingAvailability.length) {\n            const serviceDef = allServices.find((s)=>s.id === servicesNeedingAvailability[0].serviceId);\n            setError('Add at least one availability slot for service \"'.concat((serviceDef === null || serviceDef === void 0 ? void 0 : serviceDef.name) || servicesNeedingAvailability[0].serviceId, '\". Each service with staff needs availability to appear in booking.'));\n            return;\n        }\n        await onNext(result);\n    };\n    const mapPendingToServiceAvailability = ()=>{\n        // This is a fallback if no current availability exists\n        // Convert pending additions to ServiceAvailability format\n        const result = [];\n        if (!selectedServiceId || pendingAvailabilityAdditions.length === 0) {\n            return result;\n        }\n        const serviceAvailability = {\n            serviceId: selectedServiceId,\n            staff: []\n        };\n        const staffMap = new Map();\n        const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n        if (!selectedService) return result;\n        for (const pending of pendingAvailabilityAdditions){\n            const staffId = pending.staffId;\n            const targetDate = pending.date;\n            const targetHour = pending.hour;\n            // Store weekday as lowercase to match buildExpandedSlots expectation and API format\n            const weekdayName = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(targetDate, timezone, {\n                weekday: \"long\"\n            });\n            const weekday = weekdayName.toLowerCase();\n            const startTime = \"\".concat(String(targetHour).padStart(2, \"0\"), \":00\");\n            const startMinutes = targetHour * 60;\n            const endMinutes = startMinutes + selectedService.durationMinutes;\n            const endHour = Math.floor(endMinutes / 60);\n            const endMin = endMinutes % 60;\n            const endTime = \"\".concat(String(endHour).padStart(2, \"0\"), \":\").concat(String(endMin).padStart(2, \"0\"));\n            if (!staffMap.has(staffId)) {\n                staffMap.set(staffId, []);\n            }\n            const slots = staffMap.get(staffId);\n            const slotExists = slots.some((slot)=>slot.day === weekday && slot.startTime === startTime && slot.endTime === endTime);\n            if (!slotExists) {\n                slots.push({\n                    id: \"slot-\".concat(Date.now(), \"-\").concat(Math.random()),\n                    day: weekday,\n                    startTime: startTime,\n                    endTime: endTime\n                });\n            }\n        }\n        for (const [staffId, slots] of staffMap.entries()){\n            serviceAvailability.staff.push({\n                staffId,\n                slots\n            });\n        }\n        if (serviceAvailability.staff.length > 0) {\n            result.push(serviceAvailability);\n        }\n        return result;\n    };\n    const handleFillTestData = async ()=>{\n        const testData = (0,_lib_test_data_generator__WEBPACK_IMPORTED_MODULE_7__.generateAvailabilityData)(services, staff);\n        // Save test data via API\n        try {\n            const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_10__.createClientClient)();\n            const { data: { session } } = await supabase.auth.getSession();\n            const authToken = session === null || session === void 0 ? void 0 : session.access_token;\n            const response = await fetch(\"/api/business/onboarding/step-7-availability\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    ...authToken && {\n                        \"Authorization\": \"Bearer \".concat(authToken)\n                    }\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    availability: testData\n                })\n            });\n            if (response.ok) {\n                setSavedAvailability(testData);\n                if (selectedServiceId) {\n                    const serviceAvail = testData.find((avail)=>avail.serviceId === selectedServiceId);\n                    const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n                    if (selectedService && serviceAvail) {\n                        const today = new Date();\n                        const expandedSlots = (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.buildExpandedSlots)({\n                            service: selectedService,\n                            serviceAvailability: serviceAvail,\n                            staff: staff,\n                            timezone: timezone,\n                            startDate: today,\n                            horizonDays: 14\n                        });\n                        setFetchedSlots(expandedSlots);\n                    }\n                }\n                setError(null);\n            }\n        } catch (error) {\n            console.error(\"Error filling test data:\", error);\n            setError(\"Failed to load test data\");\n        }\n    };\n    const monthYear = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(weekDays[0], timezone, {\n        month: \"long\",\n        year: \"numeric\"\n    });\n    const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-8\",\n        \"aria-labelledby\": \"availability-step-heading\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"inline-flex items-center gap-2 rounded-full border border-primary/30 bg-primary/10 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-primary/90\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 670,\n                                columnNumber: 11\n                            }, this),\n                            \"Step 7 \\xb7 Availability\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 669,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        id: \"availability-step-heading\",\n                        className: \"font-display text-3xl text-white\",\n                        children: \"Set availability by clicking time slots\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 673,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"max-w-3xl text-base text-white/70\",\n                        children: 'Select a service and staff member, then click empty time slots to add availability. Click again to remove. Click \"Save Availability\" when done, then continue to the next step. This availability will be used in your booking flow.'\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 676,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 668,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"rounded-3xl border border-white/10 bg-white/5 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_label__WEBPACK_IMPORTED_MODULE_4__.Label, {\n                        className: \"text-white/70 mb-2 block\",\n                        children: \"Filter by Service\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 683,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        className: \"w-full rounded-2xl border border-white/15 bg-[#050F2C]/60 px-4 py-3 text-sm text-white focus:border-primary focus:outline-none\",\n                        value: selectedServiceId || \"\",\n                        onChange: (e)=>{\n                            setSelectedServiceId(e.target.value || null);\n                            // Clear pending availability when changing service\n                            setPendingAvailabilityAdditions([]);\n                            setError(null);\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"\",\n                                className: \"bg-[#050F2C] text-white\",\n                                children: \"All Services\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 694,\n                                columnNumber: 11\n                            }, this),\n                            allServices.map((service)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: service.id,\n                                    className: \"bg-[#050F2C] text-white\",\n                                    children: [\n                                        service.categoryName,\n                                        \" - \",\n                                        service.name,\n                                        \" (\",\n                                        service.durationMinutes,\n                                        \" min \\xb7 $\",\n                                        (service.priceCents / 100).toFixed(2),\n                                        \")\"\n                                    ]\n                                }, service.id, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 698,\n                                    columnNumber: 13\n                                }, this))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 684,\n                        columnNumber: 9\n                    }, this),\n                    selectedService && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-xs text-white/60\",\n                        children: [\n                            \"Showing availability for: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                className: \"text-white\",\n                                children: selectedService.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 706,\n                                columnNumber: 39\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 705,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 682,\n                columnNumber: 7\n            }, this),\n            selectedServiceId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"rounded-3xl border border-white/10 bg-white/5 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_label__WEBPACK_IMPORTED_MODULE_4__.Label, {\n                        className: \"text-white/70 mb-3 block\",\n                        children: \"Select Staff Member\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 714,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                                label: \"All Staff\",\n                                active: selectedStaffId === \"any\",\n                                onClick: ()=>{\n                                    setSelectedStaffId(\"any\");\n                                // Don't clear pending - keep all pending slots visible\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 716,\n                                columnNumber: 13\n                            }, this),\n                            staff.filter((member)=>{\n                                if (member.active === false) return false;\n                                // Only show staff assigned to this service\n                                if (selectedService) {\n                                    return selectedService.staffIds.includes(member.id);\n                                }\n                                return true;\n                            }).map((member)=>{\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                                    label: member.name,\n                                    color: member.color,\n                                    active: selectedStaffId === member.id,\n                                    onClick: ()=>{\n                                        // Don't clear pending - keep all pending slots visible when switching staff\n                                        setSelectedStaffId(member.id);\n                                    }\n                                }, member.id, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 735,\n                                    columnNumber: 19\n                                }, this);\n                            })\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 715,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_3__.HelperText, {\n                        className: \"mt-3 text-white/50\",\n                        children: selectedStaffId === \"any\" ? \"Select a staff member above, then click empty time slots to add availability\" : \"Adding availability for \".concat((_staff_find = staff.find((s)=>s.id === selectedStaffId)) === null || _staff_find === void 0 ? void 0 : _staff_find.name, '. Click empty time slots to add availability. Click \"Save\" when done.')\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 749,\n                        columnNumber: 11\n                    }, this),\n                    pendingAvailabilityAdditions.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 flex items-center justify-between rounded-2xl border border-primary/40 bg-primary/10 px-4 py-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm font-semibold text-white\",\n                                        children: [\n                                            pendingAvailabilityAdditions.length,\n                                            \" availability slot\",\n                                            pendingAvailabilityAdditions.length > 1 ? \"s\" : \"\",\n                                            \" pending\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 757,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-white/60\",\n                                        children: 'Click \"Save\" to apply changes to the booking system'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 760,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 756,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        variant: \"ghost\",\n                                        onClick: ()=>setPendingAvailabilityAdditions([]),\n                                        disabled: isSavingAvailability,\n                                        children: \"Clear\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 765,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        onClick: handleSaveAvailability,\n                                        isLoading: isSavingAvailability,\n                                        disabled: isSavingAvailability,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                className: \"mr-2 h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                lineNumber: 777,\n                                                columnNumber: 19\n                                            }, this),\n                                            \"Save Availability\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 772,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 764,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 755,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 713,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between rounded-3xl border border-white/10 bg-white/5 px-6 py-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"ghost\",\n                        onClick: ()=>navigateWeek(\"prev\"),\n                        className: \"text-white/70 hover:text-white\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            className: \"h-5 w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 793,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 788,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold text-white\",\n                                children: monthYear\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 796,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-white/60\",\n                                children: [\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(weekDays[0], timezone, {\n                                        month: \"short\",\n                                        day: \"numeric\"\n                                    }),\n                                    \" -\",\n                                    \" \",\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(weekDays[6], timezone, {\n                                        month: \"short\",\n                                        day: \"numeric\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 797,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 795,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"ghost\",\n                        onClick: ()=>navigateWeek(\"next\"),\n                        className: \"text-white/70 hover:text-white\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            className: \"h-5 w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 807,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 802,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 787,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.15)]\",\n                children: !selectedServiceId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-base\",\n                        children: \"Select a service above to add availability\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 815,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 814,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"overflow-x-auto\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"min-w-full\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-8 gap-2 border-b border-white/10 pb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs font-semibold text-white/60\",\n                                        children: \"Time\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 822,\n                                        columnNumber: 17\n                                    }, this),\n                                    weekDays.map((day, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs font-semibold text-white/60\",\n                                                    children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, {\n                                                        weekday: \"short\"\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                    lineNumber: 825,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm font-semibold text-white\",\n                                                    children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, {\n                                                        day: \"numeric\"\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                    lineNumber: 828,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, idx, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 824,\n                                            columnNumber: 19\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 821,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 space-y-1\",\n                                children: hours.map((hour)=>{\n                                    const hourLabel = hour === 12 ? \"12 PM\" : hour > 12 ? \"\".concat(hour - 12, \" PM\") : \"\".concat(hour, \" AM\");\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-8 gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center text-xs text-white/60 py-2\",\n                                                children: hourLabel\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                lineNumber: 841,\n                                                columnNumber: 23\n                                            }, this),\n                                            weekDays.map((day, dayIdx)=>{\n                                                var _slotsByDayAndHour_dateKey;\n                                                const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                                                const slotsForHour = ((_slotsByDayAndHour_dateKey = slotsByDayAndHour[dateKey]) === null || _slotsByDayAndHour_dateKey === void 0 ? void 0 : _slotsByDayAndHour_dateKey[hour]) || [];\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"py-1\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-1\",\n                                                        children: [\n                                                            slotsForHour.map((slot)=>{\n                                                                const staffMember = staff.find((s)=>s.id === slot.staffId);\n                                                                const isPending = slot.id && slot.id.startsWith(\"pending-\");\n                                                                const isSelectedStaff = selectedStaffId !== \"any\" && slot.staffId === selectedStaffId;\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    onClick: isPending && isSelectedStaff ? ()=>{\n                                                                        // Remove pending slot on click\n                                                                        const slotDateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                                                                        setPendingAvailabilityAdditions((prev)=>prev.filter((pending)=>{\n                                                                                const pendingDateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(pending.date, timezone, \"yyyy-MM-dd\");\n                                                                                return !(pending.staffId === slot.staffId && pendingDateKey === slotDateKey && pending.hour === hour);\n                                                                            }));\n                                                                    } : undefined,\n                                                                    className: \"w-full rounded-lg border px-2 py-1.5 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 \".concat(isPending ? \"border-primary/60 bg-primary/20 hover:border-red-500/60 hover:bg-red-500/20\" : \"border-primary/40 bg-primary/20 hover:border-primary/60 hover:bg-primary/30\"),\n                                                                    style: {\n                                                                        borderColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"80\") : undefined,\n                                                                        backgroundColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"20\") : undefined\n                                                                    },\n                                                                    title: isPending && isSelectedStaff ? \"Click to remove\" : undefined,\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs font-semibold text-white\",\n                                                                            children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(new Date(slot.startDateTime), timezone, {\n                                                                                hour: \"numeric\",\n                                                                                minute: \"2-digit\"\n                                                                            })\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                            lineNumber: 886,\n                                                                            columnNumber: 37\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-white/70 mt-0.5 truncate\",\n                                                                            children: slot.staffName\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                            lineNumber: 889,\n                                                                            columnNumber: 37\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] mt-0.5 truncate \".concat(isPending ? \"text-primary/90 font-semibold\" : \"text-emerald-400/90 font-semibold\"),\n                                                                            children: isPending ? \" Pending\" : \" Saved\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                            lineNumber: 892,\n                                                                            columnNumber: 37\n                                                                        }, this)\n                                                                    ]\n                                                                }, slot.id, true, {\n                                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                    lineNumber: 858,\n                                                                    columnNumber: 35\n                                                                }, this);\n                                                            }),\n                                                            slotsForHour.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                type: \"button\",\n                                                                onClick: ()=>handleEmptySlotClick(day, hour),\n                                                                className: \"h-full w-full rounded-lg bg-white/5 border border-white/5 hover:border-primary/40 hover:bg-primary/10 py-1.5 transition cursor-pointer\",\n                                                                title: \"Click to add availability\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-[10px] text-white/20 text-center\",\n                                                                    children: \"+ Add\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                    lineNumber: 907,\n                                                                    columnNumber: 35\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                lineNumber: 901,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                        lineNumber: 850,\n                                                        columnNumber: 29\n                                                    }, this)\n                                                }, dayIdx, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                    lineNumber: 849,\n                                                    columnNumber: 27\n                                                }, this);\n                                            })\n                                        ]\n                                    }, hour, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 840,\n                                        columnNumber: 21\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 836,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 819,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 818,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 812,\n                columnNumber: 7\n            }, this),\n            error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_3__.HelperText, {\n                intent: \"error\",\n                role: \"alert\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 924,\n                columnNumber: 9\n            }, this) : null,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-8 flex items-center justify-end gap-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_test_data_button__WEBPACK_IMPORTED_MODULE_6__.TestDataButton, {\n                    onClick: handleFillTestData\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 930,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 929,\n                columnNumber: 7\n            }, this),\n            addingAvailability && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AddAvailabilityModal, {\n                date: addingAvailability.date,\n                hour: addingAvailability.hour,\n                service: selectedService,\n                staff: staff.filter((member)=>{\n                    if (member.active === false) return false;\n                    // Only show staff assigned to this service\n                    if (selectedService) {\n                        return selectedService.staffIds.includes(member.id);\n                    }\n                    return true;\n                }),\n                onSelectStaff: handleAddAvailabilityForStaff,\n                onCancel: ()=>setAddingAvailability(null),\n                isSaving: isSavingAvailability,\n                timezone: timezone\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 935,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_step_actions__WEBPACK_IMPORTED_MODULE_5__.StepActions, {\n                onBack: onBack,\n                onNext: handleContinue\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 954,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n        lineNumber: 667,\n        columnNumber: 5\n    }, this);\n}\n_s(AvailabilityStep, \"DKHOWPDmbaS3BrHC5AI19g8x/jA=\");\n_c = AvailabilityStep;\nfunction AddAvailabilityModal(param) {\n    let { date, hour, service, staff, onSelectStaff, onCancel, isSaving, timezone } = param;\n    if (!service) return null;\n    // Calculate end time\n    const startMinutes = hour * 60;\n    const endMinutes = startMinutes + service.durationMinutes;\n    const endHour = Math.floor(endMinutes / 60);\n    const endMin = endMinutes % 60;\n    const startTimeStr = \"\".concat(String(hour).padStart(2, \"0\"), \":00\");\n    const endTimeStr = \"\".concat(String(endHour).padStart(2, \"0\"), \":\").concat(String(endMin).padStart(2, \"0\"));\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/80 px-4 py-8\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative max-h-[90vh] w-full max-w-2xl overflow-y-auto rounded-3xl border border-white/10 bg-black/90 p-8 shadow-[0_60px_160px_rgba(4,12,35,0.7)]\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    className: \"absolute right-6 top-6 rounded-full border border-white/20 bg-white/5 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-white/70 transition hover:text-white\",\n                    onClick: onCancel,\n                    disabled: isSaving,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                        className: \"h-4 w-4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 997,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 991,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"space-y-2 pr-16\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"font-display text-3xl text-white\",\n                            children: \"Add Availability\"\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 1001,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-white/60\",\n                            children: \"Select a staff member to add availability for this time slot.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 1002,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 1000,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 space-y-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-2xl border border-white/10 bg-black/70 p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-sm font-semibold uppercase tracking-wide text-white/50 mb-4\",\n                                    children: \"Service\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 1010,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-white font-semibold\",\n                                            children: service.name\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 1014,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-white/70\",\n                                            children: [\n                                                service.durationMinutes,\n                                                \" minutes\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 1015,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 1013,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 1009,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-2xl border border-white/10 bg-black/70 p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-sm font-semibold uppercase tracking-wide text-white/50 mb-4\",\n                                    children: \"Time Slot\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 1021,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-white\",\n                                            children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(date, timezone, {\n                                                weekday: \"long\",\n                                                month: \"short\",\n                                                day: \"numeric\"\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 1025,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-white\",\n                                            children: [\n                                                startTimeStr,\n                                                \" - \",\n                                                endTimeStr\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 1032,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 1024,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 1020,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_label__WEBPACK_IMPORTED_MODULE_4__.Label, {\n                                    className: \"text-white/70 mb-2 block\",\n                                    children: \"Select Staff Member\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 1040,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: staff.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-white/60\",\n                                        children: \"No staff members available\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 1043,\n                                        columnNumber: 17\n                                    }, this) : staff.map((member)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>onSelectStaff(member.id),\n                                            disabled: isSaving,\n                                            className: \"w-full rounded-2xl border border-white/15 bg-[#050F2C]/60 px-4 py-3 text-left transition hover:border-primary hover:bg-primary/10 focus:border-primary focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed\",\n                                            style: {\n                                                borderColor: member.color ? \"\".concat(member.color, \"80\") : undefined\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: [\n                                                    member.color && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"h-4 w-4 rounded-full\",\n                                                        style: {\n                                                            backgroundColor: member.color\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                        lineNumber: 1058,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm font-semibold text-white\",\n                                                                children: member.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                lineNumber: 1064,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            member.role && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-xs text-white/60\",\n                                                                children: member.role\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                lineNumber: 1066,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                        lineNumber: 1063,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                lineNumber: 1056,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, member.id, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 1046,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 1041,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 1039,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 1007,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 flex items-center justify-end gap-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"ghost\",\n                        onClick: onCancel,\n                        disabled: isSaving,\n                        children: \"Cancel\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 1079,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 1078,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n            lineNumber: 990,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n        lineNumber: 989,\n        columnNumber: 5\n    }, this);\n}\n_c1 = AddAvailabilityModal;\nfunction StaffPill(param) {\n    let { label, color, active, onClick } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"button\",\n        onClick: onClick,\n        className: \"rounded-full border px-4 py-2 text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black \".concat(active ? \"border-white/60 bg-white/15 text-white\" : \"border-white/10 bg-white/5 text-white/60 hover:text-white/80\"),\n        style: active && color ? {\n            borderColor: color,\n            boxShadow: \"0 0 25px \".concat(color, \"33\")\n        } : undefined,\n        children: label\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n        lineNumber: 1100,\n        columnNumber: 5\n    }, this);\n}\n_c2 = StaffPill;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"AvailabilityStep\");\n$RefreshReg$(_c1, \"AddAvailabilityModal\");\n$RefreshReg$(_c2, \"StaffPill\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL29uYm9hcmRpbmcvYXZhaWxhYmlsaXR5LXN0ZXAudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXFEO0FBQzZCO0FBRWxDO0FBQ1M7QUFDWDtBQUNxQjtBQUNPO0FBQ0w7QUFDc0I7QUFDbUI7QUFDbkQ7QUFrQnBELFNBQVNtQixpQkFBaUIsS0FPVDtRQVBTLEVBQy9CQyxRQUFRLEVBQ1JDLEtBQUssRUFDTEMsYUFBYSxFQUNiQyxNQUFNLEVBQ05DLE1BQU0sRUFDTkMsV0FBVyxtQkFBbUIsbUJBQW1CO0lBQXBCLEVBQ1AsR0FQUztRQWd0QlVKOztJQXhzQnpDLE1BQU0sQ0FBQ0ssa0JBQWtCQyxvQkFBb0IsR0FBRzFCLCtDQUFRQSxDQUFDO1FBQ3ZELE1BQU0yQixRQUFRLElBQUlDO1FBQ2xCLE1BQU1DLFlBQVlGLE1BQU1HLE1BQU07UUFDOUIsTUFBTUMsT0FBT0osTUFBTUssT0FBTyxLQUFLSDtRQUMvQixNQUFNSSxTQUFTLElBQUlMLEtBQUtELE1BQU1PLE9BQU8sQ0FBQ0g7UUFDdENFLE9BQU9FLFFBQVEsQ0FBQyxHQUFHLEdBQUcsR0FBRztRQUN6QixPQUFPRjtJQUNUO0lBQ0EsTUFBTSxDQUFDRyxtQkFBbUJDLHFCQUFxQixHQUFHckMsK0NBQVFBLENBQWdCO0lBQzFFLE1BQU0sQ0FBQ3NDLGlCQUFpQkMsbUJBQW1CLEdBQUd2QywrQ0FBUUEsQ0FBUyxRQUFRLDZCQUE2QjtJQUNwRyxNQUFNLENBQUN3QyxjQUFjQyxnQkFBZ0IsR0FBR3pDLCtDQUFRQSxDQUE2QixFQUFFO0lBQy9FLE1BQU0sQ0FBQzBDLHNCQUFzQkMsd0JBQXdCLEdBQUczQywrQ0FBUUEsQ0FBQztJQUNqRSwwREFBMEQ7SUFDMUQsTUFBTSxDQUFDNEMsbUJBQW1CQyxxQkFBcUIsR0FBRzdDLCtDQUFRQSxDQUF3QixFQUFFO0lBQ3BGLG1FQUFtRTtJQUNuRSxNQUFNLENBQUM4Qyw4QkFBOEJD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QW5CbERqSCxPQUFPaEUsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4QkErQjFCLDhEQUFDMEk7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNoTSx5REFBTUE7d0JBQUNtTixTQUFRO3dCQUFRRCxTQUFTdUI7d0JBQVVyQixVQUFVc0I7a0NBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPekU7TUEvSFNIO0FBaUlULFNBQVN2QixVQUFVLEtBVWxCO1FBVmtCLEVBQ2pCQyxLQUFLLEVBQ0x2RyxLQUFLLEVBQ0xZLE1BQU0sRUFDTjRGLE9BQU8sRUFNUixHQVZrQjtJQVdqQixxQkFDRSw4REFBQ1c7UUFDQ0MsTUFBSztRQUNMWixTQUFTQTtRQUNUbEIsV0FBVywwTUFJVixPQUhDMUUsU0FDSSwyQ0FDQTtRQUVOMkcsT0FBTzNHLFVBQVVaLFFBQVE7WUFBRXdILGFBQWF4SDtZQUFPbUksV0FBVyxZQUFrQixPQUFObkksT0FBTTtRQUFJLElBQUlzQjtrQkFFbkZpRjs7Ozs7O0FBR1A7TUF6QlNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL29uYm9hcmRpbmcvYXZhaWxhYmlsaXR5LXN0ZXAudHN4P2NkOGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENoZXZyb25MZWZ0LCBDaGV2cm9uUmlnaHQsIFNhdmUsIENhbGVuZGFyQ2hlY2syLCBYIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgSGVscGVyVGV4dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaGVscGVyLXRleHRcIjtcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9sYWJlbFwiO1xuaW1wb3J0IHsgU3RlcEFjdGlvbnMgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvc3RlcC1hY3Rpb25zXCI7XG5pbXBvcnQgeyBUZXN0RGF0YUJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy90ZXN0LWRhdGEtYnV0dG9uXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUF2YWlsYWJpbGl0eURhdGEgfSBmcm9tIFwiQC9saWIvdGVzdC1kYXRhLWdlbmVyYXRvclwiO1xuaW1wb3J0IHsgZm9ybWF0SW5UaW1lWm9uZSwgem9uZWRNaW51dGVzVG9EYXRlLCB0aW1lU3RyaW5nVG9NaW51dGVzIH0gZnJvbSBcIkAvbGliL3RpbWV6b25lXCI7XG5pbXBvcnQgeyBidWlsZEV4cGFuZGVkU2xvdHMsIGdyb3VwU2xvdHNCeURheSwgdHlwZSBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QgfSBmcm9tIFwiQC9saWIvYXZhaWxhYmlsaXR5LXV0aWxzXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2UtY2xpZW50XCI7XG5pbXBvcnQgdHlwZSB7XG4gIEF2YWlsYWJpbGl0eVNsb3QsXG4gIFNlcnZpY2VBdmFpbGFiaWxpdHksXG4gIFNlcnZpY2VDYXRlZ29yeSxcbiAgU2VydmljZURlZmluaXRpb24sXG4gIFN0YWZmTWVtYmVyXG59IGZyb20gXCJAL2xpYi9vbmJvYXJkaW5nLWNvbnRleHRcIjtcblxuaW50ZXJmYWNlIEF2YWlsYWJpbGl0eVN0ZXBQcm9wcyB7XG4gIHNlcnZpY2VzOiBTZXJ2aWNlQ2F0ZWdvcnlbXTtcbiAgc3RhZmY6IFN0YWZmTWVtYmVyW107XG4gIGRlZmF1bHRWYWx1ZXM6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXTtcbiAgb25OZXh0OiAodmFsdWVzOiBTZXJ2aWNlQXZhaWxhYmlsaXR5W10pID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xuICBvbkJhY2s6ICgpID0+IHZvaWQ7XG4gIHRpbWV6b25lPzogc3RyaW5nOyAvLyBPcHRpb25hbCB0aW1lem9uZSBwcm9wXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdmFpbGFiaWxpdHlTdGVwKHtcbiAgc2VydmljZXMsXG4gIHN0YWZmLFxuICBkZWZhdWx0VmFsdWVzLFxuICBvbk5leHQsXG4gIG9uQmFjayxcbiAgdGltZXpvbmUgPSBcIkFtZXJpY2EvTmV3X1lvcmtcIiAvLyBEZWZhdWx0IHRpbWV6b25lXG59OiBBdmFpbGFiaWxpdHlTdGVwUHJvcHMpIHtcbiAgY29uc3QgW2N1cnJlbnRXZWVrU3RhcnQsIHNldEN1cnJlbnRXZWVrU3RhcnRdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkYXlPZldlZWsgPSB0b2RheS5nZXREYXkoKTtcbiAgICBjb25zdCBkaWZmID0gdG9kYXkuZ2V0RGF0ZSgpIC0gZGF5T2ZXZWVrO1xuICAgIGNvbnN0IHN1bmRheSA9IG5ldyBEYXRlKHRvZGF5LnNldERhdGUoZGlmZikpO1xuICAgIHN1bmRheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICByZXR1cm4gc3VuZGF5O1xuICB9KTtcbiAgY29uc3QgW3NlbGVjdGVkU2VydmljZUlkLCBzZXRTZWxlY3RlZFNlcnZpY2VJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkU3RhZmZJZCwgc2V0U2VsZWN0ZWRTdGFmZklkXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJhbnlcIik7IC8vIFwiYW55XCIgbWVhbnMgc2hvdyBhbGwgc3RhZmZcbiAgY29uc3QgW2ZldGNoZWRTbG90cywgc2V0RmV0Y2hlZFNsb3RzXSA9IHVzZVN0YXRlPEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdFtdPihbXSk7XG4gIGNvbnN0IFtpc1NhdmluZ0F2YWlsYWJpbGl0eSwgc2V0SXNTYXZpbmdBdmFpbGFiaWxpdHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBUcmFjayBzYXZlZCBhdmFpbGFiaWxpdHkgZHVyaW5nIHRoaXMgb25ib2FyZGluZyBzZXNzaW9uXG4gIGNvbnN0IFtzYXZlZEF2YWlsYWJpbGl0eSwgc2V0U2F2ZWRBdmFpbGFiaWxpdHldID0gdXNlU3RhdGU8U2VydmljZUF2YWlsYWJpbGl0eVtdPihbXSk7XG4gIC8vIFBlbmRpbmcgYXZhaWxhYmlsaXR5IGFkZGl0aW9ucyAtIHNsb3RzIGNsaWNrZWQgYnV0IG5vdCB5ZXQgc2F2ZWRcbiAgY29uc3QgW3BlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMsIHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnNdID0gdXNlU3RhdGU8QXJyYXk8e1xuICAgIHN0YWZmSWQ6IHN0cmluZztcbiAgICBkYXRlOiBEYXRlO1xuICAgIGhvdXI6IG51bWJlcjtcbiAgfT4+KFtdKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBHZXQgYWxsIHNlcnZpY2VzIGZvciBkcm9wZG93blxuICBjb25zdCBhbGxTZXJ2aWNlcyA9IHNlcnZpY2VzLmZsYXRNYXAoKGNhdGVnb3J5KSA9PlxuICAgIGNhdGVnb3J5LnNlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4gKHtcbiAgICAgIC4uLnNlcnZpY2UsXG4gICAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5Lm5hbWVcbiAgICB9KSlcbiAgKTtcblxuICAvLyBXaGVuIHNlcnZpY2UgY2hhbmdlcywgbG9hZCBzYXZlZCBhdmFpbGFiaWxpdHkgZm9yIHRoYXQgc2VydmljZVxuICAvLyBUaGlzIGVuc3VyZXMgc2F2ZWQgc2xvdHMgcGVyc2lzdCB3aGVuIHN3aXRjaGluZyBiZXR3ZWVuIHNlcnZpY2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2VJZCkge1xuICAgICAgc2V0RmV0Y2hlZFNsb3RzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc2VsZWN0ZWRTZXJ2aWNlID0gYWxsU2VydmljZXMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSkge1xuICAgICAgc2V0RmV0Y2hlZFNsb3RzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBzYXZlZCBhdmFpbGFiaWxpdHkgZm9yIHRoaXMgc2VydmljZSBpbiBzdGF0ZVxuICAgIGNvbnN0IHNlcnZpY2VBdmFpbCA9IHNhdmVkQXZhaWxhYmlsaXR5LmZpbmQoXG4gICAgICAoYXZhaWw6IFNlcnZpY2VBdmFpbGFiaWxpdHkpID0+IGF2YWlsLnNlcnZpY2VJZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWRcbiAgICApO1xuICAgIFxuICAgIGlmIChzZXJ2aWNlQXZhaWwpIHtcbiAgICAgIC8vIEV4cGFuZCBzYXZlZCBzbG90cyBmb3IgdGhpcyBzZXJ2aWNlXG4gICAgICBjb25zdCB3ZWVrU3RhcnQgPSBuZXcgRGF0ZShjdXJyZW50V2Vla1N0YXJ0KTtcbiAgICAgIHdlZWtTdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIFxuICAgICAgY29uc3QgZXhwYW5kZWRTbG90cyA9IGJ1aWxkRXhwYW5kZWRTbG90cyh7XG4gICAgICAgIHNlcnZpY2U6IHNlbGVjdGVkU2VydmljZSxcbiAgICAgICAgc2VydmljZUF2YWlsYWJpbGl0eTogc2VydmljZUF2YWlsLFxuICAgICAgICBzdGFmZjogc3RhZmYsXG4gICAgICAgIHRpbWV6b25lOiB0aW1lem9uZSxcbiAgICAgICAgc3RhcnREYXRlOiB3ZWVrU3RhcnQsXG4gICAgICAgIGhvcml6b25EYXlzOiAxNCxcbiAgICAgICAgaW5jbHVkZVBhc3RTbG90czogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBzZXRGZXRjaGVkU2xvdHMoZXhwYW5kZWRTbG90cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIHNhdmVkIGF2YWlsYWJpbGl0eSBmb3IgdGhpcyBzZXJ2aWNlIHlldCAtIHN0YXJ0IHdpdGggZW1wdHkgY2FsZW5kYXJcbiAgICAgIHNldEZldGNoZWRTbG90cyhbXSk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRTZXJ2aWNlSWQsIHNhdmVkQXZhaWxhYmlsaXR5LCBhbGxTZXJ2aWNlcywgc3RhZmYsIHRpbWV6b25lLCBjdXJyZW50V2Vla1N0YXJ0XSk7XG5cbiAgLy8gR3JvdXAgc2xvdHMgYnkgZGF5IC0gZHVyaW5nIG9uYm9hcmRpbmcsIHdlIG9ubHkgc2hvdyBwZW5kaW5nIHNsb3RzIGFuZCBzYXZlZCBzbG90cyBmcm9tIHRoaXMgc2Vzc2lvblxuICBjb25zdCBncm91cGVkU2xvdHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZUlkKSByZXR1cm4ge307XG4gICAgLy8gQ29tYmluZSBmZXRjaGVkIHNsb3RzIChzYXZlZCBkdXJpbmcgdGhpcyBzZXNzaW9uKSB3aXRoIGFueSBhZGRpdGlvbmFsIHNsb3RzXG4gICAgcmV0dXJuIGdyb3VwU2xvdHNCeURheShmZXRjaGVkU2xvdHMsIHRpbWV6b25lKTtcbiAgfSwgW2ZldGNoZWRTbG90cywgdGltZXpvbmUsIHNlbGVjdGVkU2VydmljZUlkXSk7XG5cbiAgLy8gR2VuZXJhdGUgZGF5cyBvZiB0aGUgd2Vla1xuICBjb25zdCB3ZWVrRGF5cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGRheXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRXZWVrU3RhcnQpO1xuICAgICAgZGF0ZS5zZXREYXRlKGN1cnJlbnRXZWVrU3RhcnQuZ2V0RGF0ZSgpICsgaSk7XG4gICAgICBkYXlzLnB1c2goZGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBkYXlzO1xuICB9LCBbY3VycmVudFdlZWtTdGFydF0pO1xuXG4gIC8vIEdlbmVyYXRlIGhvdXJzIGZyb20gOCBBTSB0byA4IFBNIChtYXRjaGluZyBib29raW5nIGZsb3cpXG4gIGNvbnN0IGhvdXJzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTMgfSwgKF8sIGkpID0+IGkgKyA4KTtcblxuICAvLyBHcm91cCBhdmFpbGFiaWxpdHkgc2xvdHMgYnkgZGF5IGFuZCBob3VyIChpbmNsdWRpbmcgcGVuZGluZyBhZGRpdGlvbnMpXG4gIGNvbnN0IHNsb3RzQnlEYXlBbmRIb3VyID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZ3JvdXBlZDogUmVjb3JkPHN0cmluZywgUmVjb3JkPG51bWJlciwgRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90W10+PiA9IHt9O1xuICAgIFxuICAgIC8vIEZsYXR0ZW4gYWxsIHNsb3RzIGZyb20gYWxsIGRheXNcbiAgICBjb25zdCBhbGxTbG90cyA9IE9iamVjdC52YWx1ZXMoZ3JvdXBlZFNsb3RzKS5mbGF0KCk7XG4gICAgXG4gICAgLy8gQWRkIGZldGNoZWQgc2xvdHNcbiAgICBhbGxTbG90cy5mb3JFYWNoKHNsb3QgPT4ge1xuICAgICAgY29uc3Qgc2xvdERhdGUgPSBuZXcgRGF0ZShzbG90LnN0YXJ0RGF0ZVRpbWUpO1xuICAgICAgY29uc3QgZGF0ZUtleSA9IGZvcm1hdEluVGltZVpvbmUoc2xvdERhdGUsIHRpbWV6b25lLCBcInl5eXktTU0tZGRcIik7XG4gICAgICBjb25zdCBob3VyID0gZm9ybWF0SW5UaW1lWm9uZShzbG90RGF0ZSwgdGltZXpvbmUsIHsgaG91cjogXCJudW1lcmljXCIsIGhvdXIxMjogZmFsc2UgfSk7XG4gICAgICBjb25zdCBob3VyTnVtID0gcGFyc2VJbnQoaG91ciwgMTApO1xuICAgICAgXG4gICAgICAvLyBPbmx5IGluY2x1ZGUgc2xvdHMgdGhhdCBhcmUgaW4gdGhlIGN1cnJlbnQgd2Vla1xuICAgICAgY29uc3QgaXNJbkN1cnJlbnRXZWVrID0gd2Vla0RheXMuc29tZShkYXkgPT4ge1xuICAgICAgICBjb25zdCBkYXlLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgcmV0dXJuIGRheUtleSA9PT0gZGF0ZUtleTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIWlzSW5DdXJyZW50V2VlaykgcmV0dXJuO1xuICAgICAgXG4gICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV0pIHtcbiAgICAgICAgZ3JvdXBlZFtkYXRlS2V5XSA9IHt9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0pIHtcbiAgICAgICAgZ3JvdXBlZFtkYXRlS2V5XVtob3VyTnVtXSA9IFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3IgZHVwbGljYXRlcyAoc2FtZSBob3VyLCBzYW1lIHN0YWZmLCBzYW1lIGRhdGUpXG4gICAgICBjb25zdCBpc0R1cGxpY2F0ZSA9IGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0uc29tZShcbiAgICAgICAgZXhpc3RpbmcgPT4gZXhpc3Rpbmcuc3RhZmZJZCA9PT0gc2xvdC5zdGFmZklkICYmIGV4aXN0aW5nLnN0YXJ0RGF0ZVRpbWUgPT09IHNsb3Quc3RhcnREYXRlVGltZVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xuICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLnB1c2goc2xvdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQWRkIHBlbmRpbmcgYXZhaWxhYmlsaXR5IGFkZGl0aW9ucyBhcyB2aXN1YWwgc2xvdHNcbiAgICBpZiAoc2VsZWN0ZWRTZXJ2aWNlSWQpIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG4gICAgICBpZiAoc2VsZWN0ZWRTZXJ2aWNlKSB7XG4gICAgICAgIHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMuZm9yRWFjaCgocGVuZGluZykgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGVLZXkgPSBmb3JtYXRJblRpbWVab25lKHBlbmRpbmcuZGF0ZSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICBjb25zdCBob3VyTnVtID0gcGVuZGluZy5ob3VyO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBpZiBpbiBjdXJyZW50IHdlZWtcbiAgICAgICAgICBjb25zdCBpc0luQ3VycmVudFdlZWsgPSB3ZWVrRGF5cy5zb21lKGRheSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXlLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBkYXlLZXkgPT09IGRhdGVLZXk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFpc0luQ3VycmVudFdlZWspIHJldHVybjtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV0pIHtcbiAgICAgICAgICAgIGdyb3VwZWRbZGF0ZUtleV0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dKSB7XG4gICAgICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgcGVuZGluZyBzbG90IGFscmVhZHkgZXhpc3RzIGFzIHBlbmRpbmcgKGRvbid0IGR1cGxpY2F0ZSlcbiAgICAgICAgICBjb25zdCBhbHJlYWR5UGVuZGluZyA9IGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0uc29tZShcbiAgICAgICAgICAgIGV4aXN0aW5nID0+IGV4aXN0aW5nLnN0YWZmSWQgPT09IHBlbmRpbmcuc3RhZmZJZCAmJiBcbiAgICAgICAgICAgIGV4aXN0aW5nLmlkICYmIGV4aXN0aW5nLmlkLnN0YXJ0c1dpdGgoJ3BlbmRpbmctJylcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghYWxyZWFkeVBlbmRpbmcpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgc2F2ZWQgc2xvdCBmb3IgdGhlIHNhbWUgdGltZS9zdGFmZiAocGVuZGluZyByZXBsYWNlcyBzYXZlZClcbiAgICAgICAgICAgIGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0gPSBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLmZpbHRlcihcbiAgICAgICAgICAgICAgZXhpc3RpbmcgPT4gIShleGlzdGluZy5zdGFmZklkID09PSBwZW5kaW5nLnN0YWZmSWQgJiYgIWV4aXN0aW5nLmlkPy5zdGFydHNXaXRoKCdwZW5kaW5nLScpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc3RhZmZNZW1iZXIgPSBzdGFmZi5maW5kKChzOiBTdGFmZk1lbWJlcikgPT4gcy5pZCA9PT0gcGVuZGluZy5zdGFmZklkKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSB6b25lZE1pbnV0ZXNUb0RhdGUocGVuZGluZy5kYXRlLCBwZW5kaW5nLmhvdXIgKiA2MCwgdGltZXpvbmUpO1xuICAgICAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShzdGFydERhdGVUaW1lLmdldFRpbWUoKSArIHNlbGVjdGVkU2VydmljZS5kdXJhdGlvbk1pbnV0ZXMgKiA2MCAqIDEwMDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLnB1c2goe1xuICAgICAgICAgICAgICBpZDogYHBlbmRpbmctJHtwZW5kaW5nLnN0YWZmSWR9LSR7ZGF0ZUtleX0tJHtob3VyTnVtfWAsXG4gICAgICAgICAgICAgIHNlcnZpY2VJZDogc2VsZWN0ZWRTZXJ2aWNlSWQsXG4gICAgICAgICAgICAgIHN0YWZmSWQ6IHBlbmRpbmcuc3RhZmZJZCxcbiAgICAgICAgICAgICAgc3RhZmZOYW1lOiBzdGFmZk1lbWJlcj8ubmFtZSB8fCAnVW5rbm93bicsXG4gICAgICAgICAgICAgIHN0YWZmQ29sb3I6IHN0YWZmTWVtYmVyPy5jb2xvciB8fCBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgICAgc3RhcnREYXRlVGltZTogc3RhcnREYXRlVGltZS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICBlbmREYXRlVGltZTogZW5kRGF0ZVRpbWUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgZGF5TGFiZWw6IGZvcm1hdEluVGltZVpvbmUocGVuZGluZy5kYXRlLCB0aW1lem9uZSwgeyB3ZWVrZGF5OiBcImxvbmdcIiB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBncm91cGVkO1xuICB9LCBbZ3JvdXBlZFNsb3RzLCB3ZWVrRGF5cywgdGltZXpvbmUsIHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMsIHNlbGVjdGVkU2VydmljZUlkLCBhbGxTZXJ2aWNlcywgc3RhZmZdKTtcblxuICBjb25zdCBuYXZpZ2F0ZVdlZWsgPSAoZGlyZWN0aW9uOiBcInByZXZcIiB8IFwibmV4dFwiKSA9PiB7XG4gICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRXZWVrU3RhcnQpO1xuICAgIG5ld0RhdGUuc2V0RGF0ZShuZXdEYXRlLmdldERhdGUoKSArIChkaXJlY3Rpb24gPT09IFwibmV4dFwiID8gNyA6IC03KSk7XG4gICAgc2V0Q3VycmVudFdlZWtTdGFydChuZXdEYXRlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFbXB0eVNsb3RDbGljayA9IChkYXk6IERhdGUsIGhvdXI6IG51bWJlcikgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlSWQpIHtcbiAgICAgIHNldEVycm9yKCdQbGVhc2Ugc2VsZWN0IGEgc2VydmljZSBmaXJzdCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBJZiBhIHNwZWNpZmljIHN0YWZmIG1lbWJlciBpcyBzZWxlY3RlZCwgYWRkIHRvIHBlbmRpbmcgZGlyZWN0bHlcbiAgICBpZiAoc2VsZWN0ZWRTdGFmZklkICE9PSBcImFueVwiKSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGlzIHNsb3QgaXMgYWxyZWFkeSBwZW5kaW5nXG4gICAgICBjb25zdCBhbHJlYWR5UGVuZGluZyA9IHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMuc29tZShcbiAgICAgICAgKHBlbmRpbmcpID0+XG4gICAgICAgICAgcGVuZGluZy5zdGFmZklkID09PSBzZWxlY3RlZFN0YWZmSWQgJiZcbiAgICAgICAgICBwZW5kaW5nLmRhdGUudG9EYXRlU3RyaW5nKCkgPT09IGRheS50b0RhdGVTdHJpbmcoKSAmJlxuICAgICAgICAgIHBlbmRpbmcuaG91ciA9PT0gaG91clxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGFscmVhZHlQZW5kaW5nKSB7XG4gICAgICAgIC8vIFJlbW92ZSBpdCBpZiBjbGlja2luZyBhZ2FpbiAodG9nZ2xlKVxuICAgICAgICBzZXRQZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zKChwcmV2KSA9PlxuICAgICAgICAgIHByZXYuZmlsdGVyKFxuICAgICAgICAgICAgKHBlbmRpbmcpID0+XG4gICAgICAgICAgICAgICEocGVuZGluZy5zdGFmZklkID09PSBzZWxlY3RlZFN0YWZmSWQgJiZcbiAgICAgICAgICAgICAgICBwZW5kaW5nLmRhdGUudG9EYXRlU3RyaW5nKCkgPT09IGRheS50b0RhdGVTdHJpbmcoKSAmJlxuICAgICAgICAgICAgICAgIHBlbmRpbmcuaG91ciA9PT0gaG91cilcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZGQgdG8gcGVuZGluZ1xuICAgICAgICBzZXRQZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zKChwcmV2KSA9PiBbXG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICB7IHN0YWZmSWQ6IHNlbGVjdGVkU3RhZmZJZCwgZGF0ZTogZGF5LCBob3VyIH1cbiAgICAgICAgXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIFwiQWxsIFN0YWZmXCIgaXMgc2VsZWN0ZWQsIGNoZWNrIGlmIHRoZXJlJ3Mgb25seSBvbmUgc3RhZmYgbWVtYmVyXG4gICAgICBjb25zdCBzZWxlY3RlZFNlcnZpY2UgPSBhbGxTZXJ2aWNlcy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWQpO1xuICAgICAgaWYgKCFzZWxlY3RlZFNlcnZpY2UpIHtcbiAgICAgICAgc2V0RXJyb3IoJ1NlcnZpY2Ugbm90IGZvdW5kJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHN0YWZmIG1lbWJlcnMgYXNzaWduZWQgdG8gdGhpcyBzZXJ2aWNlXG4gICAgICBjb25zdCBzZXJ2aWNlU3RhZmYgPSBzdGFmZi5maWx0ZXIobWVtYmVyID0+IHtcbiAgICAgICAgaWYgKG1lbWJlci5hY3RpdmUgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiBzZWxlY3RlZFNlcnZpY2Uuc3RhZmZJZHMuaW5jbHVkZXMobWVtYmVyLmlkKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBJZiBvbmx5IG9uZSBzdGFmZiBtZW1iZXIsIGF1dG9tYXRpY2FsbHkgYWRkIGZvciB0aGF0IHBlcnNvblxuICAgICAgaWYgKHNlcnZpY2VTdGFmZi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29uc3Qgc2luZ2xlU3RhZmZJZCA9IHNlcnZpY2VTdGFmZlswXS5pZDtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBzbG90IGlzIGFscmVhZHkgcGVuZGluZ1xuICAgICAgICBjb25zdCBhbHJlYWR5UGVuZGluZyA9IHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMuc29tZShcbiAgICAgICAgICAocGVuZGluZykgPT5cbiAgICAgICAgICAgIHBlbmRpbmcuc3RhZmZJZCA9PT0gc2luZ2xlU3RhZmZJZCAmJlxuICAgICAgICAgICAgcGVuZGluZy5kYXRlLnRvRGF0ZVN0cmluZygpID09PSBkYXkudG9EYXRlU3RyaW5nKCkgJiZcbiAgICAgICAgICAgIHBlbmRpbmcuaG91ciA9PT0gaG91clxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKGFscmVhZHlQZW5kaW5nKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIGl0IGlmIGNsaWNraW5nIGFnYWluICh0b2dnbGUpXG4gICAgICAgICAgc2V0UGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucygocHJldikgPT5cbiAgICAgICAgICAgIHByZXYuZmlsdGVyKFxuICAgICAgICAgICAgICAocGVuZGluZykgPT5cbiAgICAgICAgICAgICAgICAhKHBlbmRpbmcuc3RhZmZJZCA9PT0gc2luZ2xlU3RhZmZJZCAmJlxuICAgICAgICAgICAgICAgICAgcGVuZGluZy5kYXRlLnRvRGF0ZVN0cmluZygpID09PSBkYXkudG9EYXRlU3RyaW5nKCkgJiZcbiAgICAgICAgICAgICAgICAgIHBlbmRpbmcuaG91ciA9PT0gaG91cilcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFkZCB0byBwZW5kaW5nXG4gICAgICAgICAgc2V0UGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucygocHJldikgPT4gW1xuICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgIHsgc3RhZmZJZDogc2luZ2xlU3RhZmZJZCwgZGF0ZTogZGF5LCBob3VyIH1cbiAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzZXJ2aWNlU3RhZmYubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBNdWx0aXBsZSBzdGFmZiBtZW1iZXJzLCBzaG93IG1vZGFsIHRvIHBpY2tcbiAgICAgICAgc2V0QWRkaW5nQXZhaWxhYmlsaXR5KHsgZGF0ZTogZGF5LCBob3VyLCBtaW51dGU6IDAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBObyBzdGFmZiBtZW1iZXJzIGFzc2lnbmVkIHRvIHRoaXMgc2VydmljZVxuICAgICAgICBzZXRFcnJvcignTm8gc3RhZmYgbWVtYmVycyBhc3NpZ25lZCB0byB0aGlzIHNlcnZpY2UnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgc2V0RXJyb3IobnVsbCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkQXZhaWxhYmlsaXR5Rm9yU3RhZmYgPSAoc3RhZmZJZDogc3RyaW5nLCBkYXRlPzogRGF0ZSwgaG91cj86IG51bWJlcikgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlSWQpIHJldHVybjtcbiAgICBcbiAgICAvLyBVc2UgcHJvdmlkZWQgZGF0ZS9ob3VyIG9yIGZyb20gYWRkaW5nQXZhaWxhYmlsaXR5IHN0YXRlXG4gICAgY29uc3QgdGFyZ2V0RGF0ZSA9IGRhdGUgfHwgYWRkaW5nQXZhaWxhYmlsaXR5Py5kYXRlO1xuICAgIGNvbnN0IHRhcmdldEhvdXIgPSBob3VyICE9PSB1bmRlZmluZWQgPyBob3VyIDogYWRkaW5nQXZhaWxhYmlsaXR5Py5ob3VyO1xuICAgIFxuICAgIGlmICghdGFyZ2V0RGF0ZSB8fCB0YXJnZXRIb3VyID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIC8vIENoZWNrIGlmIHRoaXMgc2xvdCBpcyBhbHJlYWR5IHBlbmRpbmdcbiAgICBjb25zdCBhbHJlYWR5UGVuZGluZyA9IHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMuc29tZShcbiAgICAgIChwZW5kaW5nKSA9PlxuICAgICAgICBwZW5kaW5nLnN0YWZmSWQgPT09IHN0YWZmSWQgJiZcbiAgICAgICAgcGVuZGluZy5kYXRlLnRvRGF0ZVN0cmluZygpID09PSB0YXJnZXREYXRlLnRvRGF0ZVN0cmluZygpICYmXG4gICAgICAgIHBlbmRpbmcuaG91ciA9PT0gdGFyZ2V0SG91clxuICAgICk7XG4gICAgXG4gICAgaWYgKGFscmVhZHlQZW5kaW5nKSB7XG4gICAgICAvLyBSZW1vdmUgaXQgaWYgY2xpY2tpbmcgYWdhaW4gKHRvZ2dsZSlcbiAgICAgIHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMoKHByZXYpID0+XG4gICAgICAgIHByZXYuZmlsdGVyKFxuICAgICAgICAgIChwZW5kaW5nKSA9PlxuICAgICAgICAgICAgIShwZW5kaW5nLnN0YWZmSWQgPT09IHN0YWZmSWQgJiZcbiAgICAgICAgICAgICAgcGVuZGluZy5kYXRlLnRvRGF0ZVN0cmluZygpID09PSB0YXJnZXREYXRlLnRvRGF0ZVN0cmluZygpICYmXG4gICAgICAgICAgICAgIHBlbmRpbmcuaG91ciA9PT0gdGFyZ2V0SG91cilcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQWRkIHRvIHBlbmRpbmdcbiAgICAgIHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMoKHByZXYpID0+IFtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgeyBzdGFmZklkLCBkYXRlOiB0YXJnZXREYXRlLCBob3VyOiB0YXJnZXRIb3VyIH1cbiAgICAgIF0pO1xuICAgIH1cblxuICAgIC8vIENsb3NlIG1vZGFsIGlmIGl0IHdhcyBvcGVuXG4gICAgaWYgKGFkZGluZ0F2YWlsYWJpbGl0eSkge1xuICAgICAgc2V0QWRkaW5nQXZhaWxhYmlsaXR5KG51bGwpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTYXZlQXZhaWxhYmlsaXR5ID0gYXN5bmMgKCk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlSWQgfHwgcGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuXG4gICAgc2V0SXNTYXZpbmdBdmFpbGFiaWxpdHkodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBhdXRoIHRva2VuIGZyb20gU3VwYWJhc2UgY2xpZW50XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudENsaWVudCgpO1xuICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgICBjb25zdCBhdXRoVG9rZW4gPSBzZXNzaW9uPy5hY2Nlc3NfdG9rZW47XG5cbiAgICAgIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG4gICAgICBpZiAoIXNlbGVjdGVkU2VydmljZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdGVkIHNlcnZpY2Ugbm90IGZvdW5kJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVzZSBzYXZlZEF2YWlsYWJpbGl0eSBzdGF0ZSAod2hpY2ggaGFzIHRlbXBvcmFyeSBJRHMpIGFzIHRoZSBiYXNlXG4gICAgICAvLyBUaGlzIGVuc3VyZXMgY29uc2lzdGVuY3kgLSB3ZSBkb24ndCBtaXggcmVhbCBVVUlEcyBmcm9tIEFQSSB3aXRoIHRlbXBvcmFyeSBJRHNcbiAgICAgIC8vIFRoZSBBUEkgaGFuZGxlcyBJRCBtYXBwaW5nIHdoZW4gc2F2aW5nLCBidXQgb3VyIHN0YXRlIGtlZXBzIHRlbXBvcmFyeSBJRHNcbiAgICAgIGxldCBhbGxBdmFpbGFiaWxpdHk6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXSA9IFsuLi5zYXZlZEF2YWlsYWJpbGl0eV07XG5cbiAgICAgIC8vIEZpbmQgb3IgY3JlYXRlIHNlcnZpY2UgYXZhaWxhYmlsaXR5IGVudHJ5IGZvciB0aGUgY3VycmVudCBzZXJ2aWNlXG4gICAgICBsZXQgc2VydmljZUF2YWlsYWJpbGl0eSA9IGFsbEF2YWlsYWJpbGl0eS5maW5kKChhdmFpbDogU2VydmljZUF2YWlsYWJpbGl0eSkgPT4gYXZhaWwuc2VydmljZUlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG4gICAgICBcbiAgICAgIGlmICghc2VydmljZUF2YWlsYWJpbGl0eSkge1xuICAgICAgICBzZXJ2aWNlQXZhaWxhYmlsaXR5ID0ge1xuICAgICAgICAgIHNlcnZpY2VJZDogc2VsZWN0ZWRTZXJ2aWNlSWQsXG4gICAgICAgICAgc3RhZmY6IFtdXG4gICAgICAgIH07XG4gICAgICAgIGFsbEF2YWlsYWJpbGl0eS5wdXNoKHNlcnZpY2VBdmFpbGFiaWxpdHkpO1xuICAgICAgfVxuXG4gICAgICAvLyBQcm9jZXNzIGFsbCBwZW5kaW5nIGFkZGl0aW9uc1xuICAgICAgZm9yIChjb25zdCBwZW5kaW5nIG9mIHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RGF0ZSA9IHBlbmRpbmcuZGF0ZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SG91ciA9IHBlbmRpbmcuaG91cjtcbiAgICAgICAgY29uc3Qgc3RhZmZJZCA9IHBlbmRpbmcuc3RhZmZJZDtcblxuICAgICAgICAvLyBHZXQgd2Vla2RheSBuYW1lIGZyb20gdGhlIGRhdGUgKHRpbWV6b25lLWF3YXJlKVxuICAgICAgICAvLyBTdG9yZSBhcyBsb3dlcmNhc2UgdG8gbWF0Y2ggYnVpbGRFeHBhbmRlZFNsb3RzIGV4cGVjdGF0aW9uIGFuZCBBUEkgZm9ybWF0XG4gICAgICAgIGNvbnN0IHdlZWtkYXlOYW1lID0gZm9ybWF0SW5UaW1lWm9uZSh0YXJnZXREYXRlLCB0aW1lem9uZSwgeyB3ZWVrZGF5OiBcImxvbmdcIiB9KTtcbiAgICAgICAgY29uc3Qgd2Vla2RheSA9IHdlZWtkYXlOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3JtYXQgdGltZSBhcyBISDptbVxuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBgJHtTdHJpbmcodGFyZ2V0SG91cikucGFkU3RhcnQoMiwgJzAnKX06MDBgO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGVuZCB0aW1lIGJhc2VkIG9uIHNlcnZpY2UgZHVyYXRpb25cbiAgICAgICAgY29uc3Qgc3RhcnRNaW51dGVzID0gdGFyZ2V0SG91ciAqIDYwO1xuICAgICAgICBjb25zdCBlbmRNaW51dGVzID0gc3RhcnRNaW51dGVzICsgc2VsZWN0ZWRTZXJ2aWNlLmR1cmF0aW9uTWludXRlcztcbiAgICAgICAgY29uc3QgZW5kSG91ciA9IE1hdGguZmxvb3IoZW5kTWludXRlcyAvIDYwKTtcbiAgICAgICAgY29uc3QgZW5kTWluID0gZW5kTWludXRlcyAlIDYwO1xuICAgICAgICBjb25zdCBlbmRUaW1lID0gYCR7U3RyaW5nKGVuZEhvdXIpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKGVuZE1pbikucGFkU3RhcnQoMiwgJzAnKX1gO1xuXG4gICAgICAgIC8vIEZpbmQgb3IgY3JlYXRlIHN0YWZmIGF2YWlsYWJpbGl0eSBlbnRyeVxuICAgICAgICBsZXQgc3RhZmZBdmFpbGFiaWxpdHkgPSBzZXJ2aWNlQXZhaWxhYmlsaXR5LnN0YWZmLmZpbmQoKHM6IGFueSkgPT4gcy5zdGFmZklkID09PSBzdGFmZklkKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghc3RhZmZBdmFpbGFiaWxpdHkpIHtcbiAgICAgICAgICBzdGFmZkF2YWlsYWJpbGl0eSA9IHtcbiAgICAgICAgICAgIHN0YWZmSWQ6IHN0YWZmSWQsXG4gICAgICAgICAgICBzbG90czogW11cbiAgICAgICAgICB9O1xuICAgICAgICAgIHNlcnZpY2VBdmFpbGFiaWxpdHkuc3RhZmYucHVzaChzdGFmZkF2YWlsYWJpbGl0eSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHNsb3QgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgY29uc3Qgc2xvdEV4aXN0cyA9IHN0YWZmQXZhaWxhYmlsaXR5LnNsb3RzLnNvbWUoKHNsb3Q6IEF2YWlsYWJpbGl0eVNsb3QpID0+IFxuICAgICAgICAgIHNsb3QuZGF5ID09PSB3ZWVrZGF5ICYmIHNsb3Quc3RhcnRUaW1lID09PSBzdGFydFRpbWUgJiYgc2xvdC5lbmRUaW1lID09PSBlbmRUaW1lXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCFzbG90RXhpc3RzKSB7XG4gICAgICAgICAgLy8gQWRkIHRoZSBuZXcgc2xvdFxuICAgICAgICAgIHN0YWZmQXZhaWxhYmlsaXR5LnNsb3RzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGBzbG90LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICAgICAgICBkYXk6IHdlZWtkYXkgYXMgQXZhaWxhYmlsaXR5U2xvdFtcImRheVwiXSxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFNhdmUgYWxsIGNoYW5nZXMgdG8gQVBJXG4gICAgICBjb25zdCBzYXZlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtNy1hdmFpbGFiaWxpdHknLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIC4uLihhdXRoVG9rZW4gJiYgeyAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthdXRoVG9rZW59YCB9KSxcbiAgICAgICAgfSxcbiAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGF2YWlsYWJpbGl0eTogYWxsQXZhaWxhYmlsaXR5XG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghc2F2ZVJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHNhdmVSZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBzYXZlIGF2YWlsYWJpbGl0eScpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgc2F2ZWQgYXZhaWxhYmlsaXR5IHN0YXRlIHdpdGggdGhlIGRhdGEgd2UganVzdCBzYXZlZFxuICAgICAgLy8gYWxsQXZhaWxhYmlsaXR5IGFscmVhZHkgY29udGFpbnMgYWxsIHNlcnZpY2VzIChtZXJnZWQgZnJvbSBzYXZlZEF2YWlsYWJpbGl0eSBzdGF0ZSlcbiAgICAgIC8vIGFuZCBub3cgaGFzIHRoZSB1cGRhdGVkIHNsb3RzIGZvciB0aGUgY3VycmVudCBzZXJ2aWNlXG4gICAgICAvLyBUaGlzIHByZXNlcnZlcyBhdmFpbGFiaWxpdHkgZm9yIGFsbCBzZXJ2aWNlcyB3aXRoIHRlbXBvcmFyeSBJRHNcbiAgICAgIHNldFNhdmVkQXZhaWxhYmlsaXR5KGFsbEF2YWlsYWJpbGl0eSk7XG4gICAgICBcbiAgICAgIC8vIEV4cGFuZCB0aGUgc2F2ZWQgc2xvdHMgRklSU1QgYmVmb3JlIGNsZWFyaW5nIHBlbmRpbmcgYWRkaXRpb25zXG4gICAgICAvLyBUaGlzIGVuc3VyZXMgYSBzbW9vdGggdHJhbnNpdGlvbiBmcm9tIHBlbmRpbmcgdG8gc2F2ZWRcbiAgICAgIGNvbnN0IHNlcnZpY2VBdmFpbCA9IGFsbEF2YWlsYWJpbGl0eS5maW5kKFxuICAgICAgICAoYXZhaWw6IFNlcnZpY2VBdmFpbGFiaWxpdHkpID0+IGF2YWlsLnNlcnZpY2VJZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWRcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmIChzZWxlY3RlZFNlcnZpY2UgJiYgc2VydmljZUF2YWlsKSB7XG4gICAgICAgIC8vIFN0YXJ0IGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgY3VycmVudCB3ZWVrIHRvIHNob3cgYWxsIHNsb3RzIGluIHRoZSB3ZWVrIHZpZXdcbiAgICAgICAgY29uc3Qgd2Vla1N0YXJ0ID0gbmV3IERhdGUoY3VycmVudFdlZWtTdGFydCk7XG4gICAgICAgIHdlZWtTdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGV4cGFuZGVkU2xvdHMgPSBidWlsZEV4cGFuZGVkU2xvdHMoe1xuICAgICAgICAgIHNlcnZpY2U6IHNlbGVjdGVkU2VydmljZSxcbiAgICAgICAgICBzZXJ2aWNlQXZhaWxhYmlsaXR5OiBzZXJ2aWNlQXZhaWwsXG4gICAgICAgICAgc3RhZmY6IHN0YWZmLFxuICAgICAgICAgIHRpbWV6b25lOiB0aW1lem9uZSxcbiAgICAgICAgICBzdGFydERhdGU6IHdlZWtTdGFydCxcbiAgICAgICAgICBob3Jpem9uRGF5czogMTQsXG4gICAgICAgICAgaW5jbHVkZVBhc3RTbG90czogdHJ1ZSAvLyBTaG93IGFsbCBzbG90cyBpbiB0aGUgY3VycmVudCB3ZWVrIHZpZXcgZm9yIG9uYm9hcmRpbmdcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgZmV0Y2hlZFNsb3RzIHdpdGggc2F2ZWQgc2xvdHMgQkVGT1JFIGNsZWFyaW5nIHBlbmRpbmdcbiAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHNhdmVkIHNsb3RzIGFwcGVhciBpbW1lZGlhdGVseVxuICAgICAgICBzZXRGZXRjaGVkU2xvdHMoZXhwYW5kZWRTbG90cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRGZXRjaGVkU2xvdHMoW10pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDbGVhciBwZW5kaW5nIGFkZGl0aW9ucyBBRlRFUiB3ZSd2ZSB1cGRhdGVkIHRoZSBzYXZlZCBzbG90c1xuICAgICAgLy8gVGhpcyBlbnN1cmVzIHNsb3RzIHN3aXRjaCBmcm9tIFwiUGVuZGluZ1wiIHRvIFwiU2F2ZWRcIiBzbW9vdGhseVxuICAgICAgc2V0UGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucyhbXSk7XG4gICAgICBcbiAgICAgIHJldHVybiB0cnVlOyAvLyBTdWNjZXNzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBhdmFpbGFiaWxpdHk6JywgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoYEZhaWxlZCB0byBzYXZlIGF2YWlsYWJpbGl0eTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gRmFpbHVyZVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1NhdmluZ0F2YWlsYWJpbGl0eShmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvbnRpbnVlID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIFxuICAgIC8vIEJlZm9yZSBjb250aW51aW5nLCBzYXZlIGFueSBwZW5kaW5nIGF2YWlsYWJpbGl0eVxuICAgIGlmIChwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRTZXJ2aWNlSWQpIHtcbiAgICAgIGNvbnN0IHNhdmVTdWNjZXNzID0gYXdhaXQgaGFuZGxlU2F2ZUF2YWlsYWJpbGl0eSgpO1xuICAgICAgaWYgKCFzYXZlU3VjY2Vzcykge1xuICAgICAgICAvLyBFcnJvciBhbHJlYWR5IHNldCBieSBoYW5kbGVTYXZlQXZhaWxhYmlsaXR5XG4gICAgICAgIHJldHVybjsgLy8gRG9uJ3QgY29udGludWUgaWYgc2F2ZSBmYWlsZWRcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ29udmVydCBzYXZlZCBhdmFpbGFiaWxpdHkgdG8gU2VydmljZUF2YWlsYWJpbGl0eSBmb3JtYXRcbiAgICAvLyBVc2Ugc2F2ZWQgYXZhaWxhYmlsaXR5IGZyb20gdGhpcyBzZXNzaW9uLCBvciBjb252ZXJ0IHBlbmRpbmcgaWYgbm90aGluZyBzYXZlZCB5ZXRcbiAgICBsZXQgcmVzdWx0ID0gc2F2ZWRBdmFpbGFiaWxpdHkubGVuZ3RoID4gMCA/IHNhdmVkQXZhaWxhYmlsaXR5IDogW107XG4gICAgXG4gICAgLy8gSWYgd2UgaGF2ZSBubyBzYXZlZCBhdmFpbGFiaWxpdHkgYnV0IGhhdmUgcGVuZGluZywgY29udmVydCBwZW5kaW5nXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDAgJiYgcGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucy5sZW5ndGggPiAwICYmIHNlbGVjdGVkU2VydmljZUlkKSB7XG4gICAgICByZXN1bHQgPSBtYXBQZW5kaW5nVG9TZXJ2aWNlQXZhaWxhYmlsaXR5KCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHRoYXQgc2VydmljZXMgd2l0aCBzdGFmZiBoYXZlIGF0IGxlYXN0IG9uZSBzbG90XG4gICAgY29uc3Qgc2VydmljZXNOZWVkaW5nQXZhaWxhYmlsaXR5ID0gcmVzdWx0LmZpbHRlcihcbiAgICAgIChzZXJ2aWNlKSA9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgc2VydmljZSBoYXMgc3RhZmYgYXNzaWduZWRcbiAgICAgICAgY29uc3Qgc2VydmljZURlZiA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZXJ2aWNlLnNlcnZpY2VJZCk7XG4gICAgICAgIGlmICghc2VydmljZURlZiB8fCBzZXJ2aWNlRGVmLnN0YWZmSWRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgYWxsIHN0YWZmIGhhdmUgc2xvdHNcbiAgICAgICAgcmV0dXJuIHNlcnZpY2Uuc3RhZmYubGVuZ3RoID4gMCAmJlxuICAgICAgICAgIHNlcnZpY2Uuc3RhZmYuZXZlcnkoKHN0YWZmRW50cnkpID0+IHN0YWZmRW50cnkuc2xvdHMubGVuZ3RoID09PSAwKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKHNlcnZpY2VzTmVlZGluZ0F2YWlsYWJpbGl0eS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHNlcnZpY2VEZWYgPSBhbGxTZXJ2aWNlcy5maW5kKHMgPT4gcy5pZCA9PT0gc2VydmljZXNOZWVkaW5nQXZhaWxhYmlsaXR5WzBdLnNlcnZpY2VJZCk7XG4gICAgICBzZXRFcnJvcihcbiAgICAgICAgYEFkZCBhdCBsZWFzdCBvbmUgYXZhaWxhYmlsaXR5IHNsb3QgZm9yIHNlcnZpY2UgXCIke3NlcnZpY2VEZWY/Lm5hbWUgfHwgc2VydmljZXNOZWVkaW5nQXZhaWxhYmlsaXR5WzBdLnNlcnZpY2VJZH1cIi4gRWFjaCBzZXJ2aWNlIHdpdGggc3RhZmYgbmVlZHMgYXZhaWxhYmlsaXR5IHRvIGFwcGVhciBpbiBib29raW5nLmBcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXdhaXQgb25OZXh0KHJlc3VsdCk7XG4gIH07XG5cbiAgY29uc3QgbWFwUGVuZGluZ1RvU2VydmljZUF2YWlsYWJpbGl0eSA9ICgpOiBTZXJ2aWNlQXZhaWxhYmlsaXR5W10gPT4ge1xuICAgIC8vIFRoaXMgaXMgYSBmYWxsYmFjayBpZiBubyBjdXJyZW50IGF2YWlsYWJpbGl0eSBleGlzdHNcbiAgICAvLyBDb252ZXJ0IHBlbmRpbmcgYWRkaXRpb25zIHRvIFNlcnZpY2VBdmFpbGFiaWxpdHkgZm9ybWF0XG4gICAgY29uc3QgcmVzdWx0OiBTZXJ2aWNlQXZhaWxhYmlsaXR5W10gPSBbXTtcbiAgICBcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZUlkIHx8IHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBzZXJ2aWNlQXZhaWxhYmlsaXR5OiBTZXJ2aWNlQXZhaWxhYmlsaXR5ID0ge1xuICAgICAgc2VydmljZUlkOiBzZWxlY3RlZFNlcnZpY2VJZCxcbiAgICAgIHN0YWZmOiBbXVxuICAgIH07XG4gICAgXG4gICAgY29uc3Qgc3RhZmZNYXAgPSBuZXcgTWFwPHN0cmluZywgQXZhaWxhYmlsaXR5U2xvdFtdPigpO1xuICAgIFxuICAgIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2UpIHJldHVybiByZXN1bHQ7XG4gICAgXG4gICAgZm9yIChjb25zdCBwZW5kaW5nIG9mIHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMpIHtcbiAgICAgIGNvbnN0IHN0YWZmSWQgPSBwZW5kaW5nLnN0YWZmSWQ7XG4gICAgICBjb25zdCB0YXJnZXREYXRlID0gcGVuZGluZy5kYXRlO1xuICAgICAgY29uc3QgdGFyZ2V0SG91ciA9IHBlbmRpbmcuaG91cjtcbiAgICAgIFxuICAgICAgLy8gU3RvcmUgd2Vla2RheSBhcyBsb3dlcmNhc2UgdG8gbWF0Y2ggYnVpbGRFeHBhbmRlZFNsb3RzIGV4cGVjdGF0aW9uIGFuZCBBUEkgZm9ybWF0XG4gICAgICBjb25zdCB3ZWVrZGF5TmFtZSA9IGZvcm1hdEluVGltZVpvbmUodGFyZ2V0RGF0ZSwgdGltZXpvbmUsIHsgd2Vla2RheTogXCJsb25nXCIgfSk7XG4gICAgICBjb25zdCB3ZWVrZGF5ID0gd2Vla2RheU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IGAke1N0cmluZyh0YXJnZXRIb3VyKS5wYWRTdGFydCgyLCAnMCcpfTowMGA7XG4gICAgICBjb25zdCBzdGFydE1pbnV0ZXMgPSB0YXJnZXRIb3VyICogNjA7XG4gICAgICBjb25zdCBlbmRNaW51dGVzID0gc3RhcnRNaW51dGVzICsgc2VsZWN0ZWRTZXJ2aWNlLmR1cmF0aW9uTWludXRlcztcbiAgICAgIGNvbnN0IGVuZEhvdXIgPSBNYXRoLmZsb29yKGVuZE1pbnV0ZXMgLyA2MCk7XG4gICAgICBjb25zdCBlbmRNaW4gPSBlbmRNaW51dGVzICUgNjA7XG4gICAgICBjb25zdCBlbmRUaW1lID0gYCR7U3RyaW5nKGVuZEhvdXIpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKGVuZE1pbikucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgICAgXG4gICAgICBpZiAoIXN0YWZmTWFwLmhhcyhzdGFmZklkKSkge1xuICAgICAgICBzdGFmZk1hcC5zZXQoc3RhZmZJZCwgW10pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBzbG90cyA9IHN0YWZmTWFwLmdldChzdGFmZklkKSE7XG4gICAgICBjb25zdCBzbG90RXhpc3RzID0gc2xvdHMuc29tZShzbG90ID0+IFxuICAgICAgICBzbG90LmRheSA9PT0gd2Vla2RheSAmJiBzbG90LnN0YXJ0VGltZSA9PT0gc3RhcnRUaW1lICYmIHNsb3QuZW5kVGltZSA9PT0gZW5kVGltZVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFzbG90RXhpc3RzKSB7XG4gICAgICAgIHNsb3RzLnB1c2goe1xuICAgICAgICAgIGlkOiBgc2xvdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKX1gLFxuICAgICAgICAgIGRheTogd2Vla2RheSBhcyBBdmFpbGFiaWxpdHlTbG90W1wiZGF5XCJdLFxuICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgIGVuZFRpbWU6IGVuZFRpbWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZvciAoY29uc3QgW3N0YWZmSWQsIHNsb3RzXSBvZiBzdGFmZk1hcC5lbnRyaWVzKCkpIHtcbiAgICAgIHNlcnZpY2VBdmFpbGFiaWxpdHkuc3RhZmYucHVzaCh7IHN0YWZmSWQsIHNsb3RzIH0pO1xuICAgIH1cbiAgICBcbiAgICBpZiAoc2VydmljZUF2YWlsYWJpbGl0eS5zdGFmZi5sZW5ndGggPiAwKSB7XG4gICAgICByZXN1bHQucHVzaChzZXJ2aWNlQXZhaWxhYmlsaXR5KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVGaWxsVGVzdERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdGVzdERhdGEgPSBnZW5lcmF0ZUF2YWlsYWJpbGl0eURhdGEoc2VydmljZXMsIHN0YWZmKTtcbiAgICAvLyBTYXZlIHRlc3QgZGF0YSB2aWEgQVBJXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50Q2xpZW50KCk7XG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IHNlc3Npb24/LmFjY2Vzc190b2tlbjtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtNy1hdmFpbGFiaWxpdHknLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIC4uLihhdXRoVG9rZW4gJiYgeyAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthdXRoVG9rZW59YCB9KSxcbiAgICAgICAgfSxcbiAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmFpbGFiaWxpdHk6IHRlc3REYXRhIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBzZXRTYXZlZEF2YWlsYWJpbGl0eSh0ZXN0RGF0YSk7XG4gICAgICAgIGlmIChzZWxlY3RlZFNlcnZpY2VJZCkge1xuICAgICAgICAgIGNvbnN0IHNlcnZpY2VBdmFpbCA9IHRlc3REYXRhLmZpbmQoKGF2YWlsOiBTZXJ2aWNlQXZhaWxhYmlsaXR5KSA9PiBhdmFpbC5zZXJ2aWNlSWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZFNlcnZpY2UgPSBhbGxTZXJ2aWNlcy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWQpO1xuICAgICAgICAgIGlmIChzZWxlY3RlZFNlcnZpY2UgJiYgc2VydmljZUF2YWlsKSB7XG4gICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zdCBleHBhbmRlZFNsb3RzID0gYnVpbGRFeHBhbmRlZFNsb3RzKHtcbiAgICAgICAgICAgICAgc2VydmljZTogc2VsZWN0ZWRTZXJ2aWNlLFxuICAgICAgICAgICAgICBzZXJ2aWNlQXZhaWxhYmlsaXR5OiBzZXJ2aWNlQXZhaWwsXG4gICAgICAgICAgICAgIHN0YWZmOiBzdGFmZixcbiAgICAgICAgICAgICAgdGltZXpvbmU6IHRpbWV6b25lLFxuICAgICAgICAgICAgICBzdGFydERhdGU6IHRvZGF5LFxuICAgICAgICAgICAgICBob3Jpem9uRGF5czogMTRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0RmV0Y2hlZFNsb3RzKGV4cGFuZGVkU2xvdHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmlsbGluZyB0ZXN0IGRhdGE6JywgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHRlc3QgZGF0YScpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBtb250aFllYXIgPSBmb3JtYXRJblRpbWVab25lKHdlZWtEYXlzWzBdLCB0aW1lem9uZSwgeyBtb250aDogXCJsb25nXCIsIHllYXI6IFwibnVtZXJpY1wiIH0pO1xuICBjb25zdCBzZWxlY3RlZFNlcnZpY2UgPSBhbGxTZXJ2aWNlcy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWQpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LThcIiBhcmlhLWxhYmVsbGVkYnk9XCJhdmFpbGFiaWxpdHktc3RlcC1oZWFkaW5nXCI+XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItcHJpbWFyeS8zMCBiZy1wcmltYXJ5LzEwIHB4LTQgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC1wcmltYXJ5LzkwXCI+XG4gICAgICAgICAgPENhbGVuZGFyQ2hlY2syIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgIFN0ZXAgNyDCtyBBdmFpbGFiaWxpdHlcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8aDIgaWQ9XCJhdmFpbGFiaWxpdHktc3RlcC1oZWFkaW5nXCIgY2xhc3NOYW1lPVwiZm9udC1kaXNwbGF5IHRleHQtM3hsIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICBTZXQgYXZhaWxhYmlsaXR5IGJ5IGNsaWNraW5nIHRpbWUgc2xvdHNcbiAgICAgICAgPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibWF4LXctM3hsIHRleHQtYmFzZSB0ZXh0LXdoaXRlLzcwXCI+XG4gICAgICAgICAgU2VsZWN0IGEgc2VydmljZSBhbmQgc3RhZmYgbWVtYmVyLCB0aGVuIGNsaWNrIGVtcHR5IHRpbWUgc2xvdHMgdG8gYWRkIGF2YWlsYWJpbGl0eS4gQ2xpY2sgYWdhaW4gdG8gcmVtb3ZlLiBDbGljayBcIlNhdmUgQXZhaWxhYmlsaXR5XCIgd2hlbiBkb25lLCB0aGVuIGNvbnRpbnVlIHRvIHRoZSBuZXh0IHN0ZXAuIFRoaXMgYXZhaWxhYmlsaXR5IHdpbGwgYmUgdXNlZCBpbiB5b3VyIGJvb2tpbmcgZmxvdy5cbiAgICAgICAgPC9wPlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIHsvKiBTZXJ2aWNlIERyb3Bkb3duICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcC02XCI+XG4gICAgICAgIDxMYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwIG1iLTIgYmxvY2tcIj5GaWx0ZXIgYnkgU2VydmljZTwvTGFiZWw+XG4gICAgICAgIDxzZWxlY3RcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xNSBiZy1bIzA1MEYyQ10vNjAgcHgtNCBweS0zIHRleHQtc20gdGV4dC13aGl0ZSBmb2N1czpib3JkZXItcHJpbWFyeSBmb2N1czpvdXRsaW5lLW5vbmVcIlxuICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZFNlcnZpY2VJZCB8fCBcIlwifVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRTZXJ2aWNlSWQoZS50YXJnZXQudmFsdWUgfHwgbnVsbCk7XG4gICAgICAgICAgICAvLyBDbGVhciBwZW5kaW5nIGF2YWlsYWJpbGl0eSB3aGVuIGNoYW5naW5nIHNlcnZpY2VcbiAgICAgICAgICAgIHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMoW10pO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIiBjbGFzc05hbWU9XCJiZy1bIzA1MEYyQ10gdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgQWxsIFNlcnZpY2VzXG4gICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAge2FsbFNlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4gKFxuICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3NlcnZpY2UuaWR9IHZhbHVlPXtzZXJ2aWNlLmlkfSBjbGFzc05hbWU9XCJiZy1bIzA1MEYyQ10gdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICB7c2VydmljZS5jYXRlZ29yeU5hbWV9IC0ge3NlcnZpY2UubmFtZX0gKHtzZXJ2aWNlLmR1cmF0aW9uTWludXRlc30gbWluIMK3ICRcbiAgICAgICAgICAgICAgeyhzZXJ2aWNlLnByaWNlQ2VudHMgLyAxMDApLnRvRml4ZWQoMil9KVxuICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgICB7c2VsZWN0ZWRTZXJ2aWNlICYmIChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQteHMgdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgU2hvd2luZyBhdmFpbGFiaWxpdHkgZm9yOiA8c3Ryb25nIGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIj57c2VsZWN0ZWRTZXJ2aWNlLm5hbWV9PC9zdHJvbmc+XG4gICAgICAgICAgPC9wPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBTdGFmZiBTZWxlY3Rpb24gUGlsbHMgLSBPbmx5IHNob3cgd2hlbiBzZXJ2aWNlIGlzIHNlbGVjdGVkICovfVxuICAgICAge3NlbGVjdGVkU2VydmljZUlkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcC02XCI+XG4gICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNzAgbWItMyBibG9ja1wiPlNlbGVjdCBTdGFmZiBNZW1iZXI8L0xhYmVsPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICA8U3RhZmZQaWxsXG4gICAgICAgICAgICAgIGxhYmVsPVwiQWxsIFN0YWZmXCJcbiAgICAgICAgICAgICAgYWN0aXZlPXtzZWxlY3RlZFN0YWZmSWQgPT09IFwiYW55XCJ9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFN0YWZmSWQoXCJhbnlcIik7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgY2xlYXIgcGVuZGluZyAtIGtlZXAgYWxsIHBlbmRpbmcgc2xvdHMgdmlzaWJsZVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtzdGFmZlxuICAgICAgICAgICAgICAuZmlsdGVyKG1lbWJlciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG1lbWJlci5hY3RpdmUgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gT25seSBzaG93IHN0YWZmIGFzc2lnbmVkIHRvIHRoaXMgc2VydmljZVxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlcnZpY2UpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFNlcnZpY2Uuc3RhZmZJZHMuaW5jbHVkZXMobWVtYmVyLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5tYXAoKG1lbWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8U3RhZmZQaWxsXG4gICAgICAgICAgICAgICAgICAgIGtleT17bWVtYmVyLmlkfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17bWVtYmVyLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yPXttZW1iZXIuY29sb3J9XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZT17c2VsZWN0ZWRTdGFmZklkID09PSBtZW1iZXIuaWR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBjbGVhciBwZW5kaW5nIC0ga2VlcCBhbGwgcGVuZGluZyBzbG90cyB2aXNpYmxlIHdoZW4gc3dpdGNoaW5nIHN0YWZmXG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRTdGFmZklkKG1lbWJlci5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPEhlbHBlclRleHQgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LXdoaXRlLzUwXCI+XG4gICAgICAgICAgICB7c2VsZWN0ZWRTdGFmZklkID09PSBcImFueVwiIFxuICAgICAgICAgICAgICA/IFwiU2VsZWN0IGEgc3RhZmYgbWVtYmVyIGFib3ZlLCB0aGVuIGNsaWNrIGVtcHR5IHRpbWUgc2xvdHMgdG8gYWRkIGF2YWlsYWJpbGl0eVwiXG4gICAgICAgICAgICAgIDogYEFkZGluZyBhdmFpbGFiaWxpdHkgZm9yICR7c3RhZmYuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU3RhZmZJZCk/Lm5hbWV9LiBDbGljayBlbXB0eSB0aW1lIHNsb3RzIHRvIGFkZCBhdmFpbGFiaWxpdHkuIENsaWNrIFwiU2F2ZVwiIHdoZW4gZG9uZS5gfVxuICAgICAgICAgIDwvSGVscGVyVGV4dD5cbiAgICAgICAgICB7cGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1wcmltYXJ5LzQwIGJnLXByaW1hcnkvMTAgcHgtNCBweS0zXCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgIHtwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLmxlbmd0aH0gYXZhaWxhYmlsaXR5IHNsb3R7cGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IHBlbmRpbmdcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgICAgICBDbGljayBcIlNhdmVcIiB0byBhcHBseSBjaGFuZ2VzIHRvIHRoZSBib29raW5nIHN5c3RlbVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCIgXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRQZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zKFtdKX0gXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTYXZpbmdBdmFpbGFiaWxpdHl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ2xlYXJcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZUF2YWlsYWJpbGl0eX0gXG4gICAgICAgICAgICAgICAgICBpc0xvYWRpbmc9e2lzU2F2aW5nQXZhaWxhYmlsaXR5fSBcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NhdmluZ0F2YWlsYWJpbGl0eX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8U2F2ZSBjbGFzc05hbWU9XCJtci0yIGgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgICAgU2F2ZSBBdmFpbGFiaWxpdHlcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBXZWVrIE5hdmlnYXRpb24gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtNiBweS00XCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlV2VlayhcInByZXZcIil9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCBob3Zlcjp0ZXh0LXdoaXRlXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxDaGV2cm9uTGVmdCBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj57bW9udGhZZWFyfTwvaDM+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZSh3ZWVrRGF5c1swXSwgdGltZXpvbmUsIHsgbW9udGg6IFwic2hvcnRcIiwgZGF5OiBcIm51bWVyaWNcIiB9KX0gLXtcIiBcIn1cbiAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKHdlZWtEYXlzWzZdLCB0aW1lem9uZSwgeyBtb250aDogXCJzaG9ydFwiLCBkYXk6IFwibnVtZXJpY1wiIH0pfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlV2VlayhcIm5leHRcIil9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCBob3Zlcjp0ZXh0LXdoaXRlXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBDYWxlbmRhciBHcmlkIC0gTWF0Y2hpbmcgQWRtaW4gVmlldyBTdHlsZSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHAtOCBzaGFkb3ctWzBfMF82MHB4X3JnYmEoOTEsMTAwLDI1NSwwLjE1KV1cIj5cbiAgICAgICAgeyFzZWxlY3RlZFNlcnZpY2VJZCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNjAgcC04IHRleHQtY2VudGVyIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmFzZVwiPlNlbGVjdCBhIHNlcnZpY2UgYWJvdmUgdG8gYWRkIGF2YWlsYWJpbGl0eTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy1mdWxsXCI+XG4gICAgICAgICAgICAgIHsvKiBEYXkgSGVhZGVycyAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy04IGdhcC0yIGJvcmRlci1iIGJvcmRlci13aGl0ZS8xMCBwYi0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZS82MFwiPlRpbWU8L2Rpdj5cbiAgICAgICAgICAgICAgICB7d2Vla0RheXMubWFwKChkYXksIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShkYXksIHRpbWV6b25lLCB7IHdlZWtkYXk6IFwic2hvcnRcIiB9KX1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIHsgZGF5OiBcIm51bWVyaWNcIiB9KX1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBIb3VyIFJvd3MgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICB7aG91cnMubWFwKChob3VyKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBob3VyTGFiZWwgPSBob3VyID09PSAxMiA/IFwiMTIgUE1cIiA6IGhvdXIgPiAxMiA/IGAke2hvdXIgLSAxMn0gUE1gIDogYCR7aG91cn0gQU1gO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2hvdXJ9IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHMgdGV4dC13aGl0ZS82MCBweS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aG91ckxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIHt3ZWVrRGF5cy5tYXAoKGRheSwgZGF5SWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlS2V5ID0gZm9ybWF0SW5UaW1lWm9uZShkYXksIHRpbWV6b25lLCBcInl5eXktTU0tZGRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbG90c0ZvckhvdXIgPSBzbG90c0J5RGF5QW5kSG91cltkYXRlS2V5XT8uW2hvdXJdIHx8IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17ZGF5SWR4fSBjbGFzc05hbWU9XCJweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IGF2YWlsYWJsZSBzbG90cyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzbG90c0ZvckhvdXIubWFwKChzbG90KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YWZmTWVtYmVyID0gc3RhZmYuZmluZChzID0+IHMuaWQgPT09IHNsb3Quc3RhZmZJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzUGVuZGluZyA9IHNsb3QuaWQgJiYgc2xvdC5pZC5zdGFydHNXaXRoKCdwZW5kaW5nLScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkU3RhZmYgPSBzZWxlY3RlZFN0YWZmSWQgIT09IFwiYW55XCIgJiYgc2xvdC5zdGFmZklkID09PSBzZWxlY3RlZFN0YWZmSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17c2xvdC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aXNQZW5kaW5nICYmIGlzU2VsZWN0ZWRTdGFmZiA/ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHBlbmRpbmcgc2xvdCBvbiBjbGlja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbG90RGF0ZUtleSA9IGZvcm1hdEluVGltZVpvbmUoZGF5LCB0aW1lem9uZSwgXCJ5eXl5LU1NLWRkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zKChwcmV2KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHBlbmRpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVuZGluZ0RhdGVLZXkgPSBmb3JtYXRJblRpbWVab25lKHBlbmRpbmcuZGF0ZSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEocGVuZGluZy5zdGFmZklkID09PSBzbG90LnN0YWZmSWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nRGF0ZUtleSA9PT0gc2xvdERhdGVLZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nLmhvdXIgPT09IGhvdXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgcm91bmRlZC1sZyBib3JkZXIgcHgtMiBweS0xLjUgdGV4dC1sZWZ0IHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXByaW1hcnkvNzAgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQZW5kaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJvcmRlci1wcmltYXJ5LzYwIGJnLXByaW1hcnkvMjAgaG92ZXI6Ym9yZGVyLXJlZC01MDAvNjAgaG92ZXI6YmctcmVkLTUwMC8yMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJvcmRlci1wcmltYXJ5LzQwIGJnLXByaW1hcnkvMjAgaG92ZXI6Ym9yZGVyLXByaW1hcnkvNjAgaG92ZXI6YmctcHJpbWFyeS8zMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBzdGFmZk1lbWJlcj8uY29sb3IgPyBgJHtzdGFmZk1lbWJlci5jb2xvcn04MGAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogc3RhZmZNZW1iZXI/LmNvbG9yID8gYCR7c3RhZmZNZW1iZXIuY29sb3J9MjBgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtpc1BlbmRpbmcgJiYgaXNTZWxlY3RlZFN0YWZmID8gXCJDbGljayB0byByZW1vdmVcIiA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShuZXcgRGF0ZShzbG90LnN0YXJ0RGF0ZVRpbWUpLCB0aW1lem9uZSwgeyBob3VyOiBcIm51bWVyaWNcIiwgbWludXRlOiBcIjItZGlnaXRcIiB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtd2hpdGUvNzAgbXQtMC41IHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzbG90LnN0YWZmTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YHRleHQtWzEwcHhdIG10LTAuNSB0cnVuY2F0ZSAke2lzUGVuZGluZyA/IFwidGV4dC1wcmltYXJ5LzkwIGZvbnQtc2VtaWJvbGRcIiA6IFwidGV4dC1lbWVyYWxkLTQwMC85MCBmb250LXNlbWlib2xkXCJ9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1BlbmRpbmcgPyBcIuKckyBQZW5kaW5nXCIgOiBcIuKckyBTYXZlZFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IGVtcHR5IHN0YXRlIGlmIG5vIHNsb3RzIC0gbWFrZSBpdCBjbGlja2FibGUgdG8gYWRkIGF2YWlsYWJpbGl0eSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzbG90c0ZvckhvdXIubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUVtcHR5U2xvdENsaWNrKGRheSwgaG91cil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC1mdWxsIHctZnVsbCByb3VuZGVkLWxnIGJnLXdoaXRlLzUgYm9yZGVyIGJvcmRlci13aGl0ZS81IGhvdmVyOmJvcmRlci1wcmltYXJ5LzQwIGhvdmVyOmJnLXByaW1hcnkvMTAgcHktMS41IHRyYW5zaXRpb24gY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQ2xpY2sgdG8gYWRkIGF2YWlsYWJpbGl0eVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXdoaXRlLzIwIHRleHQtY2VudGVyXCI+KyBBZGQ8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAge2Vycm9yID8gKFxuICAgICAgICA8SGVscGVyVGV4dCBpbnRlbnQ9XCJlcnJvclwiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgKSA6IG51bGx9XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtOCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtM1wiPlxuICAgICAgICA8VGVzdERhdGFCdXR0b24gb25DbGljaz17aGFuZGxlRmlsbFRlc3REYXRhfSAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBBZGQgQXZhaWxhYmlsaXR5IE1vZGFsICovfVxuICAgICAge2FkZGluZ0F2YWlsYWJpbGl0eSAmJiAoXG4gICAgICAgIDxBZGRBdmFpbGFiaWxpdHlNb2RhbFxuICAgICAgICAgIGRhdGU9e2FkZGluZ0F2YWlsYWJpbGl0eS5kYXRlfVxuICAgICAgICAgIGhvdXI9e2FkZGluZ0F2YWlsYWJpbGl0eS5ob3VyfVxuICAgICAgICAgIHNlcnZpY2U9e3NlbGVjdGVkU2VydmljZX1cbiAgICAgICAgICBzdGFmZj17c3RhZmYuZmlsdGVyKG1lbWJlciA9PiB7XG4gICAgICAgICAgICBpZiAobWVtYmVyLmFjdGl2ZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIC8vIE9ubHkgc2hvdyBzdGFmZiBhc3NpZ25lZCB0byB0aGlzIHNlcnZpY2VcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlcnZpY2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkU2VydmljZS5zdGFmZklkcy5pbmNsdWRlcyhtZW1iZXIuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSl9XG4gICAgICAgICAgb25TZWxlY3RTdGFmZj17aGFuZGxlQWRkQXZhaWxhYmlsaXR5Rm9yU3RhZmZ9XG4gICAgICAgICAgb25DYW5jZWw9eygpID0+IHNldEFkZGluZ0F2YWlsYWJpbGl0eShudWxsKX1cbiAgICAgICAgICBpc1NhdmluZz17aXNTYXZpbmdBdmFpbGFiaWxpdHl9XG4gICAgICAgICAgdGltZXpvbmU9e3RpbWV6b25lfVxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAgPFN0ZXBBY3Rpb25zIG9uQmFjaz17b25CYWNrfSBvbk5leHQ9e2hhbmRsZUNvbnRpbnVlfSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBBZGRBdmFpbGFiaWxpdHlNb2RhbCh7XG4gIGRhdGUsXG4gIGhvdXIsXG4gIHNlcnZpY2UsXG4gIHN0YWZmLFxuICBvblNlbGVjdFN0YWZmLFxuICBvbkNhbmNlbCxcbiAgaXNTYXZpbmcsXG4gIHRpbWV6b25lXG59OiB7XG4gIGRhdGU6IERhdGU7XG4gIGhvdXI6IG51bWJlcjtcbiAgc2VydmljZTogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGR1cmF0aW9uTWludXRlczogbnVtYmVyOyBjYXRlZ29yeU5hbWU/OiBzdHJpbmcgfSB8IHVuZGVmaW5lZDtcbiAgc3RhZmY6IFN0YWZmTWVtYmVyW107XG4gIG9uU2VsZWN0U3RhZmY6IChzdGFmZklkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uQ2FuY2VsOiAoKSA9PiB2b2lkO1xuICBpc1NhdmluZzogYm9vbGVhbjtcbiAgdGltZXpvbmU6IHN0cmluZztcbn0pIHtcbiAgaWYgKCFzZXJ2aWNlKSByZXR1cm4gbnVsbDtcblxuICAvLyBDYWxjdWxhdGUgZW5kIHRpbWVcbiAgY29uc3Qgc3RhcnRNaW51dGVzID0gaG91ciAqIDYwO1xuICBjb25zdCBlbmRNaW51dGVzID0gc3RhcnRNaW51dGVzICsgc2VydmljZS5kdXJhdGlvbk1pbnV0ZXM7XG4gIGNvbnN0IGVuZEhvdXIgPSBNYXRoLmZsb29yKGVuZE1pbnV0ZXMgLyA2MCk7XG4gIGNvbnN0IGVuZE1pbiA9IGVuZE1pbnV0ZXMgJSA2MDtcbiAgY29uc3Qgc3RhcnRUaW1lU3RyID0gYCR7U3RyaW5nKGhvdXIpLnBhZFN0YXJ0KDIsICcwJyl9OjAwYDtcbiAgY29uc3QgZW5kVGltZVN0ciA9IGAke1N0cmluZyhlbmRIb3VyKS5wYWRTdGFydCgyLCAnMCcpfToke1N0cmluZyhlbmRNaW4pLnBhZFN0YXJ0KDIsICcwJyl9YDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzgwIHB4LTQgcHktOFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtYXgtaC1bOTB2aF0gdy1mdWxsIG1heC13LTJ4bCBvdmVyZmxvdy15LWF1dG8gcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay85MCBwLTggc2hhZG93LVswXzYwcHhfMTYwcHhfcmdiYSg0LDEyLDM1LDAuNyldXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC02IHRvcC02IHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIGJnLXdoaXRlLzUgcHgtNCBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXdoaXRlLzcwIHRyYW5zaXRpb24gaG92ZXI6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgb25DbGljaz17b25DYW5jZWx9XG4gICAgICAgICAgZGlzYWJsZWQ9e2lzU2F2aW5nfVxuICAgICAgICA+XG4gICAgICAgICAgPFggY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwic3BhY2UteS0yIHByLTE2XCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImZvbnQtZGlzcGxheSB0ZXh0LTN4bCB0ZXh0LXdoaXRlXCI+QWRkIEF2YWlsYWJpbGl0eTwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICBTZWxlY3QgYSBzdGFmZiBtZW1iZXIgdG8gYWRkIGF2YWlsYWJpbGl0eSBmb3IgdGhpcyB0aW1lIHNsb3QuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2hlYWRlcj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggc3BhY2UteS02XCI+XG4gICAgICAgICAgey8qIFNlcnZpY2UgSW5mbyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNzAgcC00XCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtd2hpdGUvNTAgbWItNFwiPlxuICAgICAgICAgICAgICBTZXJ2aWNlXG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LXNlbWlib2xkXCI+e3NlcnZpY2UubmFtZX08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC13aGl0ZS83MFwiPntzZXJ2aWNlLmR1cmF0aW9uTWludXRlc30gbWludXRlczwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFRpbWUgU2xvdCBJbmZvICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay83MCBwLTRcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC13aGl0ZS81MCBtYi00XCI+XG4gICAgICAgICAgICAgIFRpbWUgU2xvdFxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShkYXRlLCB0aW1lem9uZSwge1xuICAgICAgICAgICAgICAgICAgd2Vla2RheTogXCJsb25nXCIsXG4gICAgICAgICAgICAgICAgICBtb250aDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICAgICAgZGF5OiBcIm51bWVyaWNcIlxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICB7c3RhcnRUaW1lU3RyfSAtIHtlbmRUaW1lU3RyfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBTdGFmZiBTZWxlY3Rpb24gKi99XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxMYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwIG1iLTIgYmxvY2tcIj5TZWxlY3QgU3RhZmYgTWVtYmVyPC9MYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIHtzdGFmZi5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+Tm8gc3RhZmYgbWVtYmVycyBhdmFpbGFibGU8L3A+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgc3RhZmYubWFwKChtZW1iZXIpID0+IChcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAga2V5PXttZW1iZXIuaWR9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNlbGVjdFN0YWZmKG1lbWJlci5pZCl9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NhdmluZ31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTUgYmctWyMwNTBGMkNdLzYwIHB4LTQgcHktMyB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBob3Zlcjpib3JkZXItcHJpbWFyeSBob3ZlcjpiZy1wcmltYXJ5LzEwIGZvY3VzOmJvcmRlci1wcmltYXJ5IGZvY3VzOm91dGxpbmUtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IG1lbWJlci5jb2xvciA/IGAke21lbWJlci5jb2xvcn04MGAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bWVtYmVyLmNvbG9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC00IHctNCByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IG1lbWJlci5jb2xvciB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPnttZW1iZXIubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWVtYmVyLnJvbGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNjBcIj57bWVtYmVyLnJvbGV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBBY3Rpb24gQnV0dG9ucyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0zXCI+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBvbkNsaWNrPXtvbkNhbmNlbH0gZGlzYWJsZWQ9e2lzU2F2aW5nfT5cbiAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBTdGFmZlBpbGwoe1xuICBsYWJlbCxcbiAgY29sb3IsXG4gIGFjdGl2ZSxcbiAgb25DbGlja1xufToge1xuICBsYWJlbDogc3RyaW5nO1xuICBjb2xvcj86IHN0cmluZztcbiAgYWN0aXZlOiBib29sZWFuO1xuICBvbkNsaWNrOiAoKSA9PiB2b2lkO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQtZnVsbCBib3JkZXIgcHgtNCBweS0yIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcHJpbWFyeS83MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1ibGFjayAke1xuICAgICAgICBhY3RpdmUgXG4gICAgICAgICAgPyBcImJvcmRlci13aGl0ZS82MCBiZy13aGl0ZS8xNSB0ZXh0LXdoaXRlXCIgXG4gICAgICAgICAgOiBcImJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHRleHQtd2hpdGUvNjAgaG92ZXI6dGV4dC13aGl0ZS84MFwiXG4gICAgICB9YH1cbiAgICAgIHN0eWxlPXthY3RpdmUgJiYgY29sb3IgPyB7IGJvcmRlckNvbG9yOiBjb2xvciwgYm94U2hhZG93OiBgMCAwIDI1cHggJHtjb2xvcn0zM2AgfSA6IHVuZGVmaW5lZH1cbiAgICA+XG4gICAgICB7bGFiZWx9XG4gICAgPC9idXR0b24+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlTWVtbyIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiQ2hldnJvbkxlZnQiLCJDaGV2cm9uUmlnaHQiLCJTYXZlIiwiQ2FsZW5kYXJDaGVjazIiLCJYIiwiQnV0dG9uIiwiSGVscGVyVGV4dCIsIkxhYmVsIiwiU3RlcEFjdGlvbnMiLCJUZXN0RGF0YUJ1dHRvbiIsImdlbmVyYXRlQXZhaWxhYmlsaXR5RGF0YSIsImZvcm1hdEluVGltZVpvbmUiLCJ6b25lZE1pbnV0ZXNUb0RhdGUiLCJidWlsZEV4cGFuZGVkU2xvdHMiLCJncm91cFNsb3RzQnlEYXkiLCJjcmVhdGVDbGllbnRDbGllbnQiLCJBdmFpbGFiaWxpdHlTdGVwIiwic2VydmljZXMiLCJzdGFmZiIsImRlZmF1bHRWYWx1ZXMiLCJvbk5leHQiLCJvbkJhY2siLCJ0aW1lem9uZSIsImN1cnJlbnRXZWVrU3RhcnQiLCJzZXRDdXJyZW50V2Vla1N0YXJ0IiwidG9kYXkiLCJEYXRlIiwiZGF5T2ZXZWVrIiwiZ2V0RGF5IiwiZGlmZiIsImdldERhdGUiLCJzdW5kYXkiLCJzZXREYXRlIiwic2V0SG91cnMiLCJzZWxlY3RlZFNlcnZpY2VJZCIsInNldFNlbGVjdGVkU2VydmljZUlkIiwic2VsZWN0ZWRTdGFmZklkIiwic2V0U2VsZWN0ZWRTdGFmZklkIiwiZmV0Y2hlZFNsb3RzIiwic2V0RmV0Y2hlZFNsb3RzIiwiaXNTYXZpbmdBdmFpbGFiaWxpdHkiLCJzZXRJc1NhdmluZ0F2YWlsYWJpbGl0eSIsInNhdmVkQXZhaWxhYmlsaXR5Iiwic2V0U2F2ZWRBdmFpbGFiaWxpdHkiLCJwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zIiwic2V0UGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucyIsImVycm9yIiwic2V0RXJyb3IiLCJhbGxTZXJ2aWNlcyIsImZsYXRNYXAiLCJjYXRlZ29yeSIsIm1hcCIsInNlcnZpY2UiLCJjYXRlZ29yeU5hbWUiLCJuYW1lIiwic2VsZWN0ZWRTZXJ2aWNlIiwiZmluZCIsInMiLCJpZCIsInNlcnZpY2VBdmFpbCIsImF2YWlsIiwic2VydmljZUlkIiwid2Vla1N0YXJ0IiwiZXhwYW5kZWRTbG90cyIsInNlcnZpY2VBdmFpbGFiaWxpdHkiLCJzdGFydERhdGUiLCJob3Jpem9uRGF5cyIsImluY2x1ZGVQYXN0U2xvdHMiLCJncm91cGVkU2xvdHMiLCJ3ZWVrRGF5cyIsImRheXMiLCJpIiwiZGF0ZSIsInB1c2giLCJob3VycyIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIl8iLCJzbG90c0J5RGF5QW5kSG91ciIsImdyb3VwZWQiLCJhbGxTbG90cyIsIk9iamVjdCIsInZhbHVlcyIsImZsYXQiLCJmb3JFYWNoIiwic2xvdCIsInNsb3REYXRlIiwic3RhcnREYXRlVGltZSIsImRhdGVLZXkiLCJob3VyIiwiaG91cjEyIiwiaG91ck51bSIsInBhcnNlSW50IiwiaXNJbkN1cnJlbnRXZWVrIiwic29tZSIsImRheSIsImRheUtleSIsImlzRHVwbGljYXRlIiwiZXhpc3RpbmciLCJzdGFmZklkIiwicGVuZGluZyIsImFscmVhZHlQZW5kaW5nIiwic3RhcnRzV2l0aCIsImZpbHRlciIsInN0YWZmTWVtYmVyIiwiZW5kRGF0ZVRpbWUiLCJnZXRUaW1lIiwiZHVyYXRpb25NaW51dGVzIiwic3RhZmZOYW1lIiwic3RhZmZDb2xvciIsImNvbG9yIiwidG9JU09TdHJpbmciLCJkYXlMYWJlbCIsIndlZWtkYXkiLCJuYXZpZ2F0ZVdlZWsiLCJkaXJlY3Rpb24iLCJuZXdEYXRlIiwiaGFuZGxlRW1wdHlTbG90Q2xpY2siLCJ0b0RhdGVTdHJpbmciLCJwcmV2Iiwic2VydmljZVN0YWZmIiwibWVtYmVyIiwiYWN0aXZlIiwic3RhZmZJZHMiLCJpbmNsdWRlcyIsInNpbmdsZVN0YWZmSWQiLCJzZXRBZGRpbmdBdmFpbGFiaWxpdHkiLCJtaW51dGUiLCJoYW5kbGVBZGRBdmFpbGFiaWxpdHlGb3JTdGFmZiIsImFkZGluZ0F2YWlsYWJpbGl0eSIsInRhcmdldERhdGUiLCJ0YXJnZXRIb3VyIiwidW5kZWZpbmVkIiwiaGFuZGxlU2F2ZUF2YWlsYWJpbGl0eSIsInN1cGFiYXNlIiwiZGF0YSIsInNlc3Npb24iLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImF1dGhUb2tlbiIsImFjY2Vzc190b2tlbiIsIkVycm9yIiwiYWxsQXZhaWxhYmlsaXR5Iiwid2Vla2RheU5hbWUiLCJ0b0xvd2VyQ2FzZSIsInN0YXJ0VGltZSIsIlN0cmluZyIsInBhZFN0YXJ0Iiwic3RhcnRNaW51dGVzIiwiZW5kTWludXRlcyIsImVuZEhvdXIiLCJNYXRoIiwiZmxvb3IiLCJlbmRNaW4iLCJlbmRUaW1lIiwic3RhZmZBdmFpbGFiaWxpdHkiLCJzbG90cyIsInNsb3RFeGlzdHMiLCJub3ciLCJyYW5kb20iLCJzYXZlUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJjcmVkZW50aWFscyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXZhaWxhYmlsaXR5Iiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJjb25zb2xlIiwibWVzc2FnZSIsImhhbmRsZUNvbnRpbnVlIiwic2F2ZVN1Y2Nlc3MiLCJyZXN1bHQiLCJtYXBQZW5kaW5nVG9TZXJ2aWNlQXZhaWxhYmlsaXR5Iiwic2VydmljZXNOZWVkaW5nQXZhaWxhYmlsaXR5Iiwic2VydmljZURlZiIsImV2ZXJ5Iiwic3RhZmZFbnRyeSIsInN0YWZmTWFwIiwiTWFwIiwiaGFzIiwic2V0IiwiZ2V0IiwiZW50cmllcyIsImhhbmRsZUZpbGxUZXN0RGF0YSIsInRlc3REYXRhIiwicmVzcG9uc2UiLCJtb250aFllYXIiLCJtb250aCIsInllYXIiLCJkaXYiLCJjbGFzc05hbWUiLCJhcmlhLWxhYmVsbGVkYnkiLCJoZWFkZXIiLCJzcGFuIiwiYXJpYS1oaWRkZW4iLCJoMiIsInAiLCJzZWxlY3QiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIm9wdGlvbiIsInByaWNlQ2VudHMiLCJ0b0ZpeGVkIiwic3Ryb25nIiwiU3RhZmZQaWxsIiwibGFiZWwiLCJvbkNsaWNrIiwidmFyaWFudCIsImRpc2FibGVkIiwiaXNMb2FkaW5nIiwiaDMiLCJpZHgiLCJob3VyTGFiZWwiLCJkYXlJZHgiLCJzbG90c0ZvckhvdXIiLCJpc1BlbmRpbmciLCJpc1NlbGVjdGVkU3RhZmYiLCJidXR0b24iLCJ0eXBlIiwic2xvdERhdGVLZXkiLCJwZW5kaW5nRGF0ZUtleSIsInN0eWxlIiwiYm9yZGVyQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0aXRsZSIsImludGVudCIsInJvbGUiLCJBZGRBdmFpbGFiaWxpdHlNb2RhbCIsIm9uU2VsZWN0U3RhZmYiLCJvbkNhbmNlbCIsImlzU2F2aW5nIiwic3RhcnRUaW1lU3RyIiwiZW5kVGltZVN0ciIsImJveFNoYWRvdyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/onboarding/availability-step.tsx\n"));

/***/ })

});