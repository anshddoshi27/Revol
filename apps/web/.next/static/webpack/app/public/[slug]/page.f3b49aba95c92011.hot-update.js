"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/public/[slug]/page",{

/***/ "(app-pages-browser)/./src/components/public-booking/booking-flow.tsx":
/*!********************************************************!*\
  !*** ./src/components/public-booking/booking-flow.tsx ***!
  \********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PublicBookingExperience: function() { return /* binding */ PublicBookingExperience; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/shield-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/credit-card.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar-days.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/party-popper.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _stripe_stripe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stripe/stripe-js */ \"(app-pages-browser)/../../node_modules/@stripe/stripe-js/lib/index.mjs\");\n/* harmony import */ var _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stripe/react-stripe-js */ \"(app-pages-browser)/../../node_modules/@stripe/react-stripe-js/dist/react-stripe.esm.mjs\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/badge */ \"(app-pages-browser)/./src/components/ui/badge.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/helper-text */ \"(app-pages-browser)/./src/components/ui/helper-text.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./src/components/ui/input.tsx\");\n/* harmony import */ var _components_ui_toast__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/toast */ \"(app-pages-browser)/./src/components/ui/toast.tsx\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* harmony import */ var _lib_availability_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/availability-utils */ \"(app-pages-browser)/./src/lib/availability-utils.ts\");\n/* harmony import */ var _lib_timezone__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/timezone */ \"(app-pages-browser)/./src/lib/timezone.ts\");\n/* __next_internal_client_entry_do_not_use__ PublicBookingExperience auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Initialize Stripe\nconst stripePromise = (0,_stripe_stripe_js__WEBPACK_IMPORTED_MODULE_3__.loadStripe)(\"pk_test_51SLrw1RtjyTFPgioLF9XPNjoWfEznrkim8IdiBxqaqM22ZJKT9FchK6d3DRWIVvPkmkdgH8aEFFneAKcM0z7yllt00l3anN4rc\" || 0);\nfunction PublicBookingExperience(param) {\n    let { business, workspace, recordBooking } = param;\n    _s();\n    const toast = (0,_components_ui_toast__WEBPACK_IMPORTED_MODULE_9__.useToast)();\n    const [step, setStep] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"catalog\");\n    const [selectedServiceId, setSelectedServiceId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [selectedStaffId, setSelectedStaffId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"any\");\n    const [selectedSlot, setSelectedSlot] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [giftCardState, setGiftCardState] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [giftCardInput, setGiftCardInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [giftCardError, setGiftCardError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [customerName, setCustomerName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [customerEmail, setCustomerEmail] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [customerPhone, setCustomerPhone] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [setupIntentClientSecret, setSetupIntentClientSecret] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [paymentMethodId, setPaymentMethodId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [createdBookingId, setCreatedBookingId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [createdBookingCode, setCreatedBookingCode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [consentChecked, setConsentChecked] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isPolicyModalOpen, setIsPolicyModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [createdBooking, setCreatedBooking] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [fetchedSlots, setFetchedSlots] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [isLoadingAvailability, setIsLoadingAvailability] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [availabilityError, setAvailabilityError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const selectedService = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (!selectedServiceId) return undefined;\n        for (const category of workspace.catalog){\n            const service = category.services.find((svc)=>svc.id === selectedServiceId);\n            if (service) {\n                return {\n                    ...service,\n                    categoryName: category.name,\n                    categoryColor: category.color\n                };\n            }\n        }\n        return undefined;\n    }, [\n        selectedServiceId,\n        workspace.catalog\n    ]);\n    // Fetch availability from API when service is selected\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!selectedService || step !== \"availability\") {\n            setFetchedSlots([]);\n            return;\n        }\n        async function fetchAvailability() {\n            setIsLoadingAvailability(true);\n            setAvailabilityError(null);\n            try {\n                // Fetch availability for the next 14 days (2 weeks)\n                const today = new Date();\n                const allSlots = [];\n                const timezone = workspace.identity.location.timezone || \"UTC\";\n                const dayFormatter = new Intl.DateTimeFormat(\"en-US\", {\n                    timeZone: timezone,\n                    weekday: \"long\"\n                });\n                for(let i = 0; i < 14; i++){\n                    const date = new Date(today);\n                    date.setDate(today.getDate() + i);\n                    const dateStr = date.toISOString().split(\"T\")[0]; // YYYY-MM-DD\n                    try {\n                        var _data_slots, _data_slots1;\n                        const response = await fetch(\"/api/public/\".concat(business.slug, \"/availability?service_id=\").concat(selectedService.id, \"&date=\").concat(dateStr));\n                        if (!response.ok) {\n                            console.warn(\"Failed to fetch availability for \".concat(dateStr, \":\"), response.status);\n                            continue;\n                        }\n                        const data = await response.json();\n                        console.log(\"[booking-flow] Fetched availability for \".concat(dateStr, \":\"), {\n                            slotsCount: ((_data_slots = data.slots) === null || _data_slots === void 0 ? void 0 : _data_slots.length) || 0,\n                            hasSlots: Array.isArray(data.slots),\n                            sampleSlot: (_data_slots1 = data.slots) === null || _data_slots1 === void 0 ? void 0 : _data_slots1[0]\n                        });\n                        if (data.slots && Array.isArray(data.slots)) {\n                            // Transform API slots to ExpandedAvailabilitySlot format\n                            for (const slot of data.slots){\n                                const startDate = new Date(slot.start_at);\n                                const endDate = new Date(slot.end_at);\n                                const dayLabel = dayFormatter.format(startDate);\n                                // Find staff member to get color\n                                const staffMember = workspace.staff.find((s)=>s.id === slot.staff_id);\n                                const staffColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) || \"#000000\";\n                                allSlots.push({\n                                    id: \"\".concat(slot.staff_id, \"-\").concat(slot.start_at),\n                                    serviceId: selectedService.id,\n                                    staffId: slot.staff_id,\n                                    staffName: slot.staff_name,\n                                    staffColor: staffColor,\n                                    startDateTime: slot.start_at,\n                                    endDateTime: slot.end_at,\n                                    dayLabel: dayLabel\n                                });\n                            }\n                        } else {\n                            console.warn(\"[booking-flow] No slots array in response for \".concat(dateStr, \":\"), data);\n                        }\n                    } catch (err) {\n                        console.error(\"Error fetching availability for \".concat(dateStr, \":\"), err);\n                    }\n                }\n                setFetchedSlots(allSlots);\n            } catch (error) {\n                console.error(\"Error fetching availability:\", error);\n                setAvailabilityError(\"Failed to load availability. Please try again.\");\n            } finally{\n                setIsLoadingAvailability(false);\n            }\n        }\n        fetchAvailability();\n    }, [\n        selectedService,\n        step,\n        business.slug,\n        workspace.staff,\n        workspace.identity.location.timezone\n    ]);\n    const serviceAvailability = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        // Use fetched slots from API instead of workspace.availability\n        return fetchedSlots;\n    }, [\n        fetchedSlots\n    ]);\n    const groupedSlots = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (!selectedService) return {};\n        const filtered = selectedStaffId === \"any\" ? serviceAvailability : serviceAvailability.filter((slot)=>slot.staffId === selectedStaffId);\n        return (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_11__.groupSlotsByDay)(filtered, workspace.identity.location.timezone || \"UTC\");\n    }, [\n        serviceAvailability,\n        selectedStaffId,\n        workspace.identity.location.timezone,\n        selectedService\n    ]);\n    var _selectedService_priceCents;\n    const listPriceCents = (_selectedService_priceCents = selectedService === null || selectedService === void 0 ? void 0 : selectedService.priceCents) !== null && _selectedService_priceCents !== void 0 ? _selectedService_priceCents : 0;\n    var _giftCardState_amountCents;\n    const appliedGiftCardCents = (_giftCardState_amountCents = giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) !== null && _giftCardState_amountCents !== void 0 ? _giftCardState_amountCents : 0;\n    const amountDueCents = Math.max(listPriceCents - appliedGiftCardCents, 0);\n    // Card is always required for all bookings (even cash) as backup for no-show fees\n    // But we display the business's accepted methods from onboarding for information\n    const businessAcceptedMethods = workspace.payment.acceptedMethods || [];\n    const acceptedMethodsForDisplay = businessAcceptedMethods.length > 0 ? businessAcceptedMethods : [\n        \"card\"\n    ]; // Default to card if no methods specified\n    const policies = workspace.policies;\n    const timezone = workspace.identity.location.timezone || \"UTC\";\n    const handleSelectService = (serviceId)=>{\n        setSelectedServiceId(serviceId);\n        setSelectedStaffId(\"any\");\n        setSelectedSlot(null);\n        setStep(\"availability\");\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n    };\n    const handleSelectSlot = (slot)=>{\n        setSelectedSlot(slot);\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n        setStep(\"checkout\");\n        window.scrollTo({\n            top: 0,\n            behavior: \"smooth\"\n        });\n    };\n    const handleApplyGiftCard = ()=>{\n        if (!selectedService) return;\n        const code = giftCardInput.trim().toUpperCase();\n        if (code.length === 0) {\n            setGiftCardError(\"Enter a gift card code to apply.\");\n            return;\n        }\n        const program = workspace.giftCards;\n        if (!program.config.enabled) {\n            setGiftCardError(\"Gift cards are not enabled for this business.\");\n            return;\n        }\n        const allCodes = new Set([\n            ...program.config.generatedCodes.map((entry)=>entry.toUpperCase()),\n            ...program.ledger.map((entry)=>entry.code.toUpperCase())\n        ]);\n        if (!allCodes.has(code)) {\n            setGiftCardError(\"That code is not recognized. Check the spelling and try again.\");\n            return;\n        }\n        const amountCents = program.config.amountType === \"amount\" ? program.config.amountValue : Math.round(selectedService.priceCents * program.config.amountValue / 100);\n        const appliedAmount = Math.min(amountCents, selectedService.priceCents);\n        if (appliedAmount <= 0) {\n            setGiftCardError(\"This gift card has no balance remaining.\");\n            return;\n        }\n        setGiftCardError(null);\n        setGiftCardState({\n            code,\n            amountCents: appliedAmount,\n            description: program.config.amountType === \"amount\" ? \"\".concat(formatCurrency(appliedAmount), \" applied\") : \"\".concat(program.config.amountValue, \"% off (\").concat(formatCurrency(appliedAmount), \")\")\n        });\n        toast.pushToast({\n            title: \"Gift card applied\",\n            description: \"We deducted \".concat(formatCurrency(appliedAmount), \" from today's total.\"),\n            intent: \"success\"\n        });\n    };\n    const handleSubmitCheckout = async ()=>{\n        if (!selectedService || !selectedSlot) return;\n        if (customerName.trim().length < 2) {\n            toast.pushToast({\n                title: \"Add your name\",\n                description: \"We need your first and last name to personalize notifications.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!isValidEmail(customerEmail)) {\n            toast.pushToast({\n                title: \"Enter a valid email\",\n                description: \"We use your email for confirmations and receipts.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!isValidPhone(customerPhone)) {\n            toast.pushToast({\n                title: \"Phone number required\",\n                description: \"Add a phone number so we can send reminders or reach you about changes.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!consentChecked) {\n            toast.pushToast({\n                title: \"Consent required\",\n                description: \"Review the policies and confirm you agree before booking.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        // Payment method must be set via Stripe Elements before submitting\n        if (!paymentMethodId && !setupIntentClientSecret) {\n            toast.pushToast({\n                title: \"Payment method required\",\n                description: \"Please complete the payment form. Your card will be saved securely but not charged.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        setIsSubmitting(true);\n        try {\n            // Create the booking via API to get SetupIntent client secret\n            const apiPayload = {\n                service_id: selectedService.id,\n                staff_id: selectedSlot.staffId,\n                start_at: selectedSlot.startDateTime,\n                customer: {\n                    name: customerName.trim(),\n                    email: customerEmail.trim().toLowerCase(),\n                    phone: customerPhone.trim()\n                },\n                gift_card_code: giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.code\n            };\n            const response = await fetch(\"/api/public/\".concat(business.slug, \"/bookings\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(apiPayload)\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                throw new Error(errorData.error || \"Failed to create booking\");\n            }\n            const apiResponse = await response.json();\n            // Store the SetupIntent client secret and booking info\n            if (apiResponse.client_secret) {\n                setSetupIntentClientSecret(apiResponse.client_secret);\n                setCreatedBookingId(apiResponse.booking_id);\n                setCreatedBookingCode(apiResponse.booking_code);\n                toast.pushToast({\n                    title: \"Complete payment setup\",\n                    description: \"Please confirm your payment method below. Your card will be saved securely.\",\n                    intent: \"info\"\n                });\n                setIsSubmitting(false);\n                return;\n            }\n            // If no client secret, something went wrong\n            throw new Error(\"Failed to get payment setup information\");\n            // Validate date before formatting\n            if (completeBooking.startDateTime) {\n                const bookingDate = new Date(completeBooking.startDateTime);\n                if (!isNaN(bookingDate.getTime())) {\n                    toast.pushToast({\n                        title: \"Booking confirmed\",\n                        description: \"\".concat(selectedService.name, \" on \").concat((0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(completeBooking.startDateTime, timezone, {\n                            weekday: \"long\",\n                            month: \"short\",\n                            day: \"numeric\",\n                            hour: \"numeric\",\n                            minute: \"2-digit\"\n                        }), \". No charge yet—card saved securely.\"),\n                        intent: \"success\"\n                    });\n                } else {\n                    toast.pushToast({\n                        title: \"Booking confirmed\",\n                        description: \"\".concat(selectedService.name, \" booking created. No charge yet—card saved securely.\"),\n                        intent: \"success\"\n                    });\n                }\n            } else {\n                toast.pushToast({\n                    title: \"Booking confirmed\",\n                    description: \"\".concat(selectedService.name, \" booking created. No charge yet—card saved securely.\"),\n                    intent: \"success\"\n                });\n            }\n        } catch (error) {\n            console.error(\"Error submitting booking:\", error);\n            toast.pushToast({\n                title: \"Booking failed\",\n                description: error instanceof Error ? error.message : \"We couldn't create your booking. Please try again.\",\n                intent: \"error\"\n            });\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    const handleResetFlow = ()=>{\n        setStep(\"catalog\");\n        setSelectedServiceId(null);\n        setSelectedStaffId(\"any\");\n        setSelectedSlot(null);\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n        setCustomerName(\"\");\n        setCustomerEmail(\"\");\n        setCustomerPhone(\"\");\n        setSetupIntentClientSecret(null);\n        setPaymentMethodId(null);\n        setCreatedBookingId(null);\n        setCreatedBookingCode(null);\n        setConsentChecked(false);\n        setIsPolicyModalOpen(false);\n        setCreatedBooking(null);\n    };\n    var _selectedService_name;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative min-h-screen bg-gradient-to-br from-black via-slate-950 to-[#0b0d1a] text-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,_rgba(91,100,255,0.25),_transparent_60%)]\"\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 430,\n                columnNumber: 7\n            }, this),\n            step === \"confirmation\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfettiOverlay, {}, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 431,\n                columnNumber: 34\n            }, this) : null,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"mx-auto max-w-5xl px-4 py-12 sm:px-6 lg:px-8\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-6 md:flex-row md:items-start md:justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                    intent: \"info\",\n                                    className: \"w-fit\",\n                                    children: \"Manual capture — no charge at booking\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 435,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"font-display text-4xl sm:text-5xl\",\n                                            children: [\n                                                \"Book \",\n                                                workspace.identity.business.businessName\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 439,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"mt-2 max-w-2xl text-base text-white/70\",\n                                            children: workspace.identity.business.description || \"Select a service, choose the best time, and secure your appointment. Your card is stored securely and only charged after the visit or if a policy fee applies.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 442,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 438,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap items-center gap-3 text-sm text-white/60\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 449,\n                                                    columnNumber: 17\n                                                }, this),\n                                                formatAddress(workspace.identity.location)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 448,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 453,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"All times shown in \",\n                                                timezone\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 452,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 457,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Card saved securely — capture happens later\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 456,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 447,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 434,\n                            columnNumber: 11\n                        }, this),\n                        createdBooking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-3xl border border-emerald-400/30 bg-emerald-500/10 p-6 text-emerald-100 shadow-[0_0_40px_rgba(52,211,153,0.25)]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm uppercase tracking-[0.35em] text-emerald-200/70\",\n                                    children: \"Confirmation\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 464,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 font-display text-2xl\",\n                                    children: (_selectedService_name = selectedService === null || selectedService === void 0 ? void 0 : selectedService.name) !== null && _selectedService_name !== void 0 ? _selectedService_name : createdBooking.serviceName\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 467,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-sm text-emerald-100/80\",\n                                    children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(createdBooking.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\",\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 470,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-3 text-sm text-emerald-100/80\",\n                                    children: [\n                                        \"We sent a confirmation email to \",\n                                        createdBooking.customer.email,\n                                        \". Manual capture keeps you in control—nothing charges unless you press a money button.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 479,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 463,\n                            columnNumber: 13\n                        }, this) : null\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 433,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 432,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"mx-auto max-w-5xl px-4 pb-16 sm:px-6 lg:px-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StepIndicator, {\n                        currentStep: step,\n                        onReset: handleResetFlow\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 489,\n                        columnNumber: 9\n                    }, this),\n                    step === \"catalog\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CatalogStep, {\n                        catalog: workspace.catalog,\n                        onSelectService: handleSelectService,\n                        timezone: timezone\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 492,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"availability\" && selectedService ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AvailabilityStep, {\n                        service: selectedService,\n                        slotsByDay: groupedSlots,\n                        selectedStaffId: selectedStaffId,\n                        setSelectedStaffId: setSelectedStaffId,\n                        onBack: ()=>setStep(\"catalog\"),\n                        onSelectSlot: handleSelectSlot,\n                        staff: workspace.staff,\n                        timezone: timezone,\n                        supportEmail: workspace.identity.location.supportEmail,\n                        isLoading: isLoadingAvailability,\n                        error: availabilityError\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 500,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"checkout\" && selectedService && selectedSlot ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CheckoutStep, {\n                        service: selectedService,\n                        slot: selectedSlot,\n                        onBack: ()=>setStep(\"availability\"),\n                        customerName: customerName,\n                        setCustomerName: setCustomerName,\n                        customerEmail: customerEmail,\n                        setCustomerEmail: setCustomerEmail,\n                        customerPhone: customerPhone,\n                        setCustomerPhone: setCustomerPhone,\n                        setupIntentClientSecret: setupIntentClientSecret,\n                        setSetupIntentClientSecret: setSetupIntentClientSecret,\n                        paymentMethodId: paymentMethodId,\n                        setPaymentMethodId: setPaymentMethodId,\n                        createdBookingId: createdBookingId,\n                        createdBookingCode: createdBookingCode,\n                        workspace: workspace,\n                        customerName: customerName,\n                        customerEmail: customerEmail,\n                        customerPhone: customerPhone,\n                        listPriceCents: listPriceCents,\n                        giftCardState: giftCardState,\n                        policies: policies,\n                        timezone: timezone,\n                        selectedService: selectedService,\n                        selectedSlot: selectedSlot,\n                        setCreatedBooking: setCreatedBooking,\n                        setStep: setStep,\n                        toast: toast,\n                        consentChecked: consentChecked,\n                        setConsentChecked: setConsentChecked,\n                        giftCardInput: giftCardInput,\n                        setGiftCardInput: setGiftCardInput,\n                        giftCardError: giftCardError,\n                        giftCardState: giftCardState,\n                        onApplyGiftCard: handleApplyGiftCard,\n                        acceptedMethods: acceptedMethodsForDisplay,\n                        policies: policies,\n                        timezone: timezone,\n                        amountDueCents: amountDueCents,\n                        listPriceCents: listPriceCents,\n                        isSubmitting: isSubmitting,\n                        onSubmit: handleSubmitCheckout,\n                        onOpenPolicies: ()=>setIsPolicyModalOpen(true)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 516,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"confirmation\" && createdBooking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfirmationStep, {\n                        booking: createdBooking,\n                        service: selectedService,\n                        amountDueCents: amountDueCents,\n                        policies: policies,\n                        timezone: timezone,\n                        onBookAnother: handleResetFlow\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 564,\n                        columnNumber: 11\n                    }, this) : null\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 488,\n                columnNumber: 7\n            }, this),\n            isPolicyModalOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyModal, {\n                policies: policies,\n                onClose: ()=>setIsPolicyModalOpen(false),\n                timezone: timezone\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 576,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 429,\n        columnNumber: 5\n    }, this);\n}\n_s(PublicBookingExperience, \"w6ubhzjkeGca4HprC4KtxJdYIOU=\", false, function() {\n    return [\n        _components_ui_toast__WEBPACK_IMPORTED_MODULE_9__.useToast\n    ];\n});\n_c = PublicBookingExperience;\nfunction CatalogStep(param) {\n    let { catalog, onSelectService } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"space-y-12\",\n        children: catalog.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-5\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-white/55\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                        className: \"h-3.5 w-3.5\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 600,\n                                        columnNumber: 15\n                                    }, this),\n                                    category.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 599,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-3 text-base text-white/70 max-w-2xl\",\n                                children: category.description\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 603,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 598,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid gap-6 md:grid-cols-2\",\n                        children: category.services.map((service)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>onSelectService(service.id),\n                                className: \"group flex flex-col gap-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-left transition hover:border-white/25 hover:bg-white/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-start justify-between gap-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                        className: \"font-display text-2xl text-white\",\n                                                        children: service.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 615,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"mt-2 text-sm text-white/60\",\n                                                        children: service.description\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 616,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 614,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold uppercase tracking-[0.25em] text-white/60\",\n                                                children: formatDuration(service.durationMinutes)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 618,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 613,\n                                        columnNumber: 17\n                                    }, this),\n                                    service.instructions ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-white/40\",\n                                        children: service.instructions\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 623,\n                                        columnNumber: 19\n                                    }, this) : null,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-auto flex items-center justify-between text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white/60\",\n                                                children: [\n                                                    \"Starting at \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        className: \"text-white\",\n                                                        children: formatCurrency(service.priceCents)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 627,\n                                                        columnNumber: 33\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 626,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-2 text-primary group-hover:translate-x-1 transition\",\n                                                children: [\n                                                    \"Select \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                        className: \"h-4 w-4\",\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 630,\n                                                        columnNumber: 28\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 629,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 625,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, service.id, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 607,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 605,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, category.id, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 597,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 595,\n        columnNumber: 5\n    }, this);\n}\n_c1 = CatalogStep;\nfunction AvailabilityStep(param) {\n    let { service, slotsByDay, selectedStaffId, setSelectedStaffId, onBack, onSelectSlot, staff, timezone, supportEmail, isLoading, error } = param;\n    _s1();\n    const [currentWeekStart, setCurrentWeekStart] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(()=>{\n        const today = new Date();\n        const dayOfWeek = today.getDay();\n        const diff = today.getDate() - dayOfWeek; // Get Sunday of this week\n        const sunday = new Date(today.setDate(diff));\n        sunday.setHours(0, 0, 0, 0);\n        return sunday;\n    });\n    const staffOptions = staff.filter((member)=>service.staffIds.includes(member.id));\n    const totalSlots = Object.values(slotsByDay).reduce((sum, entries)=>sum + entries.length, 0);\n    // Generate hours from 8 AM to 8 PM\n    const hours = Array.from({\n        length: 13\n    }, (_, i)=>i + 8); // 8 AM to 8 PM\n    // Generate days of the week\n    const weekDays = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        const days = [];\n        for(let i = 0; i < 7; i++){\n            const date = new Date(currentWeekStart);\n            date.setDate(currentWeekStart.getDate() + i);\n            days.push(date);\n        }\n        return days;\n    }, [\n        currentWeekStart\n    ]);\n    // Group slots by day and hour, removing duplicates\n    const slotsByDayAndHour = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        const grouped = {};\n        // Flatten all slots from all days\n        const allSlots = Object.values(slotsByDay).flat();\n        allSlots.forEach((slot)=>{\n            const slotDate = new Date(slot.startDateTime);\n            const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(slotDate, timezone, \"yyyy-MM-dd\");\n            const hour = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(slotDate, timezone, {\n                hour: \"numeric\",\n                hour12: false\n            });\n            const hourNum = parseInt(hour, 10);\n            // Only include slots that are in the current week\n            const isInCurrentWeek = weekDays.some((day)=>{\n                const dayKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                return dayKey === dateKey;\n            });\n            if (!isInCurrentWeek) return;\n            if (!grouped[dateKey]) {\n                grouped[dateKey] = {};\n            }\n            if (!grouped[dateKey][hourNum]) {\n                grouped[dateKey][hourNum] = [];\n            }\n            // Check for duplicates (same hour, same staff, same date)\n            const isDuplicate = grouped[dateKey][hourNum].some((existing)=>existing.staffId === slot.staffId);\n            if (!isDuplicate) {\n                grouped[dateKey][hourNum].push(slot);\n            }\n        });\n        return grouped;\n    }, [\n        slotsByDay,\n        weekDays,\n        timezone\n    ]);\n    const navigateWeek = (direction)=>{\n        const newDate = new Date(currentWeekStart);\n        newDate.setDate(newDate.getDate() + (direction === \"next\" ? 7 : -7));\n        setCurrentWeekStart(newDate);\n    };\n    const monthYear = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(weekDays[0], timezone, {\n        month: \"long\",\n        year: \"numeric\"\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.15)]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                children: \"Step 2 \\xb7 Choose your time\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 754,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"mt-2 font-display text-3xl text-white\",\n                                children: service.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 755,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 text-sm text-white/60\",\n                                children: [\n                                    formatCurrency(service.priceCents),\n                                    \" \\xb7 \",\n                                    formatDuration(service.durationMinutes),\n                                    \" — All slots shown in \",\n                                    timezone\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 756,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 753,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                        variant: \"ghost\",\n                        onClick: onBack,\n                        className: \"inline-flex items-center gap-2 text-white/70\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 762,\n                                columnNumber: 11\n                            }, this),\n                            \"Back to services\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 761,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 752,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-8 flex flex-wrap items-center gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                        label: \"I don't mind\",\n                        active: selectedStaffId === \"any\",\n                        onClick: ()=>setSelectedStaffId(\"any\")\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 768,\n                        columnNumber: 9\n                    }, this),\n                    staffOptions.map((member)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                            label: member.name,\n                            color: member.color,\n                            active: selectedStaffId === member.id,\n                            onClick: ()=>setSelectedStaffId(member.id)\n                        }, member.id, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 774,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 767,\n                columnNumber: 7\n            }, this),\n            isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                        className: \"mx-auto h-8 w-8 animate-spin text-white/40\",\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 786,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-base\",\n                        children: \"Loading availability...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 787,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 785,\n                columnNumber: 9\n            }, this) : error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-red-500/20 bg-red-500/10 p-8 text-center text-red-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-base\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 791,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 790,\n                columnNumber: 9\n            }, this) : totalSlots === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-base\",\n                        children: \"No availability found in the next two weeks.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 795,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-sm\",\n                        children: [\n                            \"Try selecting a different staff member or contact us at\",\n                            \" \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: \"mailto:\".concat(supportEmail !== null && supportEmail !== void 0 ? supportEmail : \"support@tithi.com\"),\n                                className: \"underline\",\n                                children: supportEmail !== null && supportEmail !== void 0 ? supportEmail : \"support@tithi.com\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 798,\n                                columnNumber: 13\n                            }, this),\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 796,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 794,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-6 flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                variant: \"ghost\",\n                                onClick: ()=>navigateWeek(\"prev\"),\n                                className: \"text-white/70 hover:text-white\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 813,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 808,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-white\",\n                                    children: monthYear\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 816,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 815,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                variant: \"ghost\",\n                                onClick: ()=>navigateWeek(\"next\"),\n                                className: \"text-white/70 hover:text-white\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 823,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 818,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 807,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-x-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"min-w-full\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-8 gap-2 border-b border-white/10 pb-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-semibold text-white/60\",\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 832,\n                                            columnNumber: 17\n                                        }, this),\n                                        weekDays.map((day, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs font-semibold text-white/60\",\n                                                        children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(day, timezone, {\n                                                            weekday: \"short\"\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 835,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm font-semibold text-white\",\n                                                        children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(day, timezone, {\n                                                            day: \"numeric\"\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 838,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, idx, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 834,\n                                                columnNumber: 19\n                                            }, this))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 831,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-2 space-y-1\",\n                                    children: hours.map((hour)=>{\n                                        const hourLabel = hour === 12 ? \"12 PM\" : hour > 12 ? \"\".concat(hour - 12, \" PM\") : \"\".concat(hour, \" AM\");\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-8 gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center text-xs text-white/60 py-2\",\n                                                    children: hourLabel\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 851,\n                                                    columnNumber: 23\n                                                }, this),\n                                                weekDays.map((day, dayIdx)=>{\n                                                    var _slotsByDayAndHour_dateKey;\n                                                    const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                                                    const slotsForHour = ((_slotsByDayAndHour_dateKey = slotsByDayAndHour[dateKey]) === null || _slotsByDayAndHour_dateKey === void 0 ? void 0 : _slotsByDayAndHour_dateKey[hour]) || [];\n                                                    const filteredSlots = selectedStaffId === \"any\" ? slotsForHour : slotsForHour.filter((slot)=>slot.staffId === selectedStaffId);\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"py-1\",\n                                                        children: filteredSlots.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-1\",\n                                                            children: filteredSlots.map((slot)=>{\n                                                                const staffMember = staff.find((s)=>s.id === slot.staffId);\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    onClick: ()=>onSelectSlot(slot),\n                                                                    className: \"w-full rounded-lg border border-primary/40 bg-primary/20 px-2 py-1.5 text-left transition hover:border-primary/60 hover:bg-primary/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70\",\n                                                                    style: {\n                                                                        borderColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"80\") : undefined,\n                                                                        backgroundColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"20\") : undefined\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs font-semibold text-white\",\n                                                                            children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(new Date(slot.startDateTime), timezone, {\n                                                                                hour: \"numeric\",\n                                                                                minute: \"2-digit\"\n                                                                            })\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                            lineNumber: 878,\n                                                                            columnNumber: 39\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-white/70 mt-0.5 truncate\",\n                                                                            children: slot.staffName\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                            lineNumber: 881,\n                                                                            columnNumber: 39\n                                                                        }, this)\n                                                                    ]\n                                                                }, slot.id, true, {\n                                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                    lineNumber: 868,\n                                                                    columnNumber: 37\n                                                                }, this);\n                                                            })\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                            lineNumber: 864,\n                                                            columnNumber: 31\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"h-full rounded-lg bg-white/5 border border-white/5 py-1.5\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-[10px] text-white/20 text-center\",\n                                                                children: \"—\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                lineNumber: 890,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                            lineNumber: 889,\n                                                            columnNumber: 31\n                                                        }, this)\n                                                    }, dayIdx, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 862,\n                                                        columnNumber: 27\n                                                    }, this);\n                                                })\n                                            ]\n                                        }, hour, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 850,\n                                            columnNumber: 21\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 846,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 829,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 828,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 805,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 751,\n        columnNumber: 5\n    }, this);\n}\n_s1(AvailabilityStep, \"4TSl4BCFSPcIY68khkbi7X3vqV0=\");\n_c2 = AvailabilityStep;\nfunction CheckoutStep(props) {\n    _s2();\n    const { service, slot, onBack, customerName, setCustomerName, customerEmail, setCustomerEmail, customerPhone, setCustomerPhone, setupIntentClientSecret, setSetupIntentClientSecret, paymentMethodId, setPaymentMethodId, createdBookingId, createdBookingCode, workspace, listPriceCents, giftCardState, policies, timezone, selectedService, selectedSlot, setCreatedBooking, setStep, toast, consentChecked, setConsentChecked, giftCardInput, setGiftCardInput, giftCardError, onApplyGiftCard, acceptedMethods, amountDueCents, isSubmitting, onSubmit, onOpenPolicies, business } = props;\n    // Create SetupIntent when checkout step loads so payment form is immediately available\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Only create if we don't already have one and we have the required data\n        if (!setupIntentClientSecret && selectedService && selectedSlot && customerName && customerEmail && customerPhone) {\n            // Create booking early to get SetupIntent - this allows the payment form to show immediately\n            const createSetupIntent = async ()=>{\n                try {\n                    const apiPayload = {\n                        service_id: selectedService.id,\n                        staff_id: selectedSlot.staffId,\n                        start_at: selectedSlot.startDateTime,\n                        customer: {\n                            name: customerName.trim(),\n                            email: customerEmail.trim().toLowerCase(),\n                            phone: customerPhone.trim()\n                        },\n                        gift_card_code: giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.code\n                    };\n                    const response = await fetch(\"/api/public/\".concat(business.slug, \"/bookings\"), {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(apiPayload)\n                    });\n                    if (!response.ok) {\n                        // Don't show error if booking creation fails - user hasn't clicked confirm yet\n                        console.error(\"Failed to create SetupIntent:\", await response.text());\n                        return;\n                    }\n                    const apiResponse = await response.json();\n                    if (apiResponse.client_secret) {\n                        setSetupIntentClientSecret(apiResponse.client_secret);\n                        if (apiResponse.booking_id) {\n                        // Store booking ID if returned (though we shouldn't use it until payment is confirmed)\n                        // We'll handle this in the submit flow\n                        }\n                    }\n                } catch (error) {\n                    console.error(\"Error creating SetupIntent:\", error);\n                // Don't show error to user - they haven't tried to submit yet\n                }\n            };\n            createSetupIntent();\n        }\n    }, [\n        setupIntentClientSecret,\n        selectedService,\n        selectedSlot,\n        customerName,\n        customerEmail,\n        customerPhone,\n        business.slug,\n        giftCardState,\n        setSetupIntentClientSecret\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"grid gap-8 rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.2)] md:grid-cols-[1.4fr_1fr]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                        children: \"Step 3 \\xb7 Checkout\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1063,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"mt-2 font-display text-3xl text-white\",\n                                        children: service.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1064,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mt-1 text-sm text-white/60\",\n                                        children: [\n                                            formatDuration(service.durationMinutes),\n                                            \" \\xb7 \",\n                                            formatCurrency(listPriceCents),\n                                            \" — with\",\n                                            \" \",\n                                            slot.staffName\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1065,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1062,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                variant: \"ghost\",\n                                onClick: onBack,\n                                className: \"inline-flex items-center gap-2 text-white/70\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1071,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Pick another slot\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1070,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1061,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid gap-4 md:grid-cols-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Full name\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                    value: customerName,\n                                    onChange: (event)=>setCustomerName(event.target.value),\n                                    placeholder: \"Jordan Blake\",\n                                    autoComplete: \"name\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1078,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1077,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Email\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                    type: \"email\",\n                                    value: customerEmail,\n                                    onChange: (event)=>setCustomerEmail(event.target.value),\n                                    placeholder: \"you@example.com\",\n                                    autoComplete: \"email\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1086,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1085,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Phone\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                    type: \"tel\",\n                                    value: customerPhone,\n                                    onChange: (event)=>setCustomerPhone(event.target.value),\n                                    placeholder: \"+1 555 010 2030\",\n                                    autoComplete: \"tel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1095,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1094,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Gift card or code\",\n                                helper: \"Optional — amount or percent off will apply immediately.\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                                value: giftCardInput,\n                                                onChange: (event)=>setGiftCardInput(event.target.value),\n                                                placeholder: \"WELCOME120\",\n                                                className: \"flex-1 uppercase\",\n                                                autoCapitalize: \"characters\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1105,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                                type: \"button\",\n                                                variant: \"outline\",\n                                                onClick: onApplyGiftCard,\n                                                children: \"Apply\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1112,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1104,\n                                        columnNumber: 13\n                                    }, this),\n                                    giftCardError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                                        intent: \"error\",\n                                        className: \"mt-2\",\n                                        children: giftCardError\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1117,\n                                        columnNumber: 15\n                                    }, this) : null,\n                                    giftCardState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                                        intent: \"success\",\n                                        className: \"mt-2 text-emerald-200\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                className: \"mr-1.5 inline h-4 w-4\",\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1123,\n                                                columnNumber: 17\n                                            }, this),\n                                            giftCardState.description,\n                                            \" (\",\n                                            giftCardState.code,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1122,\n                                        columnNumber: 15\n                                    }, this) : null\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1103,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1076,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-white/10 bg-black/60 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"flex items-center gap-2 text-sm font-semibold text-white\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1132,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Payment method — card saved now, charged later\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1131,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 text-xs text-white/50\",\n                                children: [\n                                    acceptedMethods.length > 0 ? \"\".concat(describeAcceptedMethods(acceptedMethods), \". \") : \"\",\n                                    \"A credit card is required for all bookings. Even if you plan to pay with cash, we store a card in case a policy fee applies (e.g., no-show fees).\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1135,\n                                columnNumber: 11\n                            }, this),\n                            setupIntentClientSecret ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.Elements, {\n                                    stripe: stripePromise,\n                                    options: {\n                                        clientSecret: setupIntentClientSecret,\n                                        appearance: {\n                                            theme: \"night\",\n                                            variables: {\n                                                colorPrimary: \"#5B64FF\",\n                                                colorBackground: \"#000000\",\n                                                colorText: \"#ffffff\",\n                                                colorDanger: \"#ef4444\",\n                                                fontFamily: \"system-ui, sans-serif\",\n                                                spacingUnit: \"4px\",\n                                                borderRadius: \"8px\"\n                                            }\n                                        }\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StripePaymentForm, {\n                                        onPaymentMethodReady: async (pmId)=>{\n                                            setPaymentMethodId(pmId);\n                                            // Once payment method is confirmed, proceed to confirmation\n                                            // The booking was already created by the API\n                                            if (selectedService && selectedSlot && createdBookingId) {\n                                                var _workspace_staff_find;\n                                                const booking = {\n                                                    id: createdBookingId,\n                                                    code: createdBookingCode || \"TITHI-\".concat(createdBookingId.slice(0, 8).toUpperCase()),\n                                                    status: \"pending\",\n                                                    serviceId: selectedService.id,\n                                                    serviceName: selectedService.name,\n                                                    categoryName: selectedService.categoryName,\n                                                    durationMinutes: selectedService.durationMinutes,\n                                                    startDateTime: selectedSlot.startDateTime,\n                                                    endDateTime: selectedSlot.endDateTime,\n                                                    staff: {\n                                                        id: selectedSlot.staffId,\n                                                        name: selectedSlot.staffName,\n                                                        color: ((_workspace_staff_find = workspace.staff.find((s)=>s.id === selectedSlot.staffId)) === null || _workspace_staff_find === void 0 ? void 0 : _workspace_staff_find.color) || \"#000000\"\n                                                    },\n                                                    customer: {\n                                                        name: customerName.trim(),\n                                                        email: customerEmail.trim().toLowerCase(),\n                                                        phone: customerPhone.trim()\n                                                    },\n                                                    payments: [],\n                                                    financials: {\n                                                        listPriceCents: listPriceCents,\n                                                        giftCardAmountCents: (giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) || 0,\n                                                        platformFeeCents: 0,\n                                                        stripeFeeEstimateCents: 0,\n                                                        netPayoutCents: 0,\n                                                        currency: \"usd\"\n                                                    },\n                                                    policyConsent: createPolicyConsent(policies),\n                                                    requiresAction: false\n                                                };\n                                                setCreatedBooking(booking);\n                                                setStep(\"confirmation\");\n                                                toast.pushToast({\n                                                    title: \"Booking confirmed\",\n                                                    description: \"\".concat(selectedService.name, \" on \").concat((0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(selectedSlot.startDateTime, timezone, {\n                                                        weekday: \"long\",\n                                                        month: \"short\",\n                                                        day: \"numeric\",\n                                                        hour: \"numeric\",\n                                                        minute: \"2-digit\"\n                                                    }), \". No charge yet—card saved securely.\"),\n                                                    intent: \"success\"\n                                                });\n                                            }\n                                        },\n                                        acceptedMethods: acceptedMethods,\n                                        businessSlug: business.slug,\n                                        bookingId: createdBookingId || \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1161,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1143,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1142,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                                    className: \"text-white/60\",\n                                    children: 'Click \"Confirm booking\" below to set up your payment method. Your card will be saved securely but not charged.'\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1220,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1219,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                                className: \"mt-2\",\n                                children: \"You're authorizing a card on file. Per Tithi's manual capture rules, nothing is charged until your appointment is completed or a policy fee applies.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1225,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1130,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col gap-4 rounded-3xl border border-white/10 bg-black/60 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        id: \"policy-consent\",\n                                        type: \"checkbox\",\n                                        checked: consentChecked,\n                                        onChange: (event)=>setConsentChecked(event.target.checked),\n                                        className: \"mt-1 h-5 w-5 rounded border-white/20 bg-black text-primary focus:ring-primary\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1233,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"policy-consent\",\n                                        className: \"text-sm text-white/70\",\n                                        children: [\n                                            \"I agree to the cancellation, no-show, refund, and cash policies. My card is saved via Stripe for manual capture later.\",\n                                            \" \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: onOpenPolicies,\n                                                className: \"text-primary underline-offset-2 hover:underline\",\n                                                children: \"View policies\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1243,\n                                                columnNumber: 15\n                                            }, this),\n                                            \".\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1240,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1232,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                size: \"lg\",\n                                onClick: onSubmit,\n                                isLoading: isSubmitting,\n                                disabled: isSubmitting || !!setupIntentClientSecret,\n                                className: \"inline-flex items-center justify-center gap-2 text-base\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"h-5 w-5\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1260,\n                                        columnNumber: 13\n                                    }, this),\n                                    setupIntentClientSecret ? \"Complete payment setup below\" : \"Confirm booking — no charge today\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1253,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1231,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1060,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"flex flex-col gap-4 rounded-3xl border border-white/10 bg-black/60 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                children: \"Summary\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1268,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"mt-2 font-display text-2xl text-white\",\n                                children: service.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1269,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-2 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1271,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(slot.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1270,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1279,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(slot.startDateTime, timezone, {\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    }),\n                                    \" \",\n                                    \"— \",\n                                    formatDuration(service.durationMinutes)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1278,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1287,\n                                        columnNumber: 13\n                                    }, this),\n                                    slot.staffName\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1286,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1267,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-t border-white/10 pt-4 text-sm text-white/60\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Service price\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1293,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-white\",\n                                        children: formatCurrency(listPriceCents)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1294,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1292,\n                                columnNumber: 11\n                            }, this),\n                            giftCardState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 flex items-center justify-between text-emerald-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Gift card (\",\n                                            giftCardState.code,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1298,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"-\",\n                                            formatCurrency(giftCardState.amountCents)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1299,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1297,\n                                columnNumber: 13\n                            }, this) : null,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 flex items-center justify-between text-base font-semibold text-white\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Due today\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1303,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: formatCurrency(amountDueCents)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1304,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1302,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                                className: \"mt-3\",\n                                children: \"This amount is authorized but not captured. Manual capture ensures you only charge customers after services are delivered or if a policy fee applies.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1306,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1291,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1266,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1059,\n        columnNumber: 5\n    }, this);\n}\n_s2(CheckoutStep, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c3 = CheckoutStep;\nfunction ConfirmationStep(param) {\n    let { booking, service, amountDueCents, policies, timezone, onBookAnother } = param;\n    var _service_name, _service_durationMinutes, _service_priceCents, _service_priceCents1, _service_priceCents2;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"rounded-3xl border border-emerald-400/40 bg-emerald-500/10 p-10 text-emerald-50 shadow-[0_0_80px_rgba(16,185,129,0.35)]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col gap-6 md:flex-row md:items-center md:justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"inline-flex items-center gap-2 rounded-full border border-emerald-400/50 bg-emerald-400/20 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-emerald-100\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1340,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Booking confirmed\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1339,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"mt-4 font-display text-4xl text-emerald-50\",\n                                children: (_service_name = service === null || service === void 0 ? void 0 : service.name) !== null && _service_name !== void 0 ? _service_name : booking.serviceName\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1343,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-2 text-sm text-emerald-100/80\",\n                                children: [\n                                    \"We emailed \",\n                                    booking.customer.email,\n                                    \" and will send reminders via SMS. Your card is saved but won’t be charged until the appointment is completed—or if a manual policy fee applies.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1346,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1338,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/50 bg-black/40 p-6 text-sm text-emerald-100/80\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1353,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(booking.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\",\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1352,\n                                columnNumber: 11\n                            }, this),\n                            booking.staff ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1364,\n                                        columnNumber: 15\n                                    }, this),\n                                    booking.staff.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1363,\n                                columnNumber: 13\n                            }, this) : null,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1369,\n                                        columnNumber: 13\n                                    }, this),\n                                    formatDuration((_service_durationMinutes = service === null || service === void 0 ? void 0 : service.durationMinutes) !== null && _service_durationMinutes !== void 0 ? _service_durationMinutes : booking.durationMinutes)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1368,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 border-t border-emerald-400/30 pt-3 text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Authorized\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1374,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: formatCurrency((_service_priceCents = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents !== void 0 ? _service_priceCents : booking.financials.listPriceCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1375,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1373,\n                                        columnNumber: 13\n                                    }, this),\n                                    amountDueCents < ((_service_priceCents1 = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents1 !== void 0 ? _service_priceCents1 : booking.financials.listPriceCents) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between text-emerald-200\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Gift card\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1379,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    \"-\",\n                                                    formatCurrency(((_service_priceCents2 = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents2 !== void 0 ? _service_priceCents2 : booking.financials.listPriceCents) - amountDueCents)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1380,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1378,\n                                        columnNumber: 15\n                                    }, this) : null,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 flex items-center justify-between text-base font-semibold text-emerald-50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Due after appointment\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1384,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: formatCurrency(amountDueCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1385,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1383,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1372,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1351,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1337,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 grid gap-6 md:grid-cols-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/40 bg-emerald-400/10 p-6 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-emerald-200/90\",\n                                children: \"What happens next\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1393,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"mt-3 space-y-2 text-emerald-100/80\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Check your email and SMS for confirmation details and reminders.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1395,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Reschedule or cancel at least 24h in advance to avoid policy fees.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1396,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Manual capture keeps money in your control—no charges run automatically.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1397,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1394,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1392,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/40 bg-black/40 p-6 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-emerald-200/90\",\n                                children: \"Policies snapshot\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1401,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"mt-3 space-y-2 text-emerald-100/80\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.cancellationPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1403,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.noShowPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1404,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.refundPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1405,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.cashPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1406,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1402,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1400,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1391,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 flex flex-wrap items-center gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                        variant: \"outline\",\n                        onClick: onBookAnother,\n                        className: \"inline-flex items-center gap-2 border-emerald-400/40 text-emerald-100 hover:border-emerald-300 hover:text-emerald-50\",\n                        children: \"Book another appointment\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-emerald-100/70\",\n                        children: [\n                            \"Need help? Reply to the confirmation email or text us at \",\n                            booking.customer.phone,\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1419,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1411,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1336,\n        columnNumber: 5\n    }, this);\n}\n_c4 = ConfirmationStep;\nfunction PolicyModal(param) {\n    let { policies, onClose, timezone } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/80 px-4 py-8\",\n        role: \"dialog\",\n        \"aria-modal\": \"true\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative max-h-[90vh] w-full max-w-3xl overflow-y-auto rounded-3xl border border-white/10 bg-white/10 p-8 backdrop-blur\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    onClick: onClose,\n                    className: \"absolute right-6 top-6 text-white/60 transition hover:text-white\",\n                    \"aria-label\": \"Close policies\",\n                    children: \"✕\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1443,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"font-display text-3xl text-white\",\n                    children: \"Booking policies\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1451,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-2 text-sm text-white/60\",\n                    children: [\n                        \"All times referenced align to \",\n                        timezone,\n                        \". Consent is required before submitting your booking.\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1452,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-6 space-y-5 text-sm leading-relaxed text-white/75\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cancellation policy\",\n                            body: policies.cancellationPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1456,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cancellation fees\",\n                            body: describeFee(policies.cancellationFeeType, policies.cancellationFeeValue)\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1457,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"No-show policy\",\n                            body: policies.noShowPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1458,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"No-show fee\",\n                            body: describeFee(policies.noShowFeeType, policies.noShowFeeValue)\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1459,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Refund policy\",\n                            body: policies.refundPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1460,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cash policy\",\n                            body: policies.cashPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1461,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1455,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 flex justify-end\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                        onClick: onClose,\n                        className: \"inline-flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1465,\n                                columnNumber: 13\n                            }, this),\n                            \"I understand\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1464,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1463,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n            lineNumber: 1442,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1437,\n        columnNumber: 5\n    }, this);\n}\n_c5 = PolicyModal;\nfunction StepIndicator(param) {\n    let { currentStep, onReset } = param;\n    const steps = [\n        {\n            id: \"catalog\",\n            label: \"Service\"\n        },\n        {\n            id: \"availability\",\n            label: \"Time\"\n        },\n        {\n            id: \"checkout\",\n            label: \"Checkout\"\n        },\n        {\n            id: \"confirmation\",\n            label: \"Done\"\n        }\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap items-center justify-between gap-3 rounded-3xl border border-white/10 bg-white/5 px-6 py-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-white/40\",\n                children: steps.map((step, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_10__.cn)(\"inline-flex h-8 w-8 items-center justify-center rounded-full border text-sm font-semibold\", currentStep === step.id ? \"border-primary bg-primary/30 text-white\" : \"border-white/20 bg-white/10 text-white/50\"),\n                                children: index + 1\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1486,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: currentStep === step.id ? \"text-white\" : \"text-white/50\",\n                                children: step.label\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1496,\n                                columnNumber: 13\n                            }, this),\n                            index < steps.length - 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"h-px w-12 bg-white/10\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1500,\n                                columnNumber: 15\n                            }, this) : null\n                        ]\n                    }, step.id, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1485,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1483,\n                columnNumber: 7\n            }, this),\n            currentStep !== \"catalog\" && currentStep !== \"confirmation\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                variant: \"ghost\",\n                onClick: onReset,\n                className: \"text-white/70\",\n                children: \"Start over\"\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1506,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1482,\n        columnNumber: 5\n    }, this);\n}\n_c6 = StepIndicator;\nfunction Field(param) {\n    let { label, helper, children } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n        className: \"flex flex-col gap-2 text-sm text-white/70\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-semibold text-white\",\n                children: label\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1525,\n                columnNumber: 7\n            }, this),\n            children,\n            helper ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                className: \"text-[13px] text-white/40\",\n                children: helper\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1527,\n                columnNumber: 17\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1524,\n        columnNumber: 5\n    }, this);\n}\n_c7 = Field;\nfunction StaffPill(param) {\n    let { label, color, active, onClick } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"button\",\n        onClick: onClick,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_10__.cn)(\"rounded-full border px-4 py-2 text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black\", active ? \"border-white/60 bg-white/15 text-white\" : \"border-white/10 bg-white/5 text-white/60 hover:text-white/80\"),\n        style: active && color ? {\n            borderColor: color,\n            boxShadow: \"0 0 25px \".concat(color, \"33\")\n        } : undefined,\n        children: label\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1544,\n        columnNumber: 5\n    }, this);\n}\n_c8 = StaffPill;\nfunction PolicyBlock(param) {\n    let { title, body } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                children: title\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1561,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-2 text-sm text-white/70 leading-relaxed\",\n                children: body\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1562,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1560,\n        columnNumber: 5\n    }, this);\n}\n_c9 = PolicyBlock;\nfunction ConfettiOverlay() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"jsx-394d523ece4eb4fd\" + \" \" + \"pointer-events-none absolute inset-0 overflow-hidden\",\n        children: [\n            Array.from({\n                length: 150\n            }).map((_, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        left: \"\".concat(Math.random() * 100, \"%\"),\n                        animationDelay: \"\".concat(Math.random() * 0.5, \"s\"),\n                        backgroundColor: randomConfettiColor()\n                    },\n                    className: \"jsx-394d523ece4eb4fd\" + \" \" + \"confetti-piece\"\n                }, index, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1571,\n                    columnNumber: 9\n                }, this)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"394d523ece4eb4fd\",\n                children: \"@-webkit-keyframes confetti-fall{0%{-webkit-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-webkit-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@-moz-keyframes confetti-fall{0%{-moz-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-moz-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@-o-keyframes confetti-fall{0%{-o-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-o-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@keyframes confetti-fall{0%{-webkit-transform:translatey(-10vh)rotate(0deg);-moz-transform:translatey(-10vh)rotate(0deg);-o-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-webkit-transform:translatey(110vh)rotate(720deg);-moz-transform:translatey(110vh)rotate(720deg);-o-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}.confetti-piece.jsx-394d523ece4eb4fd{position:absolute;width:6px;height:12px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;opacity:0;-webkit-animation:confetti-fall 2.3s ease-in both;-moz-animation:confetti-fall 2.3s ease-in both;-o-animation:confetti-fall 2.3s ease-in both;animation:confetti-fall 2.3s ease-in both}\"\n            }, void 0, false, void 0, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1569,\n        columnNumber: 5\n    }, this);\n}\n_c10 = ConfettiOverlay;\nfunction randomConfettiColor() {\n    const palette = [\n        \"#5B64FF\",\n        \"#57D0FF\",\n        \"#FF9A8B\",\n        \"#FFD166\",\n        \"#8AFFCF\",\n        \"#C4A5FF\"\n    ];\n    return palette[Math.floor(Math.random() * palette.length)];\n}\nfunction formatDuration(minutes) {\n    if (minutes < 60) return \"\".concat(minutes, \" min\");\n    const hrs = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return mins === 0 ? \"\".concat(hrs, \" hr\") : \"\".concat(hrs, \" hr \").concat(mins, \" min\");\n}\nfunction formatCurrency(cents) {\n    return new Intl.NumberFormat(\"en-US\", {\n        style: \"currency\",\n        currency: \"USD\"\n    }).format(cents / 100);\n}\nfunction describeAcceptedMethods(methods) {\n    const unique = Array.from(new Set(methods));\n    const methodLabels = {\n        card: \"Credit & Debit Cards\",\n        cash: \"Cash\",\n        wallets: \"Digital Wallets (Apple Pay, Google Pay)\",\n        apple_pay: \"Apple Pay\",\n        \"apple-pay\": \"Apple Pay\",\n        google_pay: \"Google Pay\",\n        \"google-pay\": \"Google Pay\"\n    };\n    const labels = unique.map((method)=>methodLabels[method.toLowerCase()] || method.toUpperCase());\n    return labels.length > 0 ? \"Accepted: \".concat(labels.join(\", \")) : \"Accepted: Credit & Debit Cards\";\n}\nfunction describeFee(type, value) {\n    if (value <= 0) return \"No fee\";\n    return type === \"percent\" ? \"\".concat(value, \"% of the service price\") : formatCurrency(Math.round(value * 100));\n}\nfunction formatAddress(location) {\n    const parts = [\n        location.addressLine1,\n        location.addressLine2,\n        \"\".concat(location.city, \", \").concat(location.stateProvince),\n        location.country\n    ].filter(Boolean);\n    return parts.join(\" \\xb7 \");\n}\nfunction isValidEmail(email) {\n    return /\\S+@\\S+\\.\\S+/.test(email);\n}\nfunction isValidPhone(phone) {\n    return phone.trim().length >= 7;\n}\nfunction createPolicyConsent(policies) {\n    const hashBase = JSON.stringify(policies);\n    const hash = simpleHash(hashBase);\n    return {\n        hash,\n        acceptedAt: new Date().toISOString(),\n        ip: \"203.0.113.5\",\n        userAgent: navigator.userAgent\n    };\n}\nfunction simpleHash(input) {\n    let hash = 0;\n    for(let index = 0; index < input.length; index += 1){\n        hash = (hash << 5) - hash + input.charCodeAt(index);\n        hash |= 0;\n    }\n    return Math.abs(hash).toString(16);\n}\n// Stripe Payment Form Component\nfunction StripePaymentForm(param) {\n    let { onPaymentMethodReady, acceptedMethods, businessSlug, bookingId, createdBookingId, createdBookingCode, workspace, customerName, customerEmail, customerPhone, listPriceCents, giftCardState, policies, timezone, selectedService, selectedSlot, setCreatedBooking, setStep, toast } = param;\n    _s3();\n    const stripe = (0,_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.useStripe)();\n    const elements = (0,_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.useElements)();\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (!stripe || !elements) {\n            return;\n        }\n        setIsProcessing(true);\n        setError(null);\n        try {\n            // Confirm the SetupIntent\n            const { error: confirmError, setupIntent } = await stripe.confirmSetup({\n                elements,\n                redirect: \"if_required\"\n            });\n            if (confirmError) {\n                setError(confirmError.message || \"Failed to save payment method\");\n                setIsProcessing(false);\n                return;\n            }\n            if (setupIntent && setupIntent.payment_method) {\n                const pmId = typeof setupIntent.payment_method === \"string\" ? setupIntent.payment_method : setupIntent.payment_method.id;\n                onPaymentMethodReady(pmId);\n                setError(null);\n                // Create booking object and proceed to confirmation\n                if (selectedService && selectedSlot && createdBookingId) {\n                    var _workspace_staff_find;\n                    const booking = {\n                        id: createdBookingId,\n                        code: createdBookingCode || \"TITHI-\".concat(createdBookingId.slice(0, 8).toUpperCase()),\n                        status: \"pending\",\n                        serviceId: selectedService.id,\n                        serviceName: selectedService.name,\n                        categoryName: selectedService.categoryName,\n                        durationMinutes: selectedService.durationMinutes,\n                        startDateTime: selectedSlot.startDateTime,\n                        endDateTime: selectedSlot.endDateTime,\n                        staff: {\n                            id: selectedSlot.staffId,\n                            name: selectedSlot.staffName,\n                            color: ((_workspace_staff_find = workspace.staff.find((s)=>s.id === selectedSlot.staffId)) === null || _workspace_staff_find === void 0 ? void 0 : _workspace_staff_find.color) || \"#000000\"\n                        },\n                        customer: {\n                            name: customerName.trim(),\n                            email: customerEmail.trim().toLowerCase(),\n                            phone: customerPhone.trim()\n                        },\n                        payments: [],\n                        financials: {\n                            listPriceCents: listPriceCents,\n                            giftCardAmountCents: (giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) || 0,\n                            platformFeeCents: 0,\n                            stripeFeeEstimateCents: 0,\n                            netPayoutCents: 0,\n                            currency: \"usd\"\n                        },\n                        policyConsent: createPolicyConsent(policies),\n                        requiresAction: false\n                    };\n                    setCreatedBooking(booking);\n                    setStep(\"confirmation\");\n                    toast.pushToast({\n                        title: \"Booking confirmed\",\n                        description: \"\".concat(selectedService.name, \" on \").concat((0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(selectedSlot.startDateTime, timezone, {\n                            weekday: \"long\",\n                            month: \"short\",\n                            day: \"numeric\",\n                            hour: \"numeric\",\n                            minute: \"2-digit\"\n                        }), \". No charge yet—card saved securely.\"),\n                        intent: \"success\"\n                    });\n                }\n            }\n        } catch (err) {\n            setError(err instanceof Error ? err.message : \"An error occurred\");\n        } finally{\n            setIsProcessing(false);\n        }\n    };\n    // Configure payment method types - card is ALWAYS required regardless of business settings\n    // This ensures card is always available as backup for no-show fees (even for cash payments)\n    const paymentMethodTypes = [\n        \"card\"\n    ];\n    // Map accepted methods to Stripe payment method types\n    // Note: card is always included above, so we only add additional methods\n    if (acceptedMethods.includes(\"apple_pay\") || acceptedMethods.includes(\"apple-pay\")) {\n        paymentMethodTypes.push(\"apple_pay\");\n    }\n    if (acceptedMethods.includes(\"google_pay\") || acceptedMethods.includes(\"google-pay\")) {\n        paymentMethodTypes.push(\"google_pay\");\n    }\n    // Also check for 'wallets' which might include both\n    if (acceptedMethods.includes(\"wallets\")) {\n        if (!paymentMethodTypes.includes(\"apple_pay\")) paymentMethodTypes.push(\"apple_pay\");\n        if (!paymentMethodTypes.includes(\"google_pay\")) paymentMethodTypes.push(\"google_pay\");\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"mt-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.PaymentElement, {\n                    options: {\n                        paymentMethodTypes: paymentMethodTypes,\n                        // Use tabs only if we have multiple payment methods, otherwise use default layout\n                        ...paymentMethodTypes.length > 1 ? {\n                            layout: \"tabs\"\n                        } : {}\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1843,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                    intent: \"error\",\n                    className: \"text-red-400 mt-2\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1851,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                    type: \"submit\",\n                    disabled: isProcessing || !stripe,\n                    isLoading: isProcessing,\n                    className: \"w-full mt-4\",\n                    children: isProcessing ? \"Saving payment method...\" : \"Save payment method\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1855,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n            lineNumber: 1842,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1841,\n        columnNumber: 5\n    }, this);\n}\n_s3(StripePaymentForm, \"ry5YNiexQ39a2DMSlb42IDsQbf4=\", false, function() {\n    return [\n        _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.useStripe,\n        _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.useElements\n    ];\n});\n_c11 = StripePaymentForm;\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n$RefreshReg$(_c, \"PublicBookingExperience\");\n$RefreshReg$(_c1, \"CatalogStep\");\n$RefreshReg$(_c2, \"AvailabilityStep\");\n$RefreshReg$(_c3, \"CheckoutStep\");\n$RefreshReg$(_c4, \"ConfirmationStep\");\n$RefreshReg$(_c5, \"PolicyModal\");\n$RefreshReg$(_c6, \"StepIndicator\");\n$RefreshReg$(_c7, \"Field\");\n$RefreshReg$(_c8, \"StaffPill\");\n$RefreshReg$(_c9, \"PolicyBlock\");\n$RefreshReg$(_c10, \"ConfettiOverlay\");\n$RefreshReg$(_c11, \"StripePaymentForm\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3B1YmxpYy1ib29raW5nL2Jvb2tpbmctZmxvdy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFcUQ7QUFrQi9CO0FBQ3lCO0FBQzRDO0FBRTdDO0FBQ0U7QUFDUztBQUNYO0FBQ0c7QUFDaEI7QUFHNkU7QUFDNUQ7QUFFbEQsb0JBQW9CO0FBQ3BCLE1BQU1nQyxnQkFBZ0JiLDZEQUFVQSxDQUFDYyw2R0FBOEMsSUFBSTtBQWdCNUUsU0FBU0csd0JBQXdCLEtBSVQ7UUFKUyxFQUN0Q0MsUUFBUSxFQUNSQyxTQUFTLEVBQ1RDLGFBQWEsRUFDZ0IsR0FKUzs7SUFLdEMsTUFBTUMsUUFBUVosOERBQVFBO0lBQ3RCLE1BQU0sQ0FBQ2EsTUFBTUMsUUFBUSxHQUFHeEMsK0NBQVFBLENBQU87SUFDdkMsTUFBTSxDQUFDeUMsbUJBQW1CQyxxQkFBcUIsR0FBRzFDLCtDQUFRQSxDQUFnQjtJQUMxRSxNQUFNLENBQUMyQyxpQkFBaUJDLG1CQUFtQixHQUFHNUMsK0NBQVFBLENBQVM7SUFDL0QsTUFBTSxDQUFDNkMsY0FBY0MsZ0JBQWdCLEdBQUc5QywrQ0FBUUEsQ0FBa0M7SUFDbEYsTUFBTSxDQUFDK0MsZUFBZUMsaUJBQWlCLEdBQUdoRCwrQ0FBUUEsQ0FBdUI7SUFDekUsTUFBTSxDQUFDaUQsZUFBZUMsaUJBQWlCLEdBQUdsRCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNtRCxlQUFlQyxpQkFBaUIsR0FBR3BELCtDQUFRQSxDQUFnQjtJQUNsRSxNQUFNLENBQUNxRCxjQUFjQyxnQkFBZ0IsR0FBR3RELCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3VELGVBQWVDLGlCQUFpQixHQUFHeEQsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDeUQsZUFBZUMsaUJBQWlCLEdBQUcxRCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUMyRCx5QkFBeUJDLDJCQUEyQixHQUFHNUQsK0NBQVFBLENBQWdCO0lBQ3RGLE1BQU0sQ0FBQzZELGlCQUFpQkMsbUJBQW1CLEdBQUc5RCwrQ0FBUUEsQ0FBZ0I7SUFDdEUsTUFBTSxDQUFDK0Qsa0JBQWtCQyxvQkFBb0IsR0FBR2hFLCtDQUFRQSxDQUFnQjtJQUN4RSxNQUFNLENBQUNpRSxvQkFBb0JDLHNCQUFzQixHQUFHbEUsK0NBQVFBLENBQWdCO0lBQzVFLE1BQU0sQ0FBQ21FLGdCQUFnQkMsa0JBQWtCLEdBQUdwRSwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUNxRSxtQkFBbUJDLHFCQUFxQixHQUFHdEUsK0NBQVFBLENBQUM7SUFDM0QsTUFBTSxDQUFDdUUsY0FBY0MsZ0JBQWdCLEdBQUd4RSwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUN5RSxnQkFBZ0JDLGtCQUFrQixHQUFHMUUsK0NBQVFBLENBQXFCO0lBQ3pFLE1BQU0sQ0FBQzJFLGNBQWNDLGdCQUFnQixHQUFHNUUsK0NBQVFBLENBQTZCLEVBQUU7SUFDL0UsTUFBTSxDQUFDNkUsdUJBQXVCQyx5QkFBeUIsR0FBRzlFLCtDQUFRQSxDQUFDO0lBQ25FLE1BQU0sQ0FBQytFLG1CQUFtQkMscUJBQXFCLEdBQUdoRiwrQ0FBUUEsQ0FBZ0I7SUFFMUUsTUFBTWlGLGtCQUFrQmxGLDhDQUFPQSxDQUFDO1FBQzlCLElBQUksQ0FBQzBDLG1CQUFtQixPQUFPeUM7UUFDL0IsS0FBSyxNQUFNQyxZQUFZL0MsVUFBVWdELE9BQU8sQ0FBRTtZQUN4QyxNQUFNQyxVQUFVRixTQUFTRyxRQUFRLENBQUNDLElBQUksQ0FBQyxDQUFDQyxNQUFRQSxJQUFJQyxFQUFFLEtBQUtoRDtZQUMzRCxJQUFJNEMsU0FBUztnQkFDWCxPQUFPO29CQUNMLEdBQUdBLE9BQU87b0JBQ1ZLLGNBQWNQLFNBQVNRLElBQUk7b0JBQzNCQyxlQUFlVCxTQUFTVSxLQUFLO2dCQUMvQjtZQUNGO1FBQ0Y7UUFDQSxPQUFPWDtJQUNULEdBQUc7UUFBQ3pDO1FBQW1CTCxVQUFVZ0QsT0FBTztLQUFDO0lBRXpDLHVEQUF1RDtJQUN2RHRGLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDbUYsbUJBQW1CMUMsU0FBUyxnQkFBZ0I7WUFDL0NxQyxnQkFBZ0IsRUFBRTtZQUNsQjtRQUNGO1FBRUEsZUFBZWtCO1lBQ2JoQix5QkFBeUI7WUFDekJFLHFCQUFxQjtZQUVyQixJQUFJO2dCQUNGLG9EQUFvRDtnQkFDcEQsTUFBTWUsUUFBUSxJQUFJQztnQkFDbEIsTUFBTUMsV0FBdUMsRUFBRTtnQkFDL0MsTUFBTUMsV0FBVzlELFVBQVUrRCxRQUFRLENBQUNDLFFBQVEsQ0FBQ0YsUUFBUSxJQUFJO2dCQUN6RCxNQUFNRyxlQUFlLElBQUlDLEtBQUtDLGNBQWMsQ0FBQyxTQUFTO29CQUNwREMsVUFBVU47b0JBQ1ZPLFNBQVM7Z0JBQ1g7Z0JBRUEsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUksSUFBSUEsSUFBSztvQkFDM0IsTUFBTUMsT0FBTyxJQUFJWCxLQUFLRDtvQkFDdEJZLEtBQUtDLE9BQU8sQ0FBQ2IsTUFBTWMsT0FBTyxLQUFLSDtvQkFDL0IsTUFBTUksVUFBVUgsS0FBS0ksV0FBVyxHQUFHQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxhQUFhO29CQUUvRCxJQUFJOzRCQVlZQyxhQUVBQTt3QkFiZCxNQUFNQyxXQUFXLE1BQU1DLE1BQ3JCLGVBQXdEbEMsT0FBekM5QyxTQUFTaUYsSUFBSSxFQUFDLDZCQUFzRE4sT0FBM0I3QixnQkFBZ0JRLEVBQUUsRUFBQyxVQUFnQixPQUFScUI7d0JBR3JGLElBQUksQ0FBQ0ksU0FBU0csRUFBRSxFQUFFOzRCQUNoQkMsUUFBUUMsSUFBSSxDQUFDLG9DQUE0QyxPQUFSVCxTQUFRLE1BQUlJLFNBQVNNLE1BQU07NEJBQzVFO3dCQUNGO3dCQUVBLE1BQU1QLE9BQU8sTUFBTUMsU0FBU08sSUFBSTt3QkFDaENILFFBQVFJLEdBQUcsQ0FBQywyQ0FBbUQsT0FBUlosU0FBUSxNQUFJOzRCQUNqRWEsWUFBWVYsRUFBQUEsY0FBQUEsS0FBS1csS0FBSyxjQUFWWCxrQ0FBQUEsWUFBWVksTUFBTSxLQUFJOzRCQUNsQ0MsVUFBVUMsTUFBTUMsT0FBTyxDQUFDZixLQUFLVyxLQUFLOzRCQUNsQ0ssVUFBVSxHQUFFaEIsZUFBQUEsS0FBS1csS0FBSyxjQUFWWCxtQ0FBQUEsWUFBWSxDQUFDLEVBQUU7d0JBQzdCO3dCQUVBLElBQUlBLEtBQUtXLEtBQUssSUFBSUcsTUFBTUMsT0FBTyxDQUFDZixLQUFLVyxLQUFLLEdBQUc7NEJBQzNDLHlEQUF5RDs0QkFDekQsS0FBSyxNQUFNTSxRQUFRakIsS0FBS1csS0FBSyxDQUFFO2dDQUM3QixNQUFNTyxZQUFZLElBQUluQyxLQUFLa0MsS0FBS0UsUUFBUTtnQ0FDeEMsTUFBTUMsVUFBVSxJQUFJckMsS0FBS2tDLEtBQUtJLE1BQU07Z0NBQ3BDLE1BQU1DLFdBQVdsQyxhQUFhbUMsTUFBTSxDQUFDTDtnQ0FFckMsaUNBQWlDO2dDQUNqQyxNQUFNTSxjQUFjckcsVUFBVXNHLEtBQUssQ0FBQ25ELElBQUksQ0FBQ29ELENBQUFBLElBQUtBLEVBQUVsRCxFQUFFLEtBQUt5QyxLQUFLVSxRQUFRO2dDQUNwRSxNQUFNQyxhQUFhSixDQUFBQSx3QkFBQUEsa0NBQUFBLFlBQWE1QyxLQUFLLEtBQUk7Z0NBRXpDSSxTQUFTNkMsSUFBSSxDQUFDO29DQUNackQsSUFBSSxHQUFvQnlDLE9BQWpCQSxLQUFLVSxRQUFRLEVBQUMsS0FBaUIsT0FBZFYsS0FBS0UsUUFBUTtvQ0FDckNXLFdBQVc5RCxnQkFBZ0JRLEVBQUU7b0NBQzdCdUQsU0FBU2QsS0FBS1UsUUFBUTtvQ0FDdEJLLFdBQVdmLEtBQUtnQixVQUFVO29DQUMxQkwsWUFBWUE7b0NBQ1pNLGVBQWVqQixLQUFLRSxRQUFRO29DQUM1QmdCLGFBQWFsQixLQUFLSSxNQUFNO29DQUN4QkMsVUFBVUE7Z0NBQ1o7NEJBQ0Y7d0JBQ0YsT0FBTzs0QkFDTGpCLFFBQVFDLElBQUksQ0FBQyxpREFBeUQsT0FBUlQsU0FBUSxNQUFJRzt3QkFDNUU7b0JBQ0YsRUFBRSxPQUFPb0MsS0FBSzt3QkFDWi9CLFFBQVFnQyxLQUFLLENBQUMsbUNBQTJDLE9BQVJ4QyxTQUFRLE1BQUl1QztvQkFDL0Q7Z0JBQ0Y7Z0JBRUF6RSxnQkFBZ0JxQjtZQUNsQixFQUFFLE9BQU9xRCxPQUFPO2dCQUNkaEMsUUFBUWdDLEtBQUssQ0FBQyxnQ0FBZ0NBO2dCQUM5Q3RFLHFCQUFxQjtZQUN2QixTQUFVO2dCQUNSRix5QkFBeUI7WUFDM0I7UUFDRjtRQUVBZ0I7SUFDRixHQUFHO1FBQUNiO1FBQWlCMUM7UUFBTUosU0FBU2lGLElBQUk7UUFBRWhGLFVBQVVzRyxLQUFLO1FBQUV0RyxVQUFVK0QsUUFBUSxDQUFDQyxRQUFRLENBQUNGLFFBQVE7S0FBQztJQUVoRyxNQUFNcUQsc0JBQXNCeEosOENBQU9BLENBQUM7UUFDbEMsK0RBQStEO1FBQy9ELE9BQU80RTtJQUNULEdBQUc7UUFBQ0E7S0FBYTtJQUVqQixNQUFNNkUsZUFBZXpKLDhDQUFPQSxDQUFDO1FBQzNCLElBQUksQ0FBQ2tGLGlCQUFpQixPQUFPLENBQUM7UUFDOUIsTUFBTXdFLFdBQ0o5RyxvQkFBb0IsUUFDaEI0RyxzQkFDQUEsb0JBQW9CRyxNQUFNLENBQUMsQ0FBQ3hCLE9BQVNBLEtBQUtjLE9BQU8sS0FBS3JHO1FBQzVELE9BQU9mLHlFQUFlQSxDQUFDNkgsVUFBVXJILFVBQVUrRCxRQUFRLENBQUNDLFFBQVEsQ0FBQ0YsUUFBUSxJQUFJO0lBQzNFLEdBQUc7UUFDRHFEO1FBQ0E1RztRQUNBUCxVQUFVK0QsUUFBUSxDQUFDQyxRQUFRLENBQUNGLFFBQVE7UUFDcENqQjtLQUNEO1FBRXNCQTtJQUF2QixNQUFNMEUsaUJBQWlCMUUsQ0FBQUEsOEJBQUFBLDRCQUFBQSxzQ0FBQUEsZ0JBQWlCMkUsVUFBVSxjQUEzQjNFLHlDQUFBQSw4QkFBK0I7UUFDekJsQztJQUE3QixNQUFNOEcsdUJBQXVCOUcsQ0FBQUEsNkJBQUFBLDBCQUFBQSxvQ0FBQUEsY0FBZStHLFdBQVcsY0FBMUIvRyx3Q0FBQUEsNkJBQThCO0lBQzNELE1BQU1nSCxpQkFBaUJDLEtBQUtDLEdBQUcsQ0FBQ04saUJBQWlCRSxzQkFBc0I7SUFFdkUsa0ZBQWtGO0lBQ2xGLGlGQUFpRjtJQUNqRixNQUFNSywwQkFBMEI5SCxVQUFVK0gsT0FBTyxDQUFDQyxlQUFlLElBQUksRUFBRTtJQUN2RSxNQUFNQyw0QkFBNEJILHdCQUF3QnJDLE1BQU0sR0FBRyxJQUMvRHFDLDBCQUNBO1FBQUM7S0FBTyxFQUFFLDBDQUEwQztJQUV4RCxNQUFNSSxXQUFXbEksVUFBVWtJLFFBQVE7SUFDbkMsTUFBTXBFLFdBQVc5RCxVQUFVK0QsUUFBUSxDQUFDQyxRQUFRLENBQUNGLFFBQVEsSUFBSTtJQUV6RCxNQUFNcUUsc0JBQXNCLENBQUN4QjtRQUMzQnJHLHFCQUFxQnFHO1FBQ3JCbkcsbUJBQW1CO1FBQ25CRSxnQkFBZ0I7UUFDaEJOLFFBQVE7UUFDUlEsaUJBQWlCO1FBQ2pCRSxpQkFBaUI7UUFDakJFLGlCQUFpQjtJQUNuQjtJQUVBLE1BQU1vSCxtQkFBbUIsQ0FBQ3RDO1FBQ3hCcEYsZ0JBQWdCb0Y7UUFDaEJsRixpQkFBaUI7UUFDakJFLGlCQUFpQjtRQUNqQkUsaUJBQWlCO1FBQ2pCWixRQUFRO1FBQ1JpSSxPQUFPQyxRQUFRLENBQUM7WUFBRUMsS0FBSztZQUFHQyxVQUFVO1FBQVM7SUFDL0M7SUFFQSxNQUFNQyxzQkFBc0I7UUFDMUIsSUFBSSxDQUFDNUYsaUJBQWlCO1FBQ3RCLE1BQU02RixPQUFPN0gsY0FBYzhILElBQUksR0FBR0MsV0FBVztRQUM3QyxJQUFJRixLQUFLakQsTUFBTSxLQUFLLEdBQUc7WUFDckJ6RSxpQkFBaUI7WUFDakI7UUFDRjtRQUNBLE1BQU02SCxVQUFVN0ksVUFBVThJLFNBQVM7UUFDbkMsSUFBSSxDQUFDRCxRQUFRRSxNQUFNLENBQUNDLE9BQU8sRUFBRTtZQUMzQmhJLGlCQUFpQjtZQUNqQjtRQUNGO1FBQ0EsTUFBTWlJLFdBQVcsSUFBSUMsSUFBSTtlQUNwQkwsUUFBUUUsTUFBTSxDQUFDSSxjQUFjLENBQUNDLEdBQUcsQ0FBQyxDQUFDQyxRQUFVQSxNQUFNVCxXQUFXO2VBQzlEQyxRQUFRUyxNQUFNLENBQUNGLEdBQUcsQ0FBQyxDQUFDQyxRQUFVQSxNQUFNWCxJQUFJLENBQUNFLFdBQVc7U0FDeEQ7UUFDRCxJQUFJLENBQUNLLFNBQVNNLEdBQUcsQ0FBQ2IsT0FBTztZQUN2QjFILGlCQUFpQjtZQUNqQjtRQUNGO1FBQ0EsTUFBTTBHLGNBQ0ptQixRQUFRRSxNQUFNLENBQUNTLFVBQVUsS0FBSyxXQUMxQlgsUUFBUUUsTUFBTSxDQUFDVSxXQUFXLEdBQzFCN0IsS0FBSzhCLEtBQUssQ0FBQyxnQkFBaUJsQyxVQUFVLEdBQUdxQixRQUFRRSxNQUFNLENBQUNVLFdBQVcsR0FBSTtRQUM3RSxNQUFNRSxnQkFBZ0IvQixLQUFLZ0MsR0FBRyxDQUFDbEMsYUFBYTdFLGdCQUFnQjJFLFVBQVU7UUFDdEUsSUFBSW1DLGlCQUFpQixHQUFHO1lBQ3RCM0ksaUJBQWlCO1lBQ2pCO1FBQ0Y7UUFDQUEsaUJBQWlCO1FBQ2pCSixpQkFBaUI7WUFDZjhIO1lBQ0FoQixhQUFhaUM7WUFDYkUsYUFDRWhCLFFBQVFFLE1BQU0sQ0FBQ1MsVUFBVSxLQUFLLFdBQzFCLEdBQWlDLE9BQTlCTSxlQUFlSCxnQkFBZSxjQUNqQyxHQUF1Q0csT0FBcENqQixRQUFRRSxNQUFNLENBQUNVLFdBQVcsRUFBQyxXQUF1QyxPQUE5QkssZUFBZUgsZ0JBQWU7UUFDN0U7UUFDQXpKLE1BQU02SixTQUFTLENBQUM7WUFDZEMsT0FBTztZQUNQSCxhQUFhLGVBQTZDLE9BQTlCQyxlQUFlSCxnQkFBZTtZQUMxRE0sUUFBUTtRQUNWO0lBQ0Y7SUFFQSxNQUFNQyx1QkFBdUI7UUFDM0IsSUFBSSxDQUFDckgsbUJBQW1CLENBQUNwQyxjQUFjO1FBQ3ZDLElBQUlRLGFBQWEwSCxJQUFJLEdBQUdsRCxNQUFNLEdBQUcsR0FBRztZQUNsQ3ZGLE1BQU02SixTQUFTLENBQUM7Z0JBQ2RDLE9BQU87Z0JBQ1BILGFBQWE7Z0JBQ2JJLFFBQVE7WUFDVjtZQUNBO1FBQ0Y7UUFDQSxJQUFJLENBQUNFLGFBQWFoSixnQkFBZ0I7WUFDaENqQixNQUFNNkosU0FBUyxDQUFDO2dCQUNkQyxPQUFPO2dCQUNQSCxhQUFhO2dCQUNiSSxRQUFRO1lBQ1Y7WUFDQTtRQUNGO1FBQ0EsSUFBSSxDQUFDRyxhQUFhL0ksZ0JBQWdCO1lBQ2hDbkIsTUFBTTZKLFNBQVMsQ0FBQztnQkFDZEMsT0FBTztnQkFDUEgsYUFBYTtnQkFDYkksUUFBUTtZQUNWO1lBQ0E7UUFDRjtRQUNBLElBQUksQ0FBQ2xJLGdCQUFnQjtZQUNuQjdCLE1BQU02SixTQUFTLENBQUM7Z0JBQ2RDLE9BQU87Z0JBQ1BILGFBQWE7Z0JBQ2JJLFFBQVE7WUFDVjtZQUNBO1FBQ0Y7UUFDQSxtRUFBbUU7UUFDbkUsSUFBSSxDQUFDeEksbUJBQW1CLENBQUNGLHlCQUF5QjtZQUNoRHJCLE1BQU02SixTQUFTLENBQUM7Z0JBQ2RDLE9BQU87Z0JBQ1BILGFBQWE7Z0JBQ2JJLFFBQVE7WUFDVjtZQUNBO1FBQ0Y7UUFFQTdILGdCQUFnQjtRQUNoQixJQUFJO1lBQ0YsOERBQThEO1lBQzlELE1BQU1pSSxhQUFhO2dCQUNqQkMsWUFBWXpILGdCQUFnQlEsRUFBRTtnQkFDOUJtRCxVQUFVL0YsYUFBYW1HLE9BQU87Z0JBQzlCWixVQUFVdkYsYUFBYXNHLGFBQWE7Z0JBQ3BDd0QsVUFBVTtvQkFDUmhILE1BQU10QyxhQUFhMEgsSUFBSTtvQkFDdkI2QixPQUFPckosY0FBY3dILElBQUksR0FBRzhCLFdBQVc7b0JBQ3ZDQyxPQUFPckosY0FBY3NILElBQUk7Z0JBQzNCO2dCQUNBZ0MsY0FBYyxFQUFFaEssMEJBQUFBLG9DQUFBQSxjQUFlK0gsSUFBSTtZQUNyQztZQUVBLE1BQU01RCxXQUFXLE1BQU1DLE1BQU0sZUFBNkIsT0FBZGhGLFNBQVNpRixJQUFJLEVBQUMsY0FBWTtnQkFDcEU0RixRQUFRO2dCQUNSQyxTQUFTO29CQUNQLGdCQUFnQjtnQkFDbEI7Z0JBQ0FDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ1g7WUFDdkI7WUFFQSxJQUFJLENBQUN2RixTQUFTRyxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU1nRyxZQUFZLE1BQU1uRyxTQUFTTyxJQUFJLEdBQUc2RixLQUFLLENBQUMsSUFBTyxFQUFDO2dCQUN0RCxNQUFNLElBQUlDLE1BQU1GLFVBQVUvRCxLQUFLLElBQUk7WUFDckM7WUFFQSxNQUFNa0UsY0FBYyxNQUFNdEcsU0FBU08sSUFBSTtZQUV2Qyx1REFBdUQ7WUFDdkQsSUFBSStGLFlBQVlDLGFBQWEsRUFBRTtnQkFDN0I3SiwyQkFBMkI0SixZQUFZQyxhQUFhO2dCQUNwRHpKLG9CQUFvQndKLFlBQVlFLFVBQVU7Z0JBQzFDeEosc0JBQXNCc0osWUFBWUcsWUFBWTtnQkFDOUNyTCxNQUFNNkosU0FBUyxDQUFDO29CQUNkQyxPQUFPO29CQUNQSCxhQUFhO29CQUNiSSxRQUFRO2dCQUNWO2dCQUNBN0gsZ0JBQWdCO2dCQUNoQjtZQUNGO1lBRUEsNENBQTRDO1lBQzVDLE1BQU0sSUFBSStJLE1BQU07WUFFaEIsa0NBQWtDO1lBQ2xDLElBQUlLLGdCQUFnQnpFLGFBQWEsRUFBRTtnQkFDakMsTUFBTTBFLGNBQWMsSUFBSTdILEtBQUs0SCxnQkFBZ0J6RSxhQUFhO2dCQUMxRCxJQUFJLENBQUMyRSxNQUFNRCxZQUFZRSxPQUFPLEtBQUs7b0JBQ2pDekwsTUFBTTZKLFNBQVMsQ0FBQzt3QkFDZEMsT0FBTzt3QkFDUEgsYUFBYSxHQUE4QnBLLE9BQTNCb0QsZ0JBQWdCVSxJQUFJLEVBQUMsUUFJbkMsT0FKeUM5RCxnRUFBZ0JBLENBQ3pEK0wsZ0JBQWdCekUsYUFBYSxFQUM3QmpELFVBQ0E7NEJBQUVPLFNBQVM7NEJBQVF1SCxPQUFPOzRCQUFTQyxLQUFLOzRCQUFXQyxNQUFNOzRCQUFXQyxRQUFRO3dCQUFVLElBQ3RGO3dCQUNGOUIsUUFBUTtvQkFDVjtnQkFDRixPQUFPO29CQUNML0osTUFBTTZKLFNBQVMsQ0FBQzt3QkFDZEMsT0FBTzt3QkFDUEgsYUFBYSxHQUF3QixPQUFyQmhILGdCQUFnQlUsSUFBSSxFQUFDO3dCQUNyQzBHLFFBQVE7b0JBQ1Y7Z0JBQ0Y7WUFDRixPQUFPO2dCQUNML0osTUFBTTZKLFNBQVMsQ0FBQztvQkFDZEMsT0FBTztvQkFDUEgsYUFBYSxHQUF3QixPQUFyQmhILGdCQUFnQlUsSUFBSSxFQUFDO29CQUNyQzBHLFFBQVE7Z0JBQ1Y7WUFDRjtRQUNGLEVBQUUsT0FBTy9DLE9BQU87WUFDZGhDLFFBQVFnQyxLQUFLLENBQUMsNkJBQTZCQTtZQUMzQ2hILE1BQU02SixTQUFTLENBQUM7Z0JBQ2RDLE9BQU87Z0JBQ1BILGFBQWEzQyxpQkFBaUJpRSxRQUFRakUsTUFBTThFLE9BQU8sR0FBRztnQkFDdEQvQixRQUFRO1lBQ1Y7UUFDRixTQUFVO1lBQ1I3SCxnQkFBZ0I7UUFDbEI7SUFDRjtJQUVBLE1BQU02SixrQkFBa0I7UUFDdEI3TCxRQUFRO1FBQ1JFLHFCQUFxQjtRQUNyQkUsbUJBQW1CO1FBQ25CRSxnQkFBZ0I7UUFDaEJFLGlCQUFpQjtRQUNqQkUsaUJBQWlCO1FBQ2pCRSxpQkFBaUI7UUFDakJFLGdCQUFnQjtRQUNoQkUsaUJBQWlCO1FBQ2pCRSxpQkFBaUI7UUFDakJFLDJCQUEyQjtRQUMzQkUsbUJBQW1CO1FBQ25CRSxvQkFBb0I7UUFDcEJFLHNCQUFzQjtRQUN0QkUsa0JBQWtCO1FBQ2xCRSxxQkFBcUI7UUFDckJJLGtCQUFrQjtJQUNwQjtRQTBDZU87SUF4Q2YscUJBQ0UsOERBQUNxSjtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7Ozs7OztZQUNkaE0sU0FBUywrQkFBaUIsOERBQUNpTTs7Ozt1QkFBcUI7MEJBQ2pELDhEQUFDQztnQkFBT0YsV0FBVTswQkFDaEIsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDak4sdURBQUtBO29DQUFDK0ssUUFBTztvQ0FBT2tDLFdBQVU7OENBQVE7Ozs7Ozs4Q0FHdkMsOERBQUNEOztzREFDQyw4REFBQ0k7NENBQUdILFdBQVU7O2dEQUFvQztnREFDMUNuTSxVQUFVK0QsUUFBUSxDQUFDaEUsUUFBUSxDQUFDd00sWUFBWTs7Ozs7OztzREFFaEQsOERBQUNDOzRDQUFFTCxXQUFVO3NEQUNWbk0sVUFBVStELFFBQVEsQ0FBQ2hFLFFBQVEsQ0FBQzhKLFdBQVcsSUFDdEM7Ozs7Ozs7Ozs7Ozs4Q0FHTiw4REFBQ3FDO29DQUFJQyxXQUFVOztzREFDYiw4REFBQ007NENBQUtOLFdBQVU7OzhEQUNkLDhEQUFDM04sc09BQU1BO29EQUFDMk4sV0FBVTtvREFBVU8sZUFBWTs7Ozs7O2dEQUN2Q0MsY0FBYzNNLFVBQVUrRCxRQUFRLENBQUNDLFFBQVE7Ozs7Ozs7c0RBRTVDLDhEQUFDeUk7NENBQUtOLFdBQVU7OzhEQUNkLDhEQUFDL04sc09BQUtBO29EQUFDK04sV0FBVTtvREFBVU8sZUFBWTs7Ozs7O2dEQUFTO2dEQUM1QjVJOzs7Ozs7O3NEQUV0Qiw4REFBQzJJOzRDQUFLTixXQUFVOzs4REFDZCw4REFBQ3pOLHNPQUFXQTtvREFBQ3lOLFdBQVU7b0RBQVVPLGVBQVk7Ozs7OztnREFBUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt3QkFLM0RySywrQkFDQyw4REFBQzZKOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ0s7b0NBQUVMLFdBQVU7OENBQTBEOzs7Ozs7OENBR3ZFLDhEQUFDSztvQ0FBRUwsV0FBVTs4Q0FDVnRKLENBQUFBLHdCQUFBQSw0QkFBQUEsc0NBQUFBLGdCQUFpQlUsSUFBSSxjQUFyQlYsbUNBQUFBLHdCQUF5QlIsZUFBZXVLLFdBQVc7Ozs7Ozs4Q0FFdEQsOERBQUNKO29DQUFFTCxXQUFVOzhDQUNWMU0sZ0VBQWdCQSxDQUFDNEMsZUFBZTBFLGFBQWEsRUFBRWpELFVBQVU7d0NBQ3hETyxTQUFTO3dDQUNUdUgsT0FBTzt3Q0FDUEMsS0FBSzt3Q0FDTEMsTUFBTTt3Q0FDTkMsUUFBUTtvQ0FDVjs7Ozs7OzhDQUVGLDhEQUFDUztvQ0FBRUwsV0FBVTs7d0NBQW1DO3dDQUNiOUosZUFBZWtJLFFBQVEsQ0FBQ0MsS0FBSzt3Q0FBQzs7Ozs7Ozs7Ozs7O21DQUlqRTs7Ozs7Ozs7Ozs7OzBCQUlSLDhEQUFDcUM7Z0JBQUtWLFdBQVU7O2tDQUNkLDhEQUFDVzt3QkFBY0MsYUFBYTVNO3dCQUFNNk0sU0FBU2Y7Ozs7OztvQkFFMUM5TCxTQUFTLDBCQUNSLDhEQUFDOE07d0JBQ0NqSyxTQUFTaEQsVUFBVWdELE9BQU87d0JBQzFCa0ssaUJBQWlCL0U7d0JBQ2pCckUsVUFBVUE7Ozs7OytCQUVWO29CQUVIM0QsU0FBUyxrQkFBa0IwQyxnQ0FDMUIsOERBQUNzSzt3QkFDQ2xLLFNBQVNKO3dCQUNUdUssWUFBWWhHO3dCQUNaN0csaUJBQWlCQTt3QkFDakJDLG9CQUFvQkE7d0JBQ3BCNk0sUUFBUSxJQUFNak4sUUFBUTt3QkFDdEJrTixjQUFjbEY7d0JBQ2Q5QixPQUFPdEcsVUFBVXNHLEtBQUs7d0JBQ3RCeEMsVUFBVUE7d0JBQ1Z5SixjQUFjdk4sVUFBVStELFFBQVEsQ0FBQ0MsUUFBUSxDQUFDdUosWUFBWTt3QkFDdERDLFdBQVcvSzt3QkFDWHlFLE9BQU92RTs7Ozs7K0JBRVA7b0JBRUh4QyxTQUFTLGNBQWMwQyxtQkFBbUJwQyw2QkFDekMsOERBQUNnTjt3QkFDQ3hLLFNBQVNKO3dCQUNUaUQsTUFBTXJGO3dCQUNONE0sUUFBUSxJQUFNak4sUUFBUTt3QkFDdEJhLGNBQWNBO3dCQUNkQyxpQkFBaUJBO3dCQUNqQkMsZUFBZUE7d0JBQ2ZDLGtCQUFrQkE7d0JBQ2xCQyxlQUFlQTt3QkFDZkMsa0JBQWtCQTt3QkFDbEJDLHlCQUF5QkE7d0JBQ3pCQyw0QkFBNEJBO3dCQUM1QkMsaUJBQWlCQTt3QkFDakJDLG9CQUFvQkE7d0JBQ3BCQyxrQkFBa0JBO3dCQUNsQkUsb0JBQW9CQTt3QkFDcEI3QixXQUFXQTt3QkFDWGlCLGNBQWNBO3dCQUNkRSxlQUFlQTt3QkFDZkUsZUFBZUE7d0JBQ2ZrRyxnQkFBZ0JBO3dCQUNoQjVHLGVBQWVBO3dCQUNmdUgsVUFBVUE7d0JBQ1ZwRSxVQUFVQTt3QkFDVmpCLGlCQUFpQkE7d0JBQ2pCcEMsY0FBY0E7d0JBQ2Q2QixtQkFBbUJBO3dCQUNuQmxDLFNBQVNBO3dCQUNURixPQUFPQTt3QkFDUDZCLGdCQUFnQkE7d0JBQ2hCQyxtQkFBbUJBO3dCQUNuQm5CLGVBQWVBO3dCQUNmQyxrQkFBa0JBO3dCQUNsQkMsZUFBZUE7d0JBQ2ZKLGVBQWVBO3dCQUNmK00saUJBQWlCakY7d0JBQ2pCVCxpQkFBaUJDO3dCQUNqQkMsVUFBVUE7d0JBQ1ZwRSxVQUFVQTt3QkFDVjZELGdCQUFnQkE7d0JBQ2hCSixnQkFBZ0JBO3dCQUNoQnBGLGNBQWNBO3dCQUNkd0wsVUFBVXpEO3dCQUNWMEQsZ0JBQWdCLElBQU0xTCxxQkFBcUI7Ozs7OytCQUUzQztvQkFFSC9CLFNBQVMsa0JBQWtCa0MsK0JBQzFCLDhEQUFDd0w7d0JBQ0NDLFNBQVN6TDt3QkFDVFksU0FBU0o7d0JBQ1Q4RSxnQkFBZ0JBO3dCQUNoQk8sVUFBVUE7d0JBQ1ZwRSxVQUFVQTt3QkFDVmlLLGVBQWU5Qjs7Ozs7K0JBRWY7Ozs7Ozs7WUFHTGhLLGtDQUNDLDhEQUFDK0w7Z0JBQ0M5RixVQUFVQTtnQkFDVitGLFNBQVMsSUFBTS9MLHFCQUFxQjtnQkFDcEM0QixVQUFVQTs7Ozs7dUJBRVY7Ozs7Ozs7QUFHVjtHQW5oQmdCaEU7O1FBS0FSLDBEQUFRQTs7O0tBTFJRO0FBcWhCaEIsU0FBU21OLFlBQVksS0FPcEI7UUFQb0IsRUFDbkJqSyxPQUFPLEVBQ1BrSyxlQUFlLEVBS2hCLEdBUG9CO0lBUW5CLHFCQUNFLDhEQUFDZ0I7UUFBUS9CLFdBQVU7a0JBQ2hCbkosUUFBUW9HLEdBQUcsQ0FBQyxDQUFDckcseUJBQ1osOERBQUNtSjtnQkFBc0JDLFdBQVU7O2tDQUMvQiw4REFBQ0U7OzBDQUNDLDhEQUFDSDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUN4TixzT0FBUUE7d0NBQUN3TixXQUFVO3dDQUFjTyxlQUFZOzs7Ozs7b0NBQzdDM0osU0FBU1EsSUFBSTs7Ozs7OzswQ0FFaEIsOERBQUNpSjtnQ0FBRUwsV0FBVTswQ0FBMENwSixTQUFTOEcsV0FBVzs7Ozs7Ozs7Ozs7O2tDQUU3RSw4REFBQ3FDO3dCQUFJQyxXQUFVO2tDQUNacEosU0FBU0csUUFBUSxDQUFDa0csR0FBRyxDQUFDLENBQUNuRyx3QkFDdEIsOERBQUNrTDtnQ0FFQ0MsTUFBSztnQ0FDTEMsU0FBUyxJQUFNbkIsZ0JBQWdCakssUUFBUUksRUFBRTtnQ0FDekM4SSxXQUFVOztrREFFViw4REFBQ0Q7d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDRDs7a0VBQ0MsOERBQUNvQzt3REFBR25DLFdBQVU7a0VBQW9DbEosUUFBUU0sSUFBSTs7Ozs7O2tFQUM5RCw4REFBQ2lKO3dEQUFFTCxXQUFVO2tFQUE4QmxKLFFBQVE0RyxXQUFXOzs7Ozs7Ozs7Ozs7MERBRWhFLDhEQUFDNEM7Z0RBQUtOLFdBQVU7MERBQ2JvQyxlQUFldEwsUUFBUXVMLGVBQWU7Ozs7Ozs7Ozs7OztvQ0FHMUN2TCxRQUFRd0wsWUFBWSxpQkFDbkIsOERBQUNqQzt3Q0FBRUwsV0FBVTtrREFBeUJsSixRQUFRd0wsWUFBWTs7Ozs7K0NBQ3hEO2tEQUNKLDhEQUFDdkM7d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDTTtnREFBS04sV0FBVTs7b0RBQWdCO2tFQUNsQiw4REFBQ3VDO3dEQUFPdkMsV0FBVTtrRUFBY3JDLGVBQWU3RyxRQUFRdUUsVUFBVTs7Ozs7Ozs7Ozs7OzBEQUUvRSw4REFBQ2lGO2dEQUFLTixXQUFVOztvREFBbUY7a0VBQzFGLDhEQUFDck8sc09BQVVBO3dEQUFDcU8sV0FBVTt3REFBVU8sZUFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsrQkF0QmxEekosUUFBUUksRUFBRTs7Ozs7Ozs7Ozs7ZUFYYk4sU0FBU00sRUFBRTs7Ozs7Ozs7OztBQTJDN0I7TUF0RFM0SjtBQXdEVCxTQUFTRSxpQkFBaUIsS0ErQnpCO1FBL0J5QixFQUN4QmxLLE9BQU8sRUFDUG1LLFVBQVUsRUFDVjdNLGVBQWUsRUFDZkMsa0JBQWtCLEVBQ2xCNk0sTUFBTSxFQUNOQyxZQUFZLEVBQ1poSCxLQUFLLEVBQ0x4QyxRQUFRLEVBQ1J5SixZQUFZLEVBQ1pDLFNBQVMsRUFDVHRHLEtBQUssRUFvQk4sR0EvQnlCOztJQWdDeEIsTUFBTSxDQUFDeUgsa0JBQWtCQyxvQkFBb0IsR0FBR2hSLCtDQUFRQSxDQUFDO1FBQ3ZELE1BQU0rRixRQUFRLElBQUlDO1FBQ2xCLE1BQU1pTCxZQUFZbEwsTUFBTW1MLE1BQU07UUFDOUIsTUFBTUMsT0FBT3BMLE1BQU1jLE9BQU8sS0FBS29LLFdBQVcsMEJBQTBCO1FBQ3BFLE1BQU1HLFNBQVMsSUFBSXBMLEtBQUtELE1BQU1hLE9BQU8sQ0FBQ3VLO1FBQ3RDQyxPQUFPQyxRQUFRLENBQUMsR0FBRyxHQUFHLEdBQUc7UUFDekIsT0FBT0Q7SUFDVDtJQUVBLE1BQU1FLGVBQWU1SSxNQUFNZ0IsTUFBTSxDQUFDLENBQUM2SCxTQUFXbE0sUUFBUW1NLFFBQVEsQ0FBQ0MsUUFBUSxDQUFDRixPQUFPOUwsRUFBRTtJQUNqRixNQUFNaU0sYUFBYUMsT0FBT0MsTUFBTSxDQUFDcEMsWUFBWXFDLE1BQU0sQ0FBQyxDQUFDQyxLQUFLQyxVQUFZRCxNQUFNQyxRQUFRbEssTUFBTSxFQUFFO0lBRTVGLG1DQUFtQztJQUNuQyxNQUFNbUssUUFBUWpLLE1BQU1rSyxJQUFJLENBQUM7UUFBRXBLLFFBQVE7SUFBRyxHQUFHLENBQUNxSyxHQUFHeEwsSUFBTUEsSUFBSSxJQUFJLGVBQWU7SUFFMUUsNEJBQTRCO0lBQzVCLE1BQU15TCxXQUFXcFMsOENBQU9BLENBQUM7UUFDdkIsTUFBTXFTLE9BQU8sRUFBRTtRQUNmLElBQUssSUFBSTFMLElBQUksR0FBR0EsSUFBSSxHQUFHQSxJQUFLO1lBQzFCLE1BQU1DLE9BQU8sSUFBSVgsS0FBSytLO1lBQ3RCcEssS0FBS0MsT0FBTyxDQUFDbUssaUJBQWlCbEssT0FBTyxLQUFLSDtZQUMxQzBMLEtBQUt0SixJQUFJLENBQUNuQztRQUNaO1FBQ0EsT0FBT3lMO0lBQ1QsR0FBRztRQUFDckI7S0FBaUI7SUFFckIsbURBQW1EO0lBQ25ELE1BQU1zQixvQkFBb0J0Uyw4Q0FBT0EsQ0FBQztRQUNoQyxNQUFNdVMsVUFBc0UsQ0FBQztRQUU3RSxrQ0FBa0M7UUFDbEMsTUFBTXJNLFdBQVcwTCxPQUFPQyxNQUFNLENBQUNwQyxZQUFZK0MsSUFBSTtRQUUvQ3RNLFNBQVN1TSxPQUFPLENBQUN0SyxDQUFBQTtZQUNmLE1BQU11SyxXQUFXLElBQUl6TSxLQUFLa0MsS0FBS2lCLGFBQWE7WUFDNUMsTUFBTXVKLFVBQVU3USxnRUFBZ0JBLENBQUM0USxVQUFVdk0sVUFBVTtZQUNyRCxNQUFNZ0ksT0FBT3JNLGdFQUFnQkEsQ0FBQzRRLFVBQVV2TSxVQUFVO2dCQUFFZ0ksTUFBTTtnQkFBV3lFLFFBQVE7WUFBTTtZQUNuRixNQUFNQyxVQUFVQyxTQUFTM0UsTUFBTTtZQUUvQixrREFBa0Q7WUFDbEQsTUFBTTRFLGtCQUFrQlgsU0FBU1ksSUFBSSxDQUFDOUUsQ0FBQUE7Z0JBQ3BDLE1BQU0rRSxTQUFTblIsZ0VBQWdCQSxDQUFDb00sS0FBSy9ILFVBQVU7Z0JBQy9DLE9BQU84TSxXQUFXTjtZQUNwQjtZQUVBLElBQUksQ0FBQ0ksaUJBQWlCO1lBRXRCLElBQUksQ0FBQ1IsT0FBTyxDQUFDSSxRQUFRLEVBQUU7Z0JBQ3JCSixPQUFPLENBQUNJLFFBQVEsR0FBRyxDQUFDO1lBQ3RCO1lBRUEsSUFBSSxDQUFDSixPQUFPLENBQUNJLFFBQVEsQ0FBQ0UsUUFBUSxFQUFFO2dCQUM5Qk4sT0FBTyxDQUFDSSxRQUFRLENBQUNFLFFBQVEsR0FBRyxFQUFFO1lBQ2hDO1lBRUEsMERBQTBEO1lBQzFELE1BQU1LLGNBQWNYLE9BQU8sQ0FBQ0ksUUFBUSxDQUFDRSxRQUFRLENBQUNHLElBQUksQ0FDaERHLENBQUFBLFdBQVlBLFNBQVNsSyxPQUFPLEtBQUtkLEtBQUtjLE9BQU87WUFHL0MsSUFBSSxDQUFDaUssYUFBYTtnQkFDaEJYLE9BQU8sQ0FBQ0ksUUFBUSxDQUFDRSxRQUFRLENBQUM5SixJQUFJLENBQUNaO1lBQ2pDO1FBQ0Y7UUFFQSxPQUFPb0s7SUFDVCxHQUFHO1FBQUM5QztRQUFZMkM7UUFBVWpNO0tBQVM7SUFFbkMsTUFBTWlOLGVBQWUsQ0FBQ0M7UUFDcEIsTUFBTUMsVUFBVSxJQUFJck4sS0FBSytLO1FBQ3pCc0MsUUFBUXpNLE9BQU8sQ0FBQ3lNLFFBQVF4TSxPQUFPLEtBQU11TSxDQUFBQSxjQUFjLFNBQVMsSUFBSSxDQUFDO1FBQ2pFcEMsb0JBQW9CcUM7SUFDdEI7SUFFQSxNQUFNQyxZQUFZelIsZ0VBQWdCQSxDQUFDc1EsUUFBUSxDQUFDLEVBQUUsRUFBRWpNLFVBQVU7UUFBRThILE9BQU87UUFBUXVGLE1BQU07SUFBVTtJQUUzRixxQkFDRSw4REFBQ2pEO1FBQVEvQixXQUFVOzswQkFDakIsOERBQUNFO2dCQUFPRixXQUFVOztrQ0FDaEIsOERBQUNEOzswQ0FDQyw4REFBQ007Z0NBQUVMLFdBQVU7MENBQW9EOzs7Ozs7MENBQ2pFLDhEQUFDbUM7Z0NBQUduQyxXQUFVOzBDQUF5Q2xKLFFBQVFNLElBQUk7Ozs7OzswQ0FDbkUsOERBQUNpSjtnQ0FBRUwsV0FBVTs7b0NBQ1ZyQyxlQUFlN0csUUFBUXVFLFVBQVU7b0NBQUU7b0NBQUkrRyxlQUFldEwsUUFBUXVMLGVBQWU7b0NBQUU7b0NBQ3RFMUs7Ozs7Ozs7Ozs7Ozs7a0NBR2QsOERBQUMzRSx5REFBTUE7d0JBQUNpUyxTQUFRO3dCQUFRL0MsU0FBU2hCO3dCQUFRbEIsV0FBVTs7MENBQ2pELDhEQUFDdE8sc09BQVNBO2dDQUFDc08sV0FBVTtnQ0FBVU8sZUFBWTs7Ozs7OzRCQUFTOzs7Ozs7Ozs7Ozs7OzBCQUt4RCw4REFBQ1I7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDa0Y7d0JBQ0NDLE9BQU07d0JBQ05DLFFBQVFoUixvQkFBb0I7d0JBQzVCOE4sU0FBUyxJQUFNN04sbUJBQW1COzs7Ozs7b0JBRW5DME8sYUFBYTlGLEdBQUcsQ0FBQyxDQUFDK0YsdUJBQ2pCLDhEQUFDa0M7NEJBRUNDLE9BQU9uQyxPQUFPNUwsSUFBSTs0QkFDbEJFLE9BQU8wTCxPQUFPMUwsS0FBSzs0QkFDbkI4TixRQUFRaFIsb0JBQW9CNE8sT0FBTzlMLEVBQUU7NEJBQ3JDZ0wsU0FBUyxJQUFNN04sbUJBQW1CMk8sT0FBTzlMLEVBQUU7MkJBSnRDOEwsT0FBTzlMLEVBQUU7Ozs7Ozs7Ozs7O1lBU25CbUssMEJBQ0MsOERBQUN0QjtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUM1TixzT0FBT0E7d0JBQUM0TixXQUFVO3dCQUE2Q08sZUFBWTs7Ozs7O2tDQUM1RSw4REFBQ0Y7d0JBQUVMLFdBQVU7a0NBQWlCOzs7Ozs7Ozs7Ozt1QkFFOUJqRixzQkFDRiw4REFBQ2dGO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDSztvQkFBRUwsV0FBVTs4QkFBYWpGOzs7Ozs7Ozs7O3VCQUUxQm9JLGVBQWUsa0JBQ2pCLDhEQUFDcEQ7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDSzt3QkFBRUwsV0FBVTtrQ0FBWTs7Ozs7O2tDQUN6Qiw4REFBQ0s7d0JBQUVMLFdBQVU7OzRCQUFlOzRCQUM4QjswQ0FDeEQsOERBQUNxRjtnQ0FBRUMsTUFBTSxVQUE4QyxPQUFwQ2xFLHlCQUFBQSwwQkFBQUEsZUFBZ0I7Z0NBQXVCcEIsV0FBVTswQ0FDakVvQix5QkFBQUEsMEJBQUFBLGVBQWdCOzs7Ozs7NEJBQ2Y7Ozs7Ozs7Ozs7OztxQ0FLUiw4REFBQ3JCO2dCQUFJQyxXQUFVOztrQ0FFYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDaE4seURBQU1BO2dDQUNMaVMsU0FBUTtnQ0FDUi9DLFNBQVMsSUFBTTBDLGFBQWE7Z0NBQzVCNUUsV0FBVTswQ0FFViw0RUFBQ2pPLHNPQUFXQTtvQ0FBQ2lPLFdBQVU7Ozs7Ozs7Ozs7OzBDQUV6Qiw4REFBQ0Q7Z0NBQUlDLFdBQVU7MENBQ2IsNEVBQUN1RjtvQ0FBR3ZGLFdBQVU7OENBQW9DK0U7Ozs7Ozs7Ozs7OzBDQUVwRCw4REFBQy9SLHlEQUFNQTtnQ0FDTGlTLFNBQVE7Z0NBQ1IvQyxTQUFTLElBQU0wQyxhQUFhO2dDQUM1QjVFLFdBQVU7MENBRVYsNEVBQUNoTyxzT0FBWUE7b0NBQUNnTyxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7OztrQ0FLNUIsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDRDs0QkFBSUMsV0FBVTs7OENBRWIsOERBQUNEO29DQUFJQyxXQUFVOztzREFDYiw4REFBQ0Q7NENBQUlDLFdBQVU7c0RBQXNDOzs7Ozs7d0NBQ3BENEQsU0FBUzNHLEdBQUcsQ0FBQyxDQUFDeUMsS0FBSzhGLG9CQUNsQiw4REFBQ3pGO2dEQUFjQyxXQUFVOztrRUFDdkIsOERBQUNLO3dEQUFFTCxXQUFVO2tFQUNWMU0sZ0VBQWdCQSxDQUFDb00sS0FBSy9ILFVBQVU7NERBQUVPLFNBQVM7d0RBQVE7Ozs7OztrRUFFdEQsOERBQUNtSTt3REFBRUwsV0FBVTtrRUFDVjFNLGdFQUFnQkEsQ0FBQ29NLEtBQUsvSCxVQUFVOzREQUFFK0gsS0FBSzt3REFBVTs7Ozs7OzsrQ0FMNUM4Rjs7Ozs7Ozs7Ozs7OENBWWQsOERBQUN6RjtvQ0FBSUMsV0FBVTs4Q0FDWnlELE1BQU14RyxHQUFHLENBQUMsQ0FBQzBDO3dDQUNWLE1BQU04RixZQUFZOUYsU0FBUyxLQUFLLFVBQVVBLE9BQU8sS0FBSyxHQUFhLE9BQVZBLE9BQU8sSUFBRyxTQUFPLEdBQVEsT0FBTEEsTUFBSzt3Q0FDbEYscUJBQ0UsOERBQUNJOzRDQUFlQyxXQUFVOzs4REFDeEIsOERBQUNEO29EQUFJQyxXQUFVOzhEQUNaeUY7Ozs7OztnREFFRjdCLFNBQVMzRyxHQUFHLENBQUMsQ0FBQ3lDLEtBQUtnRzt3REFFRzVCO29EQURyQixNQUFNSyxVQUFVN1EsZ0VBQWdCQSxDQUFDb00sS0FBSy9ILFVBQVU7b0RBQ2hELE1BQU1nTyxlQUFlN0IsRUFBQUEsNkJBQUFBLGlCQUFpQixDQUFDSyxRQUFRLGNBQTFCTCxpREFBQUEsMEJBQTRCLENBQUNuRSxLQUFLLEtBQUksRUFBRTtvREFDN0QsTUFBTWlHLGdCQUFnQnhSLG9CQUFvQixRQUN0Q3VSLGVBQ0FBLGFBQWF4SyxNQUFNLENBQUN4QixDQUFBQSxPQUFRQSxLQUFLYyxPQUFPLEtBQUtyRztvREFFakQscUJBQ0UsOERBQUMyTDt3REFBaUJDLFdBQVU7a0VBQ3pCNEYsY0FBY3RNLE1BQU0sR0FBRyxrQkFDdEIsOERBQUN5Rzs0REFBSUMsV0FBVTtzRUFDWjRGLGNBQWMzSSxHQUFHLENBQUMsQ0FBQ3REO2dFQUNsQixNQUFNTyxjQUFjQyxNQUFNbkQsSUFBSSxDQUFDb0QsQ0FBQUEsSUFBS0EsRUFBRWxELEVBQUUsS0FBS3lDLEtBQUtjLE9BQU87Z0VBQ3pELHFCQUNFLDhEQUFDdUg7b0VBRUNDLE1BQUs7b0VBQ0xDLFNBQVMsSUFBTWYsYUFBYXhIO29FQUM1QnFHLFdBQVU7b0VBQ1Y2RixPQUFPO3dFQUNMQyxhQUFhNUwsQ0FBQUEsd0JBQUFBLGtDQUFBQSxZQUFhNUMsS0FBSyxJQUFHLEdBQXFCLE9BQWxCNEMsWUFBWTVDLEtBQUssRUFBQyxRQUFNWDt3RUFDN0RvUCxpQkFBaUI3TCxDQUFBQSx3QkFBQUEsa0NBQUFBLFlBQWE1QyxLQUFLLElBQUcsR0FBcUIsT0FBbEI0QyxZQUFZNUMsS0FBSyxFQUFDLFFBQU1YO29FQUNuRTs7c0ZBRUEsOERBQUMwSjs0RUFBRUwsV0FBVTtzRkFDVjFNLGdFQUFnQkEsQ0FBQyxJQUFJbUUsS0FBS2tDLEtBQUtpQixhQUFhLEdBQUdqRCxVQUFVO2dGQUFFZ0ksTUFBTTtnRkFBV0MsUUFBUTs0RUFBVTs7Ozs7O3NGQUVqRyw4REFBQ1M7NEVBQUVMLFdBQVU7c0ZBQ1ZyRyxLQUFLZSxTQUFTOzs7Ozs7O21FQWJaZixLQUFLekMsRUFBRTs7Ozs7NERBaUJsQjs7Ozs7aUZBR0YsOERBQUM2STs0REFBSUMsV0FBVTtzRUFDYiw0RUFBQ0s7Z0VBQUVMLFdBQVU7MEVBQXdDOzs7Ozs7Ozs7Ozt1REE1QmpEMEY7Ozs7O2dEQWlDZDs7MkNBN0NRL0Y7Ozs7O29DQWdEZDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRaEI7SUF4UVNxQjtNQUFBQTtBQTBRVCxTQUFTTSxhQUFhMEUsS0F5RHJCOztJQUNDLE1BQU0sRUFDSmxQLE9BQU8sRUFDUDZDLElBQUksRUFDSnVILE1BQU0sRUFDTnBNLFlBQVksRUFDWkMsZUFBZSxFQUNmQyxhQUFhLEVBQ2JDLGdCQUFnQixFQUNoQkMsYUFBYSxFQUNiQyxnQkFBZ0IsRUFDaEJDLHVCQUF1QixFQUN2QkMsMEJBQTBCLEVBQzFCQyxlQUFlLEVBQ2ZDLGtCQUFrQixFQUNsQkMsZ0JBQWdCLEVBQ2hCRSxrQkFBa0IsRUFDbEI3QixTQUFTLEVBQ1R1SCxjQUFjLEVBQ2Q1RyxhQUFhLEVBQ2J1SCxRQUFRLEVBQ1JwRSxRQUFRLEVBQ1JqQixlQUFlLEVBQ2ZwQyxZQUFZLEVBQ1o2QixpQkFBaUIsRUFDakJsQyxPQUFPLEVBQ1BGLEtBQUssRUFDTDZCLGNBQWMsRUFDZEMsaUJBQWlCLEVBQ2pCbkIsYUFBYSxFQUNiQyxnQkFBZ0IsRUFDaEJDLGFBQWEsRUFDYjJNLGVBQWUsRUFDZjFGLGVBQWUsRUFDZkwsY0FBYyxFQUNkeEYsWUFBWSxFQUNad0wsUUFBUSxFQUNSQyxjQUFjLEVBQ2Q3TixRQUFRLEVBQ1QsR0FBR29TO0lBRUosdUZBQXVGO0lBQ3ZGelUsZ0RBQVNBLENBQUM7UUFDUix5RUFBeUU7UUFDekUsSUFBSSxDQUFDNkQsMkJBQTJCc0IsbUJBQW1CcEMsZ0JBQWdCUSxnQkFBZ0JFLGlCQUFpQkUsZUFBZTtZQUNqSCw2RkFBNkY7WUFDN0YsTUFBTStRLG9CQUFvQjtnQkFDeEIsSUFBSTtvQkFDRixNQUFNL0gsYUFBYTt3QkFDakJDLFlBQVl6SCxnQkFBZ0JRLEVBQUU7d0JBQzlCbUQsVUFBVS9GLGFBQWFtRyxPQUFPO3dCQUM5QlosVUFBVXZGLGFBQWFzRyxhQUFhO3dCQUNwQ3dELFVBQVU7NEJBQ1JoSCxNQUFNdEMsYUFBYTBILElBQUk7NEJBQ3ZCNkIsT0FBT3JKLGNBQWN3SCxJQUFJLEdBQUc4QixXQUFXOzRCQUN2Q0MsT0FBT3JKLGNBQWNzSCxJQUFJO3dCQUMzQjt3QkFDQWdDLGNBQWMsRUFBRWhLLDBCQUFBQSxvQ0FBQUEsY0FBZStILElBQUk7b0JBQ3JDO29CQUVBLE1BQU01RCxXQUFXLE1BQU1DLE1BQU0sZUFBNkIsT0FBZGhGLFNBQVNpRixJQUFJLEVBQUMsY0FBWTt3QkFDcEU0RixRQUFRO3dCQUNSQyxTQUFTOzRCQUNQLGdCQUFnQjt3QkFDbEI7d0JBQ0FDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ1g7b0JBQ3ZCO29CQUVBLElBQUksQ0FBQ3ZGLFNBQVNHLEVBQUUsRUFBRTt3QkFDaEIsK0VBQStFO3dCQUMvRUMsUUFBUWdDLEtBQUssQ0FBQyxpQ0FBaUMsTUFBTXBDLFNBQVN1TixJQUFJO3dCQUNsRTtvQkFDRjtvQkFFQSxNQUFNakgsY0FBYyxNQUFNdEcsU0FBU08sSUFBSTtvQkFFdkMsSUFBSStGLFlBQVlDLGFBQWEsRUFBRTt3QkFDN0I3SiwyQkFBMkI0SixZQUFZQyxhQUFhO3dCQUNwRCxJQUFJRCxZQUFZRSxVQUFVLEVBQUU7d0JBQzFCLHVGQUF1Rjt3QkFDdkYsdUNBQXVDO3dCQUN6QztvQkFDRjtnQkFDRixFQUFFLE9BQU9wRSxPQUFPO29CQUNkaEMsUUFBUWdDLEtBQUssQ0FBQywrQkFBK0JBO2dCQUM3Qyw4REFBOEQ7Z0JBQ2hFO1lBQ0Y7WUFFQWtMO1FBQ0Y7SUFDRixHQUFHO1FBQUM3UTtRQUF5QnNCO1FBQWlCcEM7UUFBY1E7UUFBY0U7UUFBZUU7UUFBZXRCLFNBQVNpRixJQUFJO1FBQUVyRTtRQUFlYTtLQUEyQjtJQUVqSyxxQkFDRSw4REFBQzBNO1FBQVEvQixXQUFVOzswQkFDakIsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDs7a0RBQ0MsOERBQUNNO3dDQUFFTCxXQUFVO2tEQUFvRDs7Ozs7O2tEQUNqRSw4REFBQ21DO3dDQUFHbkMsV0FBVTtrREFBeUNsSixRQUFRTSxJQUFJOzs7Ozs7a0RBQ25FLDhEQUFDaUo7d0NBQUVMLFdBQVU7OzRDQUNab0MsZUFBZXRMLFFBQVF1TCxlQUFlOzRDQUFFOzRDQUFJMUUsZUFBZXZDOzRDQUFnQjs0Q0FBUTs0Q0FDakZ6QixLQUFLZSxTQUFTOzs7Ozs7Ozs7Ozs7OzBDQUduQiw4REFBQzFILHlEQUFNQTtnQ0FBQ2lTLFNBQVE7Z0NBQVEvQyxTQUFTaEI7Z0NBQVFsQixXQUFVOztrREFDakQsOERBQUN0TyxzT0FBU0E7d0NBQUNzTyxXQUFVO3dDQUFVTyxlQUFZOzs7Ozs7b0NBQVM7Ozs7Ozs7Ozs7Ozs7a0NBS3hELDhEQUFDUjt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNtRztnQ0FBTWhCLE9BQU07MENBQ1gsNEVBQUNqUyx1REFBS0E7b0NBQ0prVCxPQUFPdFI7b0NBQ1B1UixVQUFVLENBQUNDLFFBQVV2UixnQkFBZ0J1UixNQUFNQyxNQUFNLENBQUNILEtBQUs7b0NBQ3ZESSxhQUFZO29DQUNaQyxjQUFhOzs7Ozs7Ozs7OzswQ0FHakIsOERBQUNOO2dDQUFNaEIsT0FBTTswQ0FDWCw0RUFBQ2pTLHVEQUFLQTtvQ0FDSitPLE1BQUs7b0NBQ0xtRSxPQUFPcFI7b0NBQ1BxUixVQUFVLENBQUNDLFFBQVVyUixpQkFBaUJxUixNQUFNQyxNQUFNLENBQUNILEtBQUs7b0NBQ3hESSxhQUFZO29DQUNaQyxjQUFhOzs7Ozs7Ozs7OzswQ0FHakIsOERBQUNOO2dDQUFNaEIsT0FBTTswQ0FDWCw0RUFBQ2pTLHVEQUFLQTtvQ0FDSitPLE1BQUs7b0NBQ0xtRSxPQUFPbFI7b0NBQ1BtUixVQUFVLENBQUNDLFFBQVVuUixpQkFBaUJtUixNQUFNQyxNQUFNLENBQUNILEtBQUs7b0NBQ3hESSxhQUFZO29DQUNaQyxjQUFhOzs7Ozs7Ozs7OzswQ0FHakIsOERBQUNOO2dDQUFNaEIsT0FBTTtnQ0FBb0J1QixRQUFPOztrREFDdEMsOERBQUMzRzt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUM5TSx1REFBS0E7Z0RBQ0prVCxPQUFPMVI7Z0RBQ1AyUixVQUFVLENBQUNDLFFBQVUzUixpQkFBaUIyUixNQUFNQyxNQUFNLENBQUNILEtBQUs7Z0RBQ3hESSxhQUFZO2dEQUNaeEcsV0FBVTtnREFDVjJHLGdCQUFlOzs7Ozs7MERBRWpCLDhEQUFDM1QseURBQU1BO2dEQUFDaVAsTUFBSztnREFBU2dELFNBQVE7Z0RBQVUvQyxTQUFTWDswREFBaUI7Ozs7Ozs7Ozs7OztvQ0FJbkUzTSw4QkFDQyw4REFBQzNCLGtFQUFVQTt3Q0FBQzZLLFFBQU87d0NBQVFrQyxXQUFVO2tEQUNsQ3BMOzs7OzsrQ0FFRDtvQ0FDSEosOEJBQ0MsOERBQUN2QixrRUFBVUE7d0NBQUM2SyxRQUFPO3dDQUFVa0MsV0FBVTs7MERBQ3JDLDhEQUFDN04sc09BQUlBO2dEQUFDNk4sV0FBVTtnREFBd0JPLGVBQVk7Ozs7Ozs0Q0FDbkQvTCxjQUFja0osV0FBVzs0Q0FBQzs0Q0FBR2xKLGNBQWMrSCxJQUFJOzRDQUFDOzs7Ozs7K0NBRWpEOzs7Ozs7Ozs7Ozs7O2tDQUlSLDhEQUFDd0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDSztnQ0FBRUwsV0FBVTs7a0RBQ1gsOERBQUM5TixzT0FBVUE7d0NBQUM4TixXQUFVO3dDQUFVTyxlQUFZOzs7Ozs7b0NBQVM7Ozs7Ozs7MENBR3ZELDhEQUFDRjtnQ0FBRUwsV0FBVTs7b0NBQ1ZuRSxnQkFBZ0J2QyxNQUFNLEdBQUcsSUFDdEIsR0FBNEMsT0FBekNzTix3QkFBd0IvSyxrQkFBaUIsUUFDNUM7b0NBQUc7Ozs7Ozs7NEJBR1J6Ryx3Q0FDQyw4REFBQzJLO2dDQUFJQyxXQUFVOzBDQUNiLDRFQUFDck4sNkRBQVFBO29DQUNQa1UsUUFBUXRUO29DQUNSdVQsU0FBUzt3Q0FDUEMsY0FBYzNSO3dDQUNkNFIsWUFBWTs0Q0FDVkMsT0FBTzs0Q0FDUEMsV0FBVztnREFDVEMsY0FBYztnREFDZEMsaUJBQWlCO2dEQUNqQkMsV0FBVztnREFDWEMsYUFBYTtnREFDYkMsWUFBWTtnREFDWkMsYUFBYTtnREFDYkMsY0FBYzs0Q0FDaEI7d0NBQ0Y7b0NBQ0Y7OENBRUEsNEVBQUNDO3dDQUNDQyxzQkFBc0IsT0FBT0M7NENBQzNCclMsbUJBQW1CcVM7NENBQ25CLDREQUE0RDs0Q0FDNUQsNkNBQTZDOzRDQUM3QyxJQUFJbFIsbUJBQW1CcEMsZ0JBQWdCa0Isa0JBQWtCO29EQWM1QzNCO2dEQWJYLE1BQU04TixVQUF1QjtvREFDM0J6SyxJQUFJMUI7b0RBQ0orRyxNQUFNN0csc0JBQXNCLFNBQW9ELE9BQTNDRixpQkFBaUJxUyxLQUFLLENBQUMsR0FBRyxHQUFHcEwsV0FBVztvREFDN0V4RCxRQUFRO29EQUNSdUIsV0FBVzlELGdCQUFnQlEsRUFBRTtvREFDN0J1SixhQUFhL0osZ0JBQWdCVSxJQUFJO29EQUNqQ0QsY0FBY1QsZ0JBQWdCUyxZQUFZO29EQUMxQ2tMLGlCQUFpQjNMLGdCQUFnQjJMLGVBQWU7b0RBQ2hEekgsZUFBZXRHLGFBQWFzRyxhQUFhO29EQUN6Q0MsYUFBYXZHLGFBQWF1RyxXQUFXO29EQUNyQ1YsT0FBTzt3REFDTGpELElBQUk1QyxhQUFhbUcsT0FBTzt3REFDeEJyRCxNQUFNOUMsYUFBYW9HLFNBQVM7d0RBQzVCcEQsT0FBT3pELEVBQUFBLHdCQUFBQSxVQUFVc0csS0FBSyxDQUFDbkQsSUFBSSxDQUFDb0QsQ0FBQUEsSUFBS0EsRUFBRWxELEVBQUUsS0FBSzVDLGFBQWFtRyxPQUFPLGVBQXZENUcsNENBQUFBLHNCQUEwRHlELEtBQUssS0FBSTtvREFDNUU7b0RBQ0E4RyxVQUFVO3dEQUNSaEgsTUFBTXRDLGFBQWEwSCxJQUFJO3dEQUN2QjZCLE9BQU9ySixjQUFjd0gsSUFBSSxHQUFHOEIsV0FBVzt3REFDdkNDLE9BQU9ySixjQUFjc0gsSUFBSTtvREFDM0I7b0RBQ0FzTCxVQUFVLEVBQUU7b0RBQ1pDLFlBQVk7d0RBQ1YzTSxnQkFBZ0JBO3dEQUNoQjRNLHFCQUFxQnhULENBQUFBLDBCQUFBQSxvQ0FBQUEsY0FBZStHLFdBQVcsS0FBSTt3REFDbkQwTSxrQkFBa0I7d0RBQ2xCQyx3QkFBd0I7d0RBQ3hCQyxnQkFBZ0I7d0RBQ2hCQyxVQUFVO29EQUNaO29EQUNBQyxlQUFlQyxvQkFBb0J2TTtvREFDbkN3TSxnQkFBZ0I7Z0RBQ2xCO2dEQUNBcFMsa0JBQWtCd0w7Z0RBQ2xCMU4sUUFBUTtnREFDUkYsTUFBTTZKLFNBQVMsQ0FBQztvREFDZEMsT0FBTztvREFDUEgsYUFBYSxHQUE4QnBLLE9BQTNCb0QsZ0JBQWdCVSxJQUFJLEVBQUMsUUFJbkMsT0FKeUM5RCxnRUFBZ0JBLENBQ3pEZ0IsYUFBYXNHLGFBQWEsRUFDMUJqRCxVQUNBO3dEQUFFTyxTQUFTO3dEQUFRdUgsT0FBTzt3REFBU0MsS0FBSzt3REFBV0MsTUFBTTt3REFBV0MsUUFBUTtvREFBVSxJQUN0RjtvREFDRjlCLFFBQVE7Z0RBQ1Y7NENBQ0Y7d0NBQ0Y7d0NBQ0FqQyxpQkFBaUJBO3dDQUNqQjJNLGNBQWM1VSxTQUFTaUYsSUFBSTt3Q0FDM0I0UCxXQUFXalQsb0JBQW9COzs7Ozs7Ozs7Ozs7Ozs7cURBS3JDLDhEQUFDdUs7Z0NBQUlDLFdBQVU7MENBQ2IsNEVBQUMvTSxrRUFBVUE7b0NBQUMrTSxXQUFVOzhDQUFnQjs7Ozs7Ozs7Ozs7MENBSzFDLDhEQUFDL00sa0VBQVVBO2dDQUFDK00sV0FBVTswQ0FBTzs7Ozs7Ozs7Ozs7O2tDQU0vQiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUMwSTt3Q0FDQ3hSLElBQUc7d0NBQ0grSyxNQUFLO3dDQUNMMEcsU0FBUy9TO3dDQUNUeVEsVUFBVSxDQUFDQyxRQUFVelEsa0JBQWtCeVEsTUFBTUMsTUFBTSxDQUFDb0MsT0FBTzt3Q0FDM0QzSSxXQUFVOzs7Ozs7a0RBRVosOERBQUNtRjt3Q0FBTXlELFNBQVE7d0NBQWlCNUksV0FBVTs7NENBQXdCOzRDQUV0QzswREFDMUIsOERBQUNnQztnREFDQ0MsTUFBSztnREFDTEMsU0FBU1Q7Z0RBQ1R6QixXQUFVOzBEQUNYOzs7Ozs7NENBRVE7Ozs7Ozs7Ozs7Ozs7MENBSWIsOERBQUNoTix5REFBTUE7Z0NBQ0w2VixNQUFLO2dDQUNMM0csU0FBU1Y7Z0NBQ1RILFdBQVdyTDtnQ0FDWDhTLFVBQVU5UyxnQkFBZ0IsQ0FBQyxDQUFDWjtnQ0FDNUI0SyxXQUFVOztrREFFViw4REFBQ2xPLHNPQUFZQTt3Q0FBQ2tPLFdBQVU7d0NBQVVPLGVBQVk7Ozs7OztvQ0FDN0NuTCwwQkFBMEIsaUNBQWlDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQUtsRSw4REFBQzJUO2dCQUFNL0ksV0FBVTs7a0NBQ2YsOERBQUNEOzswQ0FDQyw4REFBQ007Z0NBQUVMLFdBQVU7MENBQW9EOzs7Ozs7MENBQ2pFLDhEQUFDdUY7Z0NBQUd2RixXQUFVOzBDQUF5Q2xKLFFBQVFNLElBQUk7Ozs7OzswQ0FDbkUsOERBQUNpSjtnQ0FBRUwsV0FBVTs7a0RBQ1gsOERBQUNwTyxzT0FBWUE7d0NBQUNvTyxXQUFVO3dDQUFVTyxlQUFZOzs7Ozs7b0NBQzdDak4sZ0VBQWdCQSxDQUFDcUcsS0FBS2lCLGFBQWEsRUFBRWpELFVBQVU7d0NBQzlDTyxTQUFTO3dDQUNUdUgsT0FBTzt3Q0FDUEMsS0FBSztvQ0FDUDs7Ozs7OzswQ0FFRiw4REFBQ1c7Z0NBQUVMLFdBQVU7O2tEQUNYLDhEQUFDL04sc09BQUtBO3dDQUFDK04sV0FBVTt3Q0FBVU8sZUFBWTs7Ozs7O29DQUN0Q2pOLGdFQUFnQkEsQ0FBQ3FHLEtBQUtpQixhQUFhLEVBQUVqRCxVQUFVO3dDQUM5Q2dJLE1BQU07d0NBQ05DLFFBQVE7b0NBQ1Y7b0NBQUk7b0NBQUk7b0NBQ0x3QyxlQUFldEwsUUFBUXVMLGVBQWU7Ozs7Ozs7MENBRTNDLDhEQUFDaEM7Z0NBQUVMLFdBQVU7O2tEQUNYLDhEQUFDdk4sc09BQUtBO3dDQUFDdU4sV0FBVTt3Q0FBVU8sZUFBWTs7Ozs7O29DQUN0QzVHLEtBQUtlLFNBQVM7Ozs7Ozs7Ozs7Ozs7a0NBR25CLDhEQUFDcUY7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNNO2tEQUFLOzs7Ozs7a0RBQ04sOERBQUNBO3dDQUFLTixXQUFVO2tEQUFjckMsZUFBZXZDOzs7Ozs7Ozs7Ozs7NEJBRTlDNUcsOEJBQ0MsOERBQUN1TDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNNOzs0Q0FBSzs0Q0FBWTlMLGNBQWMrSCxJQUFJOzRDQUFDOzs7Ozs7O2tEQUNyQyw4REFBQytEOzs0Q0FBSzs0Q0FBRTNDLGVBQWVuSixjQUFjK0csV0FBVzs7Ozs7Ozs7Ozs7O3VDQUVoRDswQ0FDSiw4REFBQ3dFO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ007a0RBQUs7Ozs7OztrREFDTiw4REFBQ0E7a0RBQU0zQyxlQUFlbkM7Ozs7Ozs7Ozs7OzswQ0FFeEIsOERBQUN2SSxrRUFBVUE7Z0NBQUMrTSxXQUFVOzBDQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRdkM7SUF0WlNzQjtNQUFBQTtBQXdaVCxTQUFTSSxpQkFBaUIsS0FrQnpCO1FBbEJ5QixFQUN4QkMsT0FBTyxFQUNQN0ssT0FBTyxFQUNQMEUsY0FBYyxFQUNkTyxRQUFRLEVBQ1JwRSxRQUFRLEVBQ1JpSyxhQUFhLEVBWWQsR0FsQnlCO1FBNEJiOUssZUEwQmVBLDBCQUtRQSxxQkFFTEEsc0JBR1NBO0lBN0N0QyxxQkFDRSw4REFBQ2lMO1FBQVEvQixXQUFVOzswQkFDakIsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7OzBDQUNDLDhEQUFDQTtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUMxTixzT0FBV0E7d0NBQUMwTixXQUFVO3dDQUFVTyxlQUFZOzs7Ozs7b0NBQVM7Ozs7Ozs7MENBR3hELDhEQUFDNEI7Z0NBQUduQyxXQUFVOzBDQUNYbEosQ0FBQUEsZ0JBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU00sSUFBSSxjQUFiTiwyQkFBQUEsZ0JBQWlCNkssUUFBUWxCLFdBQVc7Ozs7OzswQ0FFdkMsOERBQUNKO2dDQUFFTCxXQUFVOztvQ0FBbUM7b0NBQ2xDMkIsUUFBUXZELFFBQVEsQ0FBQ0MsS0FBSztvQ0FBQzs7Ozs7Ozs7Ozs7OztrQ0FJdkMsOERBQUMwQjt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNLO2dDQUFFTCxXQUFVOztrREFDWCw4REFBQ3BPLHNPQUFZQTt3Q0FBQ29PLFdBQVU7d0NBQVVPLGVBQVk7Ozs7OztvQ0FDN0NqTixnRUFBZ0JBLENBQUNxTyxRQUFRL0csYUFBYSxFQUFFakQsVUFBVTt3Q0FDakRPLFNBQVM7d0NBQ1R1SCxPQUFPO3dDQUNQQyxLQUFLO3dDQUNMQyxNQUFNO3dDQUNOQyxRQUFRO29DQUNWOzs7Ozs7OzRCQUVEK0IsUUFBUXhILEtBQUssaUJBQ1osOERBQUNrRztnQ0FBRUwsV0FBVTs7a0RBQ1gsOERBQUN2TixzT0FBS0E7d0NBQUN1TixXQUFVO3dDQUFVTyxlQUFZOzs7Ozs7b0NBQ3RDb0IsUUFBUXhILEtBQUssQ0FBQy9DLElBQUk7Ozs7Ozt1Q0FFbkI7MENBQ0osOERBQUNpSjtnQ0FBRUwsV0FBVTs7a0RBQ1gsOERBQUMvTixzT0FBS0E7d0NBQUMrTixXQUFVO3dDQUFVTyxlQUFZOzs7Ozs7b0NBQ3RDNkIsZUFBZXRMLENBQUFBLDJCQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVN1TCxlQUFlLGNBQXhCdkwsc0NBQUFBLDJCQUE0QjZLLFFBQVFVLGVBQWU7Ozs7Ozs7MENBRXJFLDhEQUFDdEM7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRDt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNNOzBEQUFLOzs7Ozs7MERBQ04sOERBQUNBOzBEQUFNM0MsZUFBZTdHLENBQUFBLHNCQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVN1RSxVQUFVLGNBQW5CdkUsaUNBQUFBLHNCQUF1QjZLLFFBQVFvRyxVQUFVLENBQUMzTSxjQUFjOzs7Ozs7Ozs7Ozs7b0NBRS9FSSxpQkFBa0IxRSxDQUFBQSxDQUFBQSx1QkFBQUEsb0JBQUFBLDhCQUFBQSxRQUFTdUUsVUFBVSxjQUFuQnZFLGtDQUFBQSx1QkFBdUI2SyxRQUFRb0csVUFBVSxDQUFDM00sY0FBYyxrQkFDekUsOERBQUMyRTt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNNOzBEQUFLOzs7Ozs7MERBQ04sOERBQUNBOztvREFBSztvREFBRTNDLGVBQWUsQ0FBQzdHLENBQUFBLHVCQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVN1RSxVQUFVLGNBQW5CdkUsa0NBQUFBLHVCQUF1QjZLLFFBQVFvRyxVQUFVLENBQUMzTSxjQUFjLElBQUlJOzs7Ozs7Ozs7Ozs7K0NBRXBGO2tEQUNKLDhEQUFDdUU7d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDTTswREFBSzs7Ozs7OzBEQUNOLDhEQUFDQTswREFBTTNDLGVBQWVuQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQU05Qiw4REFBQ3VFO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDSztnQ0FBRUwsV0FBVTswQ0FBc0I7Ozs7OzswQ0FDbkMsOERBQUNnSjtnQ0FBR2hKLFdBQVU7O2tEQUNaLDhEQUFDaUo7a0RBQUc7Ozs7OztrREFDSiw4REFBQ0E7a0RBQUc7Ozs7OztrREFDSiw4REFBQ0E7a0RBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQ0FHUiw4REFBQ2xKO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0s7Z0NBQUVMLFdBQVU7MENBQXNCOzs7Ozs7MENBQ25DLDhEQUFDZ0o7Z0NBQUdoSixXQUFVOztrREFDWiw4REFBQ2lKO2tEQUFJbE4sU0FBU21OLGtCQUFrQjs7Ozs7O2tEQUNoQyw4REFBQ0Q7a0RBQUlsTixTQUFTb04sWUFBWTs7Ozs7O2tEQUMxQiw4REFBQ0Y7a0RBQUlsTixTQUFTcU4sWUFBWTs7Ozs7O2tEQUMxQiw4REFBQ0g7a0RBQUlsTixTQUFTc04sVUFBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQUs5Qiw4REFBQ3RKO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ2hOLHlEQUFNQTt3QkFDTGlTLFNBQVE7d0JBQ1IvQyxTQUFTTjt3QkFDVDVCLFdBQVU7a0NBQ1g7Ozs7OztrQ0FHRCw4REFBQ0s7d0JBQUVMLFdBQVU7OzRCQUE4Qjs0QkFDaUIyQixRQUFRdkQsUUFBUSxDQUFDRyxLQUFLOzRCQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSzNGO01BN0dTbUQ7QUErR1QsU0FBU0csWUFBWSxLQVFwQjtRQVJvQixFQUNuQjlGLFFBQVEsRUFDUitGLE9BQU8sRUFDUG5LLFFBQVEsRUFLVCxHQVJvQjtJQVNuQixxQkFDRSw4REFBQ29JO1FBQ0NDLFdBQVU7UUFDVnNKLE1BQUs7UUFDTEMsY0FBVztrQkFFWCw0RUFBQ3hKO1lBQUlDLFdBQVU7OzhCQUNiLDhEQUFDZ0M7b0JBQ0NDLE1BQUs7b0JBQ0xDLFNBQVNKO29CQUNUOUIsV0FBVTtvQkFDVndKLGNBQVc7OEJBQ1o7Ozs7Ozs4QkFHRCw4REFBQ3JIO29CQUFHbkMsV0FBVTs4QkFBbUM7Ozs7Ozs4QkFDakQsOERBQUNLO29CQUFFTCxXQUFVOzt3QkFBNkI7d0JBQ1RySTt3QkFBUzs7Ozs7Ozs4QkFFMUMsOERBQUNvSTtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUN5Sjs0QkFBWTVMLE9BQU07NEJBQXNCYyxNQUFNNUMsU0FBU21OLGtCQUFrQjs7Ozs7O3NDQUMxRSw4REFBQ087NEJBQVk1TCxPQUFNOzRCQUFvQmMsTUFBTStLLFlBQVkzTixTQUFTNE4sbUJBQW1CLEVBQUU1TixTQUFTNk4sb0JBQW9COzs7Ozs7c0NBQ3BILDhEQUFDSDs0QkFBWTVMLE9BQU07NEJBQWlCYyxNQUFNNUMsU0FBU29OLFlBQVk7Ozs7OztzQ0FDL0QsOERBQUNNOzRCQUFZNUwsT0FBTTs0QkFBY2MsTUFBTStLLFlBQVkzTixTQUFTOE4sYUFBYSxFQUFFOU4sU0FBUytOLGNBQWM7Ozs7OztzQ0FDbEcsOERBQUNMOzRCQUFZNUwsT0FBTTs0QkFBZ0JjLE1BQU01QyxTQUFTcU4sWUFBWTs7Ozs7O3NDQUM5RCw4REFBQ0s7NEJBQVk1TCxPQUFNOzRCQUFjYyxNQUFNNUMsU0FBU3NOLFVBQVU7Ozs7Ozs7Ozs7Ozs4QkFFNUQsOERBQUN0SjtvQkFBSUMsV0FBVTs4QkFDYiw0RUFBQ2hOLHlEQUFNQTt3QkFBQ2tQLFNBQVNKO3dCQUFTOUIsV0FBVTs7MENBQ2xDLDhEQUFDbk8sc09BQUtBO2dDQUFDbU8sV0FBVTtnQ0FBVU8sZUFBWTs7Ozs7OzRCQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU81RDtNQTdDU3NCO0FBK0NULFNBQVNsQixjQUFjLEtBQW9FO1FBQXBFLEVBQUVDLFdBQVcsRUFBRUMsT0FBTyxFQUE4QyxHQUFwRTtJQUNyQixNQUFNa0osUUFBNEM7UUFDaEQ7WUFBRTdTLElBQUk7WUFBV2lPLE9BQU87UUFBVTtRQUNsQztZQUFFak8sSUFBSTtZQUFnQmlPLE9BQU87UUFBTztRQUNwQztZQUFFak8sSUFBSTtZQUFZaU8sT0FBTztRQUFXO1FBQ3BDO1lBQUVqTyxJQUFJO1lBQWdCaU8sT0FBTztRQUFPO0tBQ3JDO0lBQ0QscUJBQ0UsOERBQUNwRjtRQUFJQyxXQUFVOzswQkFDYiw4REFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ1orSixNQUFNOU0sR0FBRyxDQUFDLENBQUNqSixNQUFNZ1csc0JBQ2hCLDhEQUFDaks7d0JBQWtCQyxXQUFVOzswQ0FDM0IsOERBQUNNO2dDQUNDTixXQUFXNU0sK0NBQUVBLENBQ1gsNkZBQ0F3TixnQkFBZ0I1TSxLQUFLa0QsRUFBRSxHQUNuQiw0Q0FDQTswQ0FHTDhTLFFBQVE7Ozs7OzswQ0FFWCw4REFBQzFKO2dDQUFLTixXQUFXWSxnQkFBZ0I1TSxLQUFLa0QsRUFBRSxHQUFHLGVBQWU7MENBQ3ZEbEQsS0FBS21SLEtBQUs7Ozs7Ozs0QkFFWjZFLFFBQVFELE1BQU16USxNQUFNLEdBQUcsa0JBQ3RCLDhEQUFDZ0g7Z0NBQUtOLFdBQVU7Z0NBQXdCTyxlQUFZOzs7Ozt1Q0FDbEQ7O3VCQWhCSXZNLEtBQUtrRCxFQUFFOzs7Ozs7Ozs7O1lBb0JwQjBKLGdCQUFnQixhQUFhQSxnQkFBZ0IsK0JBQzVDLDhEQUFDNU4seURBQU1BO2dCQUFDaVMsU0FBUTtnQkFBUS9DLFNBQVNyQjtnQkFBU2IsV0FBVTswQkFBZ0I7Ozs7O3VCQUdsRTs7Ozs7OztBQUdWO01BdENTVztBQXdDVCxTQUFTd0YsTUFBTSxLQVFkO1FBUmMsRUFDYmhCLEtBQUssRUFDTHVCLE1BQU0sRUFDTnVELFFBQVEsRUFLVCxHQVJjO0lBU2IscUJBQ0UsOERBQUM5RTtRQUFNbkYsV0FBVTs7MEJBQ2YsOERBQUNNO2dCQUFLTixXQUFVOzBCQUE0Qm1GOzs7Ozs7WUFDM0M4RTtZQUNBdkQsdUJBQVMsOERBQUN6VCxrRUFBVUE7Z0JBQUMrTSxXQUFVOzBCQUE2QjBHOzs7Ozt1QkFBdUI7Ozs7Ozs7QUFHMUY7TUFoQlNQO0FBa0JULFNBQVNqQixVQUFVLEtBVWxCO1FBVmtCLEVBQ2pCQyxLQUFLLEVBQ0w3TixLQUFLLEVBQ0w4TixNQUFNLEVBQ05sRCxPQUFPLEVBTVIsR0FWa0I7SUFXakIscUJBQ0UsOERBQUNGO1FBQ0NDLE1BQUs7UUFDTEMsU0FBU0E7UUFDVGxDLFdBQVc1TSwrQ0FBRUEsQ0FDWCwwTUFDQWdTLFNBQVMsMkNBQTJDO1FBRXREUyxPQUFPVCxVQUFVOU4sUUFBUTtZQUFFd08sYUFBYXhPO1lBQU80UyxXQUFXLFlBQWtCLE9BQU41UyxPQUFNO1FBQUksSUFBSVg7a0JBRW5Gd087Ozs7OztBQUdQO01BeEJTRDtBQTBCVCxTQUFTdUUsWUFBWSxLQUFnRDtRQUFoRCxFQUFFNUwsS0FBSyxFQUFFYyxJQUFJLEVBQW1DLEdBQWhEO0lBQ25CLHFCQUNFLDhEQUFDb0I7OzBCQUNDLDhEQUFDTTtnQkFBRUwsV0FBVTswQkFBcURuQzs7Ozs7OzBCQUNsRSw4REFBQ3dDO2dCQUFFTCxXQUFVOzBCQUE4Q3JCOzs7Ozs7Ozs7Ozs7QUFHakU7TUFQUzhLO0FBU1QsU0FBU3hKO0lBQ1AscUJBQ0UsOERBQUNGO2tEQUFjOztZQUNadkcsTUFBTWtLLElBQUksQ0FBQztnQkFBRXBLLFFBQVE7WUFBSSxHQUFHMkQsR0FBRyxDQUFDLENBQUMwRyxHQUFHcUcsc0JBQ25DLDhEQUFDMUo7b0JBR0N1RixPQUFPO3dCQUNMc0UsTUFBTSxHQUF1QixPQUFwQjFPLEtBQUsyTyxNQUFNLEtBQUssS0FBSTt3QkFDN0JDLGdCQUFnQixHQUF1QixPQUFwQjVPLEtBQUsyTyxNQUFNLEtBQUssS0FBSTt3QkFDdkNyRSxpQkFBaUJ1RTtvQkFDbkI7OERBTFU7bUJBRExOOzs7Ozs7Ozs7Ozs7Ozs7QUFrQ2Y7T0F2Q1MvSjtBQXlDVCxTQUFTcUs7SUFDUCxNQUFNQyxVQUFVO1FBQUM7UUFBVztRQUFXO1FBQVc7UUFBVztRQUFXO0tBQVU7SUFDbEYsT0FBT0EsT0FBTyxDQUFDOU8sS0FBSytPLEtBQUssQ0FBQy9PLEtBQUsyTyxNQUFNLEtBQUtHLFFBQVFqUixNQUFNLEVBQUU7QUFDNUQ7QUFFQSxTQUFTOEksZUFBZXFJLE9BQWU7SUFDckMsSUFBSUEsVUFBVSxJQUFJLE9BQU8sR0FBVyxPQUFSQSxTQUFRO0lBQ3BDLE1BQU1DLE1BQU1qUCxLQUFLK08sS0FBSyxDQUFDQyxVQUFVO0lBQ2pDLE1BQU1FLE9BQU9GLFVBQVU7SUFDdkIsT0FBT0UsU0FBUyxJQUFJLEdBQU8sT0FBSkQsS0FBSSxTQUFPLEdBQWFDLE9BQVZELEtBQUksUUFBVyxPQUFMQyxNQUFLO0FBQ3REO0FBRUEsU0FBU2hOLGVBQWVpTixLQUFhO0lBQ25DLE9BQU8sSUFBSTdTLEtBQUs4UyxZQUFZLENBQUMsU0FBUztRQUNwQ2hGLE9BQU87UUFDUHVDLFVBQVU7SUFDWixHQUFHbk8sTUFBTSxDQUFDMlEsUUFBUTtBQUNwQjtBQUVBLFNBQVNoRSx3QkFBd0JrRSxPQUFpQjtJQUNoRCxNQUFNQyxTQUFTdlIsTUFBTWtLLElBQUksQ0FBQyxJQUFJM0csSUFBSStOO0lBQ2xDLE1BQU1FLGVBQXVDO1FBQzNDQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsU0FBUztRQUNUQyxXQUFXO1FBQ1gsYUFBYTtRQUNiQyxZQUFZO1FBQ1osY0FBYztJQUNoQjtJQUNBLE1BQU1DLFNBQVNQLE9BQU85TixHQUFHLENBQUMsQ0FBQ3dCLFNBQVd1TSxZQUFZLENBQUN2TSxPQUFPSCxXQUFXLEdBQUcsSUFBSUcsT0FBT2hDLFdBQVc7SUFDOUYsT0FBTzZPLE9BQU9oUyxNQUFNLEdBQUcsSUFBSSxhQUErQixPQUFsQmdTLE9BQU9DLElBQUksQ0FBQyxTQUFVO0FBQ2hFO0FBRUEsU0FBUzdCLFlBQVl6SCxJQUF3QixFQUFFbUUsS0FBYTtJQUMxRCxJQUFJQSxTQUFTLEdBQUcsT0FBTztJQUN2QixPQUFPbkUsU0FBUyxZQUFZLEdBQVMsT0FBTm1FLE9BQU0sNEJBQTBCekksZUFBZWxDLEtBQUs4QixLQUFLLENBQUM2SSxRQUFRO0FBQ25HO0FBRUEsU0FBUzVGLGNBQWMzSSxRQUF1RDtJQUM1RSxNQUFNMlQsUUFBUTtRQUNaM1QsU0FBUzRULFlBQVk7UUFDckI1VCxTQUFTNlQsWUFBWTtRQUNwQixHQUFvQjdULE9BQWxCQSxTQUFTOFQsSUFBSSxFQUFDLE1BQTJCLE9BQXZCOVQsU0FBUytULGFBQWE7UUFDM0MvVCxTQUFTZ1UsT0FBTztLQUNqQixDQUFDMVEsTUFBTSxDQUFDMlE7SUFDVCxPQUFPTixNQUFNRCxJQUFJLENBQUM7QUFDcEI7QUFFQSxTQUFTdk4sYUFBYUssS0FBYTtJQUNqQyxPQUFPLGVBQWUwTixJQUFJLENBQUMxTjtBQUM3QjtBQUVBLFNBQVNKLGFBQWFNLEtBQWE7SUFDakMsT0FBT0EsTUFBTS9CLElBQUksR0FBR2xELE1BQU0sSUFBSTtBQUNoQztBQUVBLFNBQVNnUCxvQkFBb0J2TSxRQUEyQztJQUN0RSxNQUFNaVEsV0FBV3BOLEtBQUtDLFNBQVMsQ0FBQzlDO0lBQ2hDLE1BQU1rUSxPQUFPQyxXQUFXRjtJQUN4QixPQUFPO1FBQ0xDO1FBQ0FFLFlBQVksSUFBSTFVLE9BQU9lLFdBQVc7UUFDbEM0VCxJQUFJO1FBQ0pDLFdBQVdDLFVBQVVELFNBQVM7SUFDaEM7QUFDRjtBQUVBLFNBQVNILFdBQVd4RCxLQUFhO0lBQy9CLElBQUl1RCxPQUFPO0lBQ1gsSUFBSyxJQUFJakMsUUFBUSxHQUFHQSxRQUFRdEIsTUFBTXBQLE1BQU0sRUFBRTBRLFNBQVMsRUFBRztRQUNwRGlDLE9BQU8sQ0FBQ0EsUUFBUSxLQUFLQSxPQUFPdkQsTUFBTTZELFVBQVUsQ0FBQ3ZDO1FBQzdDaUMsUUFBUTtJQUNWO0lBQ0EsT0FBT3hRLEtBQUsrUSxHQUFHLENBQUNQLE1BQU1RLFFBQVEsQ0FBQztBQUNqQztBQUVBLGdDQUFnQztBQUNoQyxTQUFTL0Usa0JBQWtCLEtBOEMxQjtRQTlDMEIsRUFDekJDLG9CQUFvQixFQUNwQjlMLGVBQWUsRUFDZjJNLFlBQVksRUFDWkMsU0FBUyxFQUNUalQsZ0JBQWdCLEVBQ2hCRSxrQkFBa0IsRUFDbEI3QixTQUFTLEVBQ1RpQixZQUFZLEVBQ1pFLGFBQWEsRUFDYkUsYUFBYSxFQUNia0csY0FBYyxFQUNkNUcsYUFBYSxFQUNidUgsUUFBUSxFQUNScEUsUUFBUSxFQUNSakIsZUFBZSxFQUNmcEMsWUFBWSxFQUNaNkIsaUJBQWlCLEVBQ2pCbEMsT0FBTyxFQUNQRixLQUFLLEVBMkJOLEdBOUMwQjs7SUErQ3pCLE1BQU04UyxTQUFTaFUsa0VBQVNBO0lBQ3hCLE1BQU02WixXQUFXNVosb0VBQVdBO0lBQzVCLE1BQU0sQ0FBQzZaLGNBQWNDLGdCQUFnQixHQUFHbmIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDc0osT0FBTzhSLFNBQVMsR0FBR3BiLCtDQUFRQSxDQUFnQjtJQUVsRCxNQUFNcWIsZUFBZSxPQUFPQztRQUMxQkEsRUFBRUMsY0FBYztRQUVoQixJQUFJLENBQUNuRyxVQUFVLENBQUM2RixVQUFVO1lBQ3hCO1FBQ0Y7UUFFQUUsZ0JBQWdCO1FBQ2hCQyxTQUFTO1FBRVQsSUFBSTtZQUNGLDBCQUEwQjtZQUMxQixNQUFNLEVBQUU5UixPQUFPa1MsWUFBWSxFQUFFQyxXQUFXLEVBQUUsR0FBRyxNQUFNckcsT0FBT3NHLFlBQVksQ0FBQztnQkFDckVUO2dCQUNBVSxVQUFVO1lBQ1o7WUFFQSxJQUFJSCxjQUFjO2dCQUNoQkosU0FBU0ksYUFBYXBOLE9BQU8sSUFBSTtnQkFDakMrTSxnQkFBZ0I7Z0JBQ2hCO1lBQ0Y7WUFFQSxJQUFJTSxlQUFlQSxZQUFZRyxjQUFjLEVBQUU7Z0JBQzdDLE1BQU16RixPQUFPLE9BQU9zRixZQUFZRyxjQUFjLEtBQUssV0FDL0NILFlBQVlHLGNBQWMsR0FDMUJILFlBQVlHLGNBQWMsQ0FBQ25XLEVBQUU7Z0JBQ2pDeVEscUJBQXFCQztnQkFDckJpRixTQUFTO2dCQUVULG9EQUFvRDtnQkFDcEQsSUFBSW5XLG1CQUFtQnBDLGdCQUFnQmtCLGtCQUFrQjt3QkFjNUMzQjtvQkFiWCxNQUFNOE4sVUFBdUI7d0JBQzNCekssSUFBSTFCO3dCQUNKK0csTUFBTTdHLHNCQUFzQixTQUFvRCxPQUEzQ0YsaUJBQWlCcVMsS0FBSyxDQUFDLEdBQUcsR0FBR3BMLFdBQVc7d0JBQzdFeEQsUUFBUTt3QkFDUnVCLFdBQVc5RCxnQkFBZ0JRLEVBQUU7d0JBQzdCdUosYUFBYS9KLGdCQUFnQlUsSUFBSTt3QkFDakNELGNBQWNULGdCQUFnQlMsWUFBWTt3QkFDMUNrTCxpQkFBaUIzTCxnQkFBZ0IyTCxlQUFlO3dCQUNoRHpILGVBQWV0RyxhQUFhc0csYUFBYTt3QkFDekNDLGFBQWF2RyxhQUFhdUcsV0FBVzt3QkFDckNWLE9BQU87NEJBQ0xqRCxJQUFJNUMsYUFBYW1HLE9BQU87NEJBQ3hCckQsTUFBTTlDLGFBQWFvRyxTQUFTOzRCQUM1QnBELE9BQU96RCxFQUFBQSx3QkFBQUEsVUFBVXNHLEtBQUssQ0FBQ25ELElBQUksQ0FBQ29ELENBQUFBLElBQUtBLEVBQUVsRCxFQUFFLEtBQUs1QyxhQUFhbUcsT0FBTyxlQUF2RDVHLDRDQUFBQSxzQkFBMER5RCxLQUFLLEtBQUk7d0JBQzVFO3dCQUNBOEcsVUFBVTs0QkFDUmhILE1BQU10QyxhQUFhMEgsSUFBSTs0QkFDdkI2QixPQUFPckosY0FBY3dILElBQUksR0FBRzhCLFdBQVc7NEJBQ3ZDQyxPQUFPckosY0FBY3NILElBQUk7d0JBQzNCO3dCQUNBc0wsVUFBVSxFQUFFO3dCQUNaQyxZQUFZOzRCQUNWM00sZ0JBQWdCQTs0QkFDaEI0TSxxQkFBcUJ4VCxDQUFBQSwwQkFBQUEsb0NBQUFBLGNBQWUrRyxXQUFXLEtBQUk7NEJBQ25EME0sa0JBQWtCOzRCQUNsQkMsd0JBQXdCOzRCQUN4QkMsZ0JBQWdCOzRCQUNoQkMsVUFBVTt3QkFDWjt3QkFDQUMsZUFBZUMsb0JBQW9Cdk07d0JBQ25Dd00sZ0JBQWdCO29CQUNsQjtvQkFDQXBTLGtCQUFrQndMO29CQUNsQjFOLFFBQVE7b0JBQ1JGLE1BQU02SixTQUFTLENBQUM7d0JBQ2RDLE9BQU87d0JBQ1BILGFBQWEsR0FBOEJwSyxPQUEzQm9ELGdCQUFnQlUsSUFBSSxFQUFDLFFBSW5DLE9BSnlDOUQsZ0VBQWdCQSxDQUN6RGdCLGFBQWFzRyxhQUFhLEVBQzFCakQsVUFDQTs0QkFBRU8sU0FBUzs0QkFBUXVILE9BQU87NEJBQVNDLEtBQUs7NEJBQVdDLE1BQU07NEJBQVdDLFFBQVE7d0JBQVUsSUFDdEY7d0JBQ0Y5QixRQUFRO29CQUNWO2dCQUNGO1lBQ0Y7UUFDRixFQUFFLE9BQU9oRCxLQUFLO1lBQ1orUixTQUFTL1IsZUFBZWtFLFFBQVFsRSxJQUFJK0UsT0FBTyxHQUFHO1FBQ2hELFNBQVU7WUFDUitNLGdCQUFnQjtRQUNsQjtJQUNGO0lBRUEsMkZBQTJGO0lBQzNGLDRGQUE0RjtJQUM1RixNQUFNVSxxQkFBK0I7UUFBQztLQUFPO0lBRTdDLHNEQUFzRDtJQUN0RCx5RUFBeUU7SUFDekUsSUFBSXpSLGdCQUFnQnFILFFBQVEsQ0FBQyxnQkFBZ0JySCxnQkFBZ0JxSCxRQUFRLENBQUMsY0FBYztRQUNsRm9LLG1CQUFtQi9TLElBQUksQ0FBQztJQUMxQjtJQUNBLElBQUlzQixnQkFBZ0JxSCxRQUFRLENBQUMsaUJBQWlCckgsZ0JBQWdCcUgsUUFBUSxDQUFDLGVBQWU7UUFDcEZvSyxtQkFBbUIvUyxJQUFJLENBQUM7SUFDMUI7SUFDQSxvREFBb0Q7SUFDcEQsSUFBSXNCLGdCQUFnQnFILFFBQVEsQ0FBQyxZQUFZO1FBQ3ZDLElBQUksQ0FBQ29LLG1CQUFtQnBLLFFBQVEsQ0FBQyxjQUFjb0ssbUJBQW1CL1MsSUFBSSxDQUFDO1FBQ3ZFLElBQUksQ0FBQytTLG1CQUFtQnBLLFFBQVEsQ0FBQyxlQUFlb0ssbUJBQW1CL1MsSUFBSSxDQUFDO0lBQzFFO0lBRUEscUJBQ0UsOERBQUNnVDtRQUFLL0wsVUFBVXNMO1FBQWM5TSxXQUFVO2tCQUN0Qyw0RUFBQ0Q7WUFBSUMsV0FBVTs7OEJBQ2IsOERBQUNwTixtRUFBY0E7b0JBQ2JrVSxTQUFTO3dCQUNQd0csb0JBQW9CQTt3QkFDcEIsa0ZBQWtGO3dCQUNsRixHQUFJQSxtQkFBbUJoVSxNQUFNLEdBQUcsSUFBSTs0QkFBRWtVLFFBQVE7d0JBQWdCLElBQUksQ0FBQyxDQUFDO29CQUN0RTs7Ozs7O2dCQUVEelMsdUJBQ0MsOERBQUM5SCxrRUFBVUE7b0JBQUM2SyxRQUFPO29CQUFRa0MsV0FBVTs4QkFDbENqRjs7Ozs7OzhCQUdMLDhEQUFDL0gseURBQU1BO29CQUNMaVAsTUFBSztvQkFDTDZHLFVBQVU2RCxnQkFBZ0IsQ0FBQzlGO29CQUMzQnhGLFdBQVdzTDtvQkFDWDNNLFdBQVU7OEJBRVQyTSxlQUFlLDZCQUE2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLdkQ7SUFwTFNqRjs7UUErQ1E3VSw4REFBU0E7UUFDUEMsZ0VBQVdBOzs7T0FoRHJCNFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvcHVibGljLWJvb2tpbmcvYm9va2luZy1mbG93LnRzeD9hYzk1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBBcnJvd0xlZnQsXG4gIEFycm93UmlnaHQsXG4gIENhbGVuZGFyRGF5cyxcbiAgQ2hlY2ssXG4gIENoZWNrQ2lyY2xlMixcbiAgQ2hldnJvbkxlZnQsXG4gIENoZXZyb25SaWdodCxcbiAgQ2xvY2ssXG4gIENyZWRpdENhcmQsXG4gIEdpZnQsXG4gIExvYWRlcjIsXG4gIE1hcFBpbixcbiAgUGFydHlQb3BwZXIsXG4gIFNoaWVsZENoZWNrLFxuICBTcGFya2xlcyxcbiAgVXNlcnNcbn0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgbG9hZFN0cmlwZSB9IGZyb20gXCJAc3RyaXBlL3N0cmlwZS1qc1wiO1xuaW1wb3J0IHsgRWxlbWVudHMsIFBheW1lbnRFbGVtZW50LCB1c2VTdHJpcGUsIHVzZUVsZW1lbnRzIH0gZnJvbSBcIkBzdHJpcGUvcmVhY3Qtc3RyaXBlLWpzXCI7XG5cbmltcG9ydCB7IEJhZGdlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9iYWRnZVwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IEhlbHBlclRleHQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2hlbHBlci10ZXh0XCI7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5wdXRcIjtcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90b2FzdFwiO1xuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcbmltcG9ydCB0eXBlIHsgRmFrZUJvb2tpbmcsIEZha2VCdXNpbmVzc1dvcmtzcGFjZSB9IGZyb20gXCJAL2xpYi9hZG1pbi13b3Jrc3BhY2VcIjtcbmltcG9ydCB0eXBlIHsgRmFrZUJ1c2luZXNzLCBQdWJsaWNCb29raW5nUGF5bG9hZCB9IGZyb20gXCJAL2xpYi9mYWtlLWJ1c2luZXNzXCI7XG5pbXBvcnQgeyBidWlsZEV4cGFuZGVkU2xvdHMsIGdyb3VwU2xvdHNCeURheSwgdHlwZSBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QgfSBmcm9tIFwiQC9saWIvYXZhaWxhYmlsaXR5LXV0aWxzXCI7XG5pbXBvcnQgeyBmb3JtYXRJblRpbWVab25lIH0gZnJvbSBcIkAvbGliL3RpbWV6b25lXCI7XG5cbi8vIEluaXRpYWxpemUgU3RyaXBlXG5jb25zdCBzdHJpcGVQcm9taXNlID0gbG9hZFN0cmlwZShwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVFJJUEVfUFVCTElTSEFCTEVfS0VZIHx8ICcnKTtcblxudHlwZSBTdGVwID0gXCJjYXRhbG9nXCIgfCBcImF2YWlsYWJpbGl0eVwiIHwgXCJjaGVja291dFwiIHwgXCJjb25maXJtYXRpb25cIjtcblxuaW50ZXJmYWNlIFB1YmxpY0Jvb2tpbmdFeHBlcmllbmNlUHJvcHMge1xuICBidXNpbmVzczogRmFrZUJ1c2luZXNzO1xuICB3b3Jrc3BhY2U6IEZha2VCdXNpbmVzc1dvcmtzcGFjZTtcbiAgcmVjb3JkQm9va2luZzogKHBheWxvYWQ6IFB1YmxpY0Jvb2tpbmdQYXlsb2FkKSA9PiBGYWtlQm9va2luZyB8IHVuZGVmaW5lZDtcbn1cblxuaW50ZXJmYWNlIEdpZnRDYXJkU3RhdGUge1xuICBjb2RlOiBzdHJpbmc7XG4gIGFtb3VudENlbnRzOiBudW1iZXI7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQdWJsaWNCb29raW5nRXhwZXJpZW5jZSh7XG4gIGJ1c2luZXNzLFxuICB3b3Jrc3BhY2UsXG4gIHJlY29yZEJvb2tpbmdcbn06IFB1YmxpY0Jvb2tpbmdFeHBlcmllbmNlUHJvcHMpIHtcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xuICBjb25zdCBbc3RlcCwgc2V0U3RlcF0gPSB1c2VTdGF0ZTxTdGVwPihcImNhdGFsb2dcIik7XG4gIGNvbnN0IFtzZWxlY3RlZFNlcnZpY2VJZCwgc2V0U2VsZWN0ZWRTZXJ2aWNlSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzZWxlY3RlZFN0YWZmSWQsIHNldFNlbGVjdGVkU3RhZmZJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiYW55XCIpO1xuICBjb25zdCBbc2VsZWN0ZWRTbG90LCBzZXRTZWxlY3RlZFNsb3RdID0gdXNlU3RhdGU8RXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtnaWZ0Q2FyZFN0YXRlLCBzZXRHaWZ0Q2FyZFN0YXRlXSA9IHVzZVN0YXRlPEdpZnRDYXJkU3RhdGUgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2dpZnRDYXJkSW5wdXQsIHNldEdpZnRDYXJkSW5wdXRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtnaWZ0Q2FyZEVycm9yLCBzZXRHaWZ0Q2FyZEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY3VzdG9tZXJOYW1lLCBzZXRDdXN0b21lck5hbWVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjdXN0b21lckVtYWlsLCBzZXRDdXN0b21lckVtYWlsXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VzdG9tZXJQaG9uZSwgc2V0Q3VzdG9tZXJQaG9uZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3NldHVwSW50ZW50Q2xpZW50U2VjcmV0LCBzZXRTZXR1cEludGVudENsaWVudFNlY3JldF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3BheW1lbnRNZXRob2RJZCwgc2V0UGF5bWVudE1ldGhvZElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY3JlYXRlZEJvb2tpbmdJZCwgc2V0Q3JlYXRlZEJvb2tpbmdJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NyZWF0ZWRCb29raW5nQ29kZSwgc2V0Q3JlYXRlZEJvb2tpbmdDb2RlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY29uc2VudENoZWNrZWQsIHNldENvbnNlbnRDaGVja2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzUG9saWN5TW9kYWxPcGVuLCBzZXRJc1BvbGljeU1vZGFsT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjcmVhdGVkQm9va2luZywgc2V0Q3JlYXRlZEJvb2tpbmddID0gdXNlU3RhdGU8RmFrZUJvb2tpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2ZldGNoZWRTbG90cywgc2V0RmV0Y2hlZFNsb3RzXSA9IHVzZVN0YXRlPEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdFtdPihbXSk7XG4gIGNvbnN0IFtpc0xvYWRpbmdBdmFpbGFiaWxpdHksIHNldElzTG9hZGluZ0F2YWlsYWJpbGl0eV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthdmFpbGFiaWxpdHlFcnJvciwgc2V0QXZhaWxhYmlsaXR5RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3Qgc2VsZWN0ZWRTZXJ2aWNlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2VJZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IG9mIHdvcmtzcGFjZS5jYXRhbG9nKSB7XG4gICAgICBjb25zdCBzZXJ2aWNlID0gY2F0ZWdvcnkuc2VydmljZXMuZmluZCgoc3ZjKSA9PiBzdmMuaWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICAgIGlmIChzZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uc2VydmljZSxcbiAgICAgICAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5Lm5hbWUsXG4gICAgICAgICAgY2F0ZWdvcnlDb2xvcjogY2F0ZWdvcnkuY29sb3JcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW3NlbGVjdGVkU2VydmljZUlkLCB3b3Jrc3BhY2UuY2F0YWxvZ10pO1xuXG4gIC8vIEZldGNoIGF2YWlsYWJpbGl0eSBmcm9tIEFQSSB3aGVuIHNlcnZpY2UgaXMgc2VsZWN0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSB8fCBzdGVwICE9PSBcImF2YWlsYWJpbGl0eVwiKSB7XG4gICAgICBzZXRGZXRjaGVkU2xvdHMoW10pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoQXZhaWxhYmlsaXR5KCkge1xuICAgICAgc2V0SXNMb2FkaW5nQXZhaWxhYmlsaXR5KHRydWUpO1xuICAgICAgc2V0QXZhaWxhYmlsaXR5RXJyb3IobnVsbCk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEZldGNoIGF2YWlsYWJpbGl0eSBmb3IgdGhlIG5leHQgMTQgZGF5cyAoMiB3ZWVrcylcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBhbGxTbG90czogRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90W10gPSBbXTtcbiAgICAgICAgY29uc3QgdGltZXpvbmUgPSB3b3Jrc3BhY2UuaWRlbnRpdHkubG9jYXRpb24udGltZXpvbmUgfHwgXCJVVENcIjtcbiAgICAgICAgY29uc3QgZGF5Rm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJlbi1VU1wiLCB7IFxuICAgICAgICAgIHRpbWVab25lOiB0aW1lem9uZSwgXG4gICAgICAgICAgd2Vla2RheTogXCJsb25nXCIgXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRvZGF5KTtcbiAgICAgICAgICBkYXRlLnNldERhdGUodG9kYXkuZ2V0RGF0ZSgpICsgaSk7XG4gICAgICAgICAgY29uc3QgZGF0ZVN0ciA9IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOyAvLyBZWVlZLU1NLUREXG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgICAgIGAvYXBpL3B1YmxpYy8ke2J1c2luZXNzLnNsdWd9L2F2YWlsYWJpbGl0eT9zZXJ2aWNlX2lkPSR7c2VsZWN0ZWRTZXJ2aWNlLmlkfSZkYXRlPSR7ZGF0ZVN0cn1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGZldGNoIGF2YWlsYWJpbGl0eSBmb3IgJHtkYXRlU3RyfTpgLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbYm9va2luZy1mbG93XSBGZXRjaGVkIGF2YWlsYWJpbGl0eSBmb3IgJHtkYXRlU3RyfTpgLCB7XG4gICAgICAgICAgICAgIHNsb3RzQ291bnQ6IGRhdGEuc2xvdHM/Lmxlbmd0aCB8fCAwLFxuICAgICAgICAgICAgICBoYXNTbG90czogQXJyYXkuaXNBcnJheShkYXRhLnNsb3RzKSxcbiAgICAgICAgICAgICAgc2FtcGxlU2xvdDogZGF0YS5zbG90cz8uWzBdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChkYXRhLnNsb3RzICYmIEFycmF5LmlzQXJyYXkoZGF0YS5zbG90cykpIHtcbiAgICAgICAgICAgICAgLy8gVHJhbnNmb3JtIEFQSSBzbG90cyB0byBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QgZm9ybWF0XG4gICAgICAgICAgICAgIGZvciAoY29uc3Qgc2xvdCBvZiBkYXRhLnNsb3RzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoc2xvdC5zdGFydF9hdCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKHNsb3QuZW5kX2F0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXlMYWJlbCA9IGRheUZvcm1hdHRlci5mb3JtYXQoc3RhcnREYXRlKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBGaW5kIHN0YWZmIG1lbWJlciB0byBnZXQgY29sb3JcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFmZk1lbWJlciA9IHdvcmtzcGFjZS5zdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc2xvdC5zdGFmZl9pZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhZmZDb2xvciA9IHN0YWZmTWVtYmVyPy5jb2xvciB8fCBcIiMwMDAwMDBcIjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhbGxTbG90cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIGlkOiBgJHtzbG90LnN0YWZmX2lkfS0ke3Nsb3Quc3RhcnRfYXR9YCxcbiAgICAgICAgICAgICAgICAgIHNlcnZpY2VJZDogc2VsZWN0ZWRTZXJ2aWNlLmlkLFxuICAgICAgICAgICAgICAgICAgc3RhZmZJZDogc2xvdC5zdGFmZl9pZCxcbiAgICAgICAgICAgICAgICAgIHN0YWZmTmFtZTogc2xvdC5zdGFmZl9uYW1lLFxuICAgICAgICAgICAgICAgICAgc3RhZmZDb2xvcjogc3RhZmZDb2xvcixcbiAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZVRpbWU6IHNsb3Quc3RhcnRfYXQsXG4gICAgICAgICAgICAgICAgICBlbmREYXRlVGltZTogc2xvdC5lbmRfYXQsXG4gICAgICAgICAgICAgICAgICBkYXlMYWJlbDogZGF5TGFiZWwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW2Jvb2tpbmctZmxvd10gTm8gc2xvdHMgYXJyYXkgaW4gcmVzcG9uc2UgZm9yICR7ZGF0ZVN0cn06YCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyBhdmFpbGFiaWxpdHkgZm9yICR7ZGF0ZVN0cn06YCwgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldEZldGNoZWRTbG90cyhhbGxTbG90cyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhdmFpbGFiaWxpdHk6JywgZXJyb3IpO1xuICAgICAgICBzZXRBdmFpbGFiaWxpdHlFcnJvcignRmFpbGVkIHRvIGxvYWQgYXZhaWxhYmlsaXR5LiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nQXZhaWxhYmlsaXR5KGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaEF2YWlsYWJpbGl0eSgpO1xuICB9LCBbc2VsZWN0ZWRTZXJ2aWNlLCBzdGVwLCBidXNpbmVzcy5zbHVnLCB3b3Jrc3BhY2Uuc3RhZmYsIHdvcmtzcGFjZS5pZGVudGl0eS5sb2NhdGlvbi50aW1lem9uZV0pO1xuXG4gIGNvbnN0IHNlcnZpY2VBdmFpbGFiaWxpdHkgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAvLyBVc2UgZmV0Y2hlZCBzbG90cyBmcm9tIEFQSSBpbnN0ZWFkIG9mIHdvcmtzcGFjZS5hdmFpbGFiaWxpdHlcbiAgICByZXR1cm4gZmV0Y2hlZFNsb3RzO1xuICB9LCBbZmV0Y2hlZFNsb3RzXSk7XG5cbiAgY29uc3QgZ3JvdXBlZFNsb3RzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2UpIHJldHVybiB7fTtcbiAgICBjb25zdCBmaWx0ZXJlZCA9XG4gICAgICBzZWxlY3RlZFN0YWZmSWQgPT09IFwiYW55XCJcbiAgICAgICAgPyBzZXJ2aWNlQXZhaWxhYmlsaXR5XG4gICAgICAgIDogc2VydmljZUF2YWlsYWJpbGl0eS5maWx0ZXIoKHNsb3QpID0+IHNsb3Quc3RhZmZJZCA9PT0gc2VsZWN0ZWRTdGFmZklkKTtcbiAgICByZXR1cm4gZ3JvdXBTbG90c0J5RGF5KGZpbHRlcmVkLCB3b3Jrc3BhY2UuaWRlbnRpdHkubG9jYXRpb24udGltZXpvbmUgfHwgXCJVVENcIik7XG4gIH0sIFtcbiAgICBzZXJ2aWNlQXZhaWxhYmlsaXR5LFxuICAgIHNlbGVjdGVkU3RhZmZJZCxcbiAgICB3b3Jrc3BhY2UuaWRlbnRpdHkubG9jYXRpb24udGltZXpvbmUsXG4gICAgc2VsZWN0ZWRTZXJ2aWNlXG4gIF0pO1xuXG4gIGNvbnN0IGxpc3RQcmljZUNlbnRzID0gc2VsZWN0ZWRTZXJ2aWNlPy5wcmljZUNlbnRzID8/IDA7XG4gIGNvbnN0IGFwcGxpZWRHaWZ0Q2FyZENlbnRzID0gZ2lmdENhcmRTdGF0ZT8uYW1vdW50Q2VudHMgPz8gMDtcbiAgY29uc3QgYW1vdW50RHVlQ2VudHMgPSBNYXRoLm1heChsaXN0UHJpY2VDZW50cyAtIGFwcGxpZWRHaWZ0Q2FyZENlbnRzLCAwKTtcblxuICAvLyBDYXJkIGlzIGFsd2F5cyByZXF1aXJlZCBmb3IgYWxsIGJvb2tpbmdzIChldmVuIGNhc2gpIGFzIGJhY2t1cCBmb3Igbm8tc2hvdyBmZWVzXG4gIC8vIEJ1dCB3ZSBkaXNwbGF5IHRoZSBidXNpbmVzcydzIGFjY2VwdGVkIG1ldGhvZHMgZnJvbSBvbmJvYXJkaW5nIGZvciBpbmZvcm1hdGlvblxuICBjb25zdCBidXNpbmVzc0FjY2VwdGVkTWV0aG9kcyA9IHdvcmtzcGFjZS5wYXltZW50LmFjY2VwdGVkTWV0aG9kcyB8fCBbXTtcbiAgY29uc3QgYWNjZXB0ZWRNZXRob2RzRm9yRGlzcGxheSA9IGJ1c2luZXNzQWNjZXB0ZWRNZXRob2RzLmxlbmd0aCA+IDAgXG4gICAgPyBidXNpbmVzc0FjY2VwdGVkTWV0aG9kcyBcbiAgICA6IFtcImNhcmRcIl07IC8vIERlZmF1bHQgdG8gY2FyZCBpZiBubyBtZXRob2RzIHNwZWNpZmllZFxuXG4gIGNvbnN0IHBvbGljaWVzID0gd29ya3NwYWNlLnBvbGljaWVzO1xuICBjb25zdCB0aW1lem9uZSA9IHdvcmtzcGFjZS5pZGVudGl0eS5sb2NhdGlvbi50aW1lem9uZSB8fCBcIlVUQ1wiO1xuXG4gIGNvbnN0IGhhbmRsZVNlbGVjdFNlcnZpY2UgPSAoc2VydmljZUlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRTZWxlY3RlZFNlcnZpY2VJZChzZXJ2aWNlSWQpO1xuICAgIHNldFNlbGVjdGVkU3RhZmZJZChcImFueVwiKTtcbiAgICBzZXRTZWxlY3RlZFNsb3QobnVsbCk7XG4gICAgc2V0U3RlcChcImF2YWlsYWJpbGl0eVwiKTtcbiAgICBzZXRHaWZ0Q2FyZFN0YXRlKG51bGwpO1xuICAgIHNldEdpZnRDYXJkSW5wdXQoXCJcIik7XG4gICAgc2V0R2lmdENhcmRFcnJvcihudWxsKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZWxlY3RTbG90ID0gKHNsb3Q6IEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdCkgPT4ge1xuICAgIHNldFNlbGVjdGVkU2xvdChzbG90KTtcbiAgICBzZXRHaWZ0Q2FyZFN0YXRlKG51bGwpO1xuICAgIHNldEdpZnRDYXJkSW5wdXQoXCJcIik7XG4gICAgc2V0R2lmdENhcmRFcnJvcihudWxsKTtcbiAgICBzZXRTdGVwKFwiY2hlY2tvdXRcIik7XG4gICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBcHBseUdpZnRDYXJkID0gKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlKSByZXR1cm47XG4gICAgY29uc3QgY29kZSA9IGdpZnRDYXJkSW5wdXQudHJpbSgpLnRvVXBwZXJDYXNlKCk7XG4gICAgaWYgKGNvZGUubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZXRHaWZ0Q2FyZEVycm9yKFwiRW50ZXIgYSBnaWZ0IGNhcmQgY29kZSB0byBhcHBseS5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb2dyYW0gPSB3b3Jrc3BhY2UuZ2lmdENhcmRzO1xuICAgIGlmICghcHJvZ3JhbS5jb25maWcuZW5hYmxlZCkge1xuICAgICAgc2V0R2lmdENhcmRFcnJvcihcIkdpZnQgY2FyZHMgYXJlIG5vdCBlbmFibGVkIGZvciB0aGlzIGJ1c2luZXNzLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYWxsQ29kZXMgPSBuZXcgU2V0KFtcbiAgICAgIC4uLnByb2dyYW0uY29uZmlnLmdlbmVyYXRlZENvZGVzLm1hcCgoZW50cnkpID0+IGVudHJ5LnRvVXBwZXJDYXNlKCkpLFxuICAgICAgLi4ucHJvZ3JhbS5sZWRnZXIubWFwKChlbnRyeSkgPT4gZW50cnkuY29kZS50b1VwcGVyQ2FzZSgpKVxuICAgIF0pO1xuICAgIGlmICghYWxsQ29kZXMuaGFzKGNvZGUpKSB7XG4gICAgICBzZXRHaWZ0Q2FyZEVycm9yKFwiVGhhdCBjb2RlIGlzIG5vdCByZWNvZ25pemVkLiBDaGVjayB0aGUgc3BlbGxpbmcgYW5kIHRyeSBhZ2Fpbi5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFtb3VudENlbnRzID1cbiAgICAgIHByb2dyYW0uY29uZmlnLmFtb3VudFR5cGUgPT09IFwiYW1vdW50XCJcbiAgICAgICAgPyBwcm9ncmFtLmNvbmZpZy5hbW91bnRWYWx1ZVxuICAgICAgICA6IE1hdGgucm91bmQoKHNlbGVjdGVkU2VydmljZS5wcmljZUNlbnRzICogcHJvZ3JhbS5jb25maWcuYW1vdW50VmFsdWUpIC8gMTAwKTtcbiAgICBjb25zdCBhcHBsaWVkQW1vdW50ID0gTWF0aC5taW4oYW1vdW50Q2VudHMsIHNlbGVjdGVkU2VydmljZS5wcmljZUNlbnRzKTtcbiAgICBpZiAoYXBwbGllZEFtb3VudCA8PSAwKSB7XG4gICAgICBzZXRHaWZ0Q2FyZEVycm9yKFwiVGhpcyBnaWZ0IGNhcmQgaGFzIG5vIGJhbGFuY2UgcmVtYWluaW5nLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0R2lmdENhcmRFcnJvcihudWxsKTtcbiAgICBzZXRHaWZ0Q2FyZFN0YXRlKHtcbiAgICAgIGNvZGUsXG4gICAgICBhbW91bnRDZW50czogYXBwbGllZEFtb3VudCxcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICBwcm9ncmFtLmNvbmZpZy5hbW91bnRUeXBlID09PSBcImFtb3VudFwiXG4gICAgICAgICAgPyBgJHtmb3JtYXRDdXJyZW5jeShhcHBsaWVkQW1vdW50KX0gYXBwbGllZGBcbiAgICAgICAgICA6IGAke3Byb2dyYW0uY29uZmlnLmFtb3VudFZhbHVlfSUgb2ZmICgke2Zvcm1hdEN1cnJlbmN5KGFwcGxpZWRBbW91bnQpfSlgXG4gICAgfSk7XG4gICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgIHRpdGxlOiBcIkdpZnQgY2FyZCBhcHBsaWVkXCIsXG4gICAgICBkZXNjcmlwdGlvbjogYFdlIGRlZHVjdGVkICR7Zm9ybWF0Q3VycmVuY3koYXBwbGllZEFtb3VudCl9IGZyb20gdG9kYXkncyB0b3RhbC5gLFxuICAgICAgaW50ZW50OiBcInN1Y2Nlc3NcIlxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdENoZWNrb3V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlIHx8ICFzZWxlY3RlZFNsb3QpIHJldHVybjtcbiAgICBpZiAoY3VzdG9tZXJOYW1lLnRyaW0oKS5sZW5ndGggPCAyKSB7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJBZGQgeW91ciBuYW1lXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIldlIG5lZWQgeW91ciBmaXJzdCBhbmQgbGFzdCBuYW1lIHRvIHBlcnNvbmFsaXplIG5vdGlmaWNhdGlvbnMuXCIsXG4gICAgICAgIGludGVudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkRW1haWwoY3VzdG9tZXJFbWFpbCkpIHtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkVudGVyIGEgdmFsaWQgZW1haWxcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiV2UgdXNlIHlvdXIgZW1haWwgZm9yIGNvbmZpcm1hdGlvbnMgYW5kIHJlY2VpcHRzLlwiLFxuICAgICAgICBpbnRlbnQ6IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNWYWxpZFBob25lKGN1c3RvbWVyUGhvbmUpKSB7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJQaG9uZSBudW1iZXIgcmVxdWlyZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQWRkIGEgcGhvbmUgbnVtYmVyIHNvIHdlIGNhbiBzZW5kIHJlbWluZGVycyBvciByZWFjaCB5b3UgYWJvdXQgY2hhbmdlcy5cIixcbiAgICAgICAgaW50ZW50OiBcImVycm9yXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWNvbnNlbnRDaGVja2VkKSB7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJDb25zZW50IHJlcXVpcmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlJldmlldyB0aGUgcG9saWNpZXMgYW5kIGNvbmZpcm0geW91IGFncmVlIGJlZm9yZSBib29raW5nLlwiLFxuICAgICAgICBpbnRlbnQ6IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFBheW1lbnQgbWV0aG9kIG11c3QgYmUgc2V0IHZpYSBTdHJpcGUgRWxlbWVudHMgYmVmb3JlIHN1Ym1pdHRpbmdcbiAgICBpZiAoIXBheW1lbnRNZXRob2RJZCAmJiAhc2V0dXBJbnRlbnRDbGllbnRTZWNyZXQpIHtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIlBheW1lbnQgbWV0aG9kIHJlcXVpcmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlBsZWFzZSBjb21wbGV0ZSB0aGUgcGF5bWVudCBmb3JtLiBZb3VyIGNhcmQgd2lsbCBiZSBzYXZlZCBzZWN1cmVseSBidXQgbm90IGNoYXJnZWQuXCIsXG4gICAgICAgIGludGVudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSB0aGUgYm9va2luZyB2aWEgQVBJIHRvIGdldCBTZXR1cEludGVudCBjbGllbnQgc2VjcmV0XG4gICAgICBjb25zdCBhcGlQYXlsb2FkID0ge1xuICAgICAgICBzZXJ2aWNlX2lkOiBzZWxlY3RlZFNlcnZpY2UuaWQsXG4gICAgICAgIHN0YWZmX2lkOiBzZWxlY3RlZFNsb3Quc3RhZmZJZCxcbiAgICAgICAgc3RhcnRfYXQ6IHNlbGVjdGVkU2xvdC5zdGFydERhdGVUaW1lLFxuICAgICAgICBjdXN0b21lcjoge1xuICAgICAgICAgIG5hbWU6IGN1c3RvbWVyTmFtZS50cmltKCksXG4gICAgICAgICAgZW1haWw6IGN1c3RvbWVyRW1haWwudHJpbSgpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgcGhvbmU6IGN1c3RvbWVyUGhvbmUudHJpbSgpXG4gICAgICAgIH0sXG4gICAgICAgIGdpZnRfY2FyZF9jb2RlOiBnaWZ0Q2FyZFN0YXRlPy5jb2RlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9wdWJsaWMvJHtidXNpbmVzcy5zbHVnfS9ib29raW5nc2AsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShhcGlQYXlsb2FkKSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBib29raW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFwaVJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICAvLyBTdG9yZSB0aGUgU2V0dXBJbnRlbnQgY2xpZW50IHNlY3JldCBhbmQgYm9va2luZyBpbmZvXG4gICAgICBpZiAoYXBpUmVzcG9uc2UuY2xpZW50X3NlY3JldCkge1xuICAgICAgICBzZXRTZXR1cEludGVudENsaWVudFNlY3JldChhcGlSZXNwb25zZS5jbGllbnRfc2VjcmV0KTtcbiAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmdJZChhcGlSZXNwb25zZS5ib29raW5nX2lkKTtcbiAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmdDb2RlKGFwaVJlc3BvbnNlLmJvb2tpbmdfY29kZSk7XG4gICAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgICAgdGl0bGU6IFwiQ29tcGxldGUgcGF5bWVudCBzZXR1cFwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlBsZWFzZSBjb25maXJtIHlvdXIgcGF5bWVudCBtZXRob2QgYmVsb3cuIFlvdXIgY2FyZCB3aWxsIGJlIHNhdmVkIHNlY3VyZWx5LlwiLFxuICAgICAgICAgIGludGVudDogXCJpbmZvXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gY2xpZW50IHNlY3JldCwgc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCBwYXltZW50IHNldHVwIGluZm9ybWF0aW9uJyk7XG4gICAgICBcbiAgICAgIC8vIFZhbGlkYXRlIGRhdGUgYmVmb3JlIGZvcm1hdHRpbmdcbiAgICAgIGlmIChjb21wbGV0ZUJvb2tpbmcuc3RhcnREYXRlVGltZSkge1xuICAgICAgICBjb25zdCBib29raW5nRGF0ZSA9IG5ldyBEYXRlKGNvbXBsZXRlQm9va2luZy5zdGFydERhdGVUaW1lKTtcbiAgICAgICAgaWYgKCFpc05hTihib29raW5nRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkJvb2tpbmcgY29uZmlybWVkXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYCR7c2VsZWN0ZWRTZXJ2aWNlLm5hbWV9IG9uICR7Zm9ybWF0SW5UaW1lWm9uZShcbiAgICAgICAgICAgICAgY29tcGxldGVCb29raW5nLnN0YXJ0RGF0ZVRpbWUsXG4gICAgICAgICAgICAgIHRpbWV6b25lLFxuICAgICAgICAgICAgICB7IHdlZWtkYXk6IFwibG9uZ1wiLCBtb250aDogXCJzaG9ydFwiLCBkYXk6IFwibnVtZXJpY1wiLCBob3VyOiBcIm51bWVyaWNcIiwgbWludXRlOiBcIjItZGlnaXRcIiB9XG4gICAgICAgICAgICApfS4gTm8gY2hhcmdlIHlldOKAlGNhcmQgc2F2ZWQgc2VjdXJlbHkuYCxcbiAgICAgICAgICAgIGludGVudDogXCJzdWNjZXNzXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwiQm9va2luZyBjb25maXJtZWRcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtzZWxlY3RlZFNlcnZpY2UubmFtZX0gYm9va2luZyBjcmVhdGVkLiBObyBjaGFyZ2UgeWV04oCUY2FyZCBzYXZlZCBzZWN1cmVseS5gLFxuICAgICAgICAgICAgaW50ZW50OiBcInN1Y2Nlc3NcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIkJvb2tpbmcgY29uZmlybWVkXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGAke3NlbGVjdGVkU2VydmljZS5uYW1lfSBib29raW5nIGNyZWF0ZWQuIE5vIGNoYXJnZSB5ZXTigJRjYXJkIHNhdmVkIHNlY3VyZWx5LmAsXG4gICAgICAgICAgaW50ZW50OiBcInN1Y2Nlc3NcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3VibWl0dGluZyBib29raW5nOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkJvb2tpbmcgZmFpbGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiV2UgY291bGRuJ3QgY3JlYXRlIHlvdXIgYm9va2luZy4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcbiAgICAgICAgaW50ZW50OiBcImVycm9yXCJcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZXNldEZsb3cgPSAoKSA9PiB7XG4gICAgc2V0U3RlcChcImNhdGFsb2dcIik7XG4gICAgc2V0U2VsZWN0ZWRTZXJ2aWNlSWQobnVsbCk7XG4gICAgc2V0U2VsZWN0ZWRTdGFmZklkKFwiYW55XCIpO1xuICAgIHNldFNlbGVjdGVkU2xvdChudWxsKTtcbiAgICBzZXRHaWZ0Q2FyZFN0YXRlKG51bGwpO1xuICAgIHNldEdpZnRDYXJkSW5wdXQoXCJcIik7XG4gICAgc2V0R2lmdENhcmRFcnJvcihudWxsKTtcbiAgICBzZXRDdXN0b21lck5hbWUoXCJcIik7XG4gICAgc2V0Q3VzdG9tZXJFbWFpbChcIlwiKTtcbiAgICBzZXRDdXN0b21lclBob25lKFwiXCIpO1xuICAgIHNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0KG51bGwpO1xuICAgIHNldFBheW1lbnRNZXRob2RJZChudWxsKTtcbiAgICBzZXRDcmVhdGVkQm9va2luZ0lkKG51bGwpO1xuICAgIHNldENyZWF0ZWRCb29raW5nQ29kZShudWxsKTtcbiAgICBzZXRDb25zZW50Q2hlY2tlZChmYWxzZSk7XG4gICAgc2V0SXNQb2xpY3lNb2RhbE9wZW4oZmFsc2UpO1xuICAgIHNldENyZWF0ZWRCb29raW5nKG51bGwpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibGFjayB2aWEtc2xhdGUtOTUwIHRvLVsjMGIwZDFhXSB0ZXh0LXdoaXRlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgLXotMTAgYmctW3JhZGlhbC1ncmFkaWVudChjaXJjbGVfYXRfdG9wLF9yZ2JhKDkxLDEwMCwyNTUsMC4yNSksX3RyYW5zcGFyZW50XzYwJSldXCIgLz5cbiAgICAgIHtzdGVwID09PSBcImNvbmZpcm1hdGlvblwiID8gPENvbmZldHRpT3ZlcmxheSAvPiA6IG51bGx9XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cIm14LWF1dG8gbWF4LXctNXhsIHB4LTQgcHktMTIgc206cHgtNiBsZzpweC04XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtNiBtZDpmbGV4LXJvdyBtZDppdGVtcy1zdGFydCBtZDpqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgPEJhZGdlIGludGVudD1cImluZm9cIiBjbGFzc05hbWU9XCJ3LWZpdFwiPlxuICAgICAgICAgICAgICBNYW51YWwgY2FwdHVyZSDigJQgbm8gY2hhcmdlIGF0IGJvb2tpbmdcbiAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwiZm9udC1kaXNwbGF5IHRleHQtNHhsIHNtOnRleHQtNXhsXCI+XG4gICAgICAgICAgICAgICAgQm9vayB7d29ya3NwYWNlLmlkZW50aXR5LmJ1c2luZXNzLmJ1c2luZXNzTmFtZX1cbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiBtYXgtdy0yeGwgdGV4dC1iYXNlIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICAgICAgICB7d29ya3NwYWNlLmlkZW50aXR5LmJ1c2luZXNzLmRlc2NyaXB0aW9uIHx8XG4gICAgICAgICAgICAgICAgICBcIlNlbGVjdCBhIHNlcnZpY2UsIGNob29zZSB0aGUgYmVzdCB0aW1lLCBhbmQgc2VjdXJlIHlvdXIgYXBwb2ludG1lbnQuIFlvdXIgY2FyZCBpcyBzdG9yZWQgc2VjdXJlbHkgYW5kIG9ubHkgY2hhcmdlZCBhZnRlciB0aGUgdmlzaXQgb3IgaWYgYSBwb2xpY3kgZmVlIGFwcGxpZXMuXCJ9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTMgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMVwiPlxuICAgICAgICAgICAgICAgIDxNYXBQaW4gY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAge2Zvcm1hdEFkZHJlc3Mod29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uKX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTFcIj5cbiAgICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAgQWxsIHRpbWVzIHNob3duIGluIHt0aW1lem9uZX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTFcIj5cbiAgICAgICAgICAgICAgICA8U2hpZWxkQ2hlY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAgQ2FyZCBzYXZlZCBzZWN1cmVseSDigJQgY2FwdHVyZSBoYXBwZW5zIGxhdGVyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtjcmVhdGVkQm9va2luZyA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTQwMC8zMCBiZy1lbWVyYWxkLTUwMC8xMCBwLTYgdGV4dC1lbWVyYWxkLTEwMCBzaGFkb3ctWzBfMF80MHB4X3JnYmEoNTIsMjExLDE1MywwLjI1KV1cIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC1lbWVyYWxkLTIwMC83MFwiPlxuICAgICAgICAgICAgICAgIENvbmZpcm1hdGlvblxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgZm9udC1kaXNwbGF5IHRleHQtMnhsXCI+XG4gICAgICAgICAgICAgICAge3NlbGVjdGVkU2VydmljZT8ubmFtZSA/PyBjcmVhdGVkQm9va2luZy5zZXJ2aWNlTmFtZX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1lbWVyYWxkLTEwMC84MFwiPlxuICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKGNyZWF0ZWRCb29raW5nLnN0YXJ0RGF0ZVRpbWUsIHRpbWV6b25lLCB7XG4gICAgICAgICAgICAgICAgICB3ZWVrZGF5OiBcImxvbmdcIixcbiAgICAgICAgICAgICAgICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgICAgICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICAgICAgICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LXNtIHRleHQtZW1lcmFsZC0xMDAvODBcIj5cbiAgICAgICAgICAgICAgICBXZSBzZW50IGEgY29uZmlybWF0aW9uIGVtYWlsIHRvIHtjcmVhdGVkQm9va2luZy5jdXN0b21lci5lbWFpbH0uIE1hbnVhbCBjYXB0dXJlIGtlZXBzXG4gICAgICAgICAgICAgICAgeW91IGluIGNvbnRyb2zigJRub3RoaW5nIGNoYXJnZXMgdW5sZXNzIHlvdSBwcmVzcyBhIG1vbmV5IGJ1dHRvbi5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm14LWF1dG8gbWF4LXctNXhsIHB4LTQgcGItMTYgc206cHgtNiBsZzpweC04XCI+XG4gICAgICAgIDxTdGVwSW5kaWNhdG9yIGN1cnJlbnRTdGVwPXtzdGVwfSBvblJlc2V0PXtoYW5kbGVSZXNldEZsb3d9IC8+XG5cbiAgICAgICAge3N0ZXAgPT09IFwiY2F0YWxvZ1wiID8gKFxuICAgICAgICAgIDxDYXRhbG9nU3RlcFxuICAgICAgICAgICAgY2F0YWxvZz17d29ya3NwYWNlLmNhdGFsb2d9XG4gICAgICAgICAgICBvblNlbGVjdFNlcnZpY2U9e2hhbmRsZVNlbGVjdFNlcnZpY2V9XG4gICAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge3N0ZXAgPT09IFwiYXZhaWxhYmlsaXR5XCIgJiYgc2VsZWN0ZWRTZXJ2aWNlID8gKFxuICAgICAgICAgIDxBdmFpbGFiaWxpdHlTdGVwXG4gICAgICAgICAgICBzZXJ2aWNlPXtzZWxlY3RlZFNlcnZpY2V9XG4gICAgICAgICAgICBzbG90c0J5RGF5PXtncm91cGVkU2xvdHN9XG4gICAgICAgICAgICBzZWxlY3RlZFN0YWZmSWQ9e3NlbGVjdGVkU3RhZmZJZH1cbiAgICAgICAgICAgIHNldFNlbGVjdGVkU3RhZmZJZD17c2V0U2VsZWN0ZWRTdGFmZklkfVxuICAgICAgICAgICAgb25CYWNrPXsoKSA9PiBzZXRTdGVwKFwiY2F0YWxvZ1wiKX1cbiAgICAgICAgICAgIG9uU2VsZWN0U2xvdD17aGFuZGxlU2VsZWN0U2xvdH1cbiAgICAgICAgICAgIHN0YWZmPXt3b3Jrc3BhY2Uuc3RhZmZ9XG4gICAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgICAgICBzdXBwb3J0RW1haWw9e3dvcmtzcGFjZS5pZGVudGl0eS5sb2NhdGlvbi5zdXBwb3J0RW1haWx9XG4gICAgICAgICAgICBpc0xvYWRpbmc9e2lzTG9hZGluZ0F2YWlsYWJpbGl0eX1cbiAgICAgICAgICAgIGVycm9yPXthdmFpbGFiaWxpdHlFcnJvcn1cbiAgICAgICAgICAvPlxuICAgICAgICApIDogbnVsbH1cblxuICAgICAgICB7c3RlcCA9PT0gXCJjaGVja291dFwiICYmIHNlbGVjdGVkU2VydmljZSAmJiBzZWxlY3RlZFNsb3QgPyAoXG4gICAgICAgICAgPENoZWNrb3V0U3RlcFxuICAgICAgICAgICAgc2VydmljZT17c2VsZWN0ZWRTZXJ2aWNlfVxuICAgICAgICAgICAgc2xvdD17c2VsZWN0ZWRTbG90fVxuICAgICAgICAgICAgb25CYWNrPXsoKSA9PiBzZXRTdGVwKFwiYXZhaWxhYmlsaXR5XCIpfVxuICAgICAgICAgICAgY3VzdG9tZXJOYW1lPXtjdXN0b21lck5hbWV9XG4gICAgICAgICAgICBzZXRDdXN0b21lck5hbWU9e3NldEN1c3RvbWVyTmFtZX1cbiAgICAgICAgICAgIGN1c3RvbWVyRW1haWw9e2N1c3RvbWVyRW1haWx9XG4gICAgICAgICAgICBzZXRDdXN0b21lckVtYWlsPXtzZXRDdXN0b21lckVtYWlsfVxuICAgICAgICAgICAgY3VzdG9tZXJQaG9uZT17Y3VzdG9tZXJQaG9uZX1cbiAgICAgICAgICAgIHNldEN1c3RvbWVyUGhvbmU9e3NldEN1c3RvbWVyUGhvbmV9XG4gICAgICAgICAgICBzZXR1cEludGVudENsaWVudFNlY3JldD17c2V0dXBJbnRlbnRDbGllbnRTZWNyZXR9XG4gICAgICAgICAgICBzZXRTZXR1cEludGVudENsaWVudFNlY3JldD17c2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXR9XG4gICAgICAgICAgICBwYXltZW50TWV0aG9kSWQ9e3BheW1lbnRNZXRob2RJZH1cbiAgICAgICAgICAgIHNldFBheW1lbnRNZXRob2RJZD17c2V0UGF5bWVudE1ldGhvZElkfVxuICAgICAgICAgICAgY3JlYXRlZEJvb2tpbmdJZD17Y3JlYXRlZEJvb2tpbmdJZH1cbiAgICAgICAgICAgIGNyZWF0ZWRCb29raW5nQ29kZT17Y3JlYXRlZEJvb2tpbmdDb2RlfVxuICAgICAgICAgICAgd29ya3NwYWNlPXt3b3Jrc3BhY2V9XG4gICAgICAgICAgICBjdXN0b21lck5hbWU9e2N1c3RvbWVyTmFtZX1cbiAgICAgICAgICAgIGN1c3RvbWVyRW1haWw9e2N1c3RvbWVyRW1haWx9XG4gICAgICAgICAgICBjdXN0b21lclBob25lPXtjdXN0b21lclBob25lfVxuICAgICAgICAgICAgbGlzdFByaWNlQ2VudHM9e2xpc3RQcmljZUNlbnRzfVxuICAgICAgICAgICAgZ2lmdENhcmRTdGF0ZT17Z2lmdENhcmRTdGF0ZX1cbiAgICAgICAgICAgIHBvbGljaWVzPXtwb2xpY2llc31cbiAgICAgICAgICAgIHRpbWV6b25lPXt0aW1lem9uZX1cbiAgICAgICAgICAgIHNlbGVjdGVkU2VydmljZT17c2VsZWN0ZWRTZXJ2aWNlfVxuICAgICAgICAgICAgc2VsZWN0ZWRTbG90PXtzZWxlY3RlZFNsb3R9XG4gICAgICAgICAgICBzZXRDcmVhdGVkQm9va2luZz17c2V0Q3JlYXRlZEJvb2tpbmd9XG4gICAgICAgICAgICBzZXRTdGVwPXtzZXRTdGVwfVxuICAgICAgICAgICAgdG9hc3Q9e3RvYXN0fVxuICAgICAgICAgICAgY29uc2VudENoZWNrZWQ9e2NvbnNlbnRDaGVja2VkfVxuICAgICAgICAgICAgc2V0Q29uc2VudENoZWNrZWQ9e3NldENvbnNlbnRDaGVja2VkfVxuICAgICAgICAgICAgZ2lmdENhcmRJbnB1dD17Z2lmdENhcmRJbnB1dH1cbiAgICAgICAgICAgIHNldEdpZnRDYXJkSW5wdXQ9e3NldEdpZnRDYXJkSW5wdXR9XG4gICAgICAgICAgICBnaWZ0Q2FyZEVycm9yPXtnaWZ0Q2FyZEVycm9yfVxuICAgICAgICAgICAgZ2lmdENhcmRTdGF0ZT17Z2lmdENhcmRTdGF0ZX1cbiAgICAgICAgICAgIG9uQXBwbHlHaWZ0Q2FyZD17aGFuZGxlQXBwbHlHaWZ0Q2FyZH1cbiAgICAgICAgICAgIGFjY2VwdGVkTWV0aG9kcz17YWNjZXB0ZWRNZXRob2RzRm9yRGlzcGxheX1cbiAgICAgICAgICAgIHBvbGljaWVzPXtwb2xpY2llc31cbiAgICAgICAgICAgIHRpbWV6b25lPXt0aW1lem9uZX1cbiAgICAgICAgICAgIGFtb3VudER1ZUNlbnRzPXthbW91bnREdWVDZW50c31cbiAgICAgICAgICAgIGxpc3RQcmljZUNlbnRzPXtsaXN0UHJpY2VDZW50c31cbiAgICAgICAgICAgIGlzU3VibWl0dGluZz17aXNTdWJtaXR0aW5nfVxuICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdENoZWNrb3V0fVxuICAgICAgICAgICAgb25PcGVuUG9saWNpZXM9eygpID0+IHNldElzUG9saWN5TW9kYWxPcGVuKHRydWUpfVxuICAgICAgICAgIC8+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIHtzdGVwID09PSBcImNvbmZpcm1hdGlvblwiICYmIGNyZWF0ZWRCb29raW5nID8gKFxuICAgICAgICAgIDxDb25maXJtYXRpb25TdGVwXG4gICAgICAgICAgICBib29raW5nPXtjcmVhdGVkQm9va2luZ31cbiAgICAgICAgICAgIHNlcnZpY2U9e3NlbGVjdGVkU2VydmljZX1cbiAgICAgICAgICAgIGFtb3VudER1ZUNlbnRzPXthbW91bnREdWVDZW50c31cbiAgICAgICAgICAgIHBvbGljaWVzPXtwb2xpY2llc31cbiAgICAgICAgICAgIHRpbWV6b25lPXt0aW1lem9uZX1cbiAgICAgICAgICAgIG9uQm9va0Fub3RoZXI9e2hhbmRsZVJlc2V0Rmxvd31cbiAgICAgICAgICAvPlxuICAgICAgICApIDogbnVsbH1cbiAgICAgIDwvbWFpbj5cblxuICAgICAge2lzUG9saWN5TW9kYWxPcGVuID8gKFxuICAgICAgICA8UG9saWN5TW9kYWxcbiAgICAgICAgICBwb2xpY2llcz17cG9saWNpZXN9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0SXNQb2xpY3lNb2RhbE9wZW4oZmFsc2UpfVxuICAgICAgICAgIHRpbWV6b25lPXt0aW1lem9uZX1cbiAgICAgICAgLz5cbiAgICAgICkgOiBudWxsfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBDYXRhbG9nU3RlcCh7XG4gIGNhdGFsb2csXG4gIG9uU2VsZWN0U2VydmljZVxufToge1xuICBjYXRhbG9nOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJjYXRhbG9nXCJdO1xuICBvblNlbGVjdFNlcnZpY2U6IChzZXJ2aWNlSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdGltZXpvbmU6IHN0cmluZztcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJzcGFjZS15LTEyXCI+XG4gICAgICB7Y2F0YWxvZy5tYXAoKGNhdGVnb3J5KSA9PiAoXG4gICAgICAgIDxkaXYga2V5PXtjYXRlZ29yeS5pZH0gY2xhc3NOYW1lPVwic3BhY2UteS01XCI+XG4gICAgICAgICAgPGhlYWRlcj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzE1IGJnLXdoaXRlLzUgcHgtNCBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS81NVwiPlxuICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwiaC0zLjUgdy0zLjVcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICB7Y2F0ZWdvcnkubmFtZX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LWJhc2UgdGV4dC13aGl0ZS83MCBtYXgtdy0yeGxcIj57Y2F0ZWdvcnkuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgIDwvaGVhZGVyPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNiBtZDpncmlkLWNvbHMtMlwiPlxuICAgICAgICAgICAge2NhdGVnb3J5LnNlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4gKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAga2V5PXtzZXJ2aWNlLmlkfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0U2VydmljZShzZXJ2aWNlLmlkKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJncm91cCBmbGV4IGZsZXgtY29sIGdhcC00IHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTYgdGV4dC1sZWZ0IHRyYW5zaXRpb24gaG92ZXI6Ym9yZGVyLXdoaXRlLzI1IGhvdmVyOmJnLXdoaXRlLzEwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1wcmltYXJ5LzcwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LWJsYWNrXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJmb250LWRpc3BsYXkgdGV4dC0yeGwgdGV4dC13aGl0ZVwiPntzZXJ2aWNlLm5hbWV9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj57c2VydmljZS5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMjVlbV0gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0RHVyYXRpb24oc2VydmljZS5kdXJhdGlvbk1pbnV0ZXMpfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtzZXJ2aWNlLmluc3RydWN0aW9ucyA/IChcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC13aGl0ZS80MFwiPntzZXJ2aWNlLmluc3RydWN0aW9uc308L3A+XG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC1hdXRvIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgICAgICAgIFN0YXJ0aW5nIGF0IDxzdHJvbmcgY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntmb3JtYXRDdXJyZW5jeShzZXJ2aWNlLnByaWNlQ2VudHMpfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtcHJpbWFyeSBncm91cC1ob3Zlcjp0cmFuc2xhdGUteC0xIHRyYW5zaXRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgU2VsZWN0IDxBcnJvd1JpZ2h0IGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkpfVxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQXZhaWxhYmlsaXR5U3RlcCh7XG4gIHNlcnZpY2UsXG4gIHNsb3RzQnlEYXksXG4gIHNlbGVjdGVkU3RhZmZJZCxcbiAgc2V0U2VsZWN0ZWRTdGFmZklkLFxuICBvbkJhY2ssXG4gIG9uU2VsZWN0U2xvdCxcbiAgc3RhZmYsXG4gIHRpbWV6b25lLFxuICBzdXBwb3J0RW1haWwsXG4gIGlzTG9hZGluZyxcbiAgZXJyb3Jcbn06IHtcbiAgc2VydmljZToge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGR1cmF0aW9uTWludXRlczogbnVtYmVyO1xuICAgIHByaWNlQ2VudHM6IG51bWJlcjtcbiAgICBjYXRlZ29yeU5hbWU6IHN0cmluZztcbiAgICBzdGFmZklkczogc3RyaW5nW107XG4gIH07XG4gIHNsb3RzQnlEYXk6IFJlY29yZDxzdHJpbmcsIEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdFtdPjtcbiAgc2VsZWN0ZWRTdGFmZklkOiBzdHJpbmc7XG4gIHNldFNlbGVjdGVkU3RhZmZJZDogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uQmFjazogKCkgPT4gdm9pZDtcbiAgb25TZWxlY3RTbG90OiAoc2xvdDogRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90KSA9PiB2b2lkO1xuICBzdGFmZjogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wic3RhZmZcIl07XG4gIHRpbWV6b25lOiBzdHJpbmc7XG4gIHN1cHBvcnRFbWFpbD86IHN0cmluZztcbiAgaXNMb2FkaW5nPzogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmcgfCBudWxsO1xufSkge1xuICBjb25zdCBbY3VycmVudFdlZWtTdGFydCwgc2V0Q3VycmVudFdlZWtTdGFydF0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGRheU9mV2VlayA9IHRvZGF5LmdldERheSgpO1xuICAgIGNvbnN0IGRpZmYgPSB0b2RheS5nZXREYXRlKCkgLSBkYXlPZldlZWs7IC8vIEdldCBTdW5kYXkgb2YgdGhpcyB3ZWVrXG4gICAgY29uc3Qgc3VuZGF5ID0gbmV3IERhdGUodG9kYXkuc2V0RGF0ZShkaWZmKSk7XG4gICAgc3VuZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgIHJldHVybiBzdW5kYXk7XG4gIH0pO1xuXG4gIGNvbnN0IHN0YWZmT3B0aW9ucyA9IHN0YWZmLmZpbHRlcigobWVtYmVyKSA9PiBzZXJ2aWNlLnN0YWZmSWRzLmluY2x1ZGVzKG1lbWJlci5pZCkpO1xuICBjb25zdCB0b3RhbFNsb3RzID0gT2JqZWN0LnZhbHVlcyhzbG90c0J5RGF5KS5yZWR1Y2UoKHN1bSwgZW50cmllcykgPT4gc3VtICsgZW50cmllcy5sZW5ndGgsIDApO1xuXG4gIC8vIEdlbmVyYXRlIGhvdXJzIGZyb20gOCBBTSB0byA4IFBNXG4gIGNvbnN0IGhvdXJzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTMgfSwgKF8sIGkpID0+IGkgKyA4KTsgLy8gOCBBTSB0byA4IFBNXG5cbiAgLy8gR2VuZXJhdGUgZGF5cyBvZiB0aGUgd2Vla1xuICBjb25zdCB3ZWVrRGF5cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGRheXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRXZWVrU3RhcnQpO1xuICAgICAgZGF0ZS5zZXREYXRlKGN1cnJlbnRXZWVrU3RhcnQuZ2V0RGF0ZSgpICsgaSk7XG4gICAgICBkYXlzLnB1c2goZGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBkYXlzO1xuICB9LCBbY3VycmVudFdlZWtTdGFydF0pO1xuXG4gIC8vIEdyb3VwIHNsb3RzIGJ5IGRheSBhbmQgaG91ciwgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICBjb25zdCBzbG90c0J5RGF5QW5kSG91ciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGdyb3VwZWQ6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxudW1iZXIsIEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdFtdPj4gPSB7fTtcbiAgICBcbiAgICAvLyBGbGF0dGVuIGFsbCBzbG90cyBmcm9tIGFsbCBkYXlzXG4gICAgY29uc3QgYWxsU2xvdHMgPSBPYmplY3QudmFsdWVzKHNsb3RzQnlEYXkpLmZsYXQoKTtcbiAgICBcbiAgICBhbGxTbG90cy5mb3JFYWNoKHNsb3QgPT4ge1xuICAgICAgY29uc3Qgc2xvdERhdGUgPSBuZXcgRGF0ZShzbG90LnN0YXJ0RGF0ZVRpbWUpO1xuICAgICAgY29uc3QgZGF0ZUtleSA9IGZvcm1hdEluVGltZVpvbmUoc2xvdERhdGUsIHRpbWV6b25lLCBcInl5eXktTU0tZGRcIik7XG4gICAgICBjb25zdCBob3VyID0gZm9ybWF0SW5UaW1lWm9uZShzbG90RGF0ZSwgdGltZXpvbmUsIHsgaG91cjogXCJudW1lcmljXCIsIGhvdXIxMjogZmFsc2UgfSk7XG4gICAgICBjb25zdCBob3VyTnVtID0gcGFyc2VJbnQoaG91ciwgMTApO1xuICAgICAgXG4gICAgICAvLyBPbmx5IGluY2x1ZGUgc2xvdHMgdGhhdCBhcmUgaW4gdGhlIGN1cnJlbnQgd2Vla1xuICAgICAgY29uc3QgaXNJbkN1cnJlbnRXZWVrID0gd2Vla0RheXMuc29tZShkYXkgPT4ge1xuICAgICAgICBjb25zdCBkYXlLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgcmV0dXJuIGRheUtleSA9PT0gZGF0ZUtleTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIWlzSW5DdXJyZW50V2VlaykgcmV0dXJuO1xuICAgICAgXG4gICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV0pIHtcbiAgICAgICAgZ3JvdXBlZFtkYXRlS2V5XSA9IHt9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0pIHtcbiAgICAgICAgZ3JvdXBlZFtkYXRlS2V5XVtob3VyTnVtXSA9IFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3IgZHVwbGljYXRlcyAoc2FtZSBob3VyLCBzYW1lIHN0YWZmLCBzYW1lIGRhdGUpXG4gICAgICBjb25zdCBpc0R1cGxpY2F0ZSA9IGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0uc29tZShcbiAgICAgICAgZXhpc3RpbmcgPT4gZXhpc3Rpbmcuc3RhZmZJZCA9PT0gc2xvdC5zdGFmZklkXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoIWlzRHVwbGljYXRlKSB7XG4gICAgICAgIGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0ucHVzaChzbG90KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gZ3JvdXBlZDtcbiAgfSwgW3Nsb3RzQnlEYXksIHdlZWtEYXlzLCB0aW1lem9uZV0pO1xuXG4gIGNvbnN0IG5hdmlnYXRlV2VlayA9IChkaXJlY3Rpb246ICdwcmV2JyB8ICduZXh0JykgPT4ge1xuICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZShjdXJyZW50V2Vla1N0YXJ0KTtcbiAgICBuZXdEYXRlLnNldERhdGUobmV3RGF0ZS5nZXREYXRlKCkgKyAoZGlyZWN0aW9uID09PSAnbmV4dCcgPyA3IDogLTcpKTtcbiAgICBzZXRDdXJyZW50V2Vla1N0YXJ0KG5ld0RhdGUpO1xuICB9O1xuXG4gIGNvbnN0IG1vbnRoWWVhciA9IGZvcm1hdEluVGltZVpvbmUod2Vla0RheXNbMF0sIHRpbWV6b25lLCB7IG1vbnRoOiBcImxvbmdcIiwgeWVhcjogXCJudW1lcmljXCIgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcC04IHNoYWRvdy1bMF8wXzYwcHhfcmdiYSg5MSwxMDAsMjU1LDAuMTUpXVwiPlxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00IG1kOmZsZXgtcm93IG1kOml0ZW1zLWNlbnRlciBtZDpqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy1bMC4zNWVtXSB0ZXh0LXdoaXRlLzQwXCI+U3RlcCAyIMK3IENob29zZSB5b3VyIHRpbWU8L3A+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cIm10LTIgZm9udC1kaXNwbGF5IHRleHQtM3hsIHRleHQtd2hpdGVcIj57c2VydmljZS5uYW1lfTwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgIHtmb3JtYXRDdXJyZW5jeShzZXJ2aWNlLnByaWNlQ2VudHMpfSDCtyB7Zm9ybWF0RHVyYXRpb24oc2VydmljZS5kdXJhdGlvbk1pbnV0ZXMpfSDigJQgQWxsIHNsb3RzXG4gICAgICAgICAgICBzaG93biBpbiB7dGltZXpvbmV9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBvbkNsaWNrPXtvbkJhY2t9IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXdoaXRlLzcwXCI+XG4gICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICBCYWNrIHRvIHNlcnZpY2VzXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtOCBmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgPFN0YWZmUGlsbFxuICAgICAgICAgIGxhYmVsPVwiSSBkb24ndCBtaW5kXCJcbiAgICAgICAgICBhY3RpdmU9e3NlbGVjdGVkU3RhZmZJZCA9PT0gXCJhbnlcIn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZFN0YWZmSWQoXCJhbnlcIil9XG4gICAgICAgIC8+XG4gICAgICAgIHtzdGFmZk9wdGlvbnMubWFwKChtZW1iZXIpID0+IChcbiAgICAgICAgICA8U3RhZmZQaWxsXG4gICAgICAgICAgICBrZXk9e21lbWJlci5pZH1cbiAgICAgICAgICAgIGxhYmVsPXttZW1iZXIubmFtZX1cbiAgICAgICAgICAgIGNvbG9yPXttZW1iZXIuY29sb3J9XG4gICAgICAgICAgICBhY3RpdmU9e3NlbGVjdGVkU3RhZmZJZCA9PT0gbWVtYmVyLmlkfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRTdGFmZklkKG1lbWJlci5pZCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cblxuICAgICAge2lzTG9hZGluZyA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xMCByb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzYwIHAtOCB0ZXh0LWNlbnRlciB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwibXgtYXV0byBoLTggdy04IGFuaW1hdGUtc3BpbiB0ZXh0LXdoaXRlLzQwXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtYmFzZVwiPkxvYWRpbmcgYXZhaWxhYmlsaXR5Li4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiBlcnJvciA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xMCByb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXJlZC01MDAvMjAgYmctcmVkLTUwMC8xMCBwLTggdGV4dC1jZW50ZXIgdGV4dC1yZWQtMjAwXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogdG90YWxTbG90cyA9PT0gMCA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xMCByb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzYwIHAtOCB0ZXh0LWNlbnRlciB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+Tm8gYXZhaWxhYmlsaXR5IGZvdW5kIGluIHRoZSBuZXh0IHR3byB3ZWVrcy48L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICBUcnkgc2VsZWN0aW5nIGEgZGlmZmVyZW50IHN0YWZmIG1lbWJlciBvciBjb250YWN0IHVzIGF0e1wiIFwifVxuICAgICAgICAgICAgPGEgaHJlZj17YG1haWx0bzoke3N1cHBvcnRFbWFpbCA/PyBcInN1cHBvcnRAdGl0aGkuY29tXCJ9YH0gY2xhc3NOYW1lPVwidW5kZXJsaW5lXCI+XG4gICAgICAgICAgICAgIHtzdXBwb3J0RW1haWwgPz8gXCJzdXBwb3J0QHRpdGhpLmNvbVwifVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEwXCI+XG4gICAgICAgICAgey8qIFdlZWsgTmF2aWdhdGlvbiAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlV2VlaygncHJldicpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwIGhvdmVyOnRleHQtd2hpdGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2hldnJvbkxlZnQgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+e21vbnRoWWVhcn08L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlV2VlaygnbmV4dCcpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwIGhvdmVyOnRleHQtd2hpdGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQ2FsZW5kYXIgR3JpZCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy1mdWxsXCI+XG4gICAgICAgICAgICAgIHsvKiBEYXkgSGVhZGVycyAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy04IGdhcC0yIGJvcmRlci1iIGJvcmRlci13aGl0ZS8xMCBwYi0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZS82MFwiPlRpbWU8L2Rpdj5cbiAgICAgICAgICAgICAgICB7d2Vla0RheXMubWFwKChkYXksIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShkYXksIHRpbWV6b25lLCB7IHdlZWtkYXk6IFwic2hvcnRcIiB9KX1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIHsgZGF5OiBcIm51bWVyaWNcIiB9KX1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBIb3VyIFJvd3MgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICB7aG91cnMubWFwKChob3VyKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBob3VyTGFiZWwgPSBob3VyID09PSAxMiA/ICcxMiBQTScgOiBob3VyID4gMTIgPyBgJHtob3VyIC0gMTJ9IFBNYCA6IGAke2hvdXJ9IEFNYDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtob3VyfSBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy04IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXhzIHRleHQtd2hpdGUvNjAgcHktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2hvdXJMYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICB7d2Vla0RheXMubWFwKChkYXksIGRheUlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZUtleSA9IGZvcm1hdEluVGltZVpvbmUoZGF5LCB0aW1lem9uZSwgXCJ5eXl5LU1NLWRkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2xvdHNGb3JIb3VyID0gc2xvdHNCeURheUFuZEhvdXJbZGF0ZUtleV0/Lltob3VyXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkU2xvdHMgPSBzZWxlY3RlZFN0YWZmSWQgPT09IFwiYW55XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzbG90c0ZvckhvdXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzbG90c0ZvckhvdXIuZmlsdGVyKHNsb3QgPT4gc2xvdC5zdGFmZklkID09PSBzZWxlY3RlZFN0YWZmSWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17ZGF5SWR4fSBjbGFzc05hbWU9XCJweS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkU2xvdHMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXJlZFNsb3RzLm1hcCgoc2xvdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YWZmTWVtYmVyID0gc3RhZmYuZmluZChzID0+IHMuaWQgPT09IHNsb3Quc3RhZmZJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzbG90LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25TZWxlY3RTbG90KHNsb3QpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXByaW1hcnkvNDAgYmctcHJpbWFyeS8yMCBweC0yIHB5LTEuNSB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBob3Zlcjpib3JkZXItcHJpbWFyeS82MCBob3ZlcjpiZy1wcmltYXJ5LzMwIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1wcmltYXJ5LzcwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogc3RhZmZNZW1iZXI/LmNvbG9yID8gYCR7c3RhZmZNZW1iZXIuY29sb3J9ODBgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogc3RhZmZNZW1iZXI/LmNvbG9yID8gYCR7c3RhZmZNZW1iZXIuY29sb3J9MjBgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKG5ldyBEYXRlKHNsb3Quc3RhcnREYXRlVGltZSksIHRpbWV6b25lLCB7IGhvdXI6IFwibnVtZXJpY1wiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtd2hpdGUvNzAgbXQtMC41IHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nsb3Quc3RhZmZOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCByb3VuZGVkLWxnIGJnLXdoaXRlLzUgYm9yZGVyIGJvcmRlci13aGl0ZS81IHB5LTEuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXdoaXRlLzIwIHRleHQtY2VudGVyXCI+4oCUPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59XG5cbmZ1bmN0aW9uIENoZWNrb3V0U3RlcChwcm9wczoge1xuICBzZXJ2aWNlOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZHVyYXRpb25NaW51dGVzOiBudW1iZXI7XG4gICAgcHJpY2VDZW50czogbnVtYmVyO1xuICAgIGNhdGVnb3J5TmFtZTogc3RyaW5nO1xuICB9O1xuICBzbG90OiBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3Q7XG4gIG9uQmFjazogKCkgPT4gdm9pZDtcbiAgY3VzdG9tZXJOYW1lOiBzdHJpbmc7XG4gIHNldEN1c3RvbWVyTmFtZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGN1c3RvbWVyRW1haWw6IHN0cmluZztcbiAgc2V0Q3VzdG9tZXJFbWFpbDogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGN1c3RvbWVyUGhvbmU6IHN0cmluZztcbiAgc2V0Q3VzdG9tZXJQaG9uZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNldHVwSW50ZW50Q2xpZW50U2VjcmV0OiBzdHJpbmcgfCBudWxsO1xuICBzZXRTZXR1cEludGVudENsaWVudFNlY3JldDogKHZhbHVlOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBwYXltZW50TWV0aG9kSWQ6IHN0cmluZyB8IG51bGw7XG4gIHNldFBheW1lbnRNZXRob2RJZDogKHZhbHVlOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBjcmVhdGVkQm9va2luZ0lkOiBzdHJpbmcgfCBudWxsO1xuICBjcmVhdGVkQm9va2luZ0NvZGU6IHN0cmluZyB8IG51bGw7XG4gIHdvcmtzcGFjZTogRmFrZUJ1c2luZXNzV29ya3NwYWNlO1xuICBjdXN0b21lck5hbWU6IHN0cmluZztcbiAgY3VzdG9tZXJFbWFpbDogc3RyaW5nO1xuICBjdXN0b21lclBob25lOiBzdHJpbmc7XG4gIGxpc3RQcmljZUNlbnRzOiBudW1iZXI7XG4gIGdpZnRDYXJkU3RhdGU6IEdpZnRDYXJkU3RhdGUgfCBudWxsO1xuICBwb2xpY2llczogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicG9saWNpZXNcIl07XG4gIHRpbWV6b25lOiBzdHJpbmc7XG4gIHNlbGVjdGVkU2VydmljZToge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGR1cmF0aW9uTWludXRlczogbnVtYmVyO1xuICAgIHByaWNlQ2VudHM6IG51bWJlcjtcbiAgICBjYXRlZ29yeU5hbWU6IHN0cmluZztcbiAgfSB8IHVuZGVmaW5lZDtcbiAgc2VsZWN0ZWRTbG90OiBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QgfCBudWxsO1xuICBzZXRDcmVhdGVkQm9va2luZzogKGJvb2tpbmc6IEZha2VCb29raW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgc2V0U3RlcDogKHN0ZXA6IFN0ZXApID0+IHZvaWQ7XG4gIHRvYXN0OiBSZXR1cm5UeXBlPHR5cGVvZiB1c2VUb2FzdD47XG4gIGNvbnNlbnRDaGVja2VkOiBib29sZWFuO1xuICBzZXRDb25zZW50Q2hlY2tlZDogKHZhbHVlOiBib29sZWFuKSA9PiB2b2lkO1xuICBnaWZ0Q2FyZElucHV0OiBzdHJpbmc7XG4gIHNldEdpZnRDYXJkSW5wdXQ6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBnaWZ0Q2FyZEVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBnaWZ0Q2FyZFN0YXRlOiBHaWZ0Q2FyZFN0YXRlIHwgbnVsbDtcbiAgb25BcHBseUdpZnRDYXJkOiAoKSA9PiB2b2lkO1xuICBhY2NlcHRlZE1ldGhvZHM6IHN0cmluZ1tdO1xuICBwb2xpY2llczogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicG9saWNpZXNcIl07XG4gIHRpbWV6b25lOiBzdHJpbmc7XG4gIGFtb3VudER1ZUNlbnRzOiBudW1iZXI7XG4gIGxpc3RQcmljZUNlbnRzOiBudW1iZXI7XG4gIGlzU3VibWl0dGluZzogYm9vbGVhbjtcbiAgb25TdWJtaXQ6ICgpID0+IHZvaWQ7XG4gIG9uT3BlblBvbGljaWVzOiAoKSA9PiB2b2lkO1xuICBidXNpbmVzczogRmFrZUJ1c2luZXNzO1xufSkge1xuICBjb25zdCB7XG4gICAgc2VydmljZSxcbiAgICBzbG90LFxuICAgIG9uQmFjayxcbiAgICBjdXN0b21lck5hbWUsXG4gICAgc2V0Q3VzdG9tZXJOYW1lLFxuICAgIGN1c3RvbWVyRW1haWwsXG4gICAgc2V0Q3VzdG9tZXJFbWFpbCxcbiAgICBjdXN0b21lclBob25lLFxuICAgIHNldEN1c3RvbWVyUGhvbmUsXG4gICAgc2V0dXBJbnRlbnRDbGllbnRTZWNyZXQsXG4gICAgc2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXQsXG4gICAgcGF5bWVudE1ldGhvZElkLFxuICAgIHNldFBheW1lbnRNZXRob2RJZCxcbiAgICBjcmVhdGVkQm9va2luZ0lkLFxuICAgIGNyZWF0ZWRCb29raW5nQ29kZSxcbiAgICB3b3Jrc3BhY2UsXG4gICAgbGlzdFByaWNlQ2VudHMsXG4gICAgZ2lmdENhcmRTdGF0ZSxcbiAgICBwb2xpY2llcyxcbiAgICB0aW1lem9uZSxcbiAgICBzZWxlY3RlZFNlcnZpY2UsXG4gICAgc2VsZWN0ZWRTbG90LFxuICAgIHNldENyZWF0ZWRCb29raW5nLFxuICAgIHNldFN0ZXAsXG4gICAgdG9hc3QsXG4gICAgY29uc2VudENoZWNrZWQsXG4gICAgc2V0Q29uc2VudENoZWNrZWQsXG4gICAgZ2lmdENhcmRJbnB1dCxcbiAgICBzZXRHaWZ0Q2FyZElucHV0LFxuICAgIGdpZnRDYXJkRXJyb3IsXG4gICAgb25BcHBseUdpZnRDYXJkLFxuICAgIGFjY2VwdGVkTWV0aG9kcyxcbiAgICBhbW91bnREdWVDZW50cyxcbiAgICBpc1N1Ym1pdHRpbmcsXG4gICAgb25TdWJtaXQsXG4gICAgb25PcGVuUG9saWNpZXMsXG4gICAgYnVzaW5lc3NcbiAgfSA9IHByb3BzO1xuXG4gIC8vIENyZWF0ZSBTZXR1cEludGVudCB3aGVuIGNoZWNrb3V0IHN0ZXAgbG9hZHMgc28gcGF5bWVudCBmb3JtIGlzIGltbWVkaWF0ZWx5IGF2YWlsYWJsZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgY3JlYXRlIGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBvbmUgYW5kIHdlIGhhdmUgdGhlIHJlcXVpcmVkIGRhdGFcbiAgICBpZiAoIXNldHVwSW50ZW50Q2xpZW50U2VjcmV0ICYmIHNlbGVjdGVkU2VydmljZSAmJiBzZWxlY3RlZFNsb3QgJiYgY3VzdG9tZXJOYW1lICYmIGN1c3RvbWVyRW1haWwgJiYgY3VzdG9tZXJQaG9uZSkge1xuICAgICAgLy8gQ3JlYXRlIGJvb2tpbmcgZWFybHkgdG8gZ2V0IFNldHVwSW50ZW50IC0gdGhpcyBhbGxvd3MgdGhlIHBheW1lbnQgZm9ybSB0byBzaG93IGltbWVkaWF0ZWx5XG4gICAgICBjb25zdCBjcmVhdGVTZXR1cEludGVudCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhcGlQYXlsb2FkID0ge1xuICAgICAgICAgICAgc2VydmljZV9pZDogc2VsZWN0ZWRTZXJ2aWNlLmlkLFxuICAgICAgICAgICAgc3RhZmZfaWQ6IHNlbGVjdGVkU2xvdC5zdGFmZklkLFxuICAgICAgICAgICAgc3RhcnRfYXQ6IHNlbGVjdGVkU2xvdC5zdGFydERhdGVUaW1lLFxuICAgICAgICAgICAgY3VzdG9tZXI6IHtcbiAgICAgICAgICAgICAgbmFtZTogY3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgICAgICAgZW1haWw6IGN1c3RvbWVyRW1haWwudHJpbSgpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgIHBob25lOiBjdXN0b21lclBob25lLnRyaW0oKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdpZnRfY2FyZF9jb2RlOiBnaWZ0Q2FyZFN0YXRlPy5jb2RlLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3B1YmxpYy8ke2J1c2luZXNzLnNsdWd9L2Jvb2tpbmdzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYXBpUGF5bG9hZCksXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBzaG93IGVycm9yIGlmIGJvb2tpbmcgY3JlYXRpb24gZmFpbHMgLSB1c2VyIGhhc24ndCBjbGlja2VkIGNvbmZpcm0geWV0XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIFNldHVwSW50ZW50OicsIGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgYXBpUmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGFwaVJlc3BvbnNlLmNsaWVudF9zZWNyZXQpIHtcbiAgICAgICAgICAgIHNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0KGFwaVJlc3BvbnNlLmNsaWVudF9zZWNyZXQpO1xuICAgICAgICAgICAgaWYgKGFwaVJlc3BvbnNlLmJvb2tpbmdfaWQpIHtcbiAgICAgICAgICAgICAgLy8gU3RvcmUgYm9va2luZyBJRCBpZiByZXR1cm5lZCAodGhvdWdoIHdlIHNob3VsZG4ndCB1c2UgaXQgdW50aWwgcGF5bWVudCBpcyBjb25maXJtZWQpXG4gICAgICAgICAgICAgIC8vIFdlJ2xsIGhhbmRsZSB0aGlzIGluIHRoZSBzdWJtaXQgZmxvd1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBTZXR1cEludGVudDonLCBlcnJvcik7XG4gICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBlcnJvciB0byB1c2VyIC0gdGhleSBoYXZlbid0IHRyaWVkIHRvIHN1Ym1pdCB5ZXRcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY3JlYXRlU2V0dXBJbnRlbnQoKTtcbiAgICB9XG4gIH0sIFtzZXR1cEludGVudENsaWVudFNlY3JldCwgc2VsZWN0ZWRTZXJ2aWNlLCBzZWxlY3RlZFNsb3QsIGN1c3RvbWVyTmFtZSwgY3VzdG9tZXJFbWFpbCwgY3VzdG9tZXJQaG9uZSwgYnVzaW5lc3Muc2x1ZywgZ2lmdENhcmRTdGF0ZSwgc2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXRdKTtcblxuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImdyaWQgZ2FwLTggcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHAtOCBzaGFkb3ctWzBfMF82MHB4X3JnYmEoOTEsMTAwLDI1NSwwLjIpXSBtZDpncmlkLWNvbHMtWzEuNGZyXzFmcl1cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLVswLjM1ZW1dIHRleHQtd2hpdGUvNDBcIj5TdGVwIDMgwrcgQ2hlY2tvdXQ8L3A+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwibXQtMiBmb250LWRpc3BsYXkgdGV4dC0zeGwgdGV4dC13aGl0ZVwiPntzZXJ2aWNlLm5hbWV9PC9oMj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICB7Zm9ybWF0RHVyYXRpb24oc2VydmljZS5kdXJhdGlvbk1pbnV0ZXMpfSDCtyB7Zm9ybWF0Q3VycmVuY3kobGlzdFByaWNlQ2VudHMpfSDigJQgd2l0aHtcIiBcIn1cbiAgICAgICAgICAgICAge3Nsb3Quc3RhZmZOYW1lfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgb25DbGljaz17b25CYWNrfSBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC13aGl0ZS83MFwiPlxuICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIFBpY2sgYW5vdGhlciBzbG90XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtNCBtZDpncmlkLWNvbHMtMlwiPlxuICAgICAgICAgIDxGaWVsZCBsYWJlbD1cIkZ1bGwgbmFtZVwiPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21lck5hbWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldEN1c3RvbWVyTmFtZShldmVudC50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkpvcmRhbiBCbGFrZVwiXG4gICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cIm5hbWVcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0ZpZWxkPlxuICAgICAgICAgIDxGaWVsZCBsYWJlbD1cIkVtYWlsXCI+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbWVyRW1haWx9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldEN1c3RvbWVyRW1haWwoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5b3VAZXhhbXBsZS5jb21cIlxuICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRmllbGQ+XG4gICAgICAgICAgPEZpZWxkIGxhYmVsPVwiUGhvbmVcIj5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGVsXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbWVyUGhvbmV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldEN1c3RvbWVyUGhvbmUoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIrMSA1NTUgMDEwIDIwMzBcIlxuICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJ0ZWxcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0ZpZWxkPlxuICAgICAgICAgIDxGaWVsZCBsYWJlbD1cIkdpZnQgY2FyZCBvciBjb2RlXCIgaGVscGVyPVwiT3B0aW9uYWwg4oCUIGFtb3VudCBvciBwZXJjZW50IG9mZiB3aWxsIGFwcGx5IGltbWVkaWF0ZWx5LlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtnaWZ0Q2FyZElucHV0fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldEdpZnRDYXJkSW5wdXQoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIldFTENPTUUxMjBcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSB1cHBlcmNhc2VcIlxuICAgICAgICAgICAgICAgIGF1dG9DYXBpdGFsaXplPVwiY2hhcmFjdGVyc1wiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cImJ1dHRvblwiIHZhcmlhbnQ9XCJvdXRsaW5lXCIgb25DbGljaz17b25BcHBseUdpZnRDYXJkfT5cbiAgICAgICAgICAgICAgICBBcHBseVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge2dpZnRDYXJkRXJyb3IgPyAoXG4gICAgICAgICAgICAgIDxIZWxwZXJUZXh0IGludGVudD1cImVycm9yXCIgY2xhc3NOYW1lPVwibXQtMlwiPlxuICAgICAgICAgICAgICAgIHtnaWZ0Q2FyZEVycm9yfVxuICAgICAgICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIHtnaWZ0Q2FyZFN0YXRlID8gKFxuICAgICAgICAgICAgICA8SGVscGVyVGV4dCBpbnRlbnQ9XCJzdWNjZXNzXCIgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWVtZXJhbGQtMjAwXCI+XG4gICAgICAgICAgICAgICAgPEdpZnQgY2xhc3NOYW1lPVwibXItMS41IGlubGluZSBoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICB7Z2lmdENhcmRTdGF0ZS5kZXNjcmlwdGlvbn0gKHtnaWZ0Q2FyZFN0YXRlLmNvZGV9KVxuICAgICAgICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8L0ZpZWxkPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNjAgcC02XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgIDxDcmVkaXRDYXJkIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgUGF5bWVudCBtZXRob2Qg4oCUIGNhcmQgc2F2ZWQgbm93LCBjaGFyZ2VkIGxhdGVyXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LXdoaXRlLzUwXCI+XG4gICAgICAgICAgICB7YWNjZXB0ZWRNZXRob2RzLmxlbmd0aCA+IDAgXG4gICAgICAgICAgICAgID8gYCR7ZGVzY3JpYmVBY2NlcHRlZE1ldGhvZHMoYWNjZXB0ZWRNZXRob2RzKX0uIGAgXG4gICAgICAgICAgICAgIDogJyd9QSBjcmVkaXQgY2FyZCBpcyByZXF1aXJlZCBmb3IgYWxsIGJvb2tpbmdzLiBFdmVuIGlmIHlvdSBwbGFuIHRvIHBheSB3aXRoIGNhc2gsIHdlIHN0b3JlIGEgY2FyZFxuICAgICAgICAgICAgaW4gY2FzZSBhIHBvbGljeSBmZWUgYXBwbGllcyAoZS5nLiwgbm8tc2hvdyBmZWVzKS5cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAge3NldHVwSW50ZW50Q2xpZW50U2VjcmV0ID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgICAgIDxFbGVtZW50c1xuICAgICAgICAgICAgICAgIHN0cmlwZT17c3RyaXBlUHJvbWlzZX1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXt7XG4gICAgICAgICAgICAgICAgICBjbGllbnRTZWNyZXQ6IHNldHVwSW50ZW50Q2xpZW50U2VjcmV0LFxuICAgICAgICAgICAgICAgICAgYXBwZWFyYW5jZToge1xuICAgICAgICAgICAgICAgICAgICB0aGVtZTogJ25pZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29sb3JQcmltYXJ5OiAnIzVCNjRGRicsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3JCYWNrZ3JvdW5kOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3JUZXh0OiAnI2ZmZmZmZicsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3JEYW5nZXI6ICcjZWY0NDQ0JyxcbiAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnc3lzdGVtLXVpLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgICAgICAgICAgICBzcGFjaW5nVW5pdDogJzRweCcsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTdHJpcGVQYXltZW50Rm9ybVxuICAgICAgICAgICAgICAgICAgb25QYXltZW50TWV0aG9kUmVhZHk9e2FzeW5jIChwbUlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGF5bWVudE1ldGhvZElkKHBtSWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmNlIHBheW1lbnQgbWV0aG9kIGlzIGNvbmZpcm1lZCwgcHJvY2VlZCB0byBjb25maXJtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJvb2tpbmcgd2FzIGFscmVhZHkgY3JlYXRlZCBieSB0aGUgQVBJXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNlcnZpY2UgJiYgc2VsZWN0ZWRTbG90ICYmIGNyZWF0ZWRCb29raW5nSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBib29raW5nOiBGYWtlQm9va2luZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjcmVhdGVkQm9va2luZ0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY3JlYXRlZEJvb2tpbmdDb2RlIHx8IGBUSVRISS0ke2NyZWF0ZWRCb29raW5nSWQuc2xpY2UoMCwgOCkudG9VcHBlckNhc2UoKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlSWQ6IHNlbGVjdGVkU2VydmljZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBzZWxlY3RlZFNlcnZpY2UubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogc2VsZWN0ZWRTZXJ2aWNlLmNhdGVnb3J5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uTWludXRlczogc2VsZWN0ZWRTZXJ2aWNlLmR1cmF0aW9uTWludXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZVRpbWU6IHNlbGVjdGVkU2xvdC5zdGFydERhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZVRpbWU6IHNlbGVjdGVkU2xvdC5lbmREYXRlVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWZmOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBzZWxlY3RlZFNsb3Quc3RhZmZJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc2VsZWN0ZWRTbG90LnN0YWZmTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHdvcmtzcGFjZS5zdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTbG90LnN0YWZmSWQpPy5jb2xvciB8fCBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogY3VzdG9tZXJFbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGN1c3RvbWVyUGhvbmUudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFuY2lhbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFByaWNlQ2VudHM6IGxpc3RQcmljZUNlbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnaWZ0Q2FyZEFtb3VudENlbnRzOiBnaWZ0Q2FyZFN0YXRlPy5hbW91bnRDZW50cyB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybUZlZUNlbnRzOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXRQYXlvdXRDZW50czogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbGljeUNvbnNlbnQ6IGNyZWF0ZVBvbGljeUNvbnNlbnQocG9saWNpZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZXNBY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmcoYm9va2luZyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U3RlcChcImNvbmZpcm1hdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQm9va2luZyBjb25maXJtZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtzZWxlY3RlZFNlcnZpY2UubmFtZX0gb24gJHtmb3JtYXRJblRpbWVab25lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNsb3Quc3RhcnREYXRlVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXpvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsgd2Vla2RheTogXCJsb25nXCIsIG1vbnRoOiBcInNob3J0XCIsIGRheTogXCJudW1lcmljXCIsIGhvdXI6IFwibnVtZXJpY1wiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICl9LiBObyBjaGFyZ2UgeWV04oCUY2FyZCBzYXZlZCBzZWN1cmVseS5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50OiBcInN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgYWNjZXB0ZWRNZXRob2RzPXthY2NlcHRlZE1ldGhvZHN9XG4gICAgICAgICAgICAgICAgICBidXNpbmVzc1NsdWc9e2J1c2luZXNzLnNsdWd9XG4gICAgICAgICAgICAgICAgICBib29raW5nSWQ9e2NyZWF0ZWRCb29raW5nSWQgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0VsZW1lbnRzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICA8SGVscGVyVGV4dCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgICAgQ2xpY2sgXCJDb25maXJtIGJvb2tpbmdcIiBiZWxvdyB0byBzZXQgdXAgeW91ciBwYXltZW50IG1ldGhvZC4gWW91ciBjYXJkIHdpbGwgYmUgc2F2ZWQgc2VjdXJlbHkgYnV0IG5vdCBjaGFyZ2VkLlxuICAgICAgICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxIZWxwZXJUZXh0IGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgIFlvdSdyZSBhdXRob3JpemluZyBhIGNhcmQgb24gZmlsZS4gUGVyIFRpdGhpJ3MgbWFudWFsIGNhcHR1cmUgcnVsZXMsIG5vdGhpbmcgaXMgY2hhcmdlZCB1bnRpbFxuICAgICAgICAgICAgeW91ciBhcHBvaW50bWVudCBpcyBjb21wbGV0ZWQgb3IgYSBwb2xpY3kgZmVlIGFwcGxpZXMuXG4gICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTQgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay82MCBwLTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBpZD1cInBvbGljeS1jb25zZW50XCJcbiAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgY2hlY2tlZD17Y29uc2VudENoZWNrZWR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldENvbnNlbnRDaGVja2VkKGV2ZW50LnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBoLTUgdy01IHJvdW5kZWQgYm9yZGVyLXdoaXRlLzIwIGJnLWJsYWNrIHRleHQtcHJpbWFyeSBmb2N1czpyaW5nLXByaW1hcnlcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicG9saWN5LWNvbnNlbnRcIiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICAgICAgSSBhZ3JlZSB0byB0aGUgY2FuY2VsbGF0aW9uLCBuby1zaG93LCByZWZ1bmQsIGFuZCBjYXNoIHBvbGljaWVzLiBNeSBjYXJkIGlzIHNhdmVkIHZpYSBTdHJpcGVcbiAgICAgICAgICAgICAgZm9yIG1hbnVhbCBjYXB0dXJlIGxhdGVyLntcIiBcIn1cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uT3BlblBvbGljaWVzfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeSB1bmRlcmxpbmUtb2Zmc2V0LTIgaG92ZXI6dW5kZXJsaW5lXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFZpZXcgcG9saWNpZXNcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIC5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uU3VibWl0fVxuICAgICAgICAgICAgaXNMb2FkaW5nPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nIHx8ICEhc2V0dXBJbnRlbnRDbGllbnRTZWNyZXR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdGV4dC1iYXNlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8Q2hlY2tDaXJjbGUyIGNsYXNzTmFtZT1cImgtNSB3LTVcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAge3NldHVwSW50ZW50Q2xpZW50U2VjcmV0ID8gJ0NvbXBsZXRlIHBheW1lbnQgc2V0dXAgYmVsb3cnIDogJ0NvbmZpcm0gYm9va2luZyDigJQgbm8gY2hhcmdlIHRvZGF5J31cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGFzaWRlIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTQgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay82MCBwLTZcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy1bMC4zNWVtXSB0ZXh0LXdoaXRlLzQwXCI+U3VtbWFyeTwvcD5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwibXQtMiBmb250LWRpc3BsYXkgdGV4dC0yeGwgdGV4dC13aGl0ZVwiPntzZXJ2aWNlLm5hbWV9PC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgPENhbGVuZGFyRGF5cyBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKHNsb3Quc3RhcnREYXRlVGltZSwgdGltZXpvbmUsIHtcbiAgICAgICAgICAgICAgd2Vla2RheTogXCJsb25nXCIsXG4gICAgICAgICAgICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgICAgICAgICAgIGRheTogXCJudW1lcmljXCJcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgPENsb2NrIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUoc2xvdC5zdGFydERhdGVUaW1lLCB0aW1lem9uZSwge1xuICAgICAgICAgICAgICBob3VyOiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgICAgbWludXRlOiBcIjItZGlnaXRcIlxuICAgICAgICAgICAgfSl9e1wiIFwifVxuICAgICAgICAgICAg4oCUIHtmb3JtYXREdXJhdGlvbihzZXJ2aWNlLmR1cmF0aW9uTWludXRlcyl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICA8VXNlcnMgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICB7c2xvdC5zdGFmZk5hbWV9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItd2hpdGUvMTAgcHQtNCB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPHNwYW4+U2VydmljZSBwcmljZTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIj57Zm9ybWF0Q3VycmVuY3kobGlzdFByaWNlQ2VudHMpfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Z2lmdENhcmRTdGF0ZSA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC1lbWVyYWxkLTIwMFwiPlxuICAgICAgICAgICAgICA8c3Bhbj5HaWZ0IGNhcmQgKHtnaWZ0Q2FyZFN0YXRlLmNvZGV9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4+LXtmb3JtYXRDdXJyZW5jeShnaWZ0Q2FyZFN0YXRlLmFtb3VudENlbnRzKX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgIDxzcGFuPkR1ZSB0b2RheTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuPntmb3JtYXRDdXJyZW5jeShhbW91bnREdWVDZW50cyl9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxIZWxwZXJUZXh0IGNsYXNzTmFtZT1cIm10LTNcIj5cbiAgICAgICAgICAgIFRoaXMgYW1vdW50IGlzIGF1dGhvcml6ZWQgYnV0IG5vdCBjYXB0dXJlZC4gTWFudWFsIGNhcHR1cmUgZW5zdXJlcyB5b3Ugb25seSBjaGFyZ2UgY3VzdG9tZXJzXG4gICAgICAgICAgICBhZnRlciBzZXJ2aWNlcyBhcmUgZGVsaXZlcmVkIG9yIGlmIGEgcG9saWN5IGZlZSBhcHBsaWVzLlxuICAgICAgICAgIDwvSGVscGVyVGV4dD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2FzaWRlPlxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ29uZmlybWF0aW9uU3RlcCh7XG4gIGJvb2tpbmcsXG4gIHNlcnZpY2UsXG4gIGFtb3VudER1ZUNlbnRzLFxuICBwb2xpY2llcyxcbiAgdGltZXpvbmUsXG4gIG9uQm9va0Fub3RoZXJcbn06IHtcbiAgYm9va2luZzogRmFrZUJvb2tpbmc7XG4gIHNlcnZpY2U/OiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGR1cmF0aW9uTWludXRlczogbnVtYmVyO1xuICAgIHByaWNlQ2VudHM6IG51bWJlcjtcbiAgfTtcbiAgYW1vdW50RHVlQ2VudHM6IG51bWJlcjtcbiAgcG9saWNpZXM6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInBvbGljaWVzXCJdO1xuICB0aW1lem9uZTogc3RyaW5nO1xuICBvbkJvb2tBbm90aGVyOiAoKSA9PiB2b2lkO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItZW1lcmFsZC00MDAvNDAgYmctZW1lcmFsZC01MDAvMTAgcC0xMCB0ZXh0LWVtZXJhbGQtNTAgc2hhZG93LVswXzBfODBweF9yZ2JhKDE2LDE4NSwxMjksMC4zNSldXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTYgbWQ6ZmxleC1yb3cgbWQ6aXRlbXMtY2VudGVyIG1kOmp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNDAwLzUwIGJnLWVtZXJhbGQtNDAwLzIwIHB4LTQgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLVswLjM1ZW1dIHRleHQtZW1lcmFsZC0xMDBcIj5cbiAgICAgICAgICAgIDxQYXJ0eVBvcHBlciBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIEJvb2tpbmcgY29uZmlybWVkXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cIm10LTQgZm9udC1kaXNwbGF5IHRleHQtNHhsIHRleHQtZW1lcmFsZC01MFwiPlxuICAgICAgICAgICAge3NlcnZpY2U/Lm5hbWUgPz8gYm9va2luZy5zZXJ2aWNlTmFtZX1cbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LWVtZXJhbGQtMTAwLzgwXCI+XG4gICAgICAgICAgICBXZSBlbWFpbGVkIHtib29raW5nLmN1c3RvbWVyLmVtYWlsfSBhbmQgd2lsbCBzZW5kIHJlbWluZGVycyB2aWEgU01TLiBZb3VyIGNhcmQgaXMgc2F2ZWQgYnV0XG4gICAgICAgICAgICB3b27igJl0IGJlIGNoYXJnZWQgdW50aWwgdGhlIGFwcG9pbnRtZW50IGlzIGNvbXBsZXRlZOKAlG9yIGlmIGEgbWFudWFsIHBvbGljeSBmZWUgYXBwbGllcy5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItZW1lcmFsZC00MDAvNTAgYmctYmxhY2svNDAgcC02IHRleHQtc20gdGV4dC1lbWVyYWxkLTEwMC84MFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8Q2FsZW5kYXJEYXlzIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUoYm9va2luZy5zdGFydERhdGVUaW1lLCB0aW1lem9uZSwge1xuICAgICAgICAgICAgICB3ZWVrZGF5OiBcImxvbmdcIixcbiAgICAgICAgICAgICAgbW9udGg6IFwic2hvcnRcIixcbiAgICAgICAgICAgICAgZGF5OiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICAgICAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCJcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICB7Ym9va2luZy5zdGFmZiA/IChcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICB7Ym9va2luZy5zdGFmZi5uYW1lfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxDbG9jayBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIHtmb3JtYXREdXJhdGlvbihzZXJ2aWNlPy5kdXJhdGlvbk1pbnV0ZXMgPz8gYm9va2luZy5kdXJhdGlvbk1pbnV0ZXMpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgYm9yZGVyLXQgYm9yZGVyLWVtZXJhbGQtNDAwLzMwIHB0LTMgdGV4dC1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPHNwYW4+QXV0aG9yaXplZDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4+e2Zvcm1hdEN1cnJlbmN5KHNlcnZpY2U/LnByaWNlQ2VudHMgPz8gYm9va2luZy5maW5hbmNpYWxzLmxpc3RQcmljZUNlbnRzKX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHthbW91bnREdWVDZW50cyA8IChzZXJ2aWNlPy5wcmljZUNlbnRzID8/IGJvb2tpbmcuZmluYW5jaWFscy5saXN0UHJpY2VDZW50cykgPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtZW1lcmFsZC0yMDBcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5HaWZ0IGNhcmQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+LXtmb3JtYXRDdXJyZW5jeSgoc2VydmljZT8ucHJpY2VDZW50cyA/PyBib29raW5nLmZpbmFuY2lhbHMubGlzdFByaWNlQ2VudHMpIC0gYW1vdW50RHVlQ2VudHMpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgdGV4dC1lbWVyYWxkLTUwXCI+XG4gICAgICAgICAgICAgIDxzcGFuPkR1ZSBhZnRlciBhcHBvaW50bWVudDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4+e2Zvcm1hdEN1cnJlbmN5KGFtb3VudER1ZUNlbnRzKX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xMCBncmlkIGdhcC02IG1kOmdyaWQtY29scy0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTQwMC80MCBiZy1lbWVyYWxkLTQwMC8xMCBwLTYgdGV4dC1zbVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZW1lcmFsZC0yMDAvOTBcIj5XaGF0IGhhcHBlbnMgbmV4dDwvcD5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibXQtMyBzcGFjZS15LTIgdGV4dC1lbWVyYWxkLTEwMC84MFwiPlxuICAgICAgICAgICAgPGxpPkNoZWNrIHlvdXIgZW1haWwgYW5kIFNNUyBmb3IgY29uZmlybWF0aW9uIGRldGFpbHMgYW5kIHJlbWluZGVycy48L2xpPlxuICAgICAgICAgICAgPGxpPlJlc2NoZWR1bGUgb3IgY2FuY2VsIGF0IGxlYXN0IDI0aCBpbiBhZHZhbmNlIHRvIGF2b2lkIHBvbGljeSBmZWVzLjwvbGk+XG4gICAgICAgICAgICA8bGk+TWFudWFsIGNhcHR1cmUga2VlcHMgbW9uZXkgaW4geW91ciBjb250cm9s4oCUbm8gY2hhcmdlcyBydW4gYXV0b21hdGljYWxseS48L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItZW1lcmFsZC00MDAvNDAgYmctYmxhY2svNDAgcC02IHRleHQtc21cIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWVtZXJhbGQtMjAwLzkwXCI+UG9saWNpZXMgc25hcHNob3Q8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm10LTMgc3BhY2UteS0yIHRleHQtZW1lcmFsZC0xMDAvODBcIj5cbiAgICAgICAgICAgIDxsaT57cG9saWNpZXMuY2FuY2VsbGF0aW9uUG9saWN5fTwvbGk+XG4gICAgICAgICAgICA8bGk+e3BvbGljaWVzLm5vU2hvd1BvbGljeX08L2xpPlxuICAgICAgICAgICAgPGxpPntwb2xpY2llcy5yZWZ1bmRQb2xpY3l9PC9saT5cbiAgICAgICAgICAgIDxsaT57cG9saWNpZXMuY2FzaFBvbGljeX08L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgb25DbGljaz17b25Cb29rQW5vdGhlcn1cbiAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgYm9yZGVyLWVtZXJhbGQtNDAwLzQwIHRleHQtZW1lcmFsZC0xMDAgaG92ZXI6Ym9yZGVyLWVtZXJhbGQtMzAwIGhvdmVyOnRleHQtZW1lcmFsZC01MFwiXG4gICAgICAgID5cbiAgICAgICAgICBCb29rIGFub3RoZXIgYXBwb2ludG1lbnRcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1lbWVyYWxkLTEwMC83MFwiPlxuICAgICAgICAgIE5lZWQgaGVscD8gUmVwbHkgdG8gdGhlIGNvbmZpcm1hdGlvbiBlbWFpbCBvciB0ZXh0IHVzIGF0IHtib29raW5nLmN1c3RvbWVyLnBob25lfS5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuICApO1xufVxuXG5mdW5jdGlvbiBQb2xpY3lNb2RhbCh7XG4gIHBvbGljaWVzLFxuICBvbkNsb3NlLFxuICB0aW1lem9uZVxufToge1xuICBwb2xpY2llczogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicG9saWNpZXNcIl07XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gIHRpbWV6b25lOiBzdHJpbmc7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzgwIHB4LTQgcHktOFwiXG4gICAgICByb2xlPVwiZGlhbG9nXCJcbiAgICAgIGFyaWEtbW9kYWw9XCJ0cnVlXCJcbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIG1heC1oLVs5MHZoXSB3LWZ1bGwgbWF4LXctM3hsIG92ZXJmbG93LXktYXV0byByb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzEwIHAtOCBiYWNrZHJvcC1ibHVyXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTYgdG9wLTYgdGV4dC13aGl0ZS82MCB0cmFuc2l0aW9uIGhvdmVyOnRleHQtd2hpdGVcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZSBwb2xpY2llc1wiXG4gICAgICAgID5cbiAgICAgICAgICDinJVcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJmb250LWRpc3BsYXkgdGV4dC0zeGwgdGV4dC13aGl0ZVwiPkJvb2tpbmcgcG9saWNpZXM8L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgIEFsbCB0aW1lcyByZWZlcmVuY2VkIGFsaWduIHRvIHt0aW1lem9uZX0uIENvbnNlbnQgaXMgcmVxdWlyZWQgYmVmb3JlIHN1Ym1pdHRpbmcgeW91ciBib29raW5nLlxuICAgICAgICA8L3A+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBzcGFjZS15LTUgdGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWQgdGV4dC13aGl0ZS83NVwiPlxuICAgICAgICAgIDxQb2xpY3lCbG9jayB0aXRsZT1cIkNhbmNlbGxhdGlvbiBwb2xpY3lcIiBib2R5PXtwb2xpY2llcy5jYW5jZWxsYXRpb25Qb2xpY3l9IC8+XG4gICAgICAgICAgPFBvbGljeUJsb2NrIHRpdGxlPVwiQ2FuY2VsbGF0aW9uIGZlZXNcIiBib2R5PXtkZXNjcmliZUZlZShwb2xpY2llcy5jYW5jZWxsYXRpb25GZWVUeXBlLCBwb2xpY2llcy5jYW5jZWxsYXRpb25GZWVWYWx1ZSl9IC8+XG4gICAgICAgICAgPFBvbGljeUJsb2NrIHRpdGxlPVwiTm8tc2hvdyBwb2xpY3lcIiBib2R5PXtwb2xpY2llcy5ub1Nob3dQb2xpY3l9IC8+XG4gICAgICAgICAgPFBvbGljeUJsb2NrIHRpdGxlPVwiTm8tc2hvdyBmZWVcIiBib2R5PXtkZXNjcmliZUZlZShwb2xpY2llcy5ub1Nob3dGZWVUeXBlLCBwb2xpY2llcy5ub1Nob3dGZWVWYWx1ZSl9IC8+XG4gICAgICAgICAgPFBvbGljeUJsb2NrIHRpdGxlPVwiUmVmdW5kIHBvbGljeVwiIGJvZHk9e3BvbGljaWVzLnJlZnVuZFBvbGljeX0gLz5cbiAgICAgICAgICA8UG9saWN5QmxvY2sgdGl0bGU9XCJDYXNoIHBvbGljeVwiIGJvZHk9e3BvbGljaWVzLmNhc2hQb2xpY3l9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggZmxleCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17b25DbG9zZX0gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8Q2hlY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICBJIHVuZGVyc3RhbmRcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gU3RlcEluZGljYXRvcih7IGN1cnJlbnRTdGVwLCBvblJlc2V0IH06IHsgY3VycmVudFN0ZXA6IFN0ZXA7IG9uUmVzZXQ6ICgpID0+IHZvaWQgfSkge1xuICBjb25zdCBzdGVwczogQXJyYXk8eyBpZDogU3RlcDsgbGFiZWw6IHN0cmluZyB9PiA9IFtcbiAgICB7IGlkOiBcImNhdGFsb2dcIiwgbGFiZWw6IFwiU2VydmljZVwiIH0sXG4gICAgeyBpZDogXCJhdmFpbGFiaWxpdHlcIiwgbGFiZWw6IFwiVGltZVwiIH0sXG4gICAgeyBpZDogXCJjaGVja291dFwiLCBsYWJlbDogXCJDaGVja291dFwiIH0sXG4gICAgeyBpZDogXCJjb25maXJtYXRpb25cIiwgbGFiZWw6IFwiRG9uZVwiIH1cbiAgXTtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTMgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTYgcHktNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyB0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy1bMC4zNWVtXSB0ZXh0LXdoaXRlLzQwXCI+XG4gICAgICAgIHtzdGVwcy5tYXAoKHN0ZXAsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPGRpdiBrZXk9e3N0ZXAuaWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgIFwiaW5saW5lLWZsZXggaC04IHctOCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1mdWxsIGJvcmRlciB0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIixcbiAgICAgICAgICAgICAgICBjdXJyZW50U3RlcCA9PT0gc3RlcC5pZFxuICAgICAgICAgICAgICAgICAgPyBcImJvcmRlci1wcmltYXJ5IGJnLXByaW1hcnkvMzAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzIwIGJnLXdoaXRlLzEwIHRleHQtd2hpdGUvNTBcIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aW5kZXggKyAxfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjdXJyZW50U3RlcCA9PT0gc3RlcC5pZCA/IFwidGV4dC13aGl0ZVwiIDogXCJ0ZXh0LXdoaXRlLzUwXCJ9PlxuICAgICAgICAgICAgICB7c3RlcC5sYWJlbH1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIHtpbmRleCA8IHN0ZXBzLmxlbmd0aCAtIDEgPyAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImgtcHggdy0xMiBiZy13aGl0ZS8xMFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtjdXJyZW50U3RlcCAhPT0gXCJjYXRhbG9nXCIgJiYgY3VycmVudFN0ZXAgIT09IFwiY29uZmlybWF0aW9uXCIgPyAoXG4gICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgb25DbGljaz17b25SZXNldH0gY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MFwiPlxuICAgICAgICAgIFN0YXJ0IG92ZXJcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICApIDogbnVsbH1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gRmllbGQoe1xuICBsYWJlbCxcbiAgaGVscGVyLFxuICBjaGlsZHJlblxufToge1xuICBsYWJlbDogc3RyaW5nO1xuICBoZWxwZXI/OiBzdHJpbmc7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTIgdGV4dC1zbSB0ZXh0LXdoaXRlLzcwXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj57bGFiZWx9PC9zcGFuPlxuICAgICAge2NoaWxkcmVufVxuICAgICAge2hlbHBlciA/IDxIZWxwZXJUZXh0IGNsYXNzTmFtZT1cInRleHQtWzEzcHhdIHRleHQtd2hpdGUvNDBcIj57aGVscGVyfTwvSGVscGVyVGV4dD4gOiBudWxsfVxuICAgIDwvbGFiZWw+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFN0YWZmUGlsbCh7XG4gIGxhYmVsLFxuICBjb2xvcixcbiAgYWN0aXZlLFxuICBvbkNsaWNrXG59OiB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGNvbG9yPzogc3RyaW5nO1xuICBhY3RpdmU6IGJvb2xlYW47XG4gIG9uQ2xpY2s6ICgpID0+IHZvaWQ7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJyb3VuZGVkLWZ1bGwgYm9yZGVyIHB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24gZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXByaW1hcnkvNzAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtYmxhY2tcIixcbiAgICAgICAgYWN0aXZlID8gXCJib3JkZXItd2hpdGUvNjAgYmctd2hpdGUvMTUgdGV4dC13aGl0ZVwiIDogXCJib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSB0ZXh0LXdoaXRlLzYwIGhvdmVyOnRleHQtd2hpdGUvODBcIlxuICAgICAgKX1cbiAgICAgIHN0eWxlPXthY3RpdmUgJiYgY29sb3IgPyB7IGJvcmRlckNvbG9yOiBjb2xvciwgYm94U2hhZG93OiBgMCAwIDI1cHggJHtjb2xvcn0zM2AgfSA6IHVuZGVmaW5lZH1cbiAgICA+XG4gICAgICB7bGFiZWx9XG4gICAgPC9idXR0b24+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFBvbGljeUJsb2NrKHsgdGl0bGUsIGJvZHkgfTogeyB0aXRsZTogc3RyaW5nOyBib2R5OiBzdHJpbmcgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy1bMC4zNWVtXSB0ZXh0LXdoaXRlLzQwXCI+e3RpdGxlfTwvcD5cbiAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LXdoaXRlLzcwIGxlYWRpbmctcmVsYXhlZFwiPntib2R5fTwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ29uZmV0dGlPdmVybGF5KCkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBpbnNldC0wIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IDE1MCB9KS5tYXAoKF8sIGluZGV4KSA9PiAoXG4gICAgICAgIDxzcGFuXG4gICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJjb25mZXR0aS1waWVjZVwiXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGxlZnQ6IGAke01hdGgucmFuZG9tKCkgKiAxMDB9JWAsXG4gICAgICAgICAgICBhbmltYXRpb25EZWxheTogYCR7TWF0aC5yYW5kb20oKSAqIDAuNX1zYCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogcmFuZG9tQ29uZmV0dGlDb2xvcigpXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICkpfVxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICBAa2V5ZnJhbWVzIGNvbmZldHRpLWZhbGwge1xuICAgICAgICAgIDAlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTB2aCkgcm90YXRlKDBkZWcpO1xuICAgICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgMTAlIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIDEwMCUge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDExMHZoKSByb3RhdGUoNzIwZGVnKTtcbiAgICAgICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC5jb25mZXR0aS1waWVjZSB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHdpZHRoOiA2cHg7XG4gICAgICAgICAgaGVpZ2h0OiAxMnB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICAgIGFuaW1hdGlvbjogY29uZmV0dGktZmFsbCAyLjNzIGVhc2UtaW4gYm90aDtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiByYW5kb21Db25mZXR0aUNvbG9yKCkge1xuICBjb25zdCBwYWxldHRlID0gW1wiIzVCNjRGRlwiLCBcIiM1N0QwRkZcIiwgXCIjRkY5QThCXCIsIFwiI0ZGRDE2NlwiLCBcIiM4QUZGQ0ZcIiwgXCIjQzRBNUZGXCJdO1xuICByZXR1cm4gcGFsZXR0ZVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwYWxldHRlLmxlbmd0aCldO1xufVxuXG5mdW5jdGlvbiBmb3JtYXREdXJhdGlvbihtaW51dGVzOiBudW1iZXIpIHtcbiAgaWYgKG1pbnV0ZXMgPCA2MCkgcmV0dXJuIGAke21pbnV0ZXN9IG1pbmA7XG4gIGNvbnN0IGhycyA9IE1hdGguZmxvb3IobWludXRlcyAvIDYwKTtcbiAgY29uc3QgbWlucyA9IG1pbnV0ZXMgJSA2MDtcbiAgcmV0dXJuIG1pbnMgPT09IDAgPyBgJHtocnN9IGhyYCA6IGAke2hyc30gaHIgJHttaW5zfSBtaW5gO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRDdXJyZW5jeShjZW50czogbnVtYmVyKSB7XG4gIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoXCJlbi1VU1wiLCB7XG4gICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICBjdXJyZW5jeTogXCJVU0RcIlxuICB9KS5mb3JtYXQoY2VudHMgLyAxMDApO1xufVxuXG5mdW5jdGlvbiBkZXNjcmliZUFjY2VwdGVkTWV0aG9kcyhtZXRob2RzOiBzdHJpbmdbXSkge1xuICBjb25zdCB1bmlxdWUgPSBBcnJheS5mcm9tKG5ldyBTZXQobWV0aG9kcykpO1xuICBjb25zdCBtZXRob2RMYWJlbHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgY2FyZDogXCJDcmVkaXQgJiBEZWJpdCBDYXJkc1wiLFxuICAgIGNhc2g6IFwiQ2FzaFwiLFxuICAgIHdhbGxldHM6IFwiRGlnaXRhbCBXYWxsZXRzIChBcHBsZSBQYXksIEdvb2dsZSBQYXkpXCIsXG4gICAgYXBwbGVfcGF5OiBcIkFwcGxlIFBheVwiLFxuICAgIFwiYXBwbGUtcGF5XCI6IFwiQXBwbGUgUGF5XCIsXG4gICAgZ29vZ2xlX3BheTogXCJHb29nbGUgUGF5XCIsXG4gICAgXCJnb29nbGUtcGF5XCI6IFwiR29vZ2xlIFBheVwiLFxuICB9O1xuICBjb25zdCBsYWJlbHMgPSB1bmlxdWUubWFwKChtZXRob2QpID0+IG1ldGhvZExhYmVsc1ttZXRob2QudG9Mb3dlckNhc2UoKV0gfHwgbWV0aG9kLnRvVXBwZXJDYXNlKCkpO1xuICByZXR1cm4gbGFiZWxzLmxlbmd0aCA+IDAgPyBgQWNjZXB0ZWQ6ICR7bGFiZWxzLmpvaW4oXCIsIFwiKX1gIDogXCJBY2NlcHRlZDogQ3JlZGl0ICYgRGViaXQgQ2FyZHNcIjtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVGZWUodHlwZTogXCJmbGF0XCIgfCBcInBlcmNlbnRcIiwgdmFsdWU6IG51bWJlcikge1xuICBpZiAodmFsdWUgPD0gMCkgcmV0dXJuIFwiTm8gZmVlXCI7XG4gIHJldHVybiB0eXBlID09PSBcInBlcmNlbnRcIiA/IGAke3ZhbHVlfSUgb2YgdGhlIHNlcnZpY2UgcHJpY2VgIDogZm9ybWF0Q3VycmVuY3koTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMCkpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRBZGRyZXNzKGxvY2F0aW9uOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJpZGVudGl0eVwiXVtcImxvY2F0aW9uXCJdKSB7XG4gIGNvbnN0IHBhcnRzID0gW1xuICAgIGxvY2F0aW9uLmFkZHJlc3NMaW5lMSxcbiAgICBsb2NhdGlvbi5hZGRyZXNzTGluZTIsXG4gICAgYCR7bG9jYXRpb24uY2l0eX0sICR7bG9jYXRpb24uc3RhdGVQcm92aW5jZX1gLFxuICAgIGxvY2F0aW9uLmNvdW50cnlcbiAgXS5maWx0ZXIoQm9vbGVhbik7XG4gIHJldHVybiBwYXJ0cy5qb2luKFwiIMK3IFwiKTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZEVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIC9cXFMrQFxcUytcXC5cXFMrLy50ZXN0KGVtYWlsKTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZFBob25lKHBob25lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHBob25lLnRyaW0oKS5sZW5ndGggPj0gNztcbn1cblxuZnVuY3Rpb24gY3JlYXRlUG9saWN5Q29uc2VudChwb2xpY2llczogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicG9saWNpZXNcIl0pIHtcbiAgY29uc3QgaGFzaEJhc2UgPSBKU09OLnN0cmluZ2lmeShwb2xpY2llcyk7XG4gIGNvbnN0IGhhc2ggPSBzaW1wbGVIYXNoKGhhc2hCYXNlKTtcbiAgcmV0dXJuIHtcbiAgICBoYXNoLFxuICAgIGFjY2VwdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBpcDogXCIyMDMuMC4xMTMuNVwiLFxuICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudFxuICB9O1xufVxuXG5mdW5jdGlvbiBzaW1wbGVIYXNoKGlucHV0OiBzdHJpbmcpIHtcbiAgbGV0IGhhc2ggPSAwO1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaW5wdXQubGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGlucHV0LmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgIGhhc2ggfD0gMDtcbiAgfVxuICByZXR1cm4gTWF0aC5hYnMoaGFzaCkudG9TdHJpbmcoMTYpO1xufVxuXG4vLyBTdHJpcGUgUGF5bWVudCBGb3JtIENvbXBvbmVudFxuZnVuY3Rpb24gU3RyaXBlUGF5bWVudEZvcm0oe1xuICBvblBheW1lbnRNZXRob2RSZWFkeSxcbiAgYWNjZXB0ZWRNZXRob2RzLFxuICBidXNpbmVzc1NsdWcsXG4gIGJvb2tpbmdJZCxcbiAgY3JlYXRlZEJvb2tpbmdJZCxcbiAgY3JlYXRlZEJvb2tpbmdDb2RlLFxuICB3b3Jrc3BhY2UsXG4gIGN1c3RvbWVyTmFtZSxcbiAgY3VzdG9tZXJFbWFpbCxcbiAgY3VzdG9tZXJQaG9uZSxcbiAgbGlzdFByaWNlQ2VudHMsXG4gIGdpZnRDYXJkU3RhdGUsXG4gIHBvbGljaWVzLFxuICB0aW1lem9uZSxcbiAgc2VsZWN0ZWRTZXJ2aWNlLFxuICBzZWxlY3RlZFNsb3QsXG4gIHNldENyZWF0ZWRCb29raW5nLFxuICBzZXRTdGVwLFxuICB0b2FzdFxufToge1xuICBvblBheW1lbnRNZXRob2RSZWFkeTogKHBheW1lbnRNZXRob2RJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBhY2NlcHRlZE1ldGhvZHM6IHN0cmluZ1tdO1xuICBidXNpbmVzc1NsdWc6IHN0cmluZztcbiAgYm9va2luZ0lkOiBzdHJpbmc7XG4gIGNyZWF0ZWRCb29raW5nSWQ6IHN0cmluZyB8IG51bGw7XG4gIGNyZWF0ZWRCb29raW5nQ29kZTogc3RyaW5nIHwgbnVsbDtcbiAgd29ya3NwYWNlOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2U7XG4gIGN1c3RvbWVyTmFtZTogc3RyaW5nO1xuICBjdXN0b21lckVtYWlsOiBzdHJpbmc7XG4gIGN1c3RvbWVyUGhvbmU6IHN0cmluZztcbiAgbGlzdFByaWNlQ2VudHM6IG51bWJlcjtcbiAgZ2lmdENhcmRTdGF0ZTogR2lmdENhcmRTdGF0ZSB8IG51bGw7XG4gIHBvbGljaWVzOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJwb2xpY2llc1wiXTtcbiAgdGltZXpvbmU6IHN0cmluZztcbiAgc2VsZWN0ZWRTZXJ2aWNlOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZHVyYXRpb25NaW51dGVzOiBudW1iZXI7XG4gICAgcHJpY2VDZW50czogbnVtYmVyO1xuICAgIGNhdGVnb3J5TmFtZTogc3RyaW5nO1xuICB9IHwgdW5kZWZpbmVkO1xuICBzZWxlY3RlZFNsb3Q6IEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdCB8IG51bGw7XG4gIHNldENyZWF0ZWRCb29raW5nOiAoYm9va2luZzogRmFrZUJvb2tpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBzZXRTdGVwOiAoc3RlcDogU3RlcCkgPT4gdm9pZDtcbiAgdG9hc3Q6IFJldHVyblR5cGU8dHlwZW9mIHVzZVRvYXN0Pjtcbn0pIHtcbiAgY29uc3Qgc3RyaXBlID0gdXNlU3RyaXBlKCk7XG4gIGNvbnN0IGVsZW1lbnRzID0gdXNlRWxlbWVudHMoKTtcbiAgY29uc3QgW2lzUHJvY2Vzc2luZywgc2V0SXNQcm9jZXNzaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZTogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFxuICAgIGlmICghc3RyaXBlIHx8ICFlbGVtZW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldElzUHJvY2Vzc2luZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBDb25maXJtIHRoZSBTZXR1cEludGVudFxuICAgICAgY29uc3QgeyBlcnJvcjogY29uZmlybUVycm9yLCBzZXR1cEludGVudCB9ID0gYXdhaXQgc3RyaXBlLmNvbmZpcm1TZXR1cCh7XG4gICAgICAgIGVsZW1lbnRzLFxuICAgICAgICByZWRpcmVjdDogJ2lmX3JlcXVpcmVkJyxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoY29uZmlybUVycm9yKSB7XG4gICAgICAgIHNldEVycm9yKGNvbmZpcm1FcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2F2ZSBwYXltZW50IG1ldGhvZCcpO1xuICAgICAgICBzZXRJc1Byb2Nlc3NpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZXR1cEludGVudCAmJiBzZXR1cEludGVudC5wYXltZW50X21ldGhvZCkge1xuICAgICAgICBjb25zdCBwbUlkID0gdHlwZW9mIHNldHVwSW50ZW50LnBheW1lbnRfbWV0aG9kID09PSAnc3RyaW5nJyBcbiAgICAgICAgICA/IHNldHVwSW50ZW50LnBheW1lbnRfbWV0aG9kIFxuICAgICAgICAgIDogc2V0dXBJbnRlbnQucGF5bWVudF9tZXRob2QuaWQ7XG4gICAgICAgIG9uUGF5bWVudE1ldGhvZFJlYWR5KHBtSWQpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBib29raW5nIG9iamVjdCBhbmQgcHJvY2VlZCB0byBjb25maXJtYXRpb25cbiAgICAgICAgaWYgKHNlbGVjdGVkU2VydmljZSAmJiBzZWxlY3RlZFNsb3QgJiYgY3JlYXRlZEJvb2tpbmdJZCkge1xuICAgICAgICAgIGNvbnN0IGJvb2tpbmc6IEZha2VCb29raW5nID0ge1xuICAgICAgICAgICAgaWQ6IGNyZWF0ZWRCb29raW5nSWQsXG4gICAgICAgICAgICBjb2RlOiBjcmVhdGVkQm9va2luZ0NvZGUgfHwgYFRJVEhJLSR7Y3JlYXRlZEJvb2tpbmdJZC5zbGljZSgwLCA4KS50b1VwcGVyQ2FzZSgpfWAsXG4gICAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgIHNlcnZpY2VJZDogc2VsZWN0ZWRTZXJ2aWNlLmlkLFxuICAgICAgICAgICAgc2VydmljZU5hbWU6IHNlbGVjdGVkU2VydmljZS5uYW1lLFxuICAgICAgICAgICAgY2F0ZWdvcnlOYW1lOiBzZWxlY3RlZFNlcnZpY2UuY2F0ZWdvcnlOYW1lLFxuICAgICAgICAgICAgZHVyYXRpb25NaW51dGVzOiBzZWxlY3RlZFNlcnZpY2UuZHVyYXRpb25NaW51dGVzLFxuICAgICAgICAgICAgc3RhcnREYXRlVGltZTogc2VsZWN0ZWRTbG90LnN0YXJ0RGF0ZVRpbWUsXG4gICAgICAgICAgICBlbmREYXRlVGltZTogc2VsZWN0ZWRTbG90LmVuZERhdGVUaW1lLFxuICAgICAgICAgICAgc3RhZmY6IHtcbiAgICAgICAgICAgICAgaWQ6IHNlbGVjdGVkU2xvdC5zdGFmZklkLFxuICAgICAgICAgICAgICBuYW1lOiBzZWxlY3RlZFNsb3Quc3RhZmZOYW1lLFxuICAgICAgICAgICAgICBjb2xvcjogd29ya3NwYWNlLnN0YWZmLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNsb3Quc3RhZmZJZCk/LmNvbG9yIHx8IFwiIzAwMDAwMFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgICAgICAgIG5hbWU6IGN1c3RvbWVyTmFtZS50cmltKCksXG4gICAgICAgICAgICAgIGVtYWlsOiBjdXN0b21lckVtYWlsLnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICBwaG9uZTogY3VzdG9tZXJQaG9uZS50cmltKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF5bWVudHM6IFtdLFxuICAgICAgICAgICAgZmluYW5jaWFsczoge1xuICAgICAgICAgICAgICBsaXN0UHJpY2VDZW50czogbGlzdFByaWNlQ2VudHMsXG4gICAgICAgICAgICAgIGdpZnRDYXJkQW1vdW50Q2VudHM6IGdpZnRDYXJkU3RhdGU/LmFtb3VudENlbnRzIHx8IDAsXG4gICAgICAgICAgICAgIHBsYXRmb3JtRmVlQ2VudHM6IDAsXG4gICAgICAgICAgICAgIHN0cmlwZUZlZUVzdGltYXRlQ2VudHM6IDAsXG4gICAgICAgICAgICAgIG5ldFBheW91dENlbnRzOiAwLFxuICAgICAgICAgICAgICBjdXJyZW5jeTogJ3VzZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcG9saWN5Q29uc2VudDogY3JlYXRlUG9saWN5Q29uc2VudChwb2xpY2llcyksXG4gICAgICAgICAgICByZXF1aXJlc0FjdGlvbjogZmFsc2UsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBzZXRDcmVhdGVkQm9va2luZyhib29raW5nKTtcbiAgICAgICAgICBzZXRTdGVwKFwiY29uZmlybWF0aW9uXCIpO1xuICAgICAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJCb29raW5nIGNvbmZpcm1lZFwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGAke3NlbGVjdGVkU2VydmljZS5uYW1lfSBvbiAke2Zvcm1hdEluVGltZVpvbmUoXG4gICAgICAgICAgICAgIHNlbGVjdGVkU2xvdC5zdGFydERhdGVUaW1lLFxuICAgICAgICAgICAgICB0aW1lem9uZSxcbiAgICAgICAgICAgICAgeyB3ZWVrZGF5OiBcImxvbmdcIiwgbW9udGg6IFwic2hvcnRcIiwgZGF5OiBcIm51bWVyaWNcIiwgaG91cjogXCJudW1lcmljXCIsIG1pbnV0ZTogXCIyLWRpZ2l0XCIgfVxuICAgICAgICAgICAgKX0uIE5vIGNoYXJnZSB5ZXTigJRjYXJkIHNhdmVkIHNlY3VyZWx5LmAsXG4gICAgICAgICAgICBpbnRlbnQ6IFwic3VjY2Vzc1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnQW4gZXJyb3Igb2NjdXJyZWQnKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNQcm9jZXNzaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ29uZmlndXJlIHBheW1lbnQgbWV0aG9kIHR5cGVzIC0gY2FyZCBpcyBBTFdBWVMgcmVxdWlyZWQgcmVnYXJkbGVzcyBvZiBidXNpbmVzcyBzZXR0aW5nc1xuICAvLyBUaGlzIGVuc3VyZXMgY2FyZCBpcyBhbHdheXMgYXZhaWxhYmxlIGFzIGJhY2t1cCBmb3Igbm8tc2hvdyBmZWVzIChldmVuIGZvciBjYXNoIHBheW1lbnRzKVxuICBjb25zdCBwYXltZW50TWV0aG9kVHlwZXM6IHN0cmluZ1tdID0gWydjYXJkJ107XG5cbiAgLy8gTWFwIGFjY2VwdGVkIG1ldGhvZHMgdG8gU3RyaXBlIHBheW1lbnQgbWV0aG9kIHR5cGVzXG4gIC8vIE5vdGU6IGNhcmQgaXMgYWx3YXlzIGluY2x1ZGVkIGFib3ZlLCBzbyB3ZSBvbmx5IGFkZCBhZGRpdGlvbmFsIG1ldGhvZHNcbiAgaWYgKGFjY2VwdGVkTWV0aG9kcy5pbmNsdWRlcygnYXBwbGVfcGF5JykgfHwgYWNjZXB0ZWRNZXRob2RzLmluY2x1ZGVzKCdhcHBsZS1wYXknKSkge1xuICAgIHBheW1lbnRNZXRob2RUeXBlcy5wdXNoKCdhcHBsZV9wYXknKTtcbiAgfVxuICBpZiAoYWNjZXB0ZWRNZXRob2RzLmluY2x1ZGVzKCdnb29nbGVfcGF5JykgfHwgYWNjZXB0ZWRNZXRob2RzLmluY2x1ZGVzKCdnb29nbGUtcGF5JykpIHtcbiAgICBwYXltZW50TWV0aG9kVHlwZXMucHVzaCgnZ29vZ2xlX3BheScpO1xuICB9XG4gIC8vIEFsc28gY2hlY2sgZm9yICd3YWxsZXRzJyB3aGljaCBtaWdodCBpbmNsdWRlIGJvdGhcbiAgaWYgKGFjY2VwdGVkTWV0aG9kcy5pbmNsdWRlcygnd2FsbGV0cycpKSB7XG4gICAgaWYgKCFwYXltZW50TWV0aG9kVHlwZXMuaW5jbHVkZXMoJ2FwcGxlX3BheScpKSBwYXltZW50TWV0aG9kVHlwZXMucHVzaCgnYXBwbGVfcGF5Jyk7XG4gICAgaWYgKCFwYXltZW50TWV0aG9kVHlwZXMuaW5jbHVkZXMoJ2dvb2dsZV9wYXknKSkgcGF5bWVudE1ldGhvZFR5cGVzLnB1c2goJ2dvb2dsZV9wYXknKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgPFBheW1lbnRFbGVtZW50XG4gICAgICAgICAgb3B0aW9ucz17e1xuICAgICAgICAgICAgcGF5bWVudE1ldGhvZFR5cGVzOiBwYXltZW50TWV0aG9kVHlwZXMsXG4gICAgICAgICAgICAvLyBVc2UgdGFicyBvbmx5IGlmIHdlIGhhdmUgbXVsdGlwbGUgcGF5bWVudCBtZXRob2RzLCBvdGhlcndpc2UgdXNlIGRlZmF1bHQgbGF5b3V0XG4gICAgICAgICAgICAuLi4ocGF5bWVudE1ldGhvZFR5cGVzLmxlbmd0aCA+IDEgPyB7IGxheW91dDogJ3RhYnMnIGFzIGNvbnN0IH0gOiB7fSksXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICA8SGVscGVyVGV4dCBpbnRlbnQ9XCJlcnJvclwiIGNsYXNzTmFtZT1cInRleHQtcmVkLTQwMCBtdC0yXCI+XG4gICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICApfVxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2lzUHJvY2Vzc2luZyB8fCAhc3RyaXBlfVxuICAgICAgICAgIGlzTG9hZGluZz17aXNQcm9jZXNzaW5nfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBtdC00XCJcbiAgICAgICAgPlxuICAgICAgICAgIHtpc1Byb2Nlc3NpbmcgPyAnU2F2aW5nIHBheW1lbnQgbWV0aG9kLi4uJyA6ICdTYXZlIHBheW1lbnQgbWV0aG9kJ31cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+XG4gICk7XG59XG5cblxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIkFycm93TGVmdCIsIkFycm93UmlnaHQiLCJDYWxlbmRhckRheXMiLCJDaGVjayIsIkNoZWNrQ2lyY2xlMiIsIkNoZXZyb25MZWZ0IiwiQ2hldnJvblJpZ2h0IiwiQ2xvY2siLCJDcmVkaXRDYXJkIiwiR2lmdCIsIkxvYWRlcjIiLCJNYXBQaW4iLCJQYXJ0eVBvcHBlciIsIlNoaWVsZENoZWNrIiwiU3BhcmtsZXMiLCJVc2VycyIsImxvYWRTdHJpcGUiLCJFbGVtZW50cyIsIlBheW1lbnRFbGVtZW50IiwidXNlU3RyaXBlIiwidXNlRWxlbWVudHMiLCJCYWRnZSIsIkJ1dHRvbiIsIkhlbHBlclRleHQiLCJJbnB1dCIsInVzZVRvYXN0IiwiY24iLCJncm91cFNsb3RzQnlEYXkiLCJmb3JtYXRJblRpbWVab25lIiwic3RyaXBlUHJvbWlzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVFJJUEVfUFVCTElTSEFCTEVfS0VZIiwiUHVibGljQm9va2luZ0V4cGVyaWVuY2UiLCJidXNpbmVzcyIsIndvcmtzcGFjZSIsInJlY29yZEJvb2tpbmciLCJ0b2FzdCIsInN0ZXAiLCJzZXRTdGVwIiwic2VsZWN0ZWRTZXJ2aWNlSWQiLCJzZXRTZWxlY3RlZFNlcnZpY2VJZCIsInNlbGVjdGVkU3RhZmZJZCIsInNldFNlbGVjdGVkU3RhZmZJZCIsInNlbGVjdGVkU2xvdCIsInNldFNlbGVjdGVkU2xvdCIsImdpZnRDYXJkU3RhdGUiLCJzZXRHaWZ0Q2FyZFN0YXRlIiwiZ2lmdENhcmRJbnB1dCIsInNldEdpZnRDYXJkSW5wdXQiLCJnaWZ0Q2FyZEVycm9yIiwic2V0R2lmdENhcmRFcnJvciIsImN1c3RvbWVyTmFtZSIsInNldEN1c3RvbWVyTmFtZSIsImN1c3RvbWVyRW1haWwiLCJzZXRDdXN0b21lckVtYWlsIiwiY3VzdG9tZXJQaG9uZSIsInNldEN1c3RvbWVyUGhvbmUiLCJzZXR1cEludGVudENsaWVudFNlY3JldCIsInNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0IiwicGF5bWVudE1ldGhvZElkIiwic2V0UGF5bWVudE1ldGhvZElkIiwiY3JlYXRlZEJvb2tpbmdJZCIsInNldENyZWF0ZWRCb29raW5nSWQiLCJjcmVhdGVkQm9va2luZ0NvZGUiLCJzZXRDcmVhdGVkQm9va2luZ0NvZGUiLCJjb25zZW50Q2hlY2tlZCIsInNldENvbnNlbnRDaGVja2VkIiwiaXNQb2xpY3lNb2RhbE9wZW4iLCJzZXRJc1BvbGljeU1vZGFsT3BlbiIsImlzU3VibWl0dGluZyIsInNldElzU3VibWl0dGluZyIsImNyZWF0ZWRCb29raW5nIiwic2V0Q3JlYXRlZEJvb2tpbmciLCJmZXRjaGVkU2xvdHMiLCJzZXRGZXRjaGVkU2xvdHMiLCJpc0xvYWRpbmdBdmFpbGFiaWxpdHkiLCJzZXRJc0xvYWRpbmdBdmFpbGFiaWxpdHkiLCJhdmFpbGFiaWxpdHlFcnJvciIsInNldEF2YWlsYWJpbGl0eUVycm9yIiwic2VsZWN0ZWRTZXJ2aWNlIiwidW5kZWZpbmVkIiwiY2F0ZWdvcnkiLCJjYXRhbG9nIiwic2VydmljZSIsInNlcnZpY2VzIiwiZmluZCIsInN2YyIsImlkIiwiY2F0ZWdvcnlOYW1lIiwibmFtZSIsImNhdGVnb3J5Q29sb3IiLCJjb2xvciIsImZldGNoQXZhaWxhYmlsaXR5IiwidG9kYXkiLCJEYXRlIiwiYWxsU2xvdHMiLCJ0aW1lem9uZSIsImlkZW50aXR5IiwibG9jYXRpb24iLCJkYXlGb3JtYXR0ZXIiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJ0aW1lWm9uZSIsIndlZWtkYXkiLCJpIiwiZGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwiZGF0ZVN0ciIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJkYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsInNsdWciLCJvayIsImNvbnNvbGUiLCJ3YXJuIiwic3RhdHVzIiwianNvbiIsImxvZyIsInNsb3RzQ291bnQiLCJzbG90cyIsImxlbmd0aCIsImhhc1Nsb3RzIiwiQXJyYXkiLCJpc0FycmF5Iiwic2FtcGxlU2xvdCIsInNsb3QiLCJzdGFydERhdGUiLCJzdGFydF9hdCIsImVuZERhdGUiLCJlbmRfYXQiLCJkYXlMYWJlbCIsImZvcm1hdCIsInN0YWZmTWVtYmVyIiwic3RhZmYiLCJzIiwic3RhZmZfaWQiLCJzdGFmZkNvbG9yIiwicHVzaCIsInNlcnZpY2VJZCIsInN0YWZmSWQiLCJzdGFmZk5hbWUiLCJzdGFmZl9uYW1lIiwic3RhcnREYXRlVGltZSIsImVuZERhdGVUaW1lIiwiZXJyIiwiZXJyb3IiLCJzZXJ2aWNlQXZhaWxhYmlsaXR5IiwiZ3JvdXBlZFNsb3RzIiwiZmlsdGVyZWQiLCJmaWx0ZXIiLCJsaXN0UHJpY2VDZW50cyIsInByaWNlQ2VudHMiLCJhcHBsaWVkR2lmdENhcmRDZW50cyIsImFtb3VudENlbnRzIiwiYW1vdW50RHVlQ2VudHMiLCJNYXRoIiwibWF4IiwiYnVzaW5lc3NBY2NlcHRlZE1ldGhvZHMiLCJwYXltZW50IiwiYWNjZXB0ZWRNZXRob2RzIiwiYWNjZXB0ZWRNZXRob2RzRm9yRGlzcGxheSIsInBvbGljaWVzIiwiaGFuZGxlU2VsZWN0U2VydmljZSIsImhhbmRsZVNlbGVjdFNsb3QiLCJ3aW5kb3ciLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwiaGFuZGxlQXBwbHlHaWZ0Q2FyZCIsImNvZGUiLCJ0cmltIiwidG9VcHBlckNhc2UiLCJwcm9ncmFtIiwiZ2lmdENhcmRzIiwiY29uZmlnIiwiZW5hYmxlZCIsImFsbENvZGVzIiwiU2V0IiwiZ2VuZXJhdGVkQ29kZXMiLCJtYXAiLCJlbnRyeSIsImxlZGdlciIsImhhcyIsImFtb3VudFR5cGUiLCJhbW91bnRWYWx1ZSIsInJvdW5kIiwiYXBwbGllZEFtb3VudCIsIm1pbiIsImRlc2NyaXB0aW9uIiwiZm9ybWF0Q3VycmVuY3kiLCJwdXNoVG9hc3QiLCJ0aXRsZSIsImludGVudCIsImhhbmRsZVN1Ym1pdENoZWNrb3V0IiwiaXNWYWxpZEVtYWlsIiwiaXNWYWxpZFBob25lIiwiYXBpUGF5bG9hZCIsInNlcnZpY2VfaWQiLCJjdXN0b21lciIsImVtYWlsIiwidG9Mb3dlckNhc2UiLCJwaG9uZSIsImdpZnRfY2FyZF9jb2RlIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3JEYXRhIiwiY2F0Y2giLCJFcnJvciIsImFwaVJlc3BvbnNlIiwiY2xpZW50X3NlY3JldCIsImJvb2tpbmdfaWQiLCJib29raW5nX2NvZGUiLCJjb21wbGV0ZUJvb2tpbmciLCJib29raW5nRGF0ZSIsImlzTmFOIiwiZ2V0VGltZSIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsIm1lc3NhZ2UiLCJoYW5kbGVSZXNldEZsb3ciLCJkaXYiLCJjbGFzc05hbWUiLCJDb25mZXR0aU92ZXJsYXkiLCJoZWFkZXIiLCJoMSIsImJ1c2luZXNzTmFtZSIsInAiLCJzcGFuIiwiYXJpYS1oaWRkZW4iLCJmb3JtYXRBZGRyZXNzIiwic2VydmljZU5hbWUiLCJtYWluIiwiU3RlcEluZGljYXRvciIsImN1cnJlbnRTdGVwIiwib25SZXNldCIsIkNhdGFsb2dTdGVwIiwib25TZWxlY3RTZXJ2aWNlIiwiQXZhaWxhYmlsaXR5U3RlcCIsInNsb3RzQnlEYXkiLCJvbkJhY2siLCJvblNlbGVjdFNsb3QiLCJzdXBwb3J0RW1haWwiLCJpc0xvYWRpbmciLCJDaGVja291dFN0ZXAiLCJvbkFwcGx5R2lmdENhcmQiLCJvblN1Ym1pdCIsIm9uT3BlblBvbGljaWVzIiwiQ29uZmlybWF0aW9uU3RlcCIsImJvb2tpbmciLCJvbkJvb2tBbm90aGVyIiwiUG9saWN5TW9kYWwiLCJvbkNsb3NlIiwic2VjdGlvbiIsImJ1dHRvbiIsInR5cGUiLCJvbkNsaWNrIiwiaDIiLCJmb3JtYXREdXJhdGlvbiIsImR1cmF0aW9uTWludXRlcyIsImluc3RydWN0aW9ucyIsInN0cm9uZyIsImN1cnJlbnRXZWVrU3RhcnQiLCJzZXRDdXJyZW50V2Vla1N0YXJ0IiwiZGF5T2ZXZWVrIiwiZ2V0RGF5IiwiZGlmZiIsInN1bmRheSIsInNldEhvdXJzIiwic3RhZmZPcHRpb25zIiwibWVtYmVyIiwic3RhZmZJZHMiLCJpbmNsdWRlcyIsInRvdGFsU2xvdHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJzdW0iLCJlbnRyaWVzIiwiaG91cnMiLCJmcm9tIiwiXyIsIndlZWtEYXlzIiwiZGF5cyIsInNsb3RzQnlEYXlBbmRIb3VyIiwiZ3JvdXBlZCIsImZsYXQiLCJmb3JFYWNoIiwic2xvdERhdGUiLCJkYXRlS2V5IiwiaG91cjEyIiwiaG91ck51bSIsInBhcnNlSW50IiwiaXNJbkN1cnJlbnRXZWVrIiwic29tZSIsImRheUtleSIsImlzRHVwbGljYXRlIiwiZXhpc3RpbmciLCJuYXZpZ2F0ZVdlZWsiLCJkaXJlY3Rpb24iLCJuZXdEYXRlIiwibW9udGhZZWFyIiwieWVhciIsInZhcmlhbnQiLCJTdGFmZlBpbGwiLCJsYWJlbCIsImFjdGl2ZSIsImEiLCJocmVmIiwiaDMiLCJpZHgiLCJob3VyTGFiZWwiLCJkYXlJZHgiLCJzbG90c0ZvckhvdXIiLCJmaWx0ZXJlZFNsb3RzIiwic3R5bGUiLCJib3JkZXJDb2xvciIsImJhY2tncm91bmRDb2xvciIsInByb3BzIiwiY3JlYXRlU2V0dXBJbnRlbnQiLCJ0ZXh0IiwiRmllbGQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZXZlbnQiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsImF1dG9Db21wbGV0ZSIsImhlbHBlciIsImF1dG9DYXBpdGFsaXplIiwiZGVzY3JpYmVBY2NlcHRlZE1ldGhvZHMiLCJzdHJpcGUiLCJvcHRpb25zIiwiY2xpZW50U2VjcmV0IiwiYXBwZWFyYW5jZSIsInRoZW1lIiwidmFyaWFibGVzIiwiY29sb3JQcmltYXJ5IiwiY29sb3JCYWNrZ3JvdW5kIiwiY29sb3JUZXh0IiwiY29sb3JEYW5nZXIiLCJmb250RmFtaWx5Iiwic3BhY2luZ1VuaXQiLCJib3JkZXJSYWRpdXMiLCJTdHJpcGVQYXltZW50Rm9ybSIsIm9uUGF5bWVudE1ldGhvZFJlYWR5IiwicG1JZCIsInNsaWNlIiwicGF5bWVudHMiLCJmaW5hbmNpYWxzIiwiZ2lmdENhcmRBbW91bnRDZW50cyIsInBsYXRmb3JtRmVlQ2VudHMiLCJzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzIiwibmV0UGF5b3V0Q2VudHMiLCJjdXJyZW5jeSIsInBvbGljeUNvbnNlbnQiLCJjcmVhdGVQb2xpY3lDb25zZW50IiwicmVxdWlyZXNBY3Rpb24iLCJidXNpbmVzc1NsdWciLCJib29raW5nSWQiLCJpbnB1dCIsImNoZWNrZWQiLCJodG1sRm9yIiwic2l6ZSIsImRpc2FibGVkIiwiYXNpZGUiLCJ1bCIsImxpIiwiY2FuY2VsbGF0aW9uUG9saWN5Iiwibm9TaG93UG9saWN5IiwicmVmdW5kUG9saWN5IiwiY2FzaFBvbGljeSIsInJvbGUiLCJhcmlhLW1vZGFsIiwiYXJpYS1sYWJlbCIsIlBvbGljeUJsb2NrIiwiZGVzY3JpYmVGZWUiLCJjYW5jZWxsYXRpb25GZWVUeXBlIiwiY2FuY2VsbGF0aW9uRmVlVmFsdWUiLCJub1Nob3dGZWVUeXBlIiwibm9TaG93RmVlVmFsdWUiLCJzdGVwcyIsImluZGV4IiwiY2hpbGRyZW4iLCJib3hTaGFkb3ciLCJsZWZ0IiwicmFuZG9tIiwiYW5pbWF0aW9uRGVsYXkiLCJyYW5kb21Db25mZXR0aUNvbG9yIiwicGFsZXR0ZSIsImZsb29yIiwibWludXRlcyIsImhycyIsIm1pbnMiLCJjZW50cyIsIk51bWJlckZvcm1hdCIsIm1ldGhvZHMiLCJ1bmlxdWUiLCJtZXRob2RMYWJlbHMiLCJjYXJkIiwiY2FzaCIsIndhbGxldHMiLCJhcHBsZV9wYXkiLCJnb29nbGVfcGF5IiwibGFiZWxzIiwiam9pbiIsInBhcnRzIiwiYWRkcmVzc0xpbmUxIiwiYWRkcmVzc0xpbmUyIiwiY2l0eSIsInN0YXRlUHJvdmluY2UiLCJjb3VudHJ5IiwiQm9vbGVhbiIsInRlc3QiLCJoYXNoQmFzZSIsImhhc2giLCJzaW1wbGVIYXNoIiwiYWNjZXB0ZWRBdCIsImlwIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwiY2hhckNvZGVBdCIsImFicyIsInRvU3RyaW5nIiwiZWxlbWVudHMiLCJpc1Byb2Nlc3NpbmciLCJzZXRJc1Byb2Nlc3NpbmciLCJzZXRFcnJvciIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNvbmZpcm1FcnJvciIsInNldHVwSW50ZW50IiwiY29uZmlybVNldHVwIiwicmVkaXJlY3QiLCJwYXltZW50X21ldGhvZCIsInBheW1lbnRNZXRob2RUeXBlcyIsImZvcm0iLCJsYXlvdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/public-booking/booking-flow.tsx\n"));

/***/ })

});