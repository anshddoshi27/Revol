"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/onboarding/page",{

/***/ "(app-pages-browser)/./src/app/onboarding/page.tsx":
/*!*************************************!*\
  !*** ./src/app/onboarding/page.tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ OnboardingPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle2_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check.js\");\n/* harmony import */ var _components_onboarding_onboarding_shell__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/onboarding/onboarding-shell */ \"(app-pages-browser)/./src/components/onboarding/onboarding-shell.tsx\");\n/* harmony import */ var _components_onboarding_business_step__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/onboarding/business-step */ \"(app-pages-browser)/./src/components/onboarding/business-step.tsx\");\n/* harmony import */ var _components_onboarding_website_step__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/onboarding/website-step */ \"(app-pages-browser)/./src/components/onboarding/website-step.tsx\");\n/* harmony import */ var _components_onboarding_location_step__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/onboarding/location-step */ \"(app-pages-browser)/./src/components/onboarding/location-step.tsx\");\n/* harmony import */ var _components_onboarding_team_step__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/onboarding/team-step */ \"(app-pages-browser)/./src/components/onboarding/team-step.tsx\");\n/* harmony import */ var _components_onboarding_branding_step__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/onboarding/branding-step */ \"(app-pages-browser)/./src/components/onboarding/branding-step.tsx\");\n/* harmony import */ var _components_onboarding_services_step__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/onboarding/services-step */ \"(app-pages-browser)/./src/components/onboarding/services-step.tsx\");\n/* harmony import */ var _components_onboarding_availability_step__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/onboarding/availability-step */ \"(app-pages-browser)/./src/components/onboarding/availability-step.tsx\");\n/* harmony import */ var _components_onboarding_notifications_step__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/onboarding/notifications-step */ \"(app-pages-browser)/./src/components/onboarding/notifications-step.tsx\");\n/* harmony import */ var _components_onboarding_policies_step__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/onboarding/policies-step */ \"(app-pages-browser)/./src/components/onboarding/policies-step.tsx\");\n/* harmony import */ var _components_onboarding_gift_cards_step__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/onboarding/gift-cards-step */ \"(app-pages-browser)/./src/components/onboarding/gift-cards-step.tsx\");\n/* harmony import */ var _components_onboarding_payment_setup_step__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/onboarding/payment-setup-step */ \"(app-pages-browser)/./src/components/onboarding/payment-setup-step.tsx\");\n/* harmony import */ var _components_onboarding_go_live_step__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/onboarding/go-live-step */ \"(app-pages-browser)/./src/components/onboarding/go-live-step.tsx\");\n/* harmony import */ var _components_ui_toast__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/ui/toast */ \"(app-pages-browser)/./src/components/ui/toast.tsx\");\n/* harmony import */ var _lib_onboarding_context__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/lib/onboarding-context */ \"(app-pages-browser)/./src/lib/onboarding-context.tsx\");\n/* harmony import */ var _lib_fake_business__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/lib/fake-business */ \"(app-pages-browser)/./src/lib/fake-business.tsx\");\n/* harmony import */ var _lib_fake_session__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/lib/fake-session */ \"(app-pages-browser)/./src/lib/fake-session.tsx\");\n/* harmony import */ var _lib_load_onboarding_data__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/lib/load-onboarding-data */ \"(app-pages-browser)/./src/lib/load-onboarding-data.ts\");\n/* harmony import */ var _lib_feature_flags__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @/lib/feature-flags */ \"(app-pages-browser)/./src/lib/feature-flags.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction sanitizeSubdomain(value) {\n    return value.toLowerCase().trim().replace(/[^a-z0-9-]/g, \"-\").replace(/-+/g, \"-\").replace(/^-+|-+$/g, \"\").slice(0, 63);\n}\n\n// Build step sequence based on feature flags\nconst BASE_STEPS = [\n    \"business\",\n    \"website\",\n    \"location\",\n    \"team\",\n    \"branding\",\n    \"services\",\n    \"availability\",\n    // \"notifications\" - conditionally included below\n    \"policies\",\n    \"giftCards\",\n    \"paymentSetup\",\n    \"goLive\"\n];\n// Always include notifications step (shows \"Coming Soon\" when disabled)\nconst STEP_SEQUENCE = [\n    ...BASE_STEPS.slice(0, 7),\n    \"notifications\",\n    ...BASE_STEPS.slice(7)\n];\nfunction OnboardingPage() {\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const toast = (0,_components_ui_toast__WEBPACK_IMPORTED_MODULE_16__.useToast)();\n    const session = (0,_lib_fake_session__WEBPACK_IMPORTED_MODULE_19__.useFakeSession)();\n    const businessStore = (0,_lib_fake_business__WEBPACK_IMPORTED_MODULE_18__.useFakeBusiness)();\n    const onboarding = (0,_lib_onboarding_context__WEBPACK_IMPORTED_MODULE_17__.useOnboarding)();\n    const [supabaseSession, setSupabaseSession] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const [isCheckingSession, setIsCheckingSession] = react__WEBPACK_IMPORTED_MODULE_1__.useState(true);\n    const [businessCreated, setBusinessCreated] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const [onboardingCompleted, setOnboardingCompleted] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const currentIndex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>STEP_SEQUENCE.findIndex((step)=>step === onboarding.currentStep), [\n        onboarding.currentStep\n    ]);\n    const previousStep = currentIndex > 0 ? STEP_SEQUENCE[currentIndex - 1] : undefined;\n    const nextStep = currentIndex < STEP_SEQUENCE.length - 1 ? STEP_SEQUENCE[currentIndex + 1] : undefined;\n    // Note: Notifications step is always shown but displays \"Coming Soon\" when feature is disabled\n    // No need to auto-skip - the step component handles the \"coming soon\" state\n    // Helper function to create a business if one doesn't exist\n    const ensureBusinessExists = async (accessToken)=>{\n        try {\n            // Check if business already exists\n            const headers = {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \".concat(accessToken)\n            };\n            const checkResponse = await fetch(\"/api/business/onboarding/step-1-business\", {\n                method: \"GET\",\n                headers,\n                credentials: \"include\"\n            });\n            if (checkResponse.ok) {\n                const businessData = await checkResponse.json();\n                if (businessData.business && businessData.business.id) {\n                    console.log(\"[onboarding] Business already exists:\", businessData.business.id);\n                    setBusinessCreated(true);\n                    return businessData.business.id;\n                }\n            }\n            // Business doesn't exist, create a temporary one\n            console.log(\"[onboarding] No business found, creating temporary business...\");\n            const createResponse = await fetch(\"/api/business/onboarding/step-1-business\", {\n                method: \"PUT\",\n                headers,\n                credentials: \"include\",\n                body: JSON.stringify({\n                    businessName: \"New Business\",\n                    description: \"Business description will be added\",\n                    doingBusinessAs: \"\",\n                    legalName: \"New Business\",\n                    industry: \"Other\"\n                })\n            });\n            if (createResponse.ok) {\n                const result = await createResponse.json();\n                console.log(\"[onboarding] Temporary business created:\", result.businessId);\n                setBusinessCreated(true);\n                return result.businessId;\n            } else {\n                console.error(\"[onboarding] Failed to create business:\", await createResponse.text());\n            }\n        } catch (error) {\n            console.error(\"[onboarding] Error ensuring business exists:\", error);\n        }\n        return null;\n    };\n    // Check Supabase session on mount (persists across redirects)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkSupabaseSession = async ()=>{\n            try {\n                // Check if this is a new signup - if so, don't load any old data\n                const urlParams = new URLSearchParams(window.location.search);\n                const isNewSignup = urlParams.get(\"new\") === \"true\";\n                const { createClientClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\"));\n                const supabase = createClientClient();\n                const { data: { session: supabaseSessionData }, error } = await supabase.auth.getSession();\n                if (supabaseSessionData && !error) {\n                    setSupabaseSession(supabaseSessionData);\n                    // Restore fake session from Supabase session if needed\n                    if (!session.isAuthenticated && supabaseSessionData.user) {\n                        var _supabaseSessionData_user_user_metadata, _supabaseSessionData_user_email, _supabaseSessionData_user_user_metadata1;\n                        session.login({\n                            id: supabaseSessionData.user.id,\n                            name: ((_supabaseSessionData_user_user_metadata = supabaseSessionData.user.user_metadata) === null || _supabaseSessionData_user_user_metadata === void 0 ? void 0 : _supabaseSessionData_user_user_metadata.full_name) || ((_supabaseSessionData_user_email = supabaseSessionData.user.email) === null || _supabaseSessionData_user_email === void 0 ? void 0 : _supabaseSessionData_user_email.split(\"@\")[0]) || \"User\",\n                            email: supabaseSessionData.user.email || \"\",\n                            phone: ((_supabaseSessionData_user_user_metadata1 = supabaseSessionData.user.user_metadata) === null || _supabaseSessionData_user_user_metadata1 === void 0 ? void 0 : _supabaseSessionData_user_user_metadata1.phone) || undefined\n                        });\n                    }\n                    // Ensure business exists (create if it doesn't)\n                    if (supabaseSessionData.access_token) {\n                        await ensureBusinessExists(supabaseSessionData.access_token);\n                    }\n                    // Only load business data if:\n                    // 1. This is NOT a new signup (new=true not present)\n                    // 2. AND we're returning from Stripe (account_id present)\n                    const accountId = urlParams.get(\"account_id\");\n                    if (!isNewSignup && accountId) {\n                        // Load business data to ensure it's in state (only for Stripe returns)\n                        try {\n                            const headers = {\n                                \"Content-Type\": \"application/json\",\n                                \"Authorization\": \"Bearer \".concat(supabaseSessionData.access_token)\n                            };\n                            const businessResponse = await fetch(\"/api/business/onboarding/step-1-business\", {\n                                method: \"GET\",\n                                headers,\n                                credentials: \"include\"\n                            });\n                            if (businessResponse.ok) {\n                                const businessData = await businessResponse.json();\n                                if (businessData.business) {\n                                    onboarding.saveBusiness({\n                                        businessName: businessData.business.name || \"\",\n                                        description: \"\",\n                                        doingBusinessAs: businessData.business.dba_name || \"\",\n                                        legalName: businessData.business.legal_name || \"\",\n                                        industry: businessData.business.industry || \"\"\n                                    });\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Error loading business data:\", error);\n                        }\n                    } else if (isNewSignup) {\n                        console.log(\"[onboarding] New signup detected - skipping data load, starting fresh at step 1\");\n                        // Ensure we start at step 1 for new signups\n                        onboarding.setStep(\"business\");\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error checking Supabase session:\", error);\n            } finally{\n                setIsCheckingSession(false);\n            }\n        };\n        checkSupabaseSession();\n    }, []);\n    // Handle Stripe Connect return FIRST - before auth check\n    // Load ALL onboarding data from backend to restore state\n    // Skip this for new signups\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const urlParams = new URLSearchParams(window.location.search);\n        const accountId = urlParams.get(\"account_id\");\n        const isNewSignup = urlParams.get(\"new\") === \"true\";\n        // Don't restore data for new signups - they should start fresh\n        if (isNewSignup) {\n            console.log(\"[onboarding] New signup detected - skipping Stripe return data restoration\");\n            return;\n        }\n        if (accountId) {\n            console.log(\"[onboarding] Stripe return detected, account_id:\", accountId);\n            // Navigate to payment setup step immediately\n            onboarding.setStep(\"paymentSetup\");\n            // Load ALL onboarding data from backend to restore complete state\n            const restoreAllOnboardingData = async ()=>{\n                try {\n                    var _data_business, _data_website, _data_location, _data_location1, _data_branding;\n                    const data = await (0,_lib_load_onboarding_data__WEBPACK_IMPORTED_MODULE_20__.loadOnboardingDataFromBackend)();\n                    // Restore all the data to onboarding context\n                    if (data.business) {\n                        onboarding.saveBusiness(data.business);\n                    }\n                    if (data.website) {\n                        onboarding.saveWebsite(data.website);\n                    }\n                    if (data.location) {\n                        onboarding.saveLocation(data.location);\n                    }\n                    if (data.team) {\n                        onboarding.saveTeam(data.team);\n                    }\n                    if (data.branding) {\n                        onboarding.saveBranding(data.branding);\n                    }\n                    if (data.services) {\n                        onboarding.saveServices(data.services);\n                    }\n                    if (data.availability) {\n                        onboarding.saveAvailability(data.availability);\n                    }\n                    // Only load notifications if feature is enabled\n                    if ((0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_21__.isNotificationsEnabled)() && data.notifications) {\n                        onboarding.saveNotifications(data.notifications);\n                    } else if (!(0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_21__.isNotificationsEnabled)()) {\n                        // If feature is disabled, set notifications to empty and disabled\n                        onboarding.saveNotifications({\n                            templates: [],\n                            enabled: false\n                        });\n                    }\n                    if (data.policies) {\n                        onboarding.savePolicies(data.policies);\n                    }\n                    if (data.giftCards) {\n                        onboarding.saveGiftCards(data.giftCards);\n                    }\n                    if (data.paymentSetup) {\n                        onboarding.savePaymentSetup(data.paymentSetup);\n                    }\n                    // Mark all completed steps\n                    const completedSteps = [];\n                    if ((_data_business = data.business) === null || _data_business === void 0 ? void 0 : _data_business.businessName) completedSteps.push(\"business\");\n                    if ((_data_website = data.website) === null || _data_website === void 0 ? void 0 : _data_website.subdomain) completedSteps.push(\"website\");\n                    if (((_data_location = data.location) === null || _data_location === void 0 ? void 0 : _data_location.street) || ((_data_location1 = data.location) === null || _data_location1 === void 0 ? void 0 : _data_location1.city)) completedSteps.push(\"location\");\n                    if (data.team && data.team.length > 0) completedSteps.push(\"team\");\n                    if ((_data_branding = data.branding) === null || _data_branding === void 0 ? void 0 : _data_branding.primaryColor) completedSteps.push(\"branding\");\n                    if (data.services && data.services.length > 0) completedSteps.push(\"services\");\n                    if (data.availability && data.availability.length > 0) completedSteps.push(\"availability\");\n                    if (data.notifications) completedSteps.push(\"notifications\");\n                    if (data.policies) completedSteps.push(\"policies\");\n                    if (data.giftCards) completedSteps.push(\"giftCards\");\n                    completedSteps.forEach((step)=>{\n                        onboarding.completeStep(step);\n                    });\n                    console.log(\"[onboarding] All onboarding data restored from backend\");\n                } catch (error) {\n                    console.error(\"Error restoring onboarding data:\", error);\n                }\n            };\n            // Load and restore all state from backend\n            restoreAllOnboardingData();\n            // Clean up URL (remove query params) after a short delay\n            setTimeout(()=>{\n                window.history.replaceState({}, \"\", window.location.pathname);\n            }, 100);\n        }\n    }, [\n        onboarding\n    ]);\n    // Check if business is already launched and redirect to admin\n    // Skip this check for new signups to ensure they start fresh\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkIfBusinessIsLaunched = async ()=>{\n            if (isCheckingSession) return; // Wait for session check to complete\n            // Check if this is a new signup - if so, skip the launch check\n            const urlParams = new URLSearchParams(window.location.search);\n            const isNewSignup = urlParams.get(\"new\") === \"true\";\n            if (isNewSignup) {\n                console.log(\"[onboarding] New signup - skipping business launch check, starting fresh\");\n                return;\n            }\n            // Check both fake session and Supabase session\n            const isAuthenticated = session.isAuthenticated || (supabaseSession === null || supabaseSession === void 0 ? void 0 : supabaseSession.user) !== null;\n            if (!isAuthenticated) {\n                router.replace(\"/login\");\n                return;\n            }\n            try {\n                // Check if business is already launched by checking database\n                const { createClientClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\"));\n                const supabase = createClientClient();\n                const { data: { session: currentSession } } = await supabase.auth.getSession();\n                if (!(currentSession === null || currentSession === void 0 ? void 0 : currentSession.access_token)) {\n                    return;\n                }\n                // Fetch business to check if it's already launched\n                const businessResponse = await fetch(\"/api/business/onboarding/step-1-business\", {\n                    method: \"GET\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Authorization\": \"Bearer \".concat(currentSession.access_token)\n                    },\n                    credentials: \"include\"\n                });\n                if (businessResponse.ok) {\n                    const businessData = await businessResponse.json();\n                    const business = businessData.business;\n                    // Check if business is already launched:\n                    // 1. Has subscription_status set (trial, active, paused, canceled) - this indicates go-live step was completed\n                    // 2. Has essential fields (name, subdomain, timezone, support_email)\n                    // Note: stripe_connect_account_id is optional - business can be launched without Stripe Connect\n                    // Also check that it's not a temp business (new signup with empty name)\n                    const isLaunched = business && business.subscription_status && business.subscription_status !== null && business.name && business.name.trim().length > 0 && business.subdomain && !business.subdomain.startsWith(\"temp-\") && business.timezone && business.support_email;\n                    if (isLaunched) {\n                        console.log(\"[onboarding] Business is already launched - redirecting to admin\");\n                        // Business is already launched - redirect to admin dashboard\n                        const businessId = business.id;\n                        router.replace(\"/app/b/\".concat(businessId));\n                        return;\n                    }\n                }\n            // If business exists but not launched, continue with onboarding\n            // If no business exists, onboarding will create one\n            } catch (error) {\n                console.error(\"[onboarding] Error checking if business is launched:\", error);\n            // On error, continue with onboarding\n            }\n        };\n        checkIfBusinessIsLaunched();\n    }, [\n        session.isAuthenticated,\n        supabaseSession,\n        isCheckingSession,\n        router\n    ]);\n    // Cleanup: Delete incomplete business when user exits onboarding\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only set up cleanup if business was created and onboarding not completed\n        if (!businessCreated || onboardingCompleted) {\n            return;\n        }\n        // Check if current path is still onboarding\n        const checkIfStillOnOnboarding = ()=>{\n            return window.location.pathname === \"/onboarding\";\n        };\n        const deleteIncompleteBusiness = async ()=>{\n            // Don't delete if we're still on the onboarding page (user might be navigating between steps)\n            if (checkIfStillOnOnboarding()) {\n                return;\n            }\n            try {\n                const { createClientClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\"));\n                const supabase = createClientClient();\n                const { data: { session: currentSession } } = await supabase.auth.getSession();\n                if (!(currentSession === null || currentSession === void 0 ? void 0 : currentSession.access_token)) {\n                    return;\n                }\n                const headers = {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(currentSession.access_token)\n                };\n                const response = await fetch(\"/api/business/onboarding/delete-incomplete\", {\n                    method: \"DELETE\",\n                    headers,\n                    credentials: \"include\",\n                    keepalive: true\n                });\n                if (response.ok) {\n                    console.log(\"[onboarding] Incomplete business deleted on exit\");\n                } else {\n                    console.error(\"[onboarding] Failed to delete incomplete business:\", await response.text());\n                }\n            } catch (error) {\n                // Ignore errors during cleanup (network might be unavailable)\n                console.log(\"[onboarding] Cleanup error (expected if page is closing):\", error);\n            }\n        };\n        // Handle page unload (user closes tab/window, navigates away)\n        const handleBeforeUnload = (e)=>{\n            if (!onboardingCompleted && !checkIfStillOnOnboarding()) {\n                // Use fetch with keepalive for reliable delivery during page unload\n                // Can't use await in beforeunload handler, so use dynamic import with .then()\n                Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\")).then((param)=>{\n                    let { createClientClient } = param;\n                    return createClientClient();\n                }).then(async (supabase)=>{\n                    const { data: { session } } = await supabase.auth.getSession();\n                    if (session === null || session === void 0 ? void 0 : session.access_token) {\n                        const headers = {\n                            \"Content-Type\": \"application/json\",\n                            \"Authorization\": \"Bearer \".concat(session.access_token)\n                        };\n                        // Use fetch with keepalive for beforeunload\n                        fetch(\"/api/business/onboarding/delete-incomplete\", {\n                            method: \"DELETE\",\n                            headers,\n                            credentials: \"include\",\n                            keepalive: true\n                        }).catch(()=>{\n                        // Ignore errors - network might be unavailable\n                        });\n                    }\n                }).catch(()=>{\n                // Ignore errors\n                });\n            }\n        };\n        // Handle visibility change (user switches tabs, minimizes window)\n        // Only delete if user has been away for a while (not just a quick tab switch)\n        let visibilityTimeout = null;\n        const handleVisibilityChange = ()=>{\n            if (document.hidden && !onboardingCompleted) {\n                // Wait 10 seconds before deleting (user might come back)\n                visibilityTimeout = setTimeout(()=>{\n                    if (document.hidden && !checkIfStillOnOnboarding()) {\n                        deleteIncompleteBusiness();\n                    }\n                }, 10000);\n            } else {\n                // User came back, cancel deletion\n                if (visibilityTimeout) {\n                    clearTimeout(visibilityTimeout);\n                    visibilityTimeout = null;\n                }\n            }\n        };\n        // Handle popstate (browser back/forward) - only if leaving onboarding\n        const handlePopState = ()=>{\n            // Small delay to check if we're still on onboarding\n            setTimeout(()=>{\n                if (!onboardingCompleted && !checkIfStillOnOnboarding()) {\n                    deleteIncompleteBusiness();\n                }\n            }, 100);\n        };\n        window.addEventListener(\"beforeunload\", handleBeforeUnload);\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n        window.addEventListener(\"popstate\", handlePopState);\n        return ()=>{\n            window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n            window.removeEventListener(\"popstate\", handlePopState);\n            if (visibilityTimeout) {\n                clearTimeout(visibilityTimeout);\n            }\n        };\n    }, [\n        businessCreated,\n        onboardingCompleted\n    ]);\n    const navigateTo = (step)=>{\n        onboarding.setStep(step);\n    };\n    const goForward = ()=>{\n        if (nextStep) {\n            onboarding.setStep(nextStep);\n        }\n    };\n    const goBack = ()=>{\n        if (previousStep) {\n            onboarding.setStep(previousStep);\n        }\n    };\n    // Helper function to make authenticated API calls\n    const makeAuthenticatedRequest = async (url, method, body)=>{\n        const { createClientClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\"));\n        const supabase = createClientClient();\n        const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n        if (sessionError) {\n            console.error(\"Error getting session:\", sessionError);\n        }\n        const headers = {\n            \"Content-Type\": \"application/json\"\n        };\n        if (session === null || session === void 0 ? void 0 : session.access_token) {\n            headers[\"Authorization\"] = \"Bearer \".concat(session.access_token);\n        }\n        const response = await fetch(url, {\n            method,\n            headers,\n            credentials: \"include\",\n            body: JSON.stringify(body)\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.error || \"Failed to save to \".concat(url));\n        }\n        return await response.json();\n    };\n    const handleBusinessNext = async (values)=>{\n        onboarding.saveBusiness(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-1-business\", \"PUT\", values);\n            console.log(\"Business saved:\", data);\n            // Verify the save worked by checking the response\n            if (!data || !data.success) {\n                throw new Error(\"Business save did not return success\");\n            }\n        } catch (error) {\n            console.error(\"Error saving business:\", error);\n            const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save business information: \".concat(errorMessage, \". Please check the console and try again.\")\n            });\n            return;\n        }\n        onboarding.completeStep(\"business\");\n        goForward();\n    };\n    const handleWebsiteNext = async (values)=>{\n        const fallback = onboarding.business.businessName || \"yourbusiness\";\n        const fallbackSanitized = sanitizeSubdomain(fallback);\n        let normalizedSubdomain = sanitizeSubdomain(values.subdomain || fallbackSanitized);\n        if (normalizedSubdomain.length < 3) {\n            normalizedSubdomain = fallbackSanitized.length >= 3 ? fallbackSanitized : \"yourbusiness\";\n        }\n        const websiteData = {\n            ...values,\n            subdomain: normalizedSubdomain\n        };\n        onboarding.saveWebsite(websiteData);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-2-website\", \"PUT\", websiteData);\n            console.log(\"Website saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving website:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save website information. Please try again.\"\n            });\n            return;\n        }\n        if (values.status === \"reserved\") {\n            const url = \"https://\".concat(normalizedSubdomain, \".main.tld\");\n            onboarding.setBookingUrl(url);\n        }\n        onboarding.completeStep(\"website\");\n        goForward();\n    };\n    const handleLocationNext = async (values)=>{\n        onboarding.saveLocation(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-3-location\", \"PUT\", values);\n            console.log(\"Location saved:\", data);\n            // Verify the save worked\n            if (!data || !data.success) {\n                throw new Error(\"Location save did not return success\");\n            }\n        } catch (error) {\n            console.error(\"Error saving location:\", error);\n            const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save location information: \".concat(errorMessage, \". Please check the console and try again.\")\n            });\n            return;\n        }\n        onboarding.completeStep(\"location\");\n        goForward();\n    };\n    const handleTeamNext = async (values)=>{\n        onboarding.saveTeam(values);\n        try {\n            // API expects { staff: StaffMember[] } not just the array\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-4-team\", \"PUT\", {\n                staff: values\n            });\n            console.log(\"Team saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving team:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save team information. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"team\");\n        goForward();\n    };\n    const handleBrandingNext = async (values)=>{\n        onboarding.saveBranding(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-5-branding\", \"PUT\", values);\n            console.log(\"Branding saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving branding:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save branding information. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"branding\");\n        goForward();\n    };\n    const handleServicesNext = async (values)=>{\n        onboarding.saveServices(values);\n        try {\n            // API expects { categories: ... } not just the array\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-6-services\", \"PUT\", {\n                categories: values\n            });\n            console.log(\"Services saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving services:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save services information. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"services\");\n        goForward();\n    };\n    const handleAvailabilityNext = async (values)=>{\n        onboarding.saveAvailability(values);\n        try {\n            // API expects { availability: ... } not just the array\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-7-availability\", \"PUT\", {\n                availability: values\n            });\n            console.log(\"Availability saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving availability:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save availability information. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"availability\");\n        goForward();\n    };\n    const handleNotificationsNext = async (templates, enabled)=>{\n        onboarding.saveNotifications({\n            templates,\n            enabled\n        });\n        // Log what we're sending to ensure it's correct\n        console.log(\"[onboarding] Sending notifications_enabled to API:\", {\n            enabled,\n            enabledType: typeof enabled,\n            planType: enabled === false ? \"Basic ($11.99/month)\" : \"Pro ($21.99/month)\",\n            templatesCount: templates.length\n        });\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-8-notifications\", \"PUT\", {\n                templates,\n                notifications_enabled: enabled\n            });\n            console.log(\"[onboarding] Notifications saved, API response:\", {\n                success: data.success,\n                notifications_enabled: data.notifications_enabled,\n                plan_type: data.plan_type,\n                plan_price: data.plan_price\n            });\n        } catch (error) {\n            console.error(\"Error saving notifications:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save notifications. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"notifications\");\n        goForward();\n    };\n    const handlePoliciesNext = async (values)=>{\n        onboarding.savePolicies(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-9-policies\", \"PUT\", values);\n            console.log(\"Policies saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving policies:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save policies. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"policies\");\n        goForward();\n    };\n    const handleGiftCardsNext = async (values)=>{\n        onboarding.saveGiftCards(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-10-gift-cards\", \"PUT\", values);\n            console.log(\"Gift cards saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving gift cards:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save gift cards information. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"giftCards\");\n        goForward();\n    };\n    const handlePaymentNext = async (values)=>{\n        onboarding.savePaymentSetup(values);\n        try {\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/step-11-payment-setup\", \"PUT\", values);\n            console.log(\"Payment setup saved:\", data);\n        } catch (error) {\n            console.error(\"Error saving payment setup:\", error);\n            toast.pushToast({\n                intent: \"error\",\n                title: \"Error\",\n                description: \"Failed to save payment setup. Please try again.\"\n            });\n            return;\n        }\n        onboarding.completeStep(\"paymentSetup\");\n        goForward();\n    };\n    const handleStartTrial = ()=>{\n        const trialEnds = new Date();\n        trialEnds.setDate(trialEnds.getDate() + 7);\n        onboarding.savePaymentSetup({\n            ...onboarding.paymentSetup,\n            subscriptionStatus: \"trial\",\n            trialEndsAt: trialEnds.toISOString(),\n            nextBillDate: trialEnds.toISOString()\n        });\n        toast.pushToast({\n            title: \"Trial activated\",\n            description: \"Billing is deferred by seven days. Cancel before the bill date to avoid charges.\",\n            intent: \"info\"\n        });\n    };\n    const handleLaunch = async ()=>{\n        try {\n            // Call the backend API to finalize onboarding using authenticated request\n            const data = await makeAuthenticatedRequest(\"/api/business/onboarding/complete\", \"POST\", {});\n            // Mark onboarding as completed to prevent cleanup\n            setOnboardingCompleted(true);\n            onboarding.completeStep(\"goLive\");\n            onboarding.setOnboardingCompleted(true);\n            const business = onboarding.generateBusinessFromState();\n            businessStore.clearBusiness();\n            businessStore.createBusiness(business);\n            businessStore.bootstrapWorkspace({\n                business: onboarding.business,\n                website: onboarding.website,\n                location: onboarding.location,\n                branding: onboarding.branding,\n                team: onboarding.team,\n                categories: onboarding.services,\n                availability: onboarding.availability,\n                notifications: onboarding.notifications,\n                policies: onboarding.policies,\n                giftCards: onboarding.giftCards,\n                payment: onboarding.paymentSetup\n            });\n            toast.pushToast({\n                title: \"Business launched\",\n                description: \"\".concat(business.name, \" is live with manual capture enabled.\"),\n                intent: \"success\"\n            });\n            router.push(\"/app/b/\".concat(business.slug));\n        } catch (error) {\n            console.error(\"Error launching business:\", error);\n            const errorMessage = error instanceof Error ? error.message : \"An error occurred while finalizing onboarding.\";\n            toast.pushToast({\n                title: \"Failed to launch business\",\n                description: errorMessage,\n                intent: \"error\"\n            });\n        }\n    };\n    const stepsMeta = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>[\n            {\n                id: \"business\",\n                title: \"Business\",\n                subtitle: \"Identity & description\"\n            },\n            {\n                id: \"website\",\n                title: \"Website\",\n                subtitle: \"Claim your subdomain\"\n            },\n            {\n                id: \"location\",\n                title: \"Location & contacts\",\n                subtitle: \"Timezone + address\"\n            },\n            {\n                id: \"team\",\n                title: \"Team\",\n                subtitle: \"Scheduling-only staff\"\n            },\n            {\n                id: \"branding\",\n                title: \"Branding\",\n                subtitle: \"Logo + theme\"\n            },\n            {\n                id: \"services\",\n                title: \"Services & categories\",\n                subtitle: \"Catalog structure\"\n            },\n            {\n                id: \"availability\",\n                title: \"Availability\",\n                subtitle: \"Slots per staff\"\n            },\n            // Always include notifications step (shows \"Coming Soon\" when disabled)\n            {\n                id: \"notifications\",\n                title: \"Notifications\",\n                subtitle: (0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_21__.isNotificationsEnabled)() ? \"Templates + placeholders\" : \"Coming soon\"\n            },\n            {\n                id: \"policies\",\n                title: \"Policies\",\n                subtitle: \"Fees & legal copy\"\n            },\n            {\n                id: \"giftCards\",\n                title: \"Gift cards\",\n                subtitle: \"Optional promos\"\n            },\n            {\n                id: \"paymentSetup\",\n                title: \"Payment setup\",\n                subtitle: \"Stripe Connect + subscription\"\n            },\n            {\n                id: \"goLive\",\n                title: \"Go live\",\n                subtitle: \"Launch & confetti\"\n            }\n        ], []);\n    let content = null;\n    switch(onboarding.currentStep){\n        case \"business\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_business_step__WEBPACK_IMPORTED_MODULE_4__.BusinessStep, {\n                defaultValues: onboarding.business,\n                onNext: handleBusinessNext\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 916,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"website\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_website_step__WEBPACK_IMPORTED_MODULE_5__.WebsiteStep, {\n                defaultValues: onboarding.website,\n                onNext: handleWebsiteNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 924,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"location\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_location_step__WEBPACK_IMPORTED_MODULE_6__.LocationStep, {\n                defaultValues: onboarding.location,\n                onNext: handleLocationNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 933,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"team\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_team_step__WEBPACK_IMPORTED_MODULE_7__.TeamStep, {\n                defaultValues: onboarding.team,\n                onNext: handleTeamNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 942,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"branding\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_branding_step__WEBPACK_IMPORTED_MODULE_8__.BrandingStep, {\n                defaultValues: onboarding.branding,\n                business: onboarding.business,\n                categories: onboarding.services,\n                onNext: handleBrandingNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 951,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"services\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_services_step__WEBPACK_IMPORTED_MODULE_9__.ServicesStep, {\n                defaultValues: onboarding.services,\n                staff: onboarding.team,\n                onNext: handleServicesNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 962,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"availability\":\n            var _onboarding_location;\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_availability_step__WEBPACK_IMPORTED_MODULE_10__.AvailabilityStep, {\n                services: onboarding.services,\n                staff: onboarding.team,\n                defaultValues: onboarding.availability,\n                timezone: ((_onboarding_location = onboarding.location) === null || _onboarding_location === void 0 ? void 0 : _onboarding_location.timezone) || \"America/New_York\",\n                onNext: handleAvailabilityNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 972,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"notifications\":\n            // If notifications feature is disabled, show coming soon message\n            if (!(0,_lib_feature_flags__WEBPACK_IMPORTED_MODULE_21__.isNotificationsEnabled)()) {\n                content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"inline-flex items-center gap-2 rounded-full border border-primary/30 bg-primary/10 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-primary/90\",\n                                    children: \"Step 8 \\xb7 Notifications\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                                    lineNumber: 988,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"font-display text-3xl text-white\",\n                                    children: \"Coming Soon\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                                    lineNumber: 991,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"max-w-3xl text-base text-white/70\",\n                                    children: \"Email and SMS notifications are coming soon! For now, your booking system will work perfectly without automated notifications.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                                    lineNumber: 992,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                            lineNumber: 987,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-3xl border border-primary/30 bg-primary/10 p-8 text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mx-auto flex h-16 w-16 items-center justify-center rounded-full border-2 border-primary/50 bg-primary/10 mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle2_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                        className: \"h-8 w-8 text-primary\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                                        lineNumber: 998,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                                    lineNumber: 997,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-lg font-semibold text-white\",\n                                    children: \"Notifications Feature Coming Soon\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                                    lineNumber: 1000,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-sm text-white/70\",\n                                    children: \"We're working on bringing you automated email and SMS notifications. Your booking system is fully functional - customers can book appointments and you can manage them in the admin.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                                    lineNumber: 1001,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                            lineNumber: 996,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-end gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: goBack,\n                                    className: \"rounded-full border border-white/15 bg-white/5 px-6 py-3 text-sm font-semibold text-white transition hover:border-white/25 hover:bg-white/10\",\n                                    children: \"Back\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                                    lineNumber: 1007,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: async ()=>{\n                                        // Save Basic Plan (notifications disabled) and continue\n                                        await handleNotificationsNext([], false);\n                                    },\n                                    className: \"rounded-full border border-primary/50 bg-primary/10 px-6 py-3 text-sm font-semibold text-white transition hover:border-primary/70 hover:bg-primary/15\",\n                                    children: \"Continue\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                                    lineNumber: 1013,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                            lineNumber: 1006,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                    lineNumber: 986,\n                    columnNumber: 11\n                }, this);\n            } else {\n                content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_notifications_step__WEBPACK_IMPORTED_MODULE_11__.NotificationsStep, {\n                    defaultValues: onboarding.notifications,\n                    notificationsEnabled: onboarding.notificationsEnabled,\n                    onNext: handleNotificationsNext,\n                    onBack: goBack\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                    lineNumber: 1027,\n                    columnNumber: 11\n                }, this);\n            }\n            break;\n        case \"policies\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_policies_step__WEBPACK_IMPORTED_MODULE_12__.PoliciesStep, {\n                defaultValues: onboarding.policies,\n                onNext: handlePoliciesNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 1038,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"giftCards\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_gift_cards_step__WEBPACK_IMPORTED_MODULE_13__.GiftCardsStep, {\n                defaultValues: onboarding.giftCards,\n                onNext: handleGiftCardsNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 1047,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"paymentSetup\":\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_payment_setup_step__WEBPACK_IMPORTED_MODULE_14__.PaymentSetupStep, {\n                defaultValues: onboarding.paymentSetup,\n                business: onboarding.business,\n                onNext: handlePaymentNext,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 1056,\n                columnNumber: 9\n            }, this);\n            break;\n        case \"goLive\":\n            var _onboarding_bookingUrl;\n            content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_go_live_step__WEBPACK_IMPORTED_MODULE_15__.GoLiveStep, {\n                business: onboarding.business,\n                location: onboarding.location,\n                staff: onboarding.team,\n                categories: onboarding.services,\n                bookingUrl: (_onboarding_bookingUrl = onboarding.bookingUrl) !== null && _onboarding_bookingUrl !== void 0 ? _onboarding_bookingUrl : \"https://\".concat(sanitizeSubdomain(onboarding.website.subdomain || onboarding.business.businessName || \"yourbusiness\"), \".main.tld\"),\n                previewUrl: \"/public/\".concat(sanitizeSubdomain(onboarding.website.subdomain || onboarding.business.businessName || \"yourbusiness\")),\n                policies: onboarding.policies,\n                payment: onboarding.paymentSetup,\n                onLaunch: handleLaunch,\n                onStartTrial: handleStartTrial,\n                onBack: goBack\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n                lineNumber: 1066,\n                columnNumber: 9\n            }, this);\n            break;\n        default:\n            content = null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_onboarding_shell__WEBPACK_IMPORTED_MODULE_3__.OnboardingShell, {\n        steps: stepsMeta,\n        currentStep: onboarding.currentStep,\n        completedSteps: onboarding.completedSteps,\n        onNavigate: navigateTo,\n        children: content\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/app/onboarding/page.tsx\",\n        lineNumber: 1091,\n        columnNumber: 5\n    }, this);\n}\n_s(OnboardingPage, \"W+sup9Tm3naUfv3W4n5WYg82m2Y=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _components_ui_toast__WEBPACK_IMPORTED_MODULE_16__.useToast,\n        _lib_fake_session__WEBPACK_IMPORTED_MODULE_19__.useFakeSession,\n        _lib_fake_business__WEBPACK_IMPORTED_MODULE_18__.useFakeBusiness,\n        _lib_onboarding_context__WEBPACK_IMPORTED_MODULE_17__.useOnboarding\n    ];\n});\n_c = OnboardingPage;\nvar _c;\n$RefreshReg$(_c, \"OnboardingPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvb25ib2FyZGluZy9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFMkM7QUFDWjtBQUNhO0FBQ0E7QUFFK0I7QUFDTjtBQUNGO0FBQ0U7QUFDUjtBQUNRO0FBQ0E7QUFDUTtBQUNFO0FBQ1Y7QUFDRztBQUNNO0FBQ1o7QUFDakI7QUFDMEQ7QUFDckQ7QUFDRjtBQUN1QjtBQUUzRSxTQUFTdUIsa0JBQWtCQyxLQUFhO0lBQ3RDLE9BQU9BLE1BQ0pDLFdBQVcsR0FDWEMsSUFBSSxHQUNKQyxPQUFPLENBQUMsZUFBZSxLQUN2QkEsT0FBTyxDQUFDLE9BQU8sS0FDZkEsT0FBTyxDQUFDLFlBQVksSUFDcEJDLEtBQUssQ0FBQyxHQUFHO0FBQ2Q7QUFFNkQ7QUFFN0QsNkNBQTZDO0FBQzdDLE1BQU1FLGFBQWlDO0lBQ3JDO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsaURBQWlEO0lBQ2pEO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCx3RUFBd0U7QUFDeEUsTUFBTUMsZ0JBQW9DO09BQ2pDRCxXQUFXRixLQUFLLENBQUMsR0FBRztJQUMzQjtPQUNPRSxXQUFXRixLQUFLLENBQUM7Q0FDekI7QUFFYyxTQUFTSTs7SUFDdEIsTUFBTUMsU0FBUzlCLDBEQUFTQTtJQUN4QixNQUFNK0IsUUFBUWhCLCtEQUFRQTtJQUN0QixNQUFNaUIsVUFBVWQsa0VBQWNBO0lBQzlCLE1BQU1lLGdCQUFnQmhCLG9FQUFlQTtJQUNyQyxNQUFNaUIsYUFBYWxCLHVFQUFhQTtJQUNoQyxNQUFNLENBQUNtQixpQkFBaUJDLG1CQUFtQixHQUFHckMsMkNBQWMsQ0FBTTtJQUNsRSxNQUFNLENBQUN1QyxtQkFBbUJDLHFCQUFxQixHQUFHeEMsMkNBQWMsQ0FBQztJQUNqRSxNQUFNLENBQUN5QyxpQkFBaUJDLG1CQUFtQixHQUFHMUMsMkNBQWMsQ0FBQztJQUM3RCxNQUFNLENBQUMy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SSxpQkFBZ0I7Z0JBRW5IdUssWUFBWSxXQUVWLE9BRnFCek4sa0JBQ3JCYyxXQUFXNEUsT0FBTyxDQUFDdUIsU0FBUyxJQUFJbkcsV0FBVzRCLFFBQVEsQ0FBQ1EsWUFBWSxJQUFJO2dCQUV0RXVELFVBQVUzRixXQUFXMkYsUUFBUTtnQkFDN0I4RixTQUFTekwsV0FBVytGLFlBQVk7Z0JBQ2hDNkcsVUFBVXhCO2dCQUNWeUIsY0FBY2xDO2dCQUNkcUIsUUFBUTFEOzs7Ozs7WUFHWjtRQUNGO1lBQ0V1RCxVQUFVO0lBQ2Q7SUFFQSxxQkFDRSw4REFBQzdOLG9GQUFlQTtRQUNkOE8sT0FBT25CO1FBQ1A5SyxhQUFhYixXQUFXYSxXQUFXO1FBQ25Db0YsZ0JBQWdCakcsV0FBV2lHLGNBQWM7UUFDekM4RyxZQUFZM0U7a0JBRVh5RDs7Ozs7O0FBR1A7R0E5Z0N3QmxNOztRQUNQN0Isc0RBQVNBO1FBQ1ZlLDJEQUFRQTtRQUNORyw4REFBY0E7UUFDUkQsZ0VBQWVBO1FBQ2xCRCxtRUFBYUE7OztLQUxWYSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL29uYm9hcmRpbmcvcGFnZS50c3g/ZjRhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCB7IENoZWNrQ2lyY2xlMiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxuaW1wb3J0IHsgT25ib2FyZGluZ1NoZWxsIH0gZnJvbSBcIkAvY29tcG9uZW50cy9vbmJvYXJkaW5nL29uYm9hcmRpbmctc2hlbGxcIjtcbmltcG9ydCB7IEJ1c2luZXNzU3RlcCB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy9idXNpbmVzcy1zdGVwXCI7XG5pbXBvcnQgeyBXZWJzaXRlU3RlcCB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy93ZWJzaXRlLXN0ZXBcIjtcbmltcG9ydCB7IExvY2F0aW9uU3RlcCB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy9sb2NhdGlvbi1zdGVwXCI7XG5pbXBvcnQgeyBUZWFtU3RlcCB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy90ZWFtLXN0ZXBcIjtcbmltcG9ydCB7IEJyYW5kaW5nU3RlcCB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy9icmFuZGluZy1zdGVwXCI7XG5pbXBvcnQgeyBTZXJ2aWNlc1N0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvc2VydmljZXMtc3RlcFwiO1xuaW1wb3J0IHsgQXZhaWxhYmlsaXR5U3RlcCB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy9hdmFpbGFiaWxpdHktc3RlcFwiO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uc1N0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvbm90aWZpY2F0aW9ucy1zdGVwXCI7XG5pbXBvcnQgeyBQb2xpY2llc1N0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvcG9saWNpZXMtc3RlcFwiO1xuaW1wb3J0IHsgR2lmdENhcmRzU3RlcCB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy9naWZ0LWNhcmRzLXN0ZXBcIjtcbmltcG9ydCB7IFBheW1lbnRTZXR1cFN0ZXAgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvcGF5bWVudC1zZXR1cC1zdGVwXCI7XG5pbXBvcnQgeyBHb0xpdmVTdGVwIH0gZnJvbSBcIkAvY29tcG9uZW50cy9vbmJvYXJkaW5nL2dvLWxpdmUtc3RlcFwiO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RvYXN0XCI7XG5pbXBvcnQgeyB1c2VPbmJvYXJkaW5nLCB0eXBlIE9uYm9hcmRpbmdTdGVwSWQsIHR5cGUgTm90aWZpY2F0aW9uVGVtcGxhdGUgfSBmcm9tIFwiQC9saWIvb25ib2FyZGluZy1jb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VGYWtlQnVzaW5lc3MgfSBmcm9tIFwiQC9saWIvZmFrZS1idXNpbmVzc1wiO1xuaW1wb3J0IHsgdXNlRmFrZVNlc3Npb24gfSBmcm9tIFwiQC9saWIvZmFrZS1zZXNzaW9uXCI7XG5pbXBvcnQgeyBsb2FkT25ib2FyZGluZ0RhdGFGcm9tQmFja2VuZCB9IGZyb20gXCJAL2xpYi9sb2FkLW9uYm9hcmRpbmctZGF0YVwiO1xuXG5mdW5jdGlvbiBzYW5pdGl6ZVN1YmRvbWFpbih2YWx1ZTogc3RyaW5nKSB7XG4gIHJldHVybiB2YWx1ZVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnRyaW0oKVxuICAgIC5yZXBsYWNlKC9bXmEtejAtOS1dL2csIFwiLVwiKVxuICAgIC5yZXBsYWNlKC8tKy9nLCBcIi1cIilcbiAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCBcIlwiKVxuICAgIC5zbGljZSgwLCA2Myk7XG59XG5cbmltcG9ydCB7IGlzTm90aWZpY2F0aW9uc0VuYWJsZWQgfSBmcm9tIFwiQC9saWIvZmVhdHVyZS1mbGFnc1wiO1xuXG4vLyBCdWlsZCBzdGVwIHNlcXVlbmNlIGJhc2VkIG9uIGZlYXR1cmUgZmxhZ3NcbmNvbnN0IEJBU0VfU1RFUFM6IE9uYm9hcmRpbmdTdGVwSWRbXSA9IFtcbiAgXCJidXNpbmVzc1wiLFxuICBcIndlYnNpdGVcIixcbiAgXCJsb2NhdGlvblwiLFxuICBcInRlYW1cIixcbiAgXCJicmFuZGluZ1wiLFxuICBcInNlcnZpY2VzXCIsXG4gIFwiYXZhaWxhYmlsaXR5XCIsXG4gIC8vIFwibm90aWZpY2F0aW9uc1wiIC0gY29uZGl0aW9uYWxseSBpbmNsdWRlZCBiZWxvd1xuICBcInBvbGljaWVzXCIsXG4gIFwiZ2lmdENhcmRzXCIsXG4gIFwicGF5bWVudFNldHVwXCIsXG4gIFwiZ29MaXZlXCJcbl07XG5cbi8vIEFsd2F5cyBpbmNsdWRlIG5vdGlmaWNhdGlvbnMgc3RlcCAoc2hvd3MgXCJDb21pbmcgU29vblwiIHdoZW4gZGlzYWJsZWQpXG5jb25zdCBTVEVQX1NFUVVFTkNFOiBPbmJvYXJkaW5nU3RlcElkW10gPSBbXG4gICAgICAuLi5CQVNFX1NURVBTLnNsaWNlKDAsIDcpLCAvLyBidXNpbmVzcyB0aHJvdWdoIGF2YWlsYWJpbGl0eVxuICBcIm5vdGlmaWNhdGlvbnNcIiwgLy8gQWx3YXlzIGluY2x1ZGUgLSBzaG93cyBcIkNvbWluZyBTb29uXCIgd2hlbiBkaXNhYmxlZFxuICAgICAgLi4uQkFTRV9TVEVQUy5zbGljZSg3KSwgLy8gcG9saWNpZXMgdGhyb3VnaCBnb0xpdmVcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE9uYm9hcmRpbmdQYWdlKCkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xuICBjb25zdCBzZXNzaW9uID0gdXNlRmFrZVNlc3Npb24oKTtcbiAgY29uc3QgYnVzaW5lc3NTdG9yZSA9IHVzZUZha2VCdXNpbmVzcygpO1xuICBjb25zdCBvbmJvYXJkaW5nID0gdXNlT25ib2FyZGluZygpO1xuICBjb25zdCBbc3VwYWJhc2VTZXNzaW9uLCBzZXRTdXBhYmFzZVNlc3Npb25dID0gUmVhY3QudXNlU3RhdGU8YW55PihudWxsKTtcbiAgY29uc3QgW2lzQ2hlY2tpbmdTZXNzaW9uLCBzZXRJc0NoZWNraW5nU2Vzc2lvbl0gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2J1c2luZXNzQ3JlYXRlZCwgc2V0QnVzaW5lc3NDcmVhdGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW29uYm9hcmRpbmdDb21wbGV0ZWQsIHNldE9uYm9hcmRpbmdDb21wbGV0ZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGN1cnJlbnRJbmRleCA9IHVzZU1lbW8oXG4gICAgKCkgPT4gU1RFUF9TRVFVRU5DRS5maW5kSW5kZXgoKHN0ZXApID0+IHN0ZXAgPT09IG9uYm9hcmRpbmcuY3VycmVudFN0ZXApLFxuICAgIFtvbmJvYXJkaW5nLmN1cnJlbnRTdGVwXVxuICApO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RlcCA9IGN1cnJlbnRJbmRleCA+IDAgPyBTVEVQX1NFUVVFTkNFW2N1cnJlbnRJbmRleCAtIDFdIDogdW5kZWZpbmVkO1xuICBjb25zdCBuZXh0U3RlcCA9IGN1cnJlbnRJbmRleCA8IFNURVBfU0VRVUVOQ0UubGVuZ3RoIC0gMSA/IFNURVBfU0VRVUVOQ0VbY3VycmVudEluZGV4ICsgMV0gOiB1bmRlZmluZWQ7XG5cbiAgLy8gTm90ZTogTm90aWZpY2F0aW9ucyBzdGVwIGlzIGFsd2F5cyBzaG93biBidXQgZGlzcGxheXMgXCJDb21pbmcgU29vblwiIHdoZW4gZmVhdHVyZSBpcyBkaXNhYmxlZFxuICAvLyBObyBuZWVkIHRvIGF1dG8tc2tpcCAtIHRoZSBzdGVwIGNvbXBvbmVudCBoYW5kbGVzIHRoZSBcImNvbWluZyBzb29uXCIgc3RhdGVcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGEgYnVzaW5lc3MgaWYgb25lIGRvZXNuJ3QgZXhpc3RcbiAgY29uc3QgZW5zdXJlQnVzaW5lc3NFeGlzdHMgPSBhc3luYyAoYWNjZXNzVG9rZW46IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiBidXNpbmVzcyBhbHJlYWR5IGV4aXN0c1xuICAgICAgY29uc3QgaGVhZGVyczogSGVhZGVyc0luaXQgPSB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAsXG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBjaGVja1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYnVzaW5lc3Mvb25ib2FyZGluZy9zdGVwLTEtYnVzaW5lc3MnLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKGNoZWNrUmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgYnVzaW5lc3NEYXRhID0gYXdhaXQgY2hlY2tSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmIChidXNpbmVzc0RhdGEuYnVzaW5lc3MgJiYgYnVzaW5lc3NEYXRhLmJ1c2luZXNzLmlkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tvbmJvYXJkaW5nXSBCdXNpbmVzcyBhbHJlYWR5IGV4aXN0czonLCBidXNpbmVzc0RhdGEuYnVzaW5lc3MuaWQpO1xuICAgICAgICAgIHNldEJ1c2luZXNzQ3JlYXRlZCh0cnVlKTtcbiAgICAgICAgICByZXR1cm4gYnVzaW5lc3NEYXRhLmJ1c2luZXNzLmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEJ1c2luZXNzIGRvZXNuJ3QgZXhpc3QsIGNyZWF0ZSBhIHRlbXBvcmFyeSBvbmVcbiAgICAgIGNvbnNvbGUubG9nKCdbb25ib2FyZGluZ10gTm8gYnVzaW5lc3MgZm91bmQsIGNyZWF0aW5nIHRlbXBvcmFyeSBidXNpbmVzcy4uLicpO1xuICAgICAgY29uc3QgY3JlYXRlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtMS1idXNpbmVzcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGJ1c2luZXNzTmFtZTogJ05ldyBCdXNpbmVzcycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdCdXNpbmVzcyBkZXNjcmlwdGlvbiB3aWxsIGJlIGFkZGVkJyxcbiAgICAgICAgICBkb2luZ0J1c2luZXNzQXM6ICcnLFxuICAgICAgICAgIGxlZ2FsTmFtZTogJ05ldyBCdXNpbmVzcycsXG4gICAgICAgICAgaW5kdXN0cnk6ICdPdGhlcicsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChjcmVhdGVSZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbb25ib2FyZGluZ10gVGVtcG9yYXJ5IGJ1c2luZXNzIGNyZWF0ZWQ6JywgcmVzdWx0LmJ1c2luZXNzSWQpO1xuICAgICAgICBzZXRCdXNpbmVzc0NyZWF0ZWQodHJ1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYnVzaW5lc3NJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tvbmJvYXJkaW5nXSBGYWlsZWQgdG8gY3JlYXRlIGJ1c2luZXNzOicsIGF3YWl0IGNyZWF0ZVJlc3BvbnNlLnRleHQoKSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tvbmJvYXJkaW5nXSBFcnJvciBlbnN1cmluZyBidXNpbmVzcyBleGlzdHM6JywgZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvLyBDaGVjayBTdXBhYmFzZSBzZXNzaW9uIG9uIG1vdW50IChwZXJzaXN0cyBhY3Jvc3MgcmVkaXJlY3RzKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrU3VwYWJhc2VTZXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIG5ldyBzaWdudXAgLSBpZiBzbywgZG9uJ3QgbG9hZCBhbnkgb2xkIGRhdGFcbiAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICAgICAgY29uc3QgaXNOZXdTaWdudXAgPSB1cmxQYXJhbXMuZ2V0KCduZXcnKSA9PT0gJ3RydWUnO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgeyBjcmVhdGVDbGllbnRDbGllbnQgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvc3VwYWJhc2UtY2xpZW50Jyk7XG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50Q2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uOiBzdXBhYmFzZVNlc3Npb25EYXRhIH0sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzdXBhYmFzZVNlc3Npb25EYXRhICYmICFlcnJvcikge1xuICAgICAgICAgIHNldFN1cGFiYXNlU2Vzc2lvbihzdXBhYmFzZVNlc3Npb25EYXRhKTtcbiAgICAgICAgICAvLyBSZXN0b3JlIGZha2Ugc2Vzc2lvbiBmcm9tIFN1cGFiYXNlIHNlc3Npb24gaWYgbmVlZGVkXG4gICAgICAgICAgaWYgKCFzZXNzaW9uLmlzQXV0aGVudGljYXRlZCAmJiBzdXBhYmFzZVNlc3Npb25EYXRhLnVzZXIpIHtcbiAgICAgICAgICAgIHNlc3Npb24ubG9naW4oe1xuICAgICAgICAgICAgICBpZDogc3VwYWJhc2VTZXNzaW9uRGF0YS51c2VyLmlkLFxuICAgICAgICAgICAgICBuYW1lOiBzdXBhYmFzZVNlc3Npb25EYXRhLnVzZXIudXNlcl9tZXRhZGF0YT8uZnVsbF9uYW1lIHx8IHN1cGFiYXNlU2Vzc2lvbkRhdGEudXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnVXNlcicsXG4gICAgICAgICAgICAgIGVtYWlsOiBzdXBhYmFzZVNlc3Npb25EYXRhLnVzZXIuZW1haWwgfHwgJycsXG4gICAgICAgICAgICAgIHBob25lOiBzdXBhYmFzZVNlc3Npb25EYXRhLnVzZXIudXNlcl9tZXRhZGF0YT8ucGhvbmUgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVuc3VyZSBidXNpbmVzcyBleGlzdHMgKGNyZWF0ZSBpZiBpdCBkb2Vzbid0KVxuICAgICAgICAgIGlmIChzdXBhYmFzZVNlc3Npb25EYXRhLmFjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgYXdhaXQgZW5zdXJlQnVzaW5lc3NFeGlzdHMoc3VwYWJhc2VTZXNzaW9uRGF0YS5hY2Nlc3NfdG9rZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBPbmx5IGxvYWQgYnVzaW5lc3MgZGF0YSBpZjpcbiAgICAgICAgICAvLyAxLiBUaGlzIGlzIE5PVCBhIG5ldyBzaWdudXAgKG5ldz10cnVlIG5vdCBwcmVzZW50KVxuICAgICAgICAgIC8vIDIuIEFORCB3ZSdyZSByZXR1cm5pbmcgZnJvbSBTdHJpcGUgKGFjY291bnRfaWQgcHJlc2VudClcbiAgICAgICAgICBjb25zdCBhY2NvdW50SWQgPSB1cmxQYXJhbXMuZ2V0KFwiYWNjb3VudF9pZFwiKTtcbiAgICAgICAgICBpZiAoIWlzTmV3U2lnbnVwICYmIGFjY291bnRJZCkge1xuICAgICAgICAgICAgLy8gTG9hZCBidXNpbmVzcyBkYXRhIHRvIGVuc3VyZSBpdCdzIGluIHN0YXRlIChvbmx5IGZvciBTdHJpcGUgcmV0dXJucylcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnM6IEhlYWRlcnNJbml0ID0ge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7c3VwYWJhc2VTZXNzaW9uRGF0YS5hY2Nlc3NfdG9rZW59YCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IGJ1c2luZXNzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtMS1idXNpbmVzcycsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoYnVzaW5lc3NSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1c2luZXNzRGF0YSA9IGF3YWl0IGJ1c2luZXNzUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGlmIChidXNpbmVzc0RhdGEuYnVzaW5lc3MpIHtcbiAgICAgICAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZUJ1c2luZXNzKHtcbiAgICAgICAgICAgICAgICAgICAgYnVzaW5lc3NOYW1lOiBidXNpbmVzc0RhdGEuYnVzaW5lc3MubmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICAgICAgICBkb2luZ0J1c2luZXNzQXM6IGJ1c2luZXNzRGF0YS5idXNpbmVzcy5kYmFfbmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgbGVnYWxOYW1lOiBidXNpbmVzc0RhdGEuYnVzaW5lc3MubGVnYWxfbmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgaW5kdXN0cnk6IGJ1c2luZXNzRGF0YS5idXNpbmVzcy5pbmR1c3RyeSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBidXNpbmVzcyBkYXRhOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTmV3U2lnbnVwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW29uYm9hcmRpbmddIE5ldyBzaWdudXAgZGV0ZWN0ZWQgLSBza2lwcGluZyBkYXRhIGxvYWQsIHN0YXJ0aW5nIGZyZXNoIGF0IHN0ZXAgMScpO1xuICAgICAgICAgICAgLy8gRW5zdXJlIHdlIHN0YXJ0IGF0IHN0ZXAgMSBmb3IgbmV3IHNpZ251cHNcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuc2V0U3RlcChcImJ1c2luZXNzXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgU3VwYWJhc2Ugc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0NoZWNraW5nU2Vzc2lvbihmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBjaGVja1N1cGFiYXNlU2Vzc2lvbigpO1xuICB9LCBbXSk7XG5cbiAgLy8gSGFuZGxlIFN0cmlwZSBDb25uZWN0IHJldHVybiBGSVJTVCAtIGJlZm9yZSBhdXRoIGNoZWNrXG4gIC8vIExvYWQgQUxMIG9uYm9hcmRpbmcgZGF0YSBmcm9tIGJhY2tlbmQgdG8gcmVzdG9yZSBzdGF0ZVxuICAvLyBTa2lwIHRoaXMgZm9yIG5ldyBzaWdudXBzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICBjb25zdCBhY2NvdW50SWQgPSB1cmxQYXJhbXMuZ2V0KFwiYWNjb3VudF9pZFwiKTtcbiAgICBjb25zdCBpc05ld1NpZ251cCA9IHVybFBhcmFtcy5nZXQoJ25ldycpID09PSAndHJ1ZSc7XG4gICAgXG4gICAgLy8gRG9uJ3QgcmVzdG9yZSBkYXRhIGZvciBuZXcgc2lnbnVwcyAtIHRoZXkgc2hvdWxkIHN0YXJ0IGZyZXNoXG4gICAgaWYgKGlzTmV3U2lnbnVwKSB7XG4gICAgICBjb25zb2xlLmxvZygnW29uYm9hcmRpbmddIE5ldyBzaWdudXAgZGV0ZWN0ZWQgLSBza2lwcGluZyBTdHJpcGUgcmV0dXJuIGRhdGEgcmVzdG9yYXRpb24nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKGFjY291bnRJZCkge1xuICAgICAgY29uc29sZS5sb2coJ1tvbmJvYXJkaW5nXSBTdHJpcGUgcmV0dXJuIGRldGVjdGVkLCBhY2NvdW50X2lkOicsIGFjY291bnRJZCk7XG4gICAgICBcbiAgICAgIC8vIE5hdmlnYXRlIHRvIHBheW1lbnQgc2V0dXAgc3RlcCBpbW1lZGlhdGVseVxuICAgICAgb25ib2FyZGluZy5zZXRTdGVwKFwicGF5bWVudFNldHVwXCIpO1xuICAgICAgXG4gICAgICAvLyBMb2FkIEFMTCBvbmJvYXJkaW5nIGRhdGEgZnJvbSBiYWNrZW5kIHRvIHJlc3RvcmUgY29tcGxldGUgc3RhdGVcbiAgICAgIGNvbnN0IHJlc3RvcmVBbGxPbmJvYXJkaW5nRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgbG9hZE9uYm9hcmRpbmdEYXRhRnJvbUJhY2tlbmQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXN0b3JlIGFsbCB0aGUgZGF0YSB0byBvbmJvYXJkaW5nIGNvbnRleHRcbiAgICAgICAgICBpZiAoZGF0YS5idXNpbmVzcykge1xuICAgICAgICAgICAgb25ib2FyZGluZy5zYXZlQnVzaW5lc3MoZGF0YS5idXNpbmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLndlYnNpdGUpIHtcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZVdlYnNpdGUoZGF0YS53ZWJzaXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEubG9jYXRpb24pIHtcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZUxvY2F0aW9uKGRhdGEubG9jYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS50ZWFtKSB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNhdmVUZWFtKGRhdGEudGVhbSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLmJyYW5kaW5nKSB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNhdmVCcmFuZGluZyhkYXRhLmJyYW5kaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEuc2VydmljZXMpIHtcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZVNlcnZpY2VzKGRhdGEuc2VydmljZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5hdmFpbGFiaWxpdHkpIHtcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZUF2YWlsYWJpbGl0eShkYXRhLmF2YWlsYWJpbGl0eSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIE9ubHkgbG9hZCBub3RpZmljYXRpb25zIGlmIGZlYXR1cmUgaXMgZW5hYmxlZFxuICAgICAgICAgIGlmIChpc05vdGlmaWNhdGlvbnNFbmFibGVkKCkgJiYgZGF0YS5ub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNhdmVOb3RpZmljYXRpb25zKGRhdGEubm90aWZpY2F0aW9ucyk7XG4gICAgICAgICAgfSBlbHNlIGlmICghaXNOb3RpZmljYXRpb25zRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAvLyBJZiBmZWF0dXJlIGlzIGRpc2FibGVkLCBzZXQgbm90aWZpY2F0aW9ucyB0byBlbXB0eSBhbmQgZGlzYWJsZWRcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZU5vdGlmaWNhdGlvbnMoeyB0ZW1wbGF0ZXM6IFtdLCBlbmFibGVkOiBmYWxzZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEucG9saWNpZXMpIHtcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZVBvbGljaWVzKGRhdGEucG9saWNpZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZGF0YS5naWZ0Q2FyZHMpIHtcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuc2F2ZUdpZnRDYXJkcyhkYXRhLmdpZnRDYXJkcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkYXRhLnBheW1lbnRTZXR1cCkge1xuICAgICAgICAgICAgb25ib2FyZGluZy5zYXZlUGF5bWVudFNldHVwKGRhdGEucGF5bWVudFNldHVwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWFyayBhbGwgY29tcGxldGVkIHN0ZXBzXG4gICAgICAgICAgY29uc3QgY29tcGxldGVkU3RlcHM6IE9uYm9hcmRpbmdTdGVwSWRbXSA9IFtdO1xuICAgICAgICAgIGlmIChkYXRhLmJ1c2luZXNzPy5idXNpbmVzc05hbWUpIGNvbXBsZXRlZFN0ZXBzLnB1c2goJ2J1c2luZXNzJyk7XG4gICAgICAgICAgaWYgKGRhdGEud2Vic2l0ZT8uc3ViZG9tYWluKSBjb21wbGV0ZWRTdGVwcy5wdXNoKCd3ZWJzaXRlJyk7XG4gICAgICAgICAgaWYgKGRhdGEubG9jYXRpb24/LnN0cmVldCB8fCBkYXRhLmxvY2F0aW9uPy5jaXR5KSBjb21wbGV0ZWRTdGVwcy5wdXNoKCdsb2NhdGlvbicpO1xuICAgICAgICAgIGlmIChkYXRhLnRlYW0gJiYgZGF0YS50ZWFtLmxlbmd0aCA+IDApIGNvbXBsZXRlZFN0ZXBzLnB1c2goJ3RlYW0nKTtcbiAgICAgICAgICBpZiAoZGF0YS5icmFuZGluZz8ucHJpbWFyeUNvbG9yKSBjb21wbGV0ZWRTdGVwcy5wdXNoKCdicmFuZGluZycpO1xuICAgICAgICAgIGlmIChkYXRhLnNlcnZpY2VzICYmIGRhdGEuc2VydmljZXMubGVuZ3RoID4gMCkgY29tcGxldGVkU3RlcHMucHVzaCgnc2VydmljZXMnKTtcbiAgICAgICAgICBpZiAoZGF0YS5hdmFpbGFiaWxpdHkgJiYgZGF0YS5hdmFpbGFiaWxpdHkubGVuZ3RoID4gMCkgY29tcGxldGVkU3RlcHMucHVzaCgnYXZhaWxhYmlsaXR5Jyk7XG4gICAgICAgICAgaWYgKGRhdGEubm90aWZpY2F0aW9ucykgY29tcGxldGVkU3RlcHMucHVzaCgnbm90aWZpY2F0aW9ucycpO1xuICAgICAgICAgIGlmIChkYXRhLnBvbGljaWVzKSBjb21wbGV0ZWRTdGVwcy5wdXNoKCdwb2xpY2llcycpO1xuICAgICAgICAgIGlmIChkYXRhLmdpZnRDYXJkcykgY29tcGxldGVkU3RlcHMucHVzaCgnZ2lmdENhcmRzJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29tcGxldGVkU3RlcHMuZm9yRWFjaChzdGVwID0+IHtcbiAgICAgICAgICAgIG9uYm9hcmRpbmcuY29tcGxldGVTdGVwKHN0ZXApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbb25ib2FyZGluZ10gQWxsIG9uYm9hcmRpbmcgZGF0YSByZXN0b3JlZCBmcm9tIGJhY2tlbmQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXN0b3Jpbmcgb25ib2FyZGluZyBkYXRhOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gTG9hZCBhbmQgcmVzdG9yZSBhbGwgc3RhdGUgZnJvbSBiYWNrZW5kXG4gICAgICByZXN0b3JlQWxsT25ib2FyZGluZ0RhdGEoKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXAgVVJMIChyZW1vdmUgcXVlcnkgcGFyYW1zKSBhZnRlciBhIHNob3J0IGRlbGF5XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBcIlwiLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9XG4gIH0sIFtvbmJvYXJkaW5nXSk7XG5cbiAgLy8gQ2hlY2sgaWYgYnVzaW5lc3MgaXMgYWxyZWFkeSBsYXVuY2hlZCBhbmQgcmVkaXJlY3QgdG8gYWRtaW5cbiAgLy8gU2tpcCB0aGlzIGNoZWNrIGZvciBuZXcgc2lnbnVwcyB0byBlbnN1cmUgdGhleSBzdGFydCBmcmVzaFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrSWZCdXNpbmVzc0lzTGF1bmNoZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoaXNDaGVja2luZ1Nlc3Npb24pIHJldHVybjsgLy8gV2FpdCBmb3Igc2Vzc2lvbiBjaGVjayB0byBjb21wbGV0ZVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgbmV3IHNpZ251cCAtIGlmIHNvLCBza2lwIHRoZSBsYXVuY2ggY2hlY2tcbiAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICBjb25zdCBpc05ld1NpZ251cCA9IHVybFBhcmFtcy5nZXQoJ25ldycpID09PSAndHJ1ZSc7XG4gICAgICBcbiAgICAgIGlmIChpc05ld1NpZ251cCkge1xuICAgICAgICBjb25zb2xlLmxvZygnW29uYm9hcmRpbmddIE5ldyBzaWdudXAgLSBza2lwcGluZyBidXNpbmVzcyBsYXVuY2ggY2hlY2ssIHN0YXJ0aW5nIGZyZXNoJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgYm90aCBmYWtlIHNlc3Npb24gYW5kIFN1cGFiYXNlIHNlc3Npb25cbiAgICAgIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9IHNlc3Npb24uaXNBdXRoZW50aWNhdGVkIHx8IChzdXBhYmFzZVNlc3Npb24/LnVzZXIgIT09IG51bGwpO1xuICAgICAgXG4gICAgICBpZiAoIWlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICByb3V0ZXIucmVwbGFjZShcIi9sb2dpblwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBDaGVjayBpZiBidXNpbmVzcyBpcyBhbHJlYWR5IGxhdW5jaGVkIGJ5IGNoZWNraW5nIGRhdGFiYXNlXG4gICAgICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50Q2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL3N1cGFiYXNlLWNsaWVudCcpO1xuICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudENsaWVudCgpO1xuICAgICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbjogY3VycmVudFNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWN1cnJlbnRTZXNzaW9uPy5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGZXRjaCBidXNpbmVzcyB0byBjaGVjayBpZiBpdCdzIGFscmVhZHkgbGF1bmNoZWRcbiAgICAgICAgY29uc3QgYnVzaW5lc3NSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC0xLWJ1c2luZXNzJywge1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2N1cnJlbnRTZXNzaW9uLmFjY2Vzc190b2tlbn1gLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGJ1c2luZXNzUmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBidXNpbmVzc0RhdGEgPSBhd2FpdCBidXNpbmVzc1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBjb25zdCBidXNpbmVzcyA9IGJ1c2luZXNzRGF0YS5idXNpbmVzcztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiBidXNpbmVzcyBpcyBhbHJlYWR5IGxhdW5jaGVkOlxuICAgICAgICAgIC8vIDEuIEhhcyBzdWJzY3JpcHRpb25fc3RhdHVzIHNldCAodHJpYWwsIGFjdGl2ZSwgcGF1c2VkLCBjYW5jZWxlZCkgLSB0aGlzIGluZGljYXRlcyBnby1saXZlIHN0ZXAgd2FzIGNvbXBsZXRlZFxuICAgICAgICAgIC8vIDIuIEhhcyBlc3NlbnRpYWwgZmllbGRzIChuYW1lLCBzdWJkb21haW4sIHRpbWV6b25lLCBzdXBwb3J0X2VtYWlsKVxuICAgICAgICAgIC8vIE5vdGU6IHN0cmlwZV9jb25uZWN0X2FjY291bnRfaWQgaXMgb3B0aW9uYWwgLSBidXNpbmVzcyBjYW4gYmUgbGF1bmNoZWQgd2l0aG91dCBTdHJpcGUgQ29ubmVjdFxuICAgICAgICAgIC8vIEFsc28gY2hlY2sgdGhhdCBpdCdzIG5vdCBhIHRlbXAgYnVzaW5lc3MgKG5ldyBzaWdudXAgd2l0aCBlbXB0eSBuYW1lKVxuICAgICAgICAgIGNvbnN0IGlzTGF1bmNoZWQgPSBidXNpbmVzcyAmJiBcbiAgICAgICAgICAgIGJ1c2luZXNzLnN1YnNjcmlwdGlvbl9zdGF0dXMgJiYgXG4gICAgICAgICAgICBidXNpbmVzcy5zdWJzY3JpcHRpb25fc3RhdHVzICE9PSBudWxsICYmXG4gICAgICAgICAgICBidXNpbmVzcy5uYW1lICYmIFxuICAgICAgICAgICAgYnVzaW5lc3MubmFtZS50cmltKCkubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgYnVzaW5lc3Muc3ViZG9tYWluICYmIFxuICAgICAgICAgICAgIWJ1c2luZXNzLnN1YmRvbWFpbi5zdGFydHNXaXRoKCd0ZW1wLScpICYmXG4gICAgICAgICAgICBidXNpbmVzcy50aW1lem9uZSAmJlxuICAgICAgICAgICAgYnVzaW5lc3Muc3VwcG9ydF9lbWFpbDtcblxuICAgICAgICAgIGlmIChpc0xhdW5jaGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW29uYm9hcmRpbmddIEJ1c2luZXNzIGlzIGFscmVhZHkgbGF1bmNoZWQgLSByZWRpcmVjdGluZyB0byBhZG1pbicpO1xuICAgICAgICAgICAgLy8gQnVzaW5lc3MgaXMgYWxyZWFkeSBsYXVuY2hlZCAtIHJlZGlyZWN0IHRvIGFkbWluIGRhc2hib2FyZFxuICAgICAgICAgICAgY29uc3QgYnVzaW5lc3NJZCA9IGJ1c2luZXNzLmlkO1xuICAgICAgICAgICAgcm91dGVyLnJlcGxhY2UoYC9hcHAvYi8ke2J1c2luZXNzSWR9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYnVzaW5lc3MgZXhpc3RzIGJ1dCBub3QgbGF1bmNoZWQsIGNvbnRpbnVlIHdpdGggb25ib2FyZGluZ1xuICAgICAgICAvLyBJZiBubyBidXNpbmVzcyBleGlzdHMsIG9uYm9hcmRpbmcgd2lsbCBjcmVhdGUgb25lXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbb25ib2FyZGluZ10gRXJyb3IgY2hlY2tpbmcgaWYgYnVzaW5lc3MgaXMgbGF1bmNoZWQ6JywgZXJyb3IpO1xuICAgICAgICAvLyBPbiBlcnJvciwgY29udGludWUgd2l0aCBvbmJvYXJkaW5nXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNoZWNrSWZCdXNpbmVzc0lzTGF1bmNoZWQoKTtcbiAgfSwgW3Nlc3Npb24uaXNBdXRoZW50aWNhdGVkLCBzdXBhYmFzZVNlc3Npb24sIGlzQ2hlY2tpbmdTZXNzaW9uLCByb3V0ZXJdKTtcblxuICAvLyBDbGVhbnVwOiBEZWxldGUgaW5jb21wbGV0ZSBidXNpbmVzcyB3aGVuIHVzZXIgZXhpdHMgb25ib2FyZGluZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgc2V0IHVwIGNsZWFudXAgaWYgYnVzaW5lc3Mgd2FzIGNyZWF0ZWQgYW5kIG9uYm9hcmRpbmcgbm90IGNvbXBsZXRlZFxuICAgIGlmICghYnVzaW5lc3NDcmVhdGVkIHx8IG9uYm9hcmRpbmdDb21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHBhdGggaXMgc3RpbGwgb25ib2FyZGluZ1xuICAgIGNvbnN0IGNoZWNrSWZTdGlsbE9uT25ib2FyZGluZyA9ICgpID0+IHtcbiAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvb25ib2FyZGluZyc7XG4gICAgfTtcblxuICAgIGNvbnN0IGRlbGV0ZUluY29tcGxldGVCdXNpbmVzcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIC8vIERvbid0IGRlbGV0ZSBpZiB3ZSdyZSBzdGlsbCBvbiB0aGUgb25ib2FyZGluZyBwYWdlICh1c2VyIG1pZ2h0IGJlIG5hdmlnYXRpbmcgYmV0d2VlbiBzdGVwcylcbiAgICAgIGlmIChjaGVja0lmU3RpbGxPbk9uYm9hcmRpbmcoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50Q2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL3N1cGFiYXNlLWNsaWVudCcpO1xuICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudENsaWVudCgpO1xuICAgICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbjogY3VycmVudFNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWN1cnJlbnRTZXNzaW9uPy5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoZWFkZXJzOiBIZWFkZXJzSW5pdCA9IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2N1cnJlbnRTZXNzaW9uLmFjY2Vzc190b2tlbn1gLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYnVzaW5lc3Mvb25ib2FyZGluZy9kZWxldGUtaW5jb21wbGV0ZScsIHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICBrZWVwYWxpdmU6IHRydWUsIC8vIEltcG9ydGFudCBmb3IgYmVmb3JldW5sb2FkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbb25ib2FyZGluZ10gSW5jb21wbGV0ZSBidXNpbmVzcyBkZWxldGVkIG9uIGV4aXQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbb25ib2FyZGluZ10gRmFpbGVkIHRvIGRlbGV0ZSBpbmNvbXBsZXRlIGJ1c2luZXNzOicsIGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElnbm9yZSBlcnJvcnMgZHVyaW5nIGNsZWFudXAgKG5ldHdvcmsgbWlnaHQgYmUgdW5hdmFpbGFibGUpXG4gICAgICAgIGNvbnNvbGUubG9nKCdbb25ib2FyZGluZ10gQ2xlYW51cCBlcnJvciAoZXhwZWN0ZWQgaWYgcGFnZSBpcyBjbG9zaW5nKTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBwYWdlIHVubG9hZCAodXNlciBjbG9zZXMgdGFiL3dpbmRvdywgbmF2aWdhdGVzIGF3YXkpXG4gICAgY29uc3QgaGFuZGxlQmVmb3JlVW5sb2FkID0gKGU6IEJlZm9yZVVubG9hZEV2ZW50KSA9PiB7XG4gICAgICBpZiAoIW9uYm9hcmRpbmdDb21wbGV0ZWQgJiYgIWNoZWNrSWZTdGlsbE9uT25ib2FyZGluZygpKSB7XG4gICAgICAgIC8vIFVzZSBmZXRjaCB3aXRoIGtlZXBhbGl2ZSBmb3IgcmVsaWFibGUgZGVsaXZlcnkgZHVyaW5nIHBhZ2UgdW5sb2FkXG4gICAgICAgIC8vIENhbid0IHVzZSBhd2FpdCBpbiBiZWZvcmV1bmxvYWQgaGFuZGxlciwgc28gdXNlIGR5bmFtaWMgaW1wb3J0IHdpdGggLnRoZW4oKVxuICAgICAgICBpbXBvcnQoJ0AvbGliL3N1cGFiYXNlLWNsaWVudCcpLnRoZW4oKHsgY3JlYXRlQ2xpZW50Q2xpZW50IH0pID0+IHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlQ2xpZW50Q2xpZW50KCk7XG4gICAgICAgIH0pLnRoZW4oYXN5bmMgKHN1cGFiYXNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgICAgICAgaWYgKHNlc3Npb24/LmFjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyczogSGVhZGVyc0luaXQgPSB7XG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Nlc3Npb24uYWNjZXNzX3Rva2VufWAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVc2UgZmV0Y2ggd2l0aCBrZWVwYWxpdmUgZm9yIGJlZm9yZXVubG9hZFxuICAgICAgICAgICAgZmV0Y2goJy9hcGkvYnVzaW5lc3Mvb25ib2FyZGluZy9kZWxldGUtaW5jb21wbGV0ZScsIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICAgICAga2VlcGFsaXZlOiB0cnVlLFxuICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JzIC0gbmV0d29yayBtaWdodCBiZSB1bmF2YWlsYWJsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgLy8gSWdub3JlIGVycm9yc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHZpc2liaWxpdHkgY2hhbmdlICh1c2VyIHN3aXRjaGVzIHRhYnMsIG1pbmltaXplcyB3aW5kb3cpXG4gICAgLy8gT25seSBkZWxldGUgaWYgdXNlciBoYXMgYmVlbiBhd2F5IGZvciBhIHdoaWxlIChub3QganVzdCBhIHF1aWNrIHRhYiBzd2l0Y2gpXG4gICAgbGV0IHZpc2liaWxpdHlUaW1lb3V0OiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICAgIGNvbnN0IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuICYmICFvbmJvYXJkaW5nQ29tcGxldGVkKSB7XG4gICAgICAgIC8vIFdhaXQgMTAgc2Vjb25kcyBiZWZvcmUgZGVsZXRpbmcgKHVzZXIgbWlnaHQgY29tZSBiYWNrKVxuICAgICAgICB2aXNpYmlsaXR5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4gJiYgIWNoZWNrSWZTdGlsbE9uT25ib2FyZGluZygpKSB7XG4gICAgICAgICAgICBkZWxldGVJbmNvbXBsZXRlQnVzaW5lc3MoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVzZXIgY2FtZSBiYWNrLCBjYW5jZWwgZGVsZXRpb25cbiAgICAgICAgaWYgKHZpc2liaWxpdHlUaW1lb3V0KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHZpc2liaWxpdHlUaW1lb3V0KTtcbiAgICAgICAgICB2aXNpYmlsaXR5VGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEhhbmRsZSBwb3BzdGF0ZSAoYnJvd3NlciBiYWNrL2ZvcndhcmQpIC0gb25seSBpZiBsZWF2aW5nIG9uYm9hcmRpbmdcbiAgICBjb25zdCBoYW5kbGVQb3BTdGF0ZSA9ICgpID0+IHtcbiAgICAgIC8vIFNtYWxsIGRlbGF5IHRvIGNoZWNrIGlmIHdlJ3JlIHN0aWxsIG9uIG9uYm9hcmRpbmdcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIW9uYm9hcmRpbmdDb21wbGV0ZWQgJiYgIWNoZWNrSWZTdGlsbE9uT25ib2FyZGluZygpKSB7XG4gICAgICAgICAgZGVsZXRlSW5jb21wbGV0ZUJ1c2luZXNzKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDEwMCk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBoYW5kbGVCZWZvcmVVbmxvYWQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBoYW5kbGVQb3BTdGF0ZSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGhhbmRsZUJlZm9yZVVubG9hZCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBoYW5kbGVQb3BTdGF0ZSk7XG4gICAgICBpZiAodmlzaWJpbGl0eVRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHZpc2liaWxpdHlUaW1lb3V0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbYnVzaW5lc3NDcmVhdGVkLCBvbmJvYXJkaW5nQ29tcGxldGVkXSk7XG5cbiAgY29uc3QgbmF2aWdhdGVUbyA9IChzdGVwOiBPbmJvYXJkaW5nU3RlcElkKSA9PiB7XG4gICAgb25ib2FyZGluZy5zZXRTdGVwKHN0ZXApO1xuICB9O1xuXG4gIGNvbnN0IGdvRm9yd2FyZCA9ICgpID0+IHtcbiAgICBpZiAobmV4dFN0ZXApIHtcbiAgICAgIG9uYm9hcmRpbmcuc2V0U3RlcChuZXh0U3RlcCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdvQmFjayA9ICgpID0+IHtcbiAgICBpZiAocHJldmlvdXNTdGVwKSB7XG4gICAgICBvbmJvYXJkaW5nLnNldFN0ZXAocHJldmlvdXNTdGVwKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIG1ha2UgYXV0aGVudGljYXRlZCBBUEkgY2FsbHNcbiAgY29uc3QgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0ID0gYXN5bmMgKHVybDogc3RyaW5nLCBtZXRob2Q6IHN0cmluZywgYm9keTogYW55KSA9PiB7XG4gICAgY29uc3QgeyBjcmVhdGVDbGllbnRDbGllbnQgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvc3VwYWJhc2UtY2xpZW50Jyk7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDbGllbnQoKTtcbiAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9LCBlcnJvcjogc2Vzc2lvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICBcbiAgICBpZiAoc2Vzc2lvbkVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHNlc3Npb246Jywgc2Vzc2lvbkVycm9yKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgaGVhZGVyczogSGVhZGVyc0luaXQgPSB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH07XG4gICAgXG4gICAgaWYgKHNlc3Npb24/LmFjY2Vzc190b2tlbikge1xuICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3Nlc3Npb24uYWNjZXNzX3Rva2VufWA7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2QsXG4gICAgICBoZWFkZXJzLFxuICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgYEZhaWxlZCB0byBzYXZlIHRvICR7dXJsfWApO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQnVzaW5lc3NOZXh0ID0gYXN5bmMgKHZhbHVlczogUGFyYW1ldGVyczx0eXBlb2Ygb25ib2FyZGluZy5zYXZlQnVzaW5lc3M+WzBdKSA9PiB7XG4gICAgb25ib2FyZGluZy5zYXZlQnVzaW5lc3ModmFsdWVzKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtMS1idXNpbmVzcycsICdQVVQnLCB2YWx1ZXMpO1xuICAgICAgY29uc29sZS5sb2coJ0J1c2luZXNzIHNhdmVkOicsIGRhdGEpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgdGhlIHNhdmUgd29ya2VkIGJ5IGNoZWNraW5nIHRoZSByZXNwb25zZVxuICAgICAgaWYgKCFkYXRhIHx8ICFkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCdXNpbmVzcyBzYXZlIGRpZCBub3QgcmV0dXJuIHN1Y2Nlc3MnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGJ1c2luZXNzOicsIGVycm9yKTtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgaW50ZW50OiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGBGYWlsZWQgdG8gc2F2ZSBidXNpbmVzcyBpbmZvcm1hdGlvbjogJHtlcnJvck1lc3NhZ2V9LiBQbGVhc2UgY2hlY2sgdGhlIGNvbnNvbGUgYW5kIHRyeSBhZ2Fpbi5gXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgb25ib2FyZGluZy5jb21wbGV0ZVN0ZXAoXCJidXNpbmVzc1wiKTtcbiAgICBnb0ZvcndhcmQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVXZWJzaXRlTmV4dCA9IGFzeW5jICh2YWx1ZXM6IFBhcmFtZXRlcnM8dHlwZW9mIG9uYm9hcmRpbmcuc2F2ZVdlYnNpdGU+WzBdKSA9PiB7XG4gICAgY29uc3QgZmFsbGJhY2sgPSBvbmJvYXJkaW5nLmJ1c2luZXNzLmJ1c2luZXNzTmFtZSB8fCBcInlvdXJidXNpbmVzc1wiO1xuICAgIGNvbnN0IGZhbGxiYWNrU2FuaXRpemVkID0gc2FuaXRpemVTdWJkb21haW4oZmFsbGJhY2spO1xuICAgIGxldCBub3JtYWxpemVkU3ViZG9tYWluID0gc2FuaXRpemVTdWJkb21haW4odmFsdWVzLnN1YmRvbWFpbiB8fCBmYWxsYmFja1Nhbml0aXplZCk7XG4gICAgaWYgKG5vcm1hbGl6ZWRTdWJkb21haW4ubGVuZ3RoIDwgMykge1xuICAgICAgbm9ybWFsaXplZFN1YmRvbWFpbiA9IGZhbGxiYWNrU2FuaXRpemVkLmxlbmd0aCA+PSAzID8gZmFsbGJhY2tTYW5pdGl6ZWQgOiBcInlvdXJidXNpbmVzc1wiO1xuICAgIH1cbiAgICBjb25zdCB3ZWJzaXRlRGF0YSA9IHtcbiAgICAgIC4uLnZhbHVlcyxcbiAgICAgIHN1YmRvbWFpbjogbm9ybWFsaXplZFN1YmRvbWFpblxuICAgIH07XG4gICAgXG4gICAgb25ib2FyZGluZy5zYXZlV2Vic2l0ZSh3ZWJzaXRlRGF0YSk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtYWtlQXV0aGVudGljYXRlZFJlcXVlc3QoJy9hcGkvYnVzaW5lc3Mvb25ib2FyZGluZy9zdGVwLTItd2Vic2l0ZScsICdQVVQnLCB3ZWJzaXRlRGF0YSk7XG4gICAgICBjb25zb2xlLmxvZygnV2Vic2l0ZSBzYXZlZDonLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHdlYnNpdGU6JywgZXJyb3IpO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgaW50ZW50OiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gc2F2ZSB3ZWJzaXRlIGluZm9ybWF0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLidcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAodmFsdWVzLnN0YXR1cyA9PT0gXCJyZXNlcnZlZFwiKSB7XG4gICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly8ke25vcm1hbGl6ZWRTdWJkb21haW59Lm1haW4udGxkYDtcbiAgICAgIG9uYm9hcmRpbmcuc2V0Qm9va2luZ1VybCh1cmwpO1xuICAgIH1cbiAgICBvbmJvYXJkaW5nLmNvbXBsZXRlU3RlcChcIndlYnNpdGVcIik7XG4gICAgZ29Gb3J3YXJkKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTG9jYXRpb25OZXh0ID0gYXN5bmMgKHZhbHVlczogUGFyYW1ldGVyczx0eXBlb2Ygb25ib2FyZGluZy5zYXZlTG9jYXRpb24+WzBdKSA9PiB7XG4gICAgb25ib2FyZGluZy5zYXZlTG9jYXRpb24odmFsdWVzKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtMy1sb2NhdGlvbicsICdQVVQnLCB2YWx1ZXMpO1xuICAgICAgY29uc29sZS5sb2coJ0xvY2F0aW9uIHNhdmVkOicsIGRhdGEpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgdGhlIHNhdmUgd29ya2VkXG4gICAgICBpZiAoIWRhdGEgfHwgIWRhdGEuc3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvY2F0aW9uIHNhdmUgZGlkIG5vdCByZXR1cm4gc3VjY2VzcycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgbG9jYXRpb246JywgZXJyb3IpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICBpbnRlbnQ6ICdlcnJvcicsXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogYEZhaWxlZCB0byBzYXZlIGxvY2F0aW9uIGluZm9ybWF0aW9uOiAke2Vycm9yTWVzc2FnZX0uIFBsZWFzZSBjaGVjayB0aGUgY29uc29sZSBhbmQgdHJ5IGFnYWluLmBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBvbmJvYXJkaW5nLmNvbXBsZXRlU3RlcChcImxvY2F0aW9uXCIpO1xuICAgIGdvRm9yd2FyZCgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRlYW1OZXh0ID0gYXN5bmMgKHZhbHVlczogUGFyYW1ldGVyczx0eXBlb2Ygb25ib2FyZGluZy5zYXZlVGVhbT5bMF0pID0+IHtcbiAgICBvbmJvYXJkaW5nLnNhdmVUZWFtKHZhbHVlcyk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEFQSSBleHBlY3RzIHsgc3RhZmY6IFN0YWZmTWVtYmVyW10gfSBub3QganVzdCB0aGUgYXJyYXlcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtYWtlQXV0aGVudGljYXRlZFJlcXVlc3QoJy9hcGkvYnVzaW5lc3Mvb25ib2FyZGluZy9zdGVwLTQtdGVhbScsICdQVVQnLCB7IHN0YWZmOiB2YWx1ZXMgfSk7XG4gICAgICBjb25zb2xlLmxvZygnVGVhbSBzYXZlZDonLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHRlYW06JywgZXJyb3IpO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgaW50ZW50OiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gc2F2ZSB0ZWFtIGluZm9ybWF0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLidcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBvbmJvYXJkaW5nLmNvbXBsZXRlU3RlcChcInRlYW1cIik7XG4gICAgZ29Gb3J3YXJkKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQnJhbmRpbmdOZXh0ID0gYXN5bmMgKHZhbHVlczogUGFyYW1ldGVyczx0eXBlb2Ygb25ib2FyZGluZy5zYXZlQnJhbmRpbmc+WzBdKSA9PiB7XG4gICAgb25ib2FyZGluZy5zYXZlQnJhbmRpbmcodmFsdWVzKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtNS1icmFuZGluZycsICdQVVQnLCB2YWx1ZXMpO1xuICAgICAgY29uc29sZS5sb2coJ0JyYW5kaW5nIHNhdmVkOicsIGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYnJhbmRpbmc6JywgZXJyb3IpO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgaW50ZW50OiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gc2F2ZSBicmFuZGluZyBpbmZvcm1hdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgb25ib2FyZGluZy5jb21wbGV0ZVN0ZXAoXCJicmFuZGluZ1wiKTtcbiAgICBnb0ZvcndhcmQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZXJ2aWNlc05leHQgPSBhc3luYyAodmFsdWVzOiBQYXJhbWV0ZXJzPHR5cGVvZiBvbmJvYXJkaW5nLnNhdmVTZXJ2aWNlcz5bMF0pID0+IHtcbiAgICBvbmJvYXJkaW5nLnNhdmVTZXJ2aWNlcyh2YWx1ZXMpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBBUEkgZXhwZWN0cyB7IGNhdGVnb3JpZXM6IC4uLiB9IG5vdCBqdXN0IHRoZSBhcnJheVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtNi1zZXJ2aWNlcycsICdQVVQnLCB7IGNhdGVnb3JpZXM6IHZhbHVlcyB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlcyBzYXZlZDonLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHNlcnZpY2VzOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIGludGVudDogJ2Vycm9yJyxcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRmFpbGVkIHRvIHNhdmUgc2VydmljZXMgaW5mb3JtYXRpb24uIFBsZWFzZSB0cnkgYWdhaW4uJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIG9uYm9hcmRpbmcuY29tcGxldGVTdGVwKFwic2VydmljZXNcIik7XG4gICAgZ29Gb3J3YXJkKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQXZhaWxhYmlsaXR5TmV4dCA9IGFzeW5jICh2YWx1ZXM6IFBhcmFtZXRlcnM8dHlwZW9mIG9uYm9hcmRpbmcuc2F2ZUF2YWlsYWJpbGl0eT5bMF0pID0+IHtcbiAgICBvbmJvYXJkaW5nLnNhdmVBdmFpbGFiaWxpdHkodmFsdWVzKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gQVBJIGV4cGVjdHMgeyBhdmFpbGFiaWxpdHk6IC4uLiB9IG5vdCBqdXN0IHRoZSBhcnJheVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtNy1hdmFpbGFiaWxpdHknLCAnUFVUJywgeyBhdmFpbGFiaWxpdHk6IHZhbHVlcyB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdBdmFpbGFiaWxpdHkgc2F2ZWQ6JywgZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBhdmFpbGFiaWxpdHk6JywgZXJyb3IpO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgaW50ZW50OiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gc2F2ZSBhdmFpbGFiaWxpdHkgaW5mb3JtYXRpb24uIFBsZWFzZSB0cnkgYWdhaW4uJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIG9uYm9hcmRpbmcuY29tcGxldGVTdGVwKFwiYXZhaWxhYmlsaXR5XCIpO1xuICAgIGdvRm9yd2FyZCgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU5vdGlmaWNhdGlvbnNOZXh0ID0gYXN5bmMgKHRlbXBsYXRlczogTm90aWZpY2F0aW9uVGVtcGxhdGVbXSwgZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgIG9uYm9hcmRpbmcuc2F2ZU5vdGlmaWNhdGlvbnMoeyB0ZW1wbGF0ZXMsIGVuYWJsZWQgfSk7XG4gICAgXG4gICAgLy8gTG9nIHdoYXQgd2UncmUgc2VuZGluZyB0byBlbnN1cmUgaXQncyBjb3JyZWN0XG4gICAgY29uc29sZS5sb2coJ1tvbmJvYXJkaW5nXSBTZW5kaW5nIG5vdGlmaWNhdGlvbnNfZW5hYmxlZCB0byBBUEk6Jywge1xuICAgICAgZW5hYmxlZCxcbiAgICAgIGVuYWJsZWRUeXBlOiB0eXBlb2YgZW5hYmxlZCxcbiAgICAgIHBsYW5UeXBlOiBlbmFibGVkID09PSBmYWxzZSA/ICdCYXNpYyAoJDExLjk5L21vbnRoKScgOiAnUHJvICgkMjEuOTkvbW9udGgpJyxcbiAgICAgIHRlbXBsYXRlc0NvdW50OiB0ZW1wbGF0ZXMubGVuZ3RoLFxuICAgIH0pO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC04LW5vdGlmaWNhdGlvbnMnLCAnUFVUJywge1xuICAgICAgICB0ZW1wbGF0ZXMsXG4gICAgICAgIG5vdGlmaWNhdGlvbnNfZW5hYmxlZDogZW5hYmxlZCwgLy8gRXhwbGljaXRseSBzZW5kIHRoZSBib29sZWFuIHZhbHVlXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdbb25ib2FyZGluZ10gTm90aWZpY2F0aW9ucyBzYXZlZCwgQVBJIHJlc3BvbnNlOicsIHtcbiAgICAgICAgc3VjY2VzczogZGF0YS5zdWNjZXNzLFxuICAgICAgICBub3RpZmljYXRpb25zX2VuYWJsZWQ6IGRhdGEubm90aWZpY2F0aW9uc19lbmFibGVkLFxuICAgICAgICBwbGFuX3R5cGU6IGRhdGEucGxhbl90eXBlLFxuICAgICAgICBwbGFuX3ByaWNlOiBkYXRhLnBsYW5fcHJpY2UsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIG5vdGlmaWNhdGlvbnM6JywgZXJyb3IpO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgaW50ZW50OiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gc2F2ZSBub3RpZmljYXRpb25zLiBQbGVhc2UgdHJ5IGFnYWluLidcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBvbmJvYXJkaW5nLmNvbXBsZXRlU3RlcChcIm5vdGlmaWNhdGlvbnNcIik7XG4gICAgZ29Gb3J3YXJkKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUG9saWNpZXNOZXh0ID0gYXN5bmMgKHZhbHVlczogUGFyYW1ldGVyczx0eXBlb2Ygb25ib2FyZGluZy5zYXZlUG9saWNpZXM+WzBdKSA9PiB7XG4gICAgb25ib2FyZGluZy5zYXZlUG9saWNpZXModmFsdWVzKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtOS1wb2xpY2llcycsICdQVVQnLCB2YWx1ZXMpO1xuICAgICAgY29uc29sZS5sb2coJ1BvbGljaWVzIHNhdmVkOicsIGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcG9saWNpZXM6JywgZXJyb3IpO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgaW50ZW50OiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gc2F2ZSBwb2xpY2llcy4gUGxlYXNlIHRyeSBhZ2Fpbi4nXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgb25ib2FyZGluZy5jb21wbGV0ZVN0ZXAoXCJwb2xpY2llc1wiKTtcbiAgICBnb0ZvcndhcmQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVHaWZ0Q2FyZHNOZXh0ID0gYXN5bmMgKHZhbHVlczogUGFyYW1ldGVyczx0eXBlb2Ygb25ib2FyZGluZy5zYXZlR2lmdENhcmRzPlswXSkgPT4ge1xuICAgIG9uYm9hcmRpbmcuc2F2ZUdpZnRDYXJkcyh2YWx1ZXMpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgbWFrZUF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC0xMC1naWZ0LWNhcmRzJywgJ1BVVCcsIHZhbHVlcyk7XG4gICAgICBjb25zb2xlLmxvZygnR2lmdCBjYXJkcyBzYXZlZDonLCBkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGdpZnQgY2FyZHM6JywgZXJyb3IpO1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgaW50ZW50OiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gc2F2ZSBnaWZ0IGNhcmRzIGluZm9ybWF0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLidcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBvbmJvYXJkaW5nLmNvbXBsZXRlU3RlcChcImdpZnRDYXJkc1wiKTtcbiAgICBnb0ZvcndhcmQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQYXltZW50TmV4dCA9IGFzeW5jICh2YWx1ZXM6IFBhcmFtZXRlcnM8dHlwZW9mIG9uYm9hcmRpbmcuc2F2ZVBheW1lbnRTZXR1cD5bMF0pID0+IHtcbiAgICBvbmJvYXJkaW5nLnNhdmVQYXltZW50U2V0dXAodmFsdWVzKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCgnL2FwaS9idXNpbmVzcy9vbmJvYXJkaW5nL3N0ZXAtMTEtcGF5bWVudC1zZXR1cCcsICdQVVQnLCB2YWx1ZXMpO1xuICAgICAgY29uc29sZS5sb2coJ1BheW1lbnQgc2V0dXAgc2F2ZWQ6JywgZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBwYXltZW50IHNldHVwOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIGludGVudDogJ2Vycm9yJyxcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRmFpbGVkIHRvIHNhdmUgcGF5bWVudCBzZXR1cC4gUGxlYXNlIHRyeSBhZ2Fpbi4nXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgb25ib2FyZGluZy5jb21wbGV0ZVN0ZXAoXCJwYXltZW50U2V0dXBcIik7XG4gICAgZ29Gb3J3YXJkKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3RhcnRUcmlhbCA9ICgpID0+IHtcbiAgICBjb25zdCB0cmlhbEVuZHMgPSBuZXcgRGF0ZSgpO1xuICAgIHRyaWFsRW5kcy5zZXREYXRlKHRyaWFsRW5kcy5nZXREYXRlKCkgKyA3KTtcbiAgICBvbmJvYXJkaW5nLnNhdmVQYXltZW50U2V0dXAoe1xuICAgICAgLi4ub25ib2FyZGluZy5wYXltZW50U2V0dXAsXG4gICAgICBzdWJzY3JpcHRpb25TdGF0dXM6IFwidHJpYWxcIixcbiAgICAgIHRyaWFsRW5kc0F0OiB0cmlhbEVuZHMudG9JU09TdHJpbmcoKSxcbiAgICAgIG5leHRCaWxsRGF0ZTogdHJpYWxFbmRzLnRvSVNPU3RyaW5nKClcbiAgICB9KTtcbiAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgdGl0bGU6IFwiVHJpYWwgYWN0aXZhdGVkXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJCaWxsaW5nIGlzIGRlZmVycmVkIGJ5IHNldmVuIGRheXMuIENhbmNlbCBiZWZvcmUgdGhlIGJpbGwgZGF0ZSB0byBhdm9pZCBjaGFyZ2VzLlwiLFxuICAgICAgaW50ZW50OiBcImluZm9cIlxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUxhdW5jaCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gQ2FsbCB0aGUgYmFja2VuZCBBUEkgdG8gZmluYWxpemUgb25ib2FyZGluZyB1c2luZyBhdXRoZW50aWNhdGVkIHJlcXVlc3RcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtYWtlQXV0aGVudGljYXRlZFJlcXVlc3QoJy9hcGkvYnVzaW5lc3Mvb25ib2FyZGluZy9jb21wbGV0ZScsICdQT1NUJywge30pO1xuICAgICAgXG4gICAgICAvLyBNYXJrIG9uYm9hcmRpbmcgYXMgY29tcGxldGVkIHRvIHByZXZlbnQgY2xlYW51cFxuICAgICAgc2V0T25ib2FyZGluZ0NvbXBsZXRlZCh0cnVlKTtcbiAgICAgIFxuICAgICAgb25ib2FyZGluZy5jb21wbGV0ZVN0ZXAoXCJnb0xpdmVcIik7XG4gICAgICBvbmJvYXJkaW5nLnNldE9uYm9hcmRpbmdDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICBjb25zdCBidXNpbmVzcyA9IG9uYm9hcmRpbmcuZ2VuZXJhdGVCdXNpbmVzc0Zyb21TdGF0ZSgpO1xuICAgICAgYnVzaW5lc3NTdG9yZS5jbGVhckJ1c2luZXNzKCk7XG4gICAgICBidXNpbmVzc1N0b3JlLmNyZWF0ZUJ1c2luZXNzKGJ1c2luZXNzKTtcbiAgICAgIGJ1c2luZXNzU3RvcmUuYm9vdHN0cmFwV29ya3NwYWNlKHtcbiAgICAgICAgYnVzaW5lc3M6IG9uYm9hcmRpbmcuYnVzaW5lc3MsXG4gICAgICAgIHdlYnNpdGU6IG9uYm9hcmRpbmcud2Vic2l0ZSxcbiAgICAgICAgbG9jYXRpb246IG9uYm9hcmRpbmcubG9jYXRpb24sXG4gICAgICAgIGJyYW5kaW5nOiBvbmJvYXJkaW5nLmJyYW5kaW5nLFxuICAgICAgICB0ZWFtOiBvbmJvYXJkaW5nLnRlYW0sXG4gICAgICAgIGNhdGVnb3JpZXM6IG9uYm9hcmRpbmcuc2VydmljZXMsXG4gICAgICAgIGF2YWlsYWJpbGl0eTogb25ib2FyZGluZy5hdmFpbGFiaWxpdHksXG4gICAgICAgIG5vdGlmaWNhdGlvbnM6IG9uYm9hcmRpbmcubm90aWZpY2F0aW9ucyxcbiAgICAgICAgcG9saWNpZXM6IG9uYm9hcmRpbmcucG9saWNpZXMsXG4gICAgICAgIGdpZnRDYXJkczogb25ib2FyZGluZy5naWZ0Q2FyZHMsXG4gICAgICAgIHBheW1lbnQ6IG9uYm9hcmRpbmcucGF5bWVudFNldHVwXG4gICAgICB9KTtcbiAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkJ1c2luZXNzIGxhdW5jaGVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgJHtidXNpbmVzcy5uYW1lfSBpcyBsaXZlIHdpdGggbWFudWFsIGNhcHR1cmUgZW5hYmxlZC5gLFxuICAgICAgICBpbnRlbnQ6IFwic3VjY2Vzc1wiXG4gICAgICB9KTtcbiAgICAgIHJvdXRlci5wdXNoKGAvYXBwL2IvJHtidXNpbmVzcy5zbHVnfWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsYXVuY2hpbmcgYnVzaW5lc3M6JywgZXJyb3IpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZmluYWxpemluZyBvbmJvYXJkaW5nLic7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJGYWlsZWQgdG8gbGF1bmNoIGJ1c2luZXNzXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIGludGVudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3RlcHNNZXRhID0gdXNlTWVtbyhcbiAgICAoKSA9PiBbXG4gICAgICB7IGlkOiBcImJ1c2luZXNzXCIsIHRpdGxlOiBcIkJ1c2luZXNzXCIsIHN1YnRpdGxlOiBcIklkZW50aXR5ICYgZGVzY3JpcHRpb25cIiB9LFxuICAgICAgeyBpZDogXCJ3ZWJzaXRlXCIsIHRpdGxlOiBcIldlYnNpdGVcIiwgc3VidGl0bGU6IFwiQ2xhaW0geW91ciBzdWJkb21haW5cIiB9LFxuICAgICAgeyBpZDogXCJsb2NhdGlvblwiLCB0aXRsZTogXCJMb2NhdGlvbiAmIGNvbnRhY3RzXCIsIHN1YnRpdGxlOiBcIlRpbWV6b25lICsgYWRkcmVzc1wiIH0sXG4gICAgICB7IGlkOiBcInRlYW1cIiwgdGl0bGU6IFwiVGVhbVwiLCBzdWJ0aXRsZTogXCJTY2hlZHVsaW5nLW9ubHkgc3RhZmZcIiB9LFxuICAgICAgeyBpZDogXCJicmFuZGluZ1wiLCB0aXRsZTogXCJCcmFuZGluZ1wiLCBzdWJ0aXRsZTogXCJMb2dvICsgdGhlbWVcIiB9LFxuICAgICAgeyBpZDogXCJzZXJ2aWNlc1wiLCB0aXRsZTogXCJTZXJ2aWNlcyAmIGNhdGVnb3JpZXNcIiwgc3VidGl0bGU6IFwiQ2F0YWxvZyBzdHJ1Y3R1cmVcIiB9LFxuICAgICAgeyBpZDogXCJhdmFpbGFiaWxpdHlcIiwgdGl0bGU6IFwiQXZhaWxhYmlsaXR5XCIsIHN1YnRpdGxlOiBcIlNsb3RzIHBlciBzdGFmZlwiIH0sXG4gICAgICAvLyBBbHdheXMgaW5jbHVkZSBub3RpZmljYXRpb25zIHN0ZXAgKHNob3dzIFwiQ29taW5nIFNvb25cIiB3aGVuIGRpc2FibGVkKVxuICAgICAgeyBpZDogXCJub3RpZmljYXRpb25zXCIgYXMgY29uc3QsIHRpdGxlOiBcIk5vdGlmaWNhdGlvbnNcIiwgc3VidGl0bGU6IGlzTm90aWZpY2F0aW9uc0VuYWJsZWQoKSA/IFwiVGVtcGxhdGVzICsgcGxhY2Vob2xkZXJzXCIgOiBcIkNvbWluZyBzb29uXCIgfSxcbiAgICAgIHsgaWQ6IFwicG9saWNpZXNcIiwgdGl0bGU6IFwiUG9saWNpZXNcIiwgc3VidGl0bGU6IFwiRmVlcyAmIGxlZ2FsIGNvcHlcIiB9LFxuICAgICAgeyBpZDogXCJnaWZ0Q2FyZHNcIiwgdGl0bGU6IFwiR2lmdCBjYXJkc1wiLCBzdWJ0aXRsZTogXCJPcHRpb25hbCBwcm9tb3NcIiB9LFxuICAgICAgeyBpZDogXCJwYXltZW50U2V0dXBcIiwgdGl0bGU6IFwiUGF5bWVudCBzZXR1cFwiLCBzdWJ0aXRsZTogXCJTdHJpcGUgQ29ubmVjdCArIHN1YnNjcmlwdGlvblwiIH0sXG4gICAgICB7IGlkOiBcImdvTGl2ZVwiLCB0aXRsZTogXCJHbyBsaXZlXCIsIHN1YnRpdGxlOiBcIkxhdW5jaCAmIGNvbmZldHRpXCIgfVxuICAgIF0sXG4gICAgW11cbiAgKTtcblxuICBsZXQgY29udGVudDogUmVhY3QuUmVhY3ROb2RlID0gbnVsbDtcbiAgc3dpdGNoIChvbmJvYXJkaW5nLmN1cnJlbnRTdGVwKSB7XG4gICAgY2FzZSBcImJ1c2luZXNzXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8QnVzaW5lc3NTdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5idXNpbmVzc31cbiAgICAgICAgICBvbk5leHQ9e2hhbmRsZUJ1c2luZXNzTmV4dH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwid2Vic2l0ZVwiOlxuICAgICAgY29udGVudCA9IChcbiAgICAgICAgPFdlYnNpdGVTdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy53ZWJzaXRlfVxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlV2Vic2l0ZU5leHR9XG4gICAgICAgICAgb25CYWNrPXtnb0JhY2t9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxvY2F0aW9uXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8TG9jYXRpb25TdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5sb2NhdGlvbn1cbiAgICAgICAgICBvbk5leHQ9e2hhbmRsZUxvY2F0aW9uTmV4dH1cbiAgICAgICAgICBvbkJhY2s9e2dvQmFja31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwidGVhbVwiOlxuICAgICAgY29udGVudCA9IChcbiAgICAgICAgPFRlYW1TdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy50ZWFtfVxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlVGVhbU5leHR9XG4gICAgICAgICAgb25CYWNrPXtnb0JhY2t9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImJyYW5kaW5nXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8QnJhbmRpbmdTdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5icmFuZGluZ31cbiAgICAgICAgICBidXNpbmVzcz17b25ib2FyZGluZy5idXNpbmVzc31cbiAgICAgICAgICBjYXRlZ29yaWVzPXtvbmJvYXJkaW5nLnNlcnZpY2VzfVxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlQnJhbmRpbmdOZXh0fVxuICAgICAgICAgIG9uQmFjaz17Z29CYWNrfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJzZXJ2aWNlc1wiOlxuICAgICAgY29udGVudCA9IChcbiAgICAgICAgPFNlcnZpY2VzU3RlcFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZXM9e29uYm9hcmRpbmcuc2VydmljZXN9XG4gICAgICAgICAgc3RhZmY9e29uYm9hcmRpbmcudGVhbX1cbiAgICAgICAgICBvbk5leHQ9e2hhbmRsZVNlcnZpY2VzTmV4dH1cbiAgICAgICAgICBvbkJhY2s9e2dvQmFja31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYXZhaWxhYmlsaXR5XCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8QXZhaWxhYmlsaXR5U3RlcFxuICAgICAgICAgIHNlcnZpY2VzPXtvbmJvYXJkaW5nLnNlcnZpY2VzfVxuICAgICAgICAgIHN0YWZmPXtvbmJvYXJkaW5nLnRlYW19XG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5hdmFpbGFiaWxpdHl9XG4gICAgICAgICAgdGltZXpvbmU9e29uYm9hcmRpbmcubG9jYXRpb24/LnRpbWV6b25lIHx8IFwiQW1lcmljYS9OZXdfWW9ya1wifVxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlQXZhaWxhYmlsaXR5TmV4dH1cbiAgICAgICAgICBvbkJhY2s9e2dvQmFja31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibm90aWZpY2F0aW9uc1wiOlxuICAgICAgLy8gSWYgbm90aWZpY2F0aW9ucyBmZWF0dXJlIGlzIGRpc2FibGVkLCBzaG93IGNvbWluZyBzb29uIG1lc3NhZ2VcbiAgICAgIGlmICghaXNOb3RpZmljYXRpb25zRW5hYmxlZCgpKSB7XG4gICAgICAgIGNvbnRlbnQgPSAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LThcIj5cbiAgICAgICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1wcmltYXJ5LzMwIGJnLXByaW1hcnkvMTAgcHgtNCBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXByaW1hcnkvOTBcIj5cbiAgICAgICAgICAgICAgICBTdGVwIDggwrcgTm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJmb250LWRpc3BsYXkgdGV4dC0zeGwgdGV4dC13aGl0ZVwiPkNvbWluZyBTb29uPC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWF4LXctM3hsIHRleHQtYmFzZSB0ZXh0LXdoaXRlLzcwXCI+XG4gICAgICAgICAgICAgICAgRW1haWwgYW5kIFNNUyBub3RpZmljYXRpb25zIGFyZSBjb21pbmcgc29vbiEgRm9yIG5vdywgeW91ciBib29raW5nIHN5c3RlbSB3aWxsIHdvcmsgcGVyZmVjdGx5IHdpdGhvdXQgYXV0b21hdGVkIG5vdGlmaWNhdGlvbnMuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvaGVhZGVyPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXByaW1hcnkvMzAgYmctcHJpbWFyeS8xMCBwLTggdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIGZsZXggaC0xNiB3LTE2IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXByaW1hcnkvNTAgYmctcHJpbWFyeS8xMCBtYi00XCI+XG4gICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlMiBjbGFzc05hbWU9XCJoLTggdy04IHRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPk5vdGlmaWNhdGlvbnMgRmVhdHVyZSBDb21pbmcgU29vbjwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICAgICAgICBXZSdyZSB3b3JraW5nIG9uIGJyaW5naW5nIHlvdSBhdXRvbWF0ZWQgZW1haWwgYW5kIFNNUyBub3RpZmljYXRpb25zLiBcbiAgICAgICAgICAgICAgICBZb3VyIGJvb2tpbmcgc3lzdGVtIGlzIGZ1bGx5IGZ1bmN0aW9uYWwgLSBjdXN0b21lcnMgY2FuIGJvb2sgYXBwb2ludG1lbnRzIGFuZCB5b3UgY2FuIG1hbmFnZSB0aGVtIGluIHRoZSBhZG1pbi5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0zXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtnb0JhY2t9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTUgYmctd2hpdGUvNSBweC02IHB5LTMgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgdHJhbnNpdGlvbiBob3Zlcjpib3JkZXItd2hpdGUvMjUgaG92ZXI6Ymctd2hpdGUvMTBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQmFja1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIFNhdmUgQmFzaWMgUGxhbiAobm90aWZpY2F0aW9ucyBkaXNhYmxlZCkgYW5kIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICBhd2FpdCBoYW5kbGVOb3RpZmljYXRpb25zTmV4dChbXSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItcHJpbWFyeS81MCBiZy1wcmltYXJ5LzEwIHB4LTYgcHktMyB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSB0cmFuc2l0aW9uIGhvdmVyOmJvcmRlci1wcmltYXJ5LzcwIGhvdmVyOmJnLXByaW1hcnkvMTVcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ29udGludWVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnQgPSAoXG4gICAgICAgICAgPE5vdGlmaWNhdGlvbnNTdGVwXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWVzPXtvbmJvYXJkaW5nLm5vdGlmaWNhdGlvbnN9XG4gICAgICAgICAgICBub3RpZmljYXRpb25zRW5hYmxlZD17b25ib2FyZGluZy5ub3RpZmljYXRpb25zRW5hYmxlZH1cbiAgICAgICAgICAgIG9uTmV4dD17aGFuZGxlTm90aWZpY2F0aW9uc05leHR9XG4gICAgICAgICAgICBvbkJhY2s9e2dvQmFja31cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInBvbGljaWVzXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8UG9saWNpZXNTdGVwXG4gICAgICAgICAgZGVmYXVsdFZhbHVlcz17b25ib2FyZGluZy5wb2xpY2llc31cbiAgICAgICAgICBvbk5leHQ9e2hhbmRsZVBvbGljaWVzTmV4dH1cbiAgICAgICAgICBvbkJhY2s9e2dvQmFja31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZ2lmdENhcmRzXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8R2lmdENhcmRzU3RlcFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZXM9e29uYm9hcmRpbmcuZ2lmdENhcmRzfVxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlR2lmdENhcmRzTmV4dH1cbiAgICAgICAgICBvbkJhY2s9e2dvQmFja31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwicGF5bWVudFNldHVwXCI6XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8UGF5bWVudFNldHVwU3RlcFxuICAgICAgICAgIGRlZmF1bHRWYWx1ZXM9e29uYm9hcmRpbmcucGF5bWVudFNldHVwfVxuICAgICAgICAgIGJ1c2luZXNzPXtvbmJvYXJkaW5nLmJ1c2luZXNzfVxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlUGF5bWVudE5leHR9XG4gICAgICAgICAgb25CYWNrPXtnb0JhY2t9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImdvTGl2ZVwiOlxuICAgICAgY29udGVudCA9IChcbiAgICAgICAgPEdvTGl2ZVN0ZXBcbiAgICAgICAgICBidXNpbmVzcz17b25ib2FyZGluZy5idXNpbmVzc31cbiAgICAgICAgICBsb2NhdGlvbj17b25ib2FyZGluZy5sb2NhdGlvbn1cbiAgICAgICAgICBzdGFmZj17b25ib2FyZGluZy50ZWFtfVxuICAgICAgICAgIGNhdGVnb3JpZXM9e29uYm9hcmRpbmcuc2VydmljZXN9XG4gICAgICAgICAgYm9va2luZ1VybD17XG4gICAgICAgICAgICBvbmJvYXJkaW5nLmJvb2tpbmdVcmwgPz9cbiAgICAgICAgICAgIGBodHRwczovLyR7c2FuaXRpemVTdWJkb21haW4ob25ib2FyZGluZy53ZWJzaXRlLnN1YmRvbWFpbiB8fCBvbmJvYXJkaW5nLmJ1c2luZXNzLmJ1c2luZXNzTmFtZSB8fCBcInlvdXJidXNpbmVzc1wiKX0ubWFpbi50bGRgXG4gICAgICAgICAgfVxuICAgICAgICAgIHByZXZpZXdVcmw9e2AvcHVibGljLyR7c2FuaXRpemVTdWJkb21haW4oXG4gICAgICAgICAgICBvbmJvYXJkaW5nLndlYnNpdGUuc3ViZG9tYWluIHx8IG9uYm9hcmRpbmcuYnVzaW5lc3MuYnVzaW5lc3NOYW1lIHx8IFwieW91cmJ1c2luZXNzXCJcbiAgICAgICAgICApfWB9XG4gICAgICAgICAgcG9saWNpZXM9e29uYm9hcmRpbmcucG9saWNpZXN9XG4gICAgICAgICAgcGF5bWVudD17b25ib2FyZGluZy5wYXltZW50U2V0dXB9XG4gICAgICAgICAgb25MYXVuY2g9e2hhbmRsZUxhdW5jaH1cbiAgICAgICAgICBvblN0YXJ0VHJpYWw9e2hhbmRsZVN0YXJ0VHJpYWx9XG4gICAgICAgICAgb25CYWNrPXtnb0JhY2t9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnRlbnQgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8T25ib2FyZGluZ1NoZWxsXG4gICAgICBzdGVwcz17c3RlcHNNZXRhfVxuICAgICAgY3VycmVudFN0ZXA9e29uYm9hcmRpbmcuY3VycmVudFN0ZXB9XG4gICAgICBjb21wbGV0ZWRTdGVwcz17b25ib2FyZGluZy5jb21wbGV0ZWRTdGVwc31cbiAgICAgIG9uTmF2aWdhdGU9e25hdmlnYXRlVG99XG4gICAgPlxuICAgICAge2NvbnRlbnR9XG4gICAgPC9PbmJvYXJkaW5nU2hlbGw+XG4gICk7XG59XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwiUmVhY3QiLCJ1c2VSb3V0ZXIiLCJDaGVja0NpcmNsZTIiLCJPbmJvYXJkaW5nU2hlbGwiLCJCdXNpbmVzc1N0ZXAiLCJXZWJzaXRlU3RlcCIsIkxvY2F0aW9uU3RlcCIsIlRlYW1TdGVwIiwiQnJhbmRpbmdTdGVwIiwiU2VydmljZXNTdGVwIiwiQXZhaWxhYmlsaXR5U3RlcCIsIk5vdGlmaWNhdGlvbnNTdGVwIiwiUG9saWNpZXNTdGVwIiwiR2lmdENhcmRzU3RlcCIsIlBheW1lbnRTZXR1cFN0ZXAiLCJHb0xpdmVTdGVwIiwidXNlVG9hc3QiLCJ1c2VPbmJvYXJkaW5nIiwidXNlRmFrZUJ1c2luZXNzIiwidXNlRmFrZVNlc3Npb24iLCJsb2FkT25ib2FyZGluZ0RhdGFGcm9tQmFja2VuZCIsInNhbml0aXplU3ViZG9tYWluIiwidmFsdWUiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJyZXBsYWNlIiwic2xpY2UiLCJpc05vdGlmaWNhdGlvbnNFbmFibGVkIiwiQkFTRV9TVEVQUyIsIlNURVBfU0VRVUVOQ0UiLCJPbmJvYXJkaW5nUGFnZSIsInJvdXRlciIsInRvYXN0Iiwic2Vzc2lvbiIsImJ1c2luZXNzU3RvcmUiLCJvbmJvYXJkaW5nIiwic3VwYWJhc2VTZXNzaW9uIiwic2V0U3VwYWJhc2VTZXNzaW9uIiwidXNlU3RhdGUiLCJpc0NoZWNraW5nU2Vzc2lvbiIsInNldElzQ2hlY2tpbmdTZXNzaW9uIiwiYnVzaW5lc3NDcmVhdGVkIiwic2V0QnVzaW5lc3NDcmVhdGVkIiwib25ib2FyZGluZ0NvbXBsZXRlZCIsInNldE9uYm9hcmRpbmdDb21wbGV0ZWQiLCJjdXJyZW50SW5kZXgiLCJmaW5kSW5kZXgiLCJzdGVwIiwiY3VycmVudFN0ZXAiLCJwcmV2aW91c1N0ZXAiLCJ1bmRlZmluZWQiLCJuZXh0U3RlcCIsImxlbmd0aCIsImVuc3VyZUJ1c2luZXNzRXhpc3RzIiwiYWNjZXNzVG9rZW4iLCJoZWFkZXJzIiwiY2hlY2tSZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiY3JlZGVudGlhbHMiLCJvayIsImJ1c2luZXNzRGF0YSIsImpzb24iLCJidXNpbmVzcyIsImlkIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZVJlc3BvbnNlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJidXNpbmVzc05hbWUiLCJkZXNjcmlwdGlvbiIsImRvaW5nQnVzaW5lc3NBcyIsImxlZ2FsTmFtZSIsImluZHVzdHJ5IiwicmVzdWx0IiwiYnVzaW5lc3NJZCIsImVycm9yIiwidGV4dCIsImNoZWNrU3VwYWJhc2VTZXNzaW9uIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJpc05ld1NpZ251cCIsImdldCIsImNyZWF0ZUNsaWVudENsaWVudCIsInN1cGFiYXNlIiwiZGF0YSIsInN1cGFiYXNlU2Vzc2lvbkRhdGEiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImlzQXV0aGVudGljYXRlZCIsInVzZXIiLCJsb2dpbiIsIm5hbWUiLCJ1c2VyX21ldGFkYXRhIiwiZnVsbF9uYW1lIiwiZW1haWwiLCJzcGxpdCIsInBob25lIiwiYWNjZXNzX3Rva2VuIiwiYWNjb3VudElkIiwiYnVzaW5lc3NSZXNwb25zZSIsInNhdmVCdXNpbmVzcyIsImRiYV9uYW1lIiwibGVnYWxfbmFtZSIsInNldFN0ZXAiLCJyZXN0b3JlQWxsT25ib2FyZGluZ0RhdGEiLCJ3ZWJzaXRlIiwic2F2ZVdlYnNpdGUiLCJzYXZlTG9jYXRpb24iLCJ0ZWFtIiwic2F2ZVRlYW0iLCJicmFuZGluZyIsInNhdmVCcmFuZGluZyIsInNlcnZpY2VzIiwic2F2ZVNlcnZpY2VzIiwiYXZhaWxhYmlsaXR5Iiwic2F2ZUF2YWlsYWJpbGl0eSIsIm5vdGlmaWNhdGlvbnMiLCJzYXZlTm90aWZpY2F0aW9ucyIsInRlbXBsYXRlcyIsImVuYWJsZWQiLCJwb2xpY2llcyIsInNhdmVQb2xpY2llcyIsImdpZnRDYXJkcyIsInNhdmVHaWZ0Q2FyZHMiLCJwYXltZW50U2V0dXAiLCJzYXZlUGF5bWVudFNldHVwIiwiY29tcGxldGVkU3RlcHMiLCJwdXNoIiwic3ViZG9tYWluIiwic3RyZWV0IiwiY2l0eSIsInByaW1hcnlDb2xvciIsImZvckVhY2giLCJjb21wbGV0ZVN0ZXAiLCJzZXRUaW1lb3V0IiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInBhdGhuYW1lIiwiY2hlY2tJZkJ1c2luZXNzSXNMYXVuY2hlZCIsImN1cnJlbnRTZXNzaW9uIiwiaXNMYXVuY2hlZCIsInN1YnNjcmlwdGlvbl9zdGF0dXMiLCJzdGFydHNXaXRoIiwidGltZXpvbmUiLCJzdXBwb3J0X2VtYWlsIiwiY2hlY2tJZlN0aWxsT25PbmJvYXJkaW5nIiwiZGVsZXRlSW5jb21wbGV0ZUJ1c2luZXNzIiwicmVzcG9uc2UiLCJrZWVwYWxpdmUiLCJoYW5kbGVCZWZvcmVVbmxvYWQiLCJlIiwidGhlbiIsImNhdGNoIiwidmlzaWJpbGl0eVRpbWVvdXQiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwiZG9jdW1lbnQiLCJoaWRkZW4iLCJjbGVhclRpbWVvdXQiLCJoYW5kbGVQb3BTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibmF2aWdhdGVUbyIsImdvRm9yd2FyZCIsImdvQmFjayIsIm1ha2VBdXRoZW50aWNhdGVkUmVxdWVzdCIsInVybCIsInNlc3Npb25FcnJvciIsIkVycm9yIiwiaGFuZGxlQnVzaW5lc3NOZXh0IiwidmFsdWVzIiwic3VjY2VzcyIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJwdXNoVG9hc3QiLCJpbnRlbnQiLCJ0aXRsZSIsImhhbmRsZVdlYnNpdGVOZXh0IiwiZmFsbGJhY2siLCJmYWxsYmFja1Nhbml0aXplZCIsIm5vcm1hbGl6ZWRTdWJkb21haW4iLCJ3ZWJzaXRlRGF0YSIsInN0YXR1cyIsInNldEJvb2tpbmdVcmwiLCJoYW5kbGVMb2NhdGlvbk5leHQiLCJoYW5kbGVUZWFtTmV4dCIsInN0YWZmIiwiaGFuZGxlQnJhbmRpbmdOZXh0IiwiaGFuZGxlU2VydmljZXNOZXh0IiwiY2F0ZWdvcmllcyIsImhhbmRsZUF2YWlsYWJpbGl0eU5leHQiLCJoYW5kbGVOb3RpZmljYXRpb25zTmV4dCIsImVuYWJsZWRUeXBlIiwicGxhblR5cGUiLCJ0ZW1wbGF0ZXNDb3VudCIsIm5vdGlmaWNhdGlvbnNfZW5hYmxlZCIsInBsYW5fdHlwZSIsInBsYW5fcHJpY2UiLCJoYW5kbGVQb2xpY2llc05leHQiLCJoYW5kbGVHaWZ0Q2FyZHNOZXh0IiwiaGFuZGxlUGF5bWVudE5leHQiLCJoYW5kbGVTdGFydFRyaWFsIiwidHJpYWxFbmRzIiwiRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwic3Vic2NyaXB0aW9uU3RhdHVzIiwidHJpYWxFbmRzQXQiLCJ0b0lTT1N0cmluZyIsIm5leHRCaWxsRGF0ZSIsImhhbmRsZUxhdW5jaCIsImdlbmVyYXRlQnVzaW5lc3NGcm9tU3RhdGUiLCJjbGVhckJ1c2luZXNzIiwiY3JlYXRlQnVzaW5lc3MiLCJib290c3RyYXBXb3Jrc3BhY2UiLCJwYXltZW50Iiwic2x1ZyIsInN0ZXBzTWV0YSIsInN1YnRpdGxlIiwiY29udGVudCIsImRlZmF1bHRWYWx1ZXMiLCJvbk5leHQiLCJvbkJhY2siLCJkaXYiLCJjbGFzc05hbWUiLCJoZWFkZXIiLCJzcGFuIiwiaDIiLCJwIiwiYnV0dG9uIiwib25DbGljayIsIm5vdGlmaWNhdGlvbnNFbmFibGVkIiwiYm9va2luZ1VybCIsInByZXZpZXdVcmwiLCJvbkxhdW5jaCIsIm9uU3RhcnRUcmlhbCIsInN0ZXBzIiwib25OYXZpZ2F0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/onboarding/page.tsx\n"));

/***/ })

});