"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/public/[slug]/page",{

/***/ "(app-pages-browser)/./src/components/public-booking/booking-flow.tsx":
/*!********************************************************!*\
  !*** ./src/components/public-booking/booking-flow.tsx ***!
  \********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PublicBookingExperience: function() { return /* binding */ PublicBookingExperience; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/shield-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/credit-card.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar-days.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/party-popper.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight,CalendarDays,Check,CheckCircle2,ChevronLeft,ChevronRight,Clock,CreditCard,Gift,Loader2,MapPin,PartyPopper,ShieldCheck,Sparkles,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _stripe_stripe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stripe/stripe-js */ \"(app-pages-browser)/../../node_modules/@stripe/stripe-js/lib/index.mjs\");\n/* harmony import */ var _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stripe/react-stripe-js */ \"(app-pages-browser)/../../node_modules/@stripe/react-stripe-js/dist/react-stripe.esm.mjs\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/badge */ \"(app-pages-browser)/./src/components/ui/badge.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/helper-text */ \"(app-pages-browser)/./src/components/ui/helper-text.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./src/components/ui/input.tsx\");\n/* harmony import */ var _components_ui_toast__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/toast */ \"(app-pages-browser)/./src/components/ui/toast.tsx\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* harmony import */ var _lib_availability_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/availability-utils */ \"(app-pages-browser)/./src/lib/availability-utils.ts\");\n/* harmony import */ var _lib_timezone__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/timezone */ \"(app-pages-browser)/./src/lib/timezone.ts\");\n/* __next_internal_client_entry_do_not_use__ PublicBookingExperience auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Initialize Stripe\nconst stripePromise = (0,_stripe_stripe_js__WEBPACK_IMPORTED_MODULE_3__.loadStripe)(\"pk_test_51SLrw1RtjyTFPgioLF9XPNjoWfEznrkim8IdiBxqaqM22ZJKT9FchK6d3DRWIVvPkmkdgH8aEFFneAKcM0z7yllt00l3anN4rc\" || 0);\nfunction PublicBookingExperience(param) {\n    let { business, workspace, recordBooking } = param;\n    _s();\n    const toast = (0,_components_ui_toast__WEBPACK_IMPORTED_MODULE_9__.useToast)();\n    const [step, setStep] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"catalog\");\n    const [selectedServiceId, setSelectedServiceId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [selectedStaffId, setSelectedStaffId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"any\");\n    const [selectedSlot, setSelectedSlot] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [giftCardState, setGiftCardState] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [giftCardInput, setGiftCardInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [giftCardError, setGiftCardError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [customerName, setCustomerName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [customerEmail, setCustomerEmail] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [customerPhone, setCustomerPhone] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [setupIntentClientSecret, setSetupIntentClientSecret] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [paymentMethodId, setPaymentMethodId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [createdBookingId, setCreatedBookingId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [createdBookingCode, setCreatedBookingCode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [consentChecked, setConsentChecked] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isPolicyModalOpen, setIsPolicyModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isSubmitting, setIsSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [createdBooking, setCreatedBooking] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [fetchedSlots, setFetchedSlots] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [isLoadingAvailability, setIsLoadingAvailability] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [availabilityError, setAvailabilityError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const selectedService = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (!selectedServiceId) return undefined;\n        for (const category of workspace.catalog){\n            const service = category.services.find((svc)=>svc.id === selectedServiceId);\n            if (service) {\n                return {\n                    ...service,\n                    categoryName: category.name,\n                    categoryColor: category.color\n                };\n            }\n        }\n        return undefined;\n    }, [\n        selectedServiceId,\n        workspace.catalog\n    ]);\n    // Fetch availability from API when service is selected\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!selectedService || step !== \"availability\") {\n            setFetchedSlots([]);\n            return;\n        }\n        async function fetchAvailability() {\n            setIsLoadingAvailability(true);\n            setAvailabilityError(null);\n            try {\n                // Fetch availability for the next 14 days (2 weeks)\n                const today = new Date();\n                const allSlots = [];\n                const timezone = workspace.identity.location.timezone || \"UTC\";\n                const dayFormatter = new Intl.DateTimeFormat(\"en-US\", {\n                    timeZone: timezone,\n                    weekday: \"long\"\n                });\n                for(let i = 0; i < 14; i++){\n                    const date = new Date(today);\n                    date.setDate(today.getDate() + i);\n                    const dateStr = date.toISOString().split(\"T\")[0]; // YYYY-MM-DD\n                    try {\n                        var _data_slots, _data_slots1;\n                        const response = await fetch(\"/api/public/\".concat(business.slug, \"/availability?service_id=\").concat(selectedService.id, \"&date=\").concat(dateStr));\n                        if (!response.ok) {\n                            console.warn(\"Failed to fetch availability for \".concat(dateStr, \":\"), response.status);\n                            continue;\n                        }\n                        const data = await response.json();\n                        console.log(\"[booking-flow] Fetched availability for \".concat(dateStr, \":\"), {\n                            slotsCount: ((_data_slots = data.slots) === null || _data_slots === void 0 ? void 0 : _data_slots.length) || 0,\n                            hasSlots: Array.isArray(data.slots),\n                            sampleSlot: (_data_slots1 = data.slots) === null || _data_slots1 === void 0 ? void 0 : _data_slots1[0]\n                        });\n                        if (data.slots && Array.isArray(data.slots)) {\n                            // Transform API slots to ExpandedAvailabilitySlot format\n                            for (const slot of data.slots){\n                                const startDate = new Date(slot.start_at);\n                                const endDate = new Date(slot.end_at);\n                                const dayLabel = dayFormatter.format(startDate);\n                                // Find staff member to get color\n                                const staffMember = workspace.staff.find((s)=>s.id === slot.staff_id);\n                                const staffColor = (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) || \"#000000\";\n                                allSlots.push({\n                                    id: \"\".concat(slot.staff_id, \"-\").concat(slot.start_at),\n                                    serviceId: selectedService.id,\n                                    staffId: slot.staff_id,\n                                    staffName: slot.staff_name,\n                                    staffColor: staffColor,\n                                    startDateTime: slot.start_at,\n                                    endDateTime: slot.end_at,\n                                    dayLabel: dayLabel\n                                });\n                            }\n                        } else {\n                            console.warn(\"[booking-flow] No slots array in response for \".concat(dateStr, \":\"), data);\n                        }\n                    } catch (err) {\n                        console.error(\"Error fetching availability for \".concat(dateStr, \":\"), err);\n                    }\n                }\n                setFetchedSlots(allSlots);\n            } catch (error) {\n                console.error(\"Error fetching availability:\", error);\n                setAvailabilityError(\"Failed to load availability. Please try again.\");\n            } finally{\n                setIsLoadingAvailability(false);\n            }\n        }\n        fetchAvailability();\n    }, [\n        selectedService,\n        step,\n        business.slug,\n        workspace.staff,\n        workspace.identity.location.timezone\n    ]);\n    const serviceAvailability = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        // Use fetched slots from API instead of workspace.availability\n        return fetchedSlots;\n    }, [\n        fetchedSlots\n    ]);\n    const groupedSlots = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        if (!selectedService) return {};\n        const filtered = selectedStaffId === \"any\" ? serviceAvailability : serviceAvailability.filter((slot)=>slot.staffId === selectedStaffId);\n        return (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_11__.groupSlotsByDay)(filtered, workspace.identity.location.timezone || \"UTC\");\n    }, [\n        serviceAvailability,\n        selectedStaffId,\n        workspace.identity.location.timezone,\n        selectedService\n    ]);\n    var _selectedService_priceCents;\n    const listPriceCents = (_selectedService_priceCents = selectedService === null || selectedService === void 0 ? void 0 : selectedService.priceCents) !== null && _selectedService_priceCents !== void 0 ? _selectedService_priceCents : 0;\n    var _giftCardState_amountCents;\n    const appliedGiftCardCents = (_giftCardState_amountCents = giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) !== null && _giftCardState_amountCents !== void 0 ? _giftCardState_amountCents : 0;\n    const amountDueCents = Math.max(listPriceCents - appliedGiftCardCents, 0);\n    // Card is always required for all bookings (even cash) as backup for no-show fees\n    // But we display the business's accepted methods from onboarding for information\n    const businessAcceptedMethods = workspace.payment.acceptedMethods || [];\n    const acceptedMethodsForDisplay = businessAcceptedMethods.length > 0 ? businessAcceptedMethods : [\n        \"card\"\n    ]; // Default to card if no methods specified\n    const policies = workspace.policies;\n    const timezone = workspace.identity.location.timezone || \"UTC\";\n    const handleSelectService = (serviceId)=>{\n        setSelectedServiceId(serviceId);\n        setSelectedStaffId(\"any\");\n        setSelectedSlot(null);\n        setStep(\"availability\");\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n    };\n    const handleSelectSlot = (slot)=>{\n        setSelectedSlot(slot);\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n        setStep(\"checkout\");\n        window.scrollTo({\n            top: 0,\n            behavior: \"smooth\"\n        });\n    };\n    const handleApplyGiftCard = ()=>{\n        if (!selectedService) return;\n        const code = giftCardInput.trim().toUpperCase();\n        if (code.length === 0) {\n            setGiftCardError(\"Enter a gift card code to apply.\");\n            return;\n        }\n        const program = workspace.giftCards;\n        if (!program.config.enabled) {\n            setGiftCardError(\"Gift cards are not enabled for this business.\");\n            return;\n        }\n        const allCodes = new Set([\n            ...program.config.generatedCodes.map((entry)=>entry.toUpperCase()),\n            ...program.ledger.map((entry)=>entry.code.toUpperCase())\n        ]);\n        if (!allCodes.has(code)) {\n            setGiftCardError(\"That code is not recognized. Check the spelling and try again.\");\n            return;\n        }\n        const amountCents = program.config.amountType === \"amount\" ? program.config.amountValue : Math.round(selectedService.priceCents * program.config.amountValue / 100);\n        const appliedAmount = Math.min(amountCents, selectedService.priceCents);\n        if (appliedAmount <= 0) {\n            setGiftCardError(\"This gift card has no balance remaining.\");\n            return;\n        }\n        setGiftCardError(null);\n        setGiftCardState({\n            code,\n            amountCents: appliedAmount,\n            description: program.config.amountType === \"amount\" ? \"\".concat(formatCurrency(appliedAmount), \" applied\") : \"\".concat(program.config.amountValue, \"% off (\").concat(formatCurrency(appliedAmount), \")\")\n        });\n        toast.pushToast({\n            title: \"Gift card applied\",\n            description: \"We deducted \".concat(formatCurrency(appliedAmount), \" from today's total.\"),\n            intent: \"success\"\n        });\n    };\n    const handleSubmitCheckout = async ()=>{\n        if (!selectedService || !selectedSlot) return;\n        if (customerName.trim().length < 2) {\n            toast.pushToast({\n                title: \"Add your name\",\n                description: \"We need your first and last name to personalize notifications.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!isValidEmail(customerEmail)) {\n            toast.pushToast({\n                title: \"Enter a valid email\",\n                description: \"We use your email for confirmations and receipts.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!isValidPhone(customerPhone)) {\n            toast.pushToast({\n                title: \"Phone number required\",\n                description: \"Add a phone number so we can send reminders or reach you about changes.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        if (!consentChecked) {\n            toast.pushToast({\n                title: \"Consent required\",\n                description: \"Review the policies and confirm you agree before booking.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        // Payment method must be set via Stripe Elements before submitting\n        if (!paymentMethodId && !setupIntentClientSecret) {\n            toast.pushToast({\n                title: \"Payment method required\",\n                description: \"Please complete the payment form. Your card will be saved securely but not charged.\",\n                intent: \"error\"\n            });\n            return;\n        }\n        setIsSubmitting(true);\n        try {\n            // Create the booking via API to get SetupIntent client secret\n            const apiPayload = {\n                service_id: selectedService.id,\n                staff_id: selectedSlot.staffId,\n                start_at: selectedSlot.startDateTime,\n                customer: {\n                    name: customerName.trim(),\n                    email: customerEmail.trim().toLowerCase(),\n                    phone: customerPhone.trim()\n                },\n                gift_card_code: giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.code\n            };\n            const response = await fetch(\"/api/public/\".concat(business.slug, \"/bookings\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(apiPayload)\n            });\n            if (!response.ok) {\n                const errorData = await response.json().catch(()=>({}));\n                throw new Error(errorData.error || \"Failed to create booking\");\n            }\n            const apiResponse = await response.json();\n            // Store the SetupIntent client secret and booking info\n            if (apiResponse.client_secret) {\n                setSetupIntentClientSecret(apiResponse.client_secret);\n                setCreatedBookingId(apiResponse.booking_id);\n                setCreatedBookingCode(apiResponse.booking_code);\n                toast.pushToast({\n                    title: \"Complete payment setup\",\n                    description: \"Please confirm your payment method below. Your card will be saved securely.\",\n                    intent: \"info\"\n                });\n                setIsSubmitting(false);\n                return;\n            }\n            // If no client secret, something went wrong\n            throw new Error(\"Failed to get payment setup information\");\n            // Validate date before formatting\n            if (completeBooking.startDateTime) {\n                const bookingDate = new Date(completeBooking.startDateTime);\n                if (!isNaN(bookingDate.getTime())) {\n                    toast.pushToast({\n                        title: \"Booking confirmed\",\n                        description: \"\".concat(selectedService.name, \" on \").concat((0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(completeBooking.startDateTime, timezone, {\n                            weekday: \"long\",\n                            month: \"short\",\n                            day: \"numeric\",\n                            hour: \"numeric\",\n                            minute: \"2-digit\"\n                        }), \". No charge yet—card saved securely.\"),\n                        intent: \"success\"\n                    });\n                } else {\n                    toast.pushToast({\n                        title: \"Booking confirmed\",\n                        description: \"\".concat(selectedService.name, \" booking created. No charge yet—card saved securely.\"),\n                        intent: \"success\"\n                    });\n                }\n            } else {\n                toast.pushToast({\n                    title: \"Booking confirmed\",\n                    description: \"\".concat(selectedService.name, \" booking created. No charge yet—card saved securely.\"),\n                    intent: \"success\"\n                });\n            }\n        } catch (error) {\n            console.error(\"Error submitting booking:\", error);\n            toast.pushToast({\n                title: \"Booking failed\",\n                description: error instanceof Error ? error.message : \"We couldn't create your booking. Please try again.\",\n                intent: \"error\"\n            });\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    const handleResetFlow = ()=>{\n        setStep(\"catalog\");\n        setSelectedServiceId(null);\n        setSelectedStaffId(\"any\");\n        setSelectedSlot(null);\n        setGiftCardState(null);\n        setGiftCardInput(\"\");\n        setGiftCardError(null);\n        setCustomerName(\"\");\n        setCustomerEmail(\"\");\n        setCustomerPhone(\"\");\n        setSetupIntentClientSecret(null);\n        setPaymentMethodId(null);\n        setCreatedBookingId(null);\n        setCreatedBookingCode(null);\n        setConsentChecked(false);\n        setIsPolicyModalOpen(false);\n        setCreatedBooking(null);\n    };\n    var _selectedService_name;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative min-h-screen bg-gradient-to-br from-black via-slate-950 to-[#0b0d1a] text-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,_rgba(91,100,255,0.25),_transparent_60%)]\"\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 430,\n                columnNumber: 7\n            }, this),\n            step === \"confirmation\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfettiOverlay, {}, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 431,\n                columnNumber: 34\n            }, this) : null,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"mx-auto max-w-5xl px-4 py-12 sm:px-6 lg:px-8\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-6 md:flex-row md:items-start md:justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                    intent: \"info\",\n                                    className: \"w-fit\",\n                                    children: \"Manual capture — no charge at booking\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 435,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"font-display text-4xl sm:text-5xl\",\n                                            children: [\n                                                \"Book \",\n                                                workspace.identity.business.businessName\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 439,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"mt-2 max-w-2xl text-base text-white/70\",\n                                            children: workspace.identity.business.description || \"Select a service, choose the best time, and secure your appointment. Your card is stored securely and only charged after the visit or if a policy fee applies.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 442,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 438,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap items-center gap-3 text-sm text-white/60\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 449,\n                                                    columnNumber: 17\n                                                }, this),\n                                                formatAddress(workspace.identity.location)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 448,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 453,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"All times shown in \",\n                                                timezone\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 452,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                    className: \"h-4 w-4\",\n                                                    \"aria-hidden\": \"true\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 457,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Card saved securely — capture happens later\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 456,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 447,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 434,\n                            columnNumber: 11\n                        }, this),\n                        createdBooking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-3xl border border-emerald-400/30 bg-emerald-500/10 p-6 text-emerald-100 shadow-[0_0_40px_rgba(52,211,153,0.25)]\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm uppercase tracking-[0.35em] text-emerald-200/70\",\n                                    children: \"Confirmation\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 464,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 font-display text-2xl\",\n                                    children: (_selectedService_name = selectedService === null || selectedService === void 0 ? void 0 : selectedService.name) !== null && _selectedService_name !== void 0 ? _selectedService_name : createdBooking.serviceName\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 467,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-sm text-emerald-100/80\",\n                                    children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(createdBooking.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\",\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 470,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-3 text-sm text-emerald-100/80\",\n                                    children: [\n                                        \"We sent a confirmation email to \",\n                                        createdBooking.customer.email,\n                                        \". Manual capture keeps you in control—nothing charges unless you press a money button.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 479,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 463,\n                            columnNumber: 13\n                        }, this) : null\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 433,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 432,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"mx-auto max-w-5xl px-4 pb-16 sm:px-6 lg:px-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StepIndicator, {\n                        currentStep: step,\n                        onReset: handleResetFlow\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 489,\n                        columnNumber: 9\n                    }, this),\n                    step === \"catalog\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CatalogStep, {\n                        catalog: workspace.catalog,\n                        onSelectService: handleSelectService,\n                        timezone: timezone\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 492,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"availability\" && selectedService ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AvailabilityStep, {\n                        service: selectedService,\n                        slotsByDay: groupedSlots,\n                        selectedStaffId: selectedStaffId,\n                        setSelectedStaffId: setSelectedStaffId,\n                        onBack: ()=>setStep(\"catalog\"),\n                        onSelectSlot: handleSelectSlot,\n                        staff: workspace.staff,\n                        timezone: timezone,\n                        supportEmail: workspace.identity.location.supportEmail,\n                        isLoading: isLoadingAvailability,\n                        error: availabilityError\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 500,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"checkout\" && selectedService && selectedSlot ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CheckoutStep, {\n                        service: selectedService,\n                        slot: selectedSlot,\n                        onBack: ()=>setStep(\"availability\"),\n                        customerName: customerName,\n                        setCustomerName: setCustomerName,\n                        customerEmail: customerEmail,\n                        setCustomerEmail: setCustomerEmail,\n                        customerPhone: customerPhone,\n                        setCustomerPhone: setCustomerPhone,\n                        setupIntentClientSecret: setupIntentClientSecret,\n                        setSetupIntentClientSecret: setSetupIntentClientSecret,\n                        paymentMethodId: paymentMethodId,\n                        setPaymentMethodId: setPaymentMethodId,\n                        createdBookingId: createdBookingId,\n                        createdBookingCode: createdBookingCode,\n                        workspace: workspace,\n                        customerName: customerName,\n                        customerEmail: customerEmail,\n                        customerPhone: customerPhone,\n                        listPriceCents: listPriceCents,\n                        giftCardState: giftCardState,\n                        policies: policies,\n                        timezone: timezone,\n                        selectedService: selectedService,\n                        selectedSlot: selectedSlot,\n                        setCreatedBooking: setCreatedBooking,\n                        setStep: setStep,\n                        toast: toast,\n                        consentChecked: consentChecked,\n                        setConsentChecked: setConsentChecked,\n                        giftCardInput: giftCardInput,\n                        setGiftCardInput: setGiftCardInput,\n                        giftCardError: giftCardError,\n                        giftCardState: giftCardState,\n                        onApplyGiftCard: handleApplyGiftCard,\n                        acceptedMethods: acceptedMethodsForDisplay,\n                        policies: policies,\n                        timezone: timezone,\n                        amountDueCents: amountDueCents,\n                        listPriceCents: listPriceCents,\n                        isSubmitting: isSubmitting,\n                        onSubmit: handleSubmitCheckout,\n                        onOpenPolicies: ()=>setIsPolicyModalOpen(true),\n                        business: business\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 516,\n                        columnNumber: 11\n                    }, this) : null,\n                    step === \"confirmation\" && createdBooking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfirmationStep, {\n                        booking: createdBooking,\n                        service: selectedService,\n                        amountDueCents: amountDueCents,\n                        policies: policies,\n                        timezone: timezone,\n                        onBookAnother: handleResetFlow\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 565,\n                        columnNumber: 11\n                    }, this) : null\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 488,\n                columnNumber: 7\n            }, this),\n            isPolicyModalOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyModal, {\n                policies: policies,\n                onClose: ()=>setIsPolicyModalOpen(false),\n                timezone: timezone\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 577,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 429,\n        columnNumber: 5\n    }, this);\n}\n_s(PublicBookingExperience, \"w6ubhzjkeGca4HprC4KtxJdYIOU=\", false, function() {\n    return [\n        _components_ui_toast__WEBPACK_IMPORTED_MODULE_9__.useToast\n    ];\n});\n_c = PublicBookingExperience;\nfunction CatalogStep(param) {\n    let { catalog, onSelectService } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"space-y-12\",\n        children: catalog.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-5\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-white/55\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                        className: \"h-3.5 w-3.5\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 601,\n                                        columnNumber: 15\n                                    }, this),\n                                    category.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 600,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-3 text-base text-white/70 max-w-2xl\",\n                                children: category.description\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 604,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 599,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid gap-6 md:grid-cols-2\",\n                        children: category.services.map((service)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"button\",\n                                onClick: ()=>onSelectService(service.id),\n                                className: \"group flex flex-col gap-4 rounded-3xl border border-white/10 bg-white/5 p-6 text-left transition hover:border-white/25 hover:bg-white/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-start justify-between gap-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                        className: \"font-display text-2xl text-white\",\n                                                        children: service.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 616,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"mt-2 text-sm text-white/60\",\n                                                        children: service.description\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 617,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 615,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold uppercase tracking-[0.25em] text-white/60\",\n                                                children: formatDuration(service.durationMinutes)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 619,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 614,\n                                        columnNumber: 17\n                                    }, this),\n                                    service.instructions ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-white/40\",\n                                        children: service.instructions\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 624,\n                                        columnNumber: 19\n                                    }, this) : null,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-auto flex items-center justify-between text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white/60\",\n                                                children: [\n                                                    \"Starting at \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        className: \"text-white\",\n                                                        children: formatCurrency(service.priceCents)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 628,\n                                                        columnNumber: 33\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 627,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"inline-flex items-center gap-2 text-primary group-hover:translate-x-1 transition\",\n                                                children: [\n                                                    \"Select \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                        className: \"h-4 w-4\",\n                                                        \"aria-hidden\": \"true\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 631,\n                                                        columnNumber: 28\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 630,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 626,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, service.id, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 608,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 606,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, category.id, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 598,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 596,\n        columnNumber: 5\n    }, this);\n}\n_c1 = CatalogStep;\nfunction AvailabilityStep(param) {\n    let { service, slotsByDay, selectedStaffId, setSelectedStaffId, onBack, onSelectSlot, staff, timezone, supportEmail, isLoading, error } = param;\n    _s1();\n    const [currentWeekStart, setCurrentWeekStart] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(()=>{\n        const today = new Date();\n        const dayOfWeek = today.getDay();\n        const diff = today.getDate() - dayOfWeek; // Get Sunday of this week\n        const sunday = new Date(today.setDate(diff));\n        sunday.setHours(0, 0, 0, 0);\n        return sunday;\n    });\n    const staffOptions = staff.filter((member)=>service.staffIds.includes(member.id));\n    const totalSlots = Object.values(slotsByDay).reduce((sum, entries)=>sum + entries.length, 0);\n    // Generate hours from 8 AM to 8 PM\n    const hours = Array.from({\n        length: 13\n    }, (_, i)=>i + 8); // 8 AM to 8 PM\n    // Generate days of the week\n    const weekDays = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        const days = [];\n        for(let i = 0; i < 7; i++){\n            const date = new Date(currentWeekStart);\n            date.setDate(currentWeekStart.getDate() + i);\n            days.push(date);\n        }\n        return days;\n    }, [\n        currentWeekStart\n    ]);\n    // Group slots by day and hour, removing duplicates\n    const slotsByDayAndHour = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        const grouped = {};\n        // Flatten all slots from all days\n        const allSlots = Object.values(slotsByDay).flat();\n        allSlots.forEach((slot)=>{\n            const slotDate = new Date(slot.startDateTime);\n            const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(slotDate, timezone, \"yyyy-MM-dd\");\n            const hour = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(slotDate, timezone, {\n                hour: \"numeric\",\n                hour12: false\n            });\n            const hourNum = parseInt(hour, 10);\n            // Only include slots that are in the current week\n            const isInCurrentWeek = weekDays.some((day)=>{\n                const dayKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                return dayKey === dateKey;\n            });\n            if (!isInCurrentWeek) return;\n            if (!grouped[dateKey]) {\n                grouped[dateKey] = {};\n            }\n            if (!grouped[dateKey][hourNum]) {\n                grouped[dateKey][hourNum] = [];\n            }\n            // Check for duplicates (same hour, same staff, same date)\n            const isDuplicate = grouped[dateKey][hourNum].some((existing)=>existing.staffId === slot.staffId);\n            if (!isDuplicate) {\n                grouped[dateKey][hourNum].push(slot);\n            }\n        });\n        return grouped;\n    }, [\n        slotsByDay,\n        weekDays,\n        timezone\n    ]);\n    const navigateWeek = (direction)=>{\n        const newDate = new Date(currentWeekStart);\n        newDate.setDate(newDate.getDate() + (direction === \"next\" ? 7 : -7));\n        setCurrentWeekStart(newDate);\n    };\n    const monthYear = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(weekDays[0], timezone, {\n        month: \"long\",\n        year: \"numeric\"\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.15)]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                children: \"Step 2 \\xb7 Choose your time\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 755,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"mt-2 font-display text-3xl text-white\",\n                                children: service.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 756,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 text-sm text-white/60\",\n                                children: [\n                                    formatCurrency(service.priceCents),\n                                    \" \\xb7 \",\n                                    formatDuration(service.durationMinutes),\n                                    \" — All slots shown in \",\n                                    timezone\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 757,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 754,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                        variant: \"ghost\",\n                        onClick: onBack,\n                        className: \"inline-flex items-center gap-2 text-white/70\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 763,\n                                columnNumber: 11\n                            }, this),\n                            \"Back to services\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 762,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 753,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-8 flex flex-wrap items-center gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                        label: \"I don't mind\",\n                        active: selectedStaffId === \"any\",\n                        onClick: ()=>setSelectedStaffId(\"any\")\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 769,\n                        columnNumber: 9\n                    }, this),\n                    staffOptions.map((member)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                            label: member.name,\n                            color: member.color,\n                            active: selectedStaffId === member.id,\n                            onClick: ()=>setSelectedStaffId(member.id)\n                        }, member.id, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 775,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 768,\n                columnNumber: 7\n            }, this),\n            isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                        className: \"mx-auto h-8 w-8 animate-spin text-white/40\",\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 787,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-base\",\n                        children: \"Loading availability...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 788,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 786,\n                columnNumber: 9\n            }, this) : error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-red-500/20 bg-red-500/10 p-8 text-center text-red-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-base\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 792,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 791,\n                columnNumber: 9\n            }, this) : totalSlots === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-base\",\n                        children: \"No availability found in the next two weeks.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 796,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-sm\",\n                        children: [\n                            \"Try selecting a different staff member or contact us at\",\n                            \" \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: \"mailto:\".concat(supportEmail !== null && supportEmail !== void 0 ? supportEmail : \"support@tithi.com\"),\n                                className: \"underline\",\n                                children: supportEmail !== null && supportEmail !== void 0 ? supportEmail : \"support@tithi.com\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 799,\n                                columnNumber: 13\n                            }, this),\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 797,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 795,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-6 flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                variant: \"ghost\",\n                                onClick: ()=>navigateWeek(\"prev\"),\n                                className: \"text-white/70 hover:text-white\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 814,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 809,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-white\",\n                                    children: monthYear\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 817,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 816,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                variant: \"ghost\",\n                                onClick: ()=>navigateWeek(\"next\"),\n                                className: \"text-white/70 hover:text-white\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 824,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 819,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 808,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-x-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"min-w-full\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-8 gap-2 border-b border-white/10 pb-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs font-semibold text-white/60\",\n                                            children: \"Time\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 833,\n                                            columnNumber: 17\n                                        }, this),\n                                        weekDays.map((day, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs font-semibold text-white/60\",\n                                                        children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(day, timezone, {\n                                                            weekday: \"short\"\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 836,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm font-semibold text-white\",\n                                                        children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(day, timezone, {\n                                                            day: \"numeric\"\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 839,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, idx, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 835,\n                                                columnNumber: 19\n                                            }, this))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 832,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-2 space-y-1\",\n                                    children: hours.map((hour)=>{\n                                        const hourLabel = hour === 12 ? \"12 PM\" : hour > 12 ? \"\".concat(hour - 12, \" PM\") : \"\".concat(hour, \" AM\");\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-8 gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center text-xs text-white/60 py-2\",\n                                                    children: hourLabel\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                    lineNumber: 852,\n                                                    columnNumber: 23\n                                                }, this),\n                                                weekDays.map((day, dayIdx)=>{\n                                                    var _slotsByDayAndHour_dateKey;\n                                                    const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                                                    const slotsForHour = ((_slotsByDayAndHour_dateKey = slotsByDayAndHour[dateKey]) === null || _slotsByDayAndHour_dateKey === void 0 ? void 0 : _slotsByDayAndHour_dateKey[hour]) || [];\n                                                    const filteredSlots = selectedStaffId === \"any\" ? slotsForHour : slotsForHour.filter((slot)=>slot.staffId === selectedStaffId);\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"py-1\",\n                                                        children: filteredSlots.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-1\",\n                                                            children: filteredSlots.map((slot)=>{\n                                                                const staffMember = staff.find((s)=>s.id === slot.staffId);\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    onClick: ()=>onSelectSlot(slot),\n                                                                    className: \"w-full rounded-lg border border-primary/40 bg-primary/20 px-2 py-1.5 text-left transition hover:border-primary/60 hover:bg-primary/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70\",\n                                                                    style: {\n                                                                        borderColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"80\") : undefined,\n                                                                        backgroundColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"20\") : undefined\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs font-semibold text-white\",\n                                                                            children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(new Date(slot.startDateTime), timezone, {\n                                                                                hour: \"numeric\",\n                                                                                minute: \"2-digit\"\n                                                                            })\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                            lineNumber: 879,\n                                                                            columnNumber: 39\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-white/70 mt-0.5 truncate\",\n                                                                            children: slot.staffName\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                            lineNumber: 882,\n                                                                            columnNumber: 39\n                                                                        }, this)\n                                                                    ]\n                                                                }, slot.id, true, {\n                                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                    lineNumber: 869,\n                                                                    columnNumber: 37\n                                                                }, this);\n                                                            })\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                            lineNumber: 865,\n                                                            columnNumber: 31\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"h-full rounded-lg bg-white/5 border border-white/5 py-1.5\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-[10px] text-white/20 text-center\",\n                                                                children: \"—\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                                lineNumber: 891,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                            lineNumber: 890,\n                                                            columnNumber: 31\n                                                        }, this)\n                                                    }, dayIdx, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                        lineNumber: 863,\n                                                        columnNumber: 27\n                                                    }, this);\n                                                })\n                                            ]\n                                        }, hour, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                            lineNumber: 851,\n                                            columnNumber: 21\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 847,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 830,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 829,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 806,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 752,\n        columnNumber: 5\n    }, this);\n}\n_s1(AvailabilityStep, \"4TSl4BCFSPcIY68khkbi7X3vqV0=\");\n_c2 = AvailabilityStep;\nfunction CheckoutStep(props) {\n    _s2();\n    const { service, slot, onBack, customerName, setCustomerName, customerEmail, setCustomerEmail, customerPhone, setCustomerPhone, setupIntentClientSecret, setSetupIntentClientSecret, paymentMethodId, setPaymentMethodId, createdBookingId, createdBookingCode, workspace, listPriceCents, giftCardState, policies, timezone, selectedService, selectedSlot, setCreatedBooking, setStep, toast, consentChecked, setConsentChecked, giftCardInput, setGiftCardInput, giftCardError, onApplyGiftCard, acceptedMethods, amountDueCents, isSubmitting, onSubmit, onOpenPolicies, business } = props;\n    // Create SetupIntent when checkout step loads so payment form is immediately available\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Only create if we don't already have one and we have the required data\n        if (!setupIntentClientSecret && selectedService && selectedSlot && customerName && customerEmail && customerPhone) {\n            // Create booking early to get SetupIntent - this allows the payment form to show immediately\n            const createSetupIntent = async ()=>{\n                try {\n                    const apiPayload = {\n                        service_id: selectedService.id,\n                        staff_id: selectedSlot.staffId,\n                        start_at: selectedSlot.startDateTime,\n                        customer: {\n                            name: customerName.trim(),\n                            email: customerEmail.trim().toLowerCase(),\n                            phone: customerPhone.trim()\n                        },\n                        gift_card_code: giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.code\n                    };\n                    const response = await fetch(\"/api/public/\".concat(business.slug, \"/bookings\"), {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(apiPayload)\n                    });\n                    if (!response.ok) {\n                        // Don't show error if booking creation fails - user hasn't clicked confirm yet\n                        console.error(\"Failed to create SetupIntent:\", await response.text());\n                        return;\n                    }\n                    const apiResponse = await response.json();\n                    if (apiResponse.client_secret) {\n                        setSetupIntentClientSecret(apiResponse.client_secret);\n                        if (apiResponse.booking_id) {\n                        // Store booking ID if returned (though we shouldn't use it until payment is confirmed)\n                        // We'll handle this in the submit flow\n                        }\n                    }\n                } catch (error) {\n                    console.error(\"Error creating SetupIntent:\", error);\n                // Don't show error to user - they haven't tried to submit yet\n                }\n            };\n            createSetupIntent();\n        }\n    }, [\n        setupIntentClientSecret,\n        selectedService,\n        selectedSlot,\n        customerName,\n        customerEmail,\n        customerPhone,\n        business.slug,\n        giftCardState,\n        setSetupIntentClientSecret\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"grid gap-8 rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.2)] md:grid-cols-[1.4fr_1fr]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                        children: \"Step 3 \\xb7 Checkout\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1064,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"mt-2 font-display text-3xl text-white\",\n                                        children: service.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1065,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"mt-1 text-sm text-white/60\",\n                                        children: [\n                                            formatDuration(service.durationMinutes),\n                                            \" \\xb7 \",\n                                            formatCurrency(listPriceCents),\n                                            \" — with\",\n                                            \" \",\n                                            slot.staffName\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1066,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1063,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                variant: \"ghost\",\n                                onClick: onBack,\n                                className: \"inline-flex items-center gap-2 text-white/70\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1072,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Pick another slot\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1071,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1062,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid gap-4 md:grid-cols-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Full name\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                    value: customerName,\n                                    onChange: (event)=>setCustomerName(event.target.value),\n                                    placeholder: \"Jordan Blake\",\n                                    autoComplete: \"name\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1079,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1078,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Email\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                    type: \"email\",\n                                    value: customerEmail,\n                                    onChange: (event)=>setCustomerEmail(event.target.value),\n                                    placeholder: \"you@example.com\",\n                                    autoComplete: \"email\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1087,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1086,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Phone\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                    type: \"tel\",\n                                    value: customerPhone,\n                                    onChange: (event)=>setCustomerPhone(event.target.value),\n                                    placeholder: \"+1 555 010 2030\",\n                                    autoComplete: \"tel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1096,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1095,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Field, {\n                                label: \"Gift card or code\",\n                                helper: \"Optional — amount or percent off will apply immediately.\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_8__.Input, {\n                                                value: giftCardInput,\n                                                onChange: (event)=>setGiftCardInput(event.target.value),\n                                                placeholder: \"WELCOME120\",\n                                                className: \"flex-1 uppercase\",\n                                                autoCapitalize: \"characters\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1106,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                                type: \"button\",\n                                                variant: \"outline\",\n                                                onClick: onApplyGiftCard,\n                                                children: \"Apply\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1113,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1105,\n                                        columnNumber: 13\n                                    }, this),\n                                    giftCardError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                                        intent: \"error\",\n                                        className: \"mt-2\",\n                                        children: giftCardError\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1118,\n                                        columnNumber: 15\n                                    }, this) : null,\n                                    giftCardState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                                        intent: \"success\",\n                                        className: \"mt-2 text-emerald-200\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                className: \"mr-1.5 inline h-4 w-4\",\n                                                \"aria-hidden\": \"true\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1124,\n                                                columnNumber: 17\n                                            }, this),\n                                            giftCardState.description,\n                                            \" (\",\n                                            giftCardState.code,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1123,\n                                        columnNumber: 15\n                                    }, this) : null\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1104,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1077,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-white/10 bg-black/60 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"flex items-center gap-2 text-sm font-semibold text-white\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1133,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Payment method — card saved now, charged later\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1132,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 text-xs text-white/50\",\n                                children: [\n                                    acceptedMethods.length > 0 ? \"\".concat(describeAcceptedMethods(acceptedMethods), \". \") : \"\",\n                                    \"A credit card is required for all bookings. Even if you plan to pay with cash, we store a card in case a policy fee applies (e.g., no-show fees).\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1136,\n                                columnNumber: 11\n                            }, this),\n                            setupIntentClientSecret ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.Elements, {\n                                    stripe: stripePromise,\n                                    options: {\n                                        clientSecret: setupIntentClientSecret,\n                                        appearance: {\n                                            theme: \"night\",\n                                            variables: {\n                                                colorPrimary: \"#5B64FF\",\n                                                colorBackground: \"#000000\",\n                                                colorText: \"#ffffff\",\n                                                colorDanger: \"#ef4444\",\n                                                fontFamily: \"system-ui, sans-serif\",\n                                                spacingUnit: \"4px\",\n                                                borderRadius: \"8px\"\n                                            }\n                                        }\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StripePaymentForm, {\n                                        onPaymentMethodReady: async (pmId)=>{\n                                            setPaymentMethodId(pmId);\n                                            // Once payment method is confirmed, proceed to confirmation\n                                            // The booking was already created by the API\n                                            if (selectedService && selectedSlot && createdBookingId) {\n                                                var _workspace_staff_find;\n                                                const booking = {\n                                                    id: createdBookingId,\n                                                    code: createdBookingCode || \"TITHI-\".concat(createdBookingId.slice(0, 8).toUpperCase()),\n                                                    status: \"pending\",\n                                                    serviceId: selectedService.id,\n                                                    serviceName: selectedService.name,\n                                                    categoryName: selectedService.categoryName,\n                                                    durationMinutes: selectedService.durationMinutes,\n                                                    startDateTime: selectedSlot.startDateTime,\n                                                    endDateTime: selectedSlot.endDateTime,\n                                                    staff: {\n                                                        id: selectedSlot.staffId,\n                                                        name: selectedSlot.staffName,\n                                                        color: ((_workspace_staff_find = workspace.staff.find((s)=>s.id === selectedSlot.staffId)) === null || _workspace_staff_find === void 0 ? void 0 : _workspace_staff_find.color) || \"#000000\"\n                                                    },\n                                                    customer: {\n                                                        name: customerName.trim(),\n                                                        email: customerEmail.trim().toLowerCase(),\n                                                        phone: customerPhone.trim()\n                                                    },\n                                                    payments: [],\n                                                    financials: {\n                                                        listPriceCents: listPriceCents,\n                                                        giftCardAmountCents: (giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) || 0,\n                                                        platformFeeCents: 0,\n                                                        stripeFeeEstimateCents: 0,\n                                                        netPayoutCents: 0,\n                                                        currency: \"usd\"\n                                                    },\n                                                    policyConsent: createPolicyConsent(policies),\n                                                    requiresAction: false\n                                                };\n                                                setCreatedBooking(booking);\n                                                setStep(\"confirmation\");\n                                                toast.pushToast({\n                                                    title: \"Booking confirmed\",\n                                                    description: \"\".concat(selectedService.name, \" on \").concat((0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(selectedSlot.startDateTime, timezone, {\n                                                        weekday: \"long\",\n                                                        month: \"short\",\n                                                        day: \"numeric\",\n                                                        hour: \"numeric\",\n                                                        minute: \"2-digit\"\n                                                    }), \". No charge yet—card saved securely.\"),\n                                                    intent: \"success\"\n                                                });\n                                            }\n                                        },\n                                        acceptedMethods: acceptedMethods,\n                                        businessSlug: business.slug,\n                                        bookingId: createdBookingId || \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1162,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1144,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1143,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                                    className: \"text-white/60\",\n                                    children: 'Click \"Confirm booking\" below to set up your payment method. Your card will be saved securely but not charged.'\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                    lineNumber: 1221,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1220,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                                className: \"mt-2\",\n                                children: \"You're authorizing a card on file. Per Tithi's manual capture rules, nothing is charged until your appointment is completed or a policy fee applies.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1226,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1131,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col gap-4 rounded-3xl border border-white/10 bg-black/60 p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        id: \"policy-consent\",\n                                        type: \"checkbox\",\n                                        checked: consentChecked,\n                                        onChange: (event)=>setConsentChecked(event.target.checked),\n                                        className: \"mt-1 h-5 w-5 rounded border-white/20 bg-black text-primary focus:ring-primary\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1234,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"policy-consent\",\n                                        className: \"text-sm text-white/70\",\n                                        children: [\n                                            \"I agree to the cancellation, no-show, refund, and cash policies. My card is saved via Stripe for manual capture later.\",\n                                            \" \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                type: \"button\",\n                                                onClick: onOpenPolicies,\n                                                className: \"text-primary underline-offset-2 hover:underline\",\n                                                children: \"View policies\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1244,\n                                                columnNumber: 15\n                                            }, this),\n                                            \".\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1241,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1233,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                                size: \"lg\",\n                                onClick: onSubmit,\n                                isLoading: isSubmitting,\n                                disabled: isSubmitting || !!setupIntentClientSecret,\n                                className: \"inline-flex items-center justify-center gap-2 text-base\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"h-5 w-5\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1261,\n                                        columnNumber: 13\n                                    }, this),\n                                    setupIntentClientSecret ? \"Complete payment setup below\" : \"Confirm booking — no charge today\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1254,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1232,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1061,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"flex flex-col gap-4 rounded-3xl border border-white/10 bg-black/60 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                                children: \"Summary\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1269,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"mt-2 font-display text-2xl text-white\",\n                                children: service.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1270,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-2 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1272,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(slot.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1271,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1280,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(slot.startDateTime, timezone, {\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    }),\n                                    \" \",\n                                    \"— \",\n                                    formatDuration(service.durationMinutes)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1279,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2 text-sm text-white/60\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1288,\n                                        columnNumber: 13\n                                    }, this),\n                                    slot.staffName\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1287,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1268,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-t border-white/10 pt-4 text-sm text-white/60\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Service price\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1294,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-white\",\n                                        children: formatCurrency(listPriceCents)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1295,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1293,\n                                columnNumber: 11\n                            }, this),\n                            giftCardState ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 flex items-center justify-between text-emerald-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Gift card (\",\n                                            giftCardState.code,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1299,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"-\",\n                                            formatCurrency(giftCardState.amountCents)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1300,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1298,\n                                columnNumber: 13\n                            }, this) : null,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 flex items-center justify-between text-base font-semibold text-white\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Due today\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1304,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: formatCurrency(amountDueCents)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1305,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1303,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                                className: \"mt-3\",\n                                children: \"This amount is authorized but not captured. Manual capture ensures you only charge customers after services are delivered or if a policy fee applies.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1307,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1292,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1267,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1060,\n        columnNumber: 5\n    }, this);\n}\n_s2(CheckoutStep, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c3 = CheckoutStep;\nfunction ConfirmationStep(param) {\n    let { booking, service, amountDueCents, policies, timezone, onBookAnother } = param;\n    var _service_name, _service_durationMinutes, _service_priceCents, _service_priceCents1, _service_priceCents2;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"rounded-3xl border border-emerald-400/40 bg-emerald-500/10 p-10 text-emerald-50 shadow-[0_0_80px_rgba(16,185,129,0.35)]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col gap-6 md:flex-row md:items-center md:justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"inline-flex items-center gap-2 rounded-full border border-emerald-400/50 bg-emerald-400/20 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-emerald-100\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1341,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Booking confirmed\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1340,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"mt-4 font-display text-4xl text-emerald-50\",\n                                children: (_service_name = service === null || service === void 0 ? void 0 : service.name) !== null && _service_name !== void 0 ? _service_name : booking.serviceName\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1344,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-2 text-sm text-emerald-100/80\",\n                                children: [\n                                    \"We emailed \",\n                                    booking.customer.email,\n                                    \" and will send reminders via SMS. Your card is saved but won’t be charged until the appointment is completed—or if a manual policy fee applies.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1347,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1339,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/50 bg-black/40 p-6 text-sm text-emerald-100/80\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1354,\n                                        columnNumber: 13\n                                    }, this),\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(booking.startDateTime, timezone, {\n                                        weekday: \"long\",\n                                        month: \"short\",\n                                        day: \"numeric\",\n                                        hour: \"numeric\",\n                                        minute: \"2-digit\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1353,\n                                columnNumber: 11\n                            }, this),\n                            booking.staff ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1365,\n                                        columnNumber: 15\n                                    }, this),\n                                    booking.staff.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1364,\n                                columnNumber: 13\n                            }, this) : null,\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        className: \"h-4 w-4\",\n                                        \"aria-hidden\": \"true\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1370,\n                                        columnNumber: 13\n                                    }, this),\n                                    formatDuration((_service_durationMinutes = service === null || service === void 0 ? void 0 : service.durationMinutes) !== null && _service_durationMinutes !== void 0 ? _service_durationMinutes : booking.durationMinutes)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1369,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 border-t border-emerald-400/30 pt-3 text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Authorized\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1375,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: formatCurrency((_service_priceCents = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents !== void 0 ? _service_priceCents : booking.financials.listPriceCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1376,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1374,\n                                        columnNumber: 13\n                                    }, this),\n                                    amountDueCents < ((_service_priceCents1 = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents1 !== void 0 ? _service_priceCents1 : booking.financials.listPriceCents) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between text-emerald-200\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Gift card\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1380,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    \"-\",\n                                                    formatCurrency(((_service_priceCents2 = service === null || service === void 0 ? void 0 : service.priceCents) !== null && _service_priceCents2 !== void 0 ? _service_priceCents2 : booking.financials.listPriceCents) - amountDueCents)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1381,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1379,\n                                        columnNumber: 15\n                                    }, this) : null,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 flex items-center justify-between text-base font-semibold text-emerald-50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Due after appointment\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1385,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: formatCurrency(amountDueCents)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                                lineNumber: 1386,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1384,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1373,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1352,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1338,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 grid gap-6 md:grid-cols-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/40 bg-emerald-400/10 p-6 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-emerald-200/90\",\n                                children: \"What happens next\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1394,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"mt-3 space-y-2 text-emerald-100/80\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Check your email and SMS for confirmation details and reminders.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1396,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Reschedule or cancel at least 24h in advance to avoid policy fees.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1397,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: \"Manual capture keeps money in your control—no charges run automatically.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1398,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1395,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1393,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"rounded-3xl border border-emerald-400/40 bg-black/40 p-6 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-emerald-200/90\",\n                                children: \"Policies snapshot\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1402,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"mt-3 space-y-2 text-emerald-100/80\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.cancellationPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1404,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.noShowPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1405,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.refundPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1406,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: policies.cashPolicy\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                        lineNumber: 1407,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1403,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1401,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1392,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-10 flex flex-wrap items-center gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                        variant: \"outline\",\n                        onClick: onBookAnother,\n                        className: \"inline-flex items-center gap-2 border-emerald-400/40 text-emerald-100 hover:border-emerald-300 hover:text-emerald-50\",\n                        children: \"Book another appointment\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1413,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-emerald-100/70\",\n                        children: [\n                            \"Need help? Reply to the confirmation email or text us at \",\n                            booking.customer.phone,\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1420,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1412,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1337,\n        columnNumber: 5\n    }, this);\n}\n_c4 = ConfirmationStep;\nfunction PolicyModal(param) {\n    let { policies, onClose, timezone } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/80 px-4 py-8\",\n        role: \"dialog\",\n        \"aria-modal\": \"true\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative max-h-[90vh] w-full max-w-3xl overflow-y-auto rounded-3xl border border-white/10 bg-white/10 p-8 backdrop-blur\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    onClick: onClose,\n                    className: \"absolute right-6 top-6 text-white/60 transition hover:text-white\",\n                    \"aria-label\": \"Close policies\",\n                    children: \"✕\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1444,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"font-display text-3xl text-white\",\n                    children: \"Booking policies\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1452,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"mt-2 text-sm text-white/60\",\n                    children: [\n                        \"All times referenced align to \",\n                        timezone,\n                        \". Consent is required before submitting your booking.\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1453,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-6 space-y-5 text-sm leading-relaxed text-white/75\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cancellation policy\",\n                            body: policies.cancellationPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1457,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cancellation fees\",\n                            body: describeFee(policies.cancellationFeeType, policies.cancellationFeeValue)\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1458,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"No-show policy\",\n                            body: policies.noShowPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1459,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"No-show fee\",\n                            body: describeFee(policies.noShowFeeType, policies.noShowFeeValue)\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1460,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Refund policy\",\n                            body: policies.refundPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1461,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PolicyBlock, {\n                            title: \"Cash policy\",\n                            body: policies.cashPolicy\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                            lineNumber: 1462,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1456,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 flex justify-end\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                        onClick: onClose,\n                        className: \"inline-flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_CalendarDays_Check_CheckCircle2_ChevronLeft_ChevronRight_Clock_CreditCard_Gift_Loader2_MapPin_PartyPopper_ShieldCheck_Sparkles_Users_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1466,\n                                columnNumber: 13\n                            }, this),\n                            \"I understand\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1465,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1464,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n            lineNumber: 1443,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1438,\n        columnNumber: 5\n    }, this);\n}\n_c5 = PolicyModal;\nfunction StepIndicator(param) {\n    let { currentStep, onReset } = param;\n    const steps = [\n        {\n            id: \"catalog\",\n            label: \"Service\"\n        },\n        {\n            id: \"availability\",\n            label: \"Time\"\n        },\n        {\n            id: \"checkout\",\n            label: \"Checkout\"\n        },\n        {\n            id: \"confirmation\",\n            label: \"Done\"\n        }\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap items-center justify-between gap-3 rounded-3xl border border-white/10 bg-white/5 px-6 py-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-3 text-xs uppercase tracking-[0.35em] text-white/40\",\n                children: steps.map((step, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_10__.cn)(\"inline-flex h-8 w-8 items-center justify-center rounded-full border text-sm font-semibold\", currentStep === step.id ? \"border-primary bg-primary/30 text-white\" : \"border-white/20 bg-white/10 text-white/50\"),\n                                children: index + 1\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1487,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: currentStep === step.id ? \"text-white\" : \"text-white/50\",\n                                children: step.label\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1497,\n                                columnNumber: 13\n                            }, this),\n                            index < steps.length - 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"h-px w-12 bg-white/10\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                                lineNumber: 1501,\n                                columnNumber: 15\n                            }, this) : null\n                        ]\n                    }, step.id, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                        lineNumber: 1486,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1484,\n                columnNumber: 7\n            }, this),\n            currentStep !== \"catalog\" && currentStep !== \"confirmation\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                variant: \"ghost\",\n                onClick: onReset,\n                className: \"text-white/70\",\n                children: \"Start over\"\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1507,\n                columnNumber: 9\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1483,\n        columnNumber: 5\n    }, this);\n}\n_c6 = StepIndicator;\nfunction Field(param) {\n    let { label, helper, children } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n        className: \"flex flex-col gap-2 text-sm text-white/70\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"font-semibold text-white\",\n                children: label\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1526,\n                columnNumber: 7\n            }, this),\n            children,\n            helper ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                className: \"text-[13px] text-white/40\",\n                children: helper\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1528,\n                columnNumber: 17\n            }, this) : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1525,\n        columnNumber: 5\n    }, this);\n}\n_c7 = Field;\nfunction StaffPill(param) {\n    let { label, color, active, onClick } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"button\",\n        onClick: onClick,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_10__.cn)(\"rounded-full border px-4 py-2 text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black\", active ? \"border-white/60 bg-white/15 text-white\" : \"border-white/10 bg-white/5 text-white/60 hover:text-white/80\"),\n        style: active && color ? {\n            borderColor: color,\n            boxShadow: \"0 0 25px \".concat(color, \"33\")\n        } : undefined,\n        children: label\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1545,\n        columnNumber: 5\n    }, this);\n}\n_c8 = StaffPill;\nfunction PolicyBlock(param) {\n    let { title, body } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"text-xs uppercase tracking-[0.35em] text-white/40\",\n                children: title\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1562,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-2 text-sm text-white/70 leading-relaxed\",\n                children: body\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                lineNumber: 1563,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1561,\n        columnNumber: 5\n    }, this);\n}\n_c9 = PolicyBlock;\nfunction ConfettiOverlay() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"jsx-394d523ece4eb4fd\" + \" \" + \"pointer-events-none absolute inset-0 overflow-hidden\",\n        children: [\n            Array.from({\n                length: 150\n            }).map((_, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    style: {\n                        left: \"\".concat(Math.random() * 100, \"%\"),\n                        animationDelay: \"\".concat(Math.random() * 0.5, \"s\"),\n                        backgroundColor: randomConfettiColor()\n                    },\n                    className: \"jsx-394d523ece4eb4fd\" + \" \" + \"confetti-piece\"\n                }, index, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1572,\n                    columnNumber: 9\n                }, this)),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"394d523ece4eb4fd\",\n                children: \"@-webkit-keyframes confetti-fall{0%{-webkit-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-webkit-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@-moz-keyframes confetti-fall{0%{-moz-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-moz-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@-o-keyframes confetti-fall{0%{-o-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-o-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}@keyframes confetti-fall{0%{-webkit-transform:translatey(-10vh)rotate(0deg);-moz-transform:translatey(-10vh)rotate(0deg);-o-transform:translatey(-10vh)rotate(0deg);transform:translatey(-10vh)rotate(0deg);opacity:0}10%{opacity:1}100%{-webkit-transform:translatey(110vh)rotate(720deg);-moz-transform:translatey(110vh)rotate(720deg);-o-transform:translatey(110vh)rotate(720deg);transform:translatey(110vh)rotate(720deg);opacity:0}}.confetti-piece.jsx-394d523ece4eb4fd{position:absolute;width:6px;height:12px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;opacity:0;-webkit-animation:confetti-fall 2.3s ease-in both;-moz-animation:confetti-fall 2.3s ease-in both;-o-animation:confetti-fall 2.3s ease-in both;animation:confetti-fall 2.3s ease-in both}\"\n            }, void 0, false, void 0, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1570,\n        columnNumber: 5\n    }, this);\n}\n_c10 = ConfettiOverlay;\nfunction randomConfettiColor() {\n    const palette = [\n        \"#5B64FF\",\n        \"#57D0FF\",\n        \"#FF9A8B\",\n        \"#FFD166\",\n        \"#8AFFCF\",\n        \"#C4A5FF\"\n    ];\n    return palette[Math.floor(Math.random() * palette.length)];\n}\nfunction formatDuration(minutes) {\n    if (minutes < 60) return \"\".concat(minutes, \" min\");\n    const hrs = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return mins === 0 ? \"\".concat(hrs, \" hr\") : \"\".concat(hrs, \" hr \").concat(mins, \" min\");\n}\nfunction formatCurrency(cents) {\n    return new Intl.NumberFormat(\"en-US\", {\n        style: \"currency\",\n        currency: \"USD\"\n    }).format(cents / 100);\n}\nfunction describeAcceptedMethods(methods) {\n    const unique = Array.from(new Set(methods));\n    const methodLabels = {\n        card: \"Credit & Debit Cards\",\n        cash: \"Cash\",\n        wallets: \"Digital Wallets (Apple Pay, Google Pay)\",\n        apple_pay: \"Apple Pay\",\n        \"apple-pay\": \"Apple Pay\",\n        google_pay: \"Google Pay\",\n        \"google-pay\": \"Google Pay\"\n    };\n    const labels = unique.map((method)=>methodLabels[method.toLowerCase()] || method.toUpperCase());\n    return labels.length > 0 ? \"Accepted: \".concat(labels.join(\", \")) : \"Accepted: Credit & Debit Cards\";\n}\nfunction describeFee(type, value) {\n    if (value <= 0) return \"No fee\";\n    return type === \"percent\" ? \"\".concat(value, \"% of the service price\") : formatCurrency(Math.round(value * 100));\n}\nfunction formatAddress(location) {\n    const parts = [\n        location.addressLine1,\n        location.addressLine2,\n        \"\".concat(location.city, \", \").concat(location.stateProvince),\n        location.country\n    ].filter(Boolean);\n    return parts.join(\" \\xb7 \");\n}\nfunction isValidEmail(email) {\n    return /\\S+@\\S+\\.\\S+/.test(email);\n}\nfunction isValidPhone(phone) {\n    return phone.trim().length >= 7;\n}\nfunction createPolicyConsent(policies) {\n    const hashBase = JSON.stringify(policies);\n    const hash = simpleHash(hashBase);\n    return {\n        hash,\n        acceptedAt: new Date().toISOString(),\n        ip: \"203.0.113.5\",\n        userAgent: navigator.userAgent\n    };\n}\nfunction simpleHash(input) {\n    let hash = 0;\n    for(let index = 0; index < input.length; index += 1){\n        hash = (hash << 5) - hash + input.charCodeAt(index);\n        hash |= 0;\n    }\n    return Math.abs(hash).toString(16);\n}\n// Stripe Payment Form Component\nfunction StripePaymentForm(param) {\n    let { onPaymentMethodReady, acceptedMethods, businessSlug, bookingId, createdBookingId, createdBookingCode, workspace, customerName, customerEmail, customerPhone, listPriceCents, giftCardState, policies, timezone, selectedService, selectedSlot, setCreatedBooking, setStep, toast } = param;\n    _s3();\n    const stripe = (0,_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.useStripe)();\n    const elements = (0,_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.useElements)();\n    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (!stripe || !elements) {\n            return;\n        }\n        setIsProcessing(true);\n        setError(null);\n        try {\n            // Confirm the SetupIntent\n            const { error: confirmError, setupIntent } = await stripe.confirmSetup({\n                elements,\n                redirect: \"if_required\"\n            });\n            if (confirmError) {\n                setError(confirmError.message || \"Failed to save payment method\");\n                setIsProcessing(false);\n                return;\n            }\n            if (setupIntent && setupIntent.payment_method) {\n                const pmId = typeof setupIntent.payment_method === \"string\" ? setupIntent.payment_method : setupIntent.payment_method.id;\n                onPaymentMethodReady(pmId);\n                setError(null);\n                // Create booking object and proceed to confirmation\n                if (selectedService && selectedSlot && createdBookingId) {\n                    var _workspace_staff_find;\n                    const booking = {\n                        id: createdBookingId,\n                        code: createdBookingCode || \"TITHI-\".concat(createdBookingId.slice(0, 8).toUpperCase()),\n                        status: \"pending\",\n                        serviceId: selectedService.id,\n                        serviceName: selectedService.name,\n                        categoryName: selectedService.categoryName,\n                        durationMinutes: selectedService.durationMinutes,\n                        startDateTime: selectedSlot.startDateTime,\n                        endDateTime: selectedSlot.endDateTime,\n                        staff: {\n                            id: selectedSlot.staffId,\n                            name: selectedSlot.staffName,\n                            color: ((_workspace_staff_find = workspace.staff.find((s)=>s.id === selectedSlot.staffId)) === null || _workspace_staff_find === void 0 ? void 0 : _workspace_staff_find.color) || \"#000000\"\n                        },\n                        customer: {\n                            name: customerName.trim(),\n                            email: customerEmail.trim().toLowerCase(),\n                            phone: customerPhone.trim()\n                        },\n                        payments: [],\n                        financials: {\n                            listPriceCents: listPriceCents,\n                            giftCardAmountCents: (giftCardState === null || giftCardState === void 0 ? void 0 : giftCardState.amountCents) || 0,\n                            platformFeeCents: 0,\n                            stripeFeeEstimateCents: 0,\n                            netPayoutCents: 0,\n                            currency: \"usd\"\n                        },\n                        policyConsent: createPolicyConsent(policies),\n                        requiresAction: false\n                    };\n                    setCreatedBooking(booking);\n                    setStep(\"confirmation\");\n                    toast.pushToast({\n                        title: \"Booking confirmed\",\n                        description: \"\".concat(selectedService.name, \" on \").concat((0,_lib_timezone__WEBPACK_IMPORTED_MODULE_12__.formatInTimeZone)(selectedSlot.startDateTime, timezone, {\n                            weekday: \"long\",\n                            month: \"short\",\n                            day: \"numeric\",\n                            hour: \"numeric\",\n                            minute: \"2-digit\"\n                        }), \". No charge yet—card saved securely.\"),\n                        intent: \"success\"\n                    });\n                }\n            }\n        } catch (err) {\n            setError(err instanceof Error ? err.message : \"An error occurred\");\n        } finally{\n            setIsProcessing(false);\n        }\n    };\n    // Configure payment method types - card is ALWAYS required regardless of business settings\n    // This ensures card is always available as backup for no-show fees (even for cash payments)\n    const paymentMethodTypes = [\n        \"card\"\n    ];\n    // Map accepted methods to Stripe payment method types\n    // Note: card is always included above, so we only add additional methods\n    if (acceptedMethods.includes(\"apple_pay\") || acceptedMethods.includes(\"apple-pay\")) {\n        paymentMethodTypes.push(\"apple_pay\");\n    }\n    if (acceptedMethods.includes(\"google_pay\") || acceptedMethods.includes(\"google-pay\")) {\n        paymentMethodTypes.push(\"google_pay\");\n    }\n    // Also check for 'wallets' which might include both\n    if (acceptedMethods.includes(\"wallets\")) {\n        if (!paymentMethodTypes.includes(\"apple_pay\")) paymentMethodTypes.push(\"apple_pay\");\n        if (!paymentMethodTypes.includes(\"google_pay\")) paymentMethodTypes.push(\"google_pay\");\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"mt-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.PaymentElement, {\n                    options: {\n                        paymentMethodTypes: paymentMethodTypes,\n                        // Use tabs only if we have multiple payment methods, otherwise use default layout\n                        ...paymentMethodTypes.length > 1 ? {\n                            layout: \"tabs\"\n                        } : {}\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1844,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_7__.HelperText, {\n                    intent: \"error\",\n                    className: \"text-red-400 mt-2\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1852,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_6__.Button, {\n                    type: \"submit\",\n                    disabled: isProcessing || !stripe,\n                    isLoading: isProcessing,\n                    className: \"w-full mt-4\",\n                    children: isProcessing ? \"Saving payment method...\" : \"Save payment method\"\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n                    lineNumber: 1856,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n            lineNumber: 1843,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/public-booking/booking-flow.tsx\",\n        lineNumber: 1842,\n        columnNumber: 5\n    }, this);\n}\n_s3(StripePaymentForm, \"ry5YNiexQ39a2DMSlb42IDsQbf4=\", false, function() {\n    return [\n        _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.useStripe,\n        _stripe_react_stripe_js__WEBPACK_IMPORTED_MODULE_4__.useElements\n    ];\n});\n_c11 = StripePaymentForm;\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n$RefreshReg$(_c, \"PublicBookingExperience\");\n$RefreshReg$(_c1, \"CatalogStep\");\n$RefreshReg$(_c2, \"AvailabilityStep\");\n$RefreshReg$(_c3, \"CheckoutStep\");\n$RefreshReg$(_c4, \"ConfirmationStep\");\n$RefreshReg$(_c5, \"PolicyModal\");\n$RefreshReg$(_c6, \"StepIndicator\");\n$RefreshReg$(_c7, \"Field\");\n$RefreshReg$(_c8, \"StaffPill\");\n$RefreshReg$(_c9, \"PolicyBlock\");\n$RefreshReg$(_c10, \"ConfettiOverlay\");\n$RefreshReg$(_c11, \"StripePaymentForm\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3B1YmxpYy1ib29raW5nL2Jvb2tpbmctZmxvdy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFcUQ7QUFrQi9CO0FBQ3lCO0FBQzRDO0FBRTdDO0FBQ0U7QUFDUztBQUNYO0FBQ0c7QUFDaEI7QUFHNkU7QUFDNUQ7QUFFbEQsb0JBQW9CO0FBQ3BCLE1BQU1nQyxnQkFBZ0JiLDZEQUFVQSxDQUFDYyw2R0FBOEMsSUFBSTtBQWdCNUUsU0FBU0csd0JBQXdCLEtBSVQ7UUFKUyxFQUN0Q0MsUUFBUSxFQUNSQyxTQUFTLEVBQ1RDLGFBQWEsRUFDZ0IsR0FKUzs7SUFLdEMsTUFBTUMsUUFBUVosOERBQVFBO0lBQ3RCLE1BQU0sQ0FBQ2EsTUFBTUMsUUFBUSxHQUFHeEMsK0NBQVFBLENBQU87SUFDdkMsTUFBTSxDQUFDeUMsbUJBQW1CQyxxQkFBcUIsR0FBRzFDLCtDQUFRQSxDQUFnQjtJQUMxRSxNQUFNLENBQUMyQyxpQkFBaUJDLG1CQUFtQixHQUFHNUMsK0NBQVFBLENBQVM7SUFDL0QsTUFBTSxDQUFDNkMsY0FBY0MsZ0JBQWdCLEdBQUc5QywrQ0FBUUEsQ0FBa0M7SUFDbEYsTUFBTSxDQUFDK0MsZUFBZUMsaUJBQWlCLEdBQUdoRCwrQ0FBUUEsQ0FBdUI7SUFDekUsTUFBTSxDQUFDaUQsZUFBZUMsaUJBQWlCLEdBQUdsRCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUNtRCxlQUFlQyxpQkFBaUIsR0FBR3BELCtDQUFRQSxDQUFnQjtJQUNsRSxNQUFNLENBQUNxRCxjQUFjQyxnQkFBZ0IsR0FBR3RELCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3VELGVBQWVDLGlCQUFpQixHQUFHeEQsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDeUQsZUFBZUMsaUJBQWlCLEdBQUcxRCwrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUMyRCx5QkFBeUJD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c0w7b0JBQ1gzTSxXQUFVOzhCQUVUMk0sZUFBZSw2QkFBNkI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS3ZEO0lBcExTakY7O1FBK0NRN1UsOERBQVNBO1FBQ1BDLGdFQUFXQTs7O09BaERyQjRVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL3B1YmxpYy1ib29raW5nL2Jvb2tpbmctZmxvdy50c3g/YWM5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgQXJyb3dMZWZ0LFxuICBBcnJvd1JpZ2h0LFxuICBDYWxlbmRhckRheXMsXG4gIENoZWNrLFxuICBDaGVja0NpcmNsZTIsXG4gIENoZXZyb25MZWZ0LFxuICBDaGV2cm9uUmlnaHQsXG4gIENsb2NrLFxuICBDcmVkaXRDYXJkLFxuICBHaWZ0LFxuICBMb2FkZXIyLFxuICBNYXBQaW4sXG4gIFBhcnR5UG9wcGVyLFxuICBTaGllbGRDaGVjayxcbiAgU3BhcmtsZXMsXG4gIFVzZXJzXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IGxvYWRTdHJpcGUgfSBmcm9tIFwiQHN0cmlwZS9zdHJpcGUtanNcIjtcbmltcG9ydCB7IEVsZW1lbnRzLCBQYXltZW50RWxlbWVudCwgdXNlU3RyaXBlLCB1c2VFbGVtZW50cyB9IGZyb20gXCJAc3RyaXBlL3JlYWN0LXN0cmlwZS1qc1wiO1xuXG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYmFkZ2VcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyBIZWxwZXJUZXh0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9oZWxwZXItdGV4dFwiO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2lucHV0XCI7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdG9hc3RcIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgdHlwZSB7IEZha2VCb29raW5nLCBGYWtlQnVzaW5lc3NXb3Jrc3BhY2UgfSBmcm9tIFwiQC9saWIvYWRtaW4td29ya3NwYWNlXCI7XG5pbXBvcnQgdHlwZSB7IEZha2VCdXNpbmVzcywgUHVibGljQm9va2luZ1BheWxvYWQgfSBmcm9tIFwiQC9saWIvZmFrZS1idXNpbmVzc1wiO1xuaW1wb3J0IHsgYnVpbGRFeHBhbmRlZFNsb3RzLCBncm91cFNsb3RzQnlEYXksIHR5cGUgRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90IH0gZnJvbSBcIkAvbGliL2F2YWlsYWJpbGl0eS11dGlsc1wiO1xuaW1wb3J0IHsgZm9ybWF0SW5UaW1lWm9uZSB9IGZyb20gXCJAL2xpYi90aW1lem9uZVwiO1xuXG4vLyBJbml0aWFsaXplIFN0cmlwZVxuY29uc3Qgc3RyaXBlUHJvbWlzZSA9IGxvYWRTdHJpcGUocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSB8fCAnJyk7XG5cbnR5cGUgU3RlcCA9IFwiY2F0YWxvZ1wiIHwgXCJhdmFpbGFiaWxpdHlcIiB8IFwiY2hlY2tvdXRcIiB8IFwiY29uZmlybWF0aW9uXCI7XG5cbmludGVyZmFjZSBQdWJsaWNCb29raW5nRXhwZXJpZW5jZVByb3BzIHtcbiAgYnVzaW5lc3M6IEZha2VCdXNpbmVzcztcbiAgd29ya3NwYWNlOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2U7XG4gIHJlY29yZEJvb2tpbmc6IChwYXlsb2FkOiBQdWJsaWNCb29raW5nUGF5bG9hZCkgPT4gRmFrZUJvb2tpbmcgfCB1bmRlZmluZWQ7XG59XG5cbmludGVyZmFjZSBHaWZ0Q2FyZFN0YXRlIHtcbiAgY29kZTogc3RyaW5nO1xuICBhbW91bnRDZW50czogbnVtYmVyO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHVibGljQm9va2luZ0V4cGVyaWVuY2Uoe1xuICBidXNpbmVzcyxcbiAgd29ya3NwYWNlLFxuICByZWNvcmRCb29raW5nXG59OiBQdWJsaWNCb29raW5nRXhwZXJpZW5jZVByb3BzKSB7XG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgW3N0ZXAsIHNldFN0ZXBdID0gdXNlU3RhdGU8U3RlcD4oXCJjYXRhbG9nXCIpO1xuICBjb25zdCBbc2VsZWN0ZWRTZXJ2aWNlSWQsIHNldFNlbGVjdGVkU2VydmljZUlkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWRTdGFmZklkLCBzZXRTZWxlY3RlZFN0YWZmSWRdID0gdXNlU3RhdGU8c3RyaW5nPihcImFueVwiKTtcbiAgY29uc3QgW3NlbGVjdGVkU2xvdCwgc2V0U2VsZWN0ZWRTbG90XSA9IHVzZVN0YXRlPEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZ2lmdENhcmRTdGF0ZSwgc2V0R2lmdENhcmRTdGF0ZV0gPSB1c2VTdGF0ZTxHaWZ0Q2FyZFN0YXRlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtnaWZ0Q2FyZElucHV0LCBzZXRHaWZ0Q2FyZElucHV0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZ2lmdENhcmRFcnJvciwgc2V0R2lmdENhcmRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1c3RvbWVyTmFtZSwgc2V0Q3VzdG9tZXJOYW1lXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbY3VzdG9tZXJFbWFpbCwgc2V0Q3VzdG9tZXJFbWFpbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2N1c3RvbWVyUGhvbmUsIHNldEN1c3RvbWVyUGhvbmVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzZXR1cEludGVudENsaWVudFNlY3JldCwgc2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwYXltZW50TWV0aG9kSWQsIHNldFBheW1lbnRNZXRob2RJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NyZWF0ZWRCb29raW5nSWQsIHNldENyZWF0ZWRCb29raW5nSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjcmVhdGVkQm9va2luZ0NvZGUsIHNldENyZWF0ZWRCb29raW5nQ29kZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2NvbnNlbnRDaGVja2VkLCBzZXRDb25zZW50Q2hlY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1BvbGljeU1vZGFsT3Blbiwgc2V0SXNQb2xpY3lNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3JlYXRlZEJvb2tpbmcsIHNldENyZWF0ZWRCb29raW5nXSA9IHVzZVN0YXRlPEZha2VCb29raW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtmZXRjaGVkU2xvdHMsIHNldEZldGNoZWRTbG90c10gPSB1c2VTdGF0ZTxFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3RbXT4oW10pO1xuICBjb25zdCBbaXNMb2FkaW5nQXZhaWxhYmlsaXR5LCBzZXRJc0xvYWRpbmdBdmFpbGFiaWxpdHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYXZhaWxhYmlsaXR5RXJyb3IsIHNldEF2YWlsYWJpbGl0eUVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlSWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiB3b3Jrc3BhY2UuY2F0YWxvZykge1xuICAgICAgY29uc3Qgc2VydmljZSA9IGNhdGVnb3J5LnNlcnZpY2VzLmZpbmQoKHN2YykgPT4gc3ZjLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG4gICAgICBpZiAoc2VydmljZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnNlcnZpY2UsXG4gICAgICAgICAgY2F0ZWdvcnlOYW1lOiBjYXRlZ29yeS5uYW1lLFxuICAgICAgICAgIGNhdGVnb3J5Q29sb3I6IGNhdGVnb3J5LmNvbG9yXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFtzZWxlY3RlZFNlcnZpY2VJZCwgd29ya3NwYWNlLmNhdGFsb2ddKTtcblxuICAvLyBGZXRjaCBhdmFpbGFiaWxpdHkgZnJvbSBBUEkgd2hlbiBzZXJ2aWNlIGlzIHNlbGVjdGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2UgfHwgc3RlcCAhPT0gXCJhdmFpbGFiaWxpdHlcIikge1xuICAgICAgc2V0RmV0Y2hlZFNsb3RzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBmZXRjaEF2YWlsYWJpbGl0eSgpIHtcbiAgICAgIHNldElzTG9hZGluZ0F2YWlsYWJpbGl0eSh0cnVlKTtcbiAgICAgIHNldEF2YWlsYWJpbGl0eUVycm9yKG51bGwpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBGZXRjaCBhdmFpbGFiaWxpdHkgZm9yIHRoZSBuZXh0IDE0IGRheXMgKDIgd2Vla3MpXG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgYWxsU2xvdHM6IEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdFtdID0gW107XG4gICAgICAgIGNvbnN0IHRpbWV6b25lID0gd29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uLnRpbWV6b25lIHx8IFwiVVRDXCI7XG4gICAgICAgIGNvbnN0IGRheUZvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KFwiZW4tVVNcIiwgeyBcbiAgICAgICAgICB0aW1lWm9uZTogdGltZXpvbmUsIFxuICAgICAgICAgIHdlZWtkYXk6IFwibG9uZ1wiIFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTQ7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0b2RheSk7XG4gICAgICAgICAgZGF0ZS5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIGkpO1xuICAgICAgICAgIGNvbnN0IGRhdGVTdHIgPSBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsgLy8gWVlZWS1NTS1ERFxuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICAgICAgICBgL2FwaS9wdWJsaWMvJHtidXNpbmVzcy5zbHVnfS9hdmFpbGFiaWxpdHk/c2VydmljZV9pZD0ke3NlbGVjdGVkU2VydmljZS5pZH0mZGF0ZT0ke2RhdGVTdHJ9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBmZXRjaCBhdmFpbGFiaWxpdHkgZm9yICR7ZGF0ZVN0cn06YCwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW2Jvb2tpbmctZmxvd10gRmV0Y2hlZCBhdmFpbGFiaWxpdHkgZm9yICR7ZGF0ZVN0cn06YCwge1xuICAgICAgICAgICAgICBzbG90c0NvdW50OiBkYXRhLnNsb3RzPy5sZW5ndGggfHwgMCxcbiAgICAgICAgICAgICAgaGFzU2xvdHM6IEFycmF5LmlzQXJyYXkoZGF0YS5zbG90cyksXG4gICAgICAgICAgICAgIHNhbXBsZVNsb3Q6IGRhdGEuc2xvdHM/LlswXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZGF0YS5zbG90cyAmJiBBcnJheS5pc0FycmF5KGRhdGEuc2xvdHMpKSB7XG4gICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBBUEkgc2xvdHMgdG8gRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90IGZvcm1hdFxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNsb3Qgb2YgZGF0YS5zbG90cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHNsb3Quc3RhcnRfYXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShzbG90LmVuZF9hdCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF5TGFiZWwgPSBkYXlGb3JtYXR0ZXIuZm9ybWF0KHN0YXJ0RGF0ZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRmluZCBzdGFmZiBtZW1iZXIgdG8gZ2V0IGNvbG9yXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhZmZNZW1iZXIgPSB3b3Jrc3BhY2Uuc3RhZmYuZmluZChzID0+IHMuaWQgPT09IHNsb3Quc3RhZmZfaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YWZmQ29sb3IgPSBzdGFmZk1lbWJlcj8uY29sb3IgfHwgXCIjMDAwMDAwXCI7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWxsU2xvdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICBpZDogYCR7c2xvdC5zdGFmZl9pZH0tJHtzbG90LnN0YXJ0X2F0fWAsXG4gICAgICAgICAgICAgICAgICBzZXJ2aWNlSWQ6IHNlbGVjdGVkU2VydmljZS5pZCxcbiAgICAgICAgICAgICAgICAgIHN0YWZmSWQ6IHNsb3Quc3RhZmZfaWQsXG4gICAgICAgICAgICAgICAgICBzdGFmZk5hbWU6IHNsb3Quc3RhZmZfbmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YWZmQ29sb3I6IHN0YWZmQ29sb3IsXG4gICAgICAgICAgICAgICAgICBzdGFydERhdGVUaW1lOiBzbG90LnN0YXJ0X2F0LFxuICAgICAgICAgICAgICAgICAgZW5kRGF0ZVRpbWU6IHNsb3QuZW5kX2F0LFxuICAgICAgICAgICAgICAgICAgZGF5TGFiZWw6IGRheUxhYmVsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFtib29raW5nLWZsb3ddIE5vIHNsb3RzIGFycmF5IGluIHJlc3BvbnNlIGZvciAke2RhdGVTdHJ9OmAsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgYXZhaWxhYmlsaXR5IGZvciAke2RhdGVTdHJ9OmAsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRGZXRjaGVkU2xvdHMoYWxsU2xvdHMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXZhaWxhYmlsaXR5OicsIGVycm9yKTtcbiAgICAgICAgc2V0QXZhaWxhYmlsaXR5RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGF2YWlsYWJpbGl0eS4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZ0F2YWlsYWJpbGl0eShmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hBdmFpbGFiaWxpdHkoKTtcbiAgfSwgW3NlbGVjdGVkU2VydmljZSwgc3RlcCwgYnVzaW5lc3Muc2x1Zywgd29ya3NwYWNlLnN0YWZmLCB3b3Jrc3BhY2UuaWRlbnRpdHkubG9jYXRpb24udGltZXpvbmVdKTtcblxuICBjb25zdCBzZXJ2aWNlQXZhaWxhYmlsaXR5ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgLy8gVXNlIGZldGNoZWQgc2xvdHMgZnJvbSBBUEkgaW5zdGVhZCBvZiB3b3Jrc3BhY2UuYXZhaWxhYmlsaXR5XG4gICAgcmV0dXJuIGZldGNoZWRTbG90cztcbiAgfSwgW2ZldGNoZWRTbG90c10pO1xuXG4gIGNvbnN0IGdyb3VwZWRTbG90cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlKSByZXR1cm4ge307XG4gICAgY29uc3QgZmlsdGVyZWQgPVxuICAgICAgc2VsZWN0ZWRTdGFmZklkID09PSBcImFueVwiXG4gICAgICAgID8gc2VydmljZUF2YWlsYWJpbGl0eVxuICAgICAgICA6IHNlcnZpY2VBdmFpbGFiaWxpdHkuZmlsdGVyKChzbG90KSA9PiBzbG90LnN0YWZmSWQgPT09IHNlbGVjdGVkU3RhZmZJZCk7XG4gICAgcmV0dXJuIGdyb3VwU2xvdHNCeURheShmaWx0ZXJlZCwgd29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uLnRpbWV6b25lIHx8IFwiVVRDXCIpO1xuICB9LCBbXG4gICAgc2VydmljZUF2YWlsYWJpbGl0eSxcbiAgICBzZWxlY3RlZFN0YWZmSWQsXG4gICAgd29ya3NwYWNlLmlkZW50aXR5LmxvY2F0aW9uLnRpbWV6b25lLFxuICAgIHNlbGVjdGVkU2VydmljZVxuICBdKTtcblxuICBjb25zdCBsaXN0UHJpY2VDZW50cyA9IHNlbGVjdGVkU2VydmljZT8ucHJpY2VDZW50cyA/PyAwO1xuICBjb25zdCBhcHBsaWVkR2lmdENhcmRDZW50cyA9IGdpZnRDYXJkU3RhdGU/LmFtb3VudENlbnRzID8/IDA7XG4gIGNvbnN0IGFtb3VudER1ZUNlbnRzID0gTWF0aC5tYXgobGlzdFByaWNlQ2VudHMgLSBhcHBsaWVkR2lmdENhcmRDZW50cywgMCk7XG5cbiAgLy8gQ2FyZCBpcyBhbHdheXMgcmVxdWlyZWQgZm9yIGFsbCBib29raW5ncyAoZXZlbiBjYXNoKSBhcyBiYWNrdXAgZm9yIG5vLXNob3cgZmVlc1xuICAvLyBCdXQgd2UgZGlzcGxheSB0aGUgYnVzaW5lc3MncyBhY2NlcHRlZCBtZXRob2RzIGZyb20gb25ib2FyZGluZyBmb3IgaW5mb3JtYXRpb25cbiAgY29uc3QgYnVzaW5lc3NBY2NlcHRlZE1ldGhvZHMgPSB3b3Jrc3BhY2UucGF5bWVudC5hY2NlcHRlZE1ldGhvZHMgfHwgW107XG4gIGNvbnN0IGFjY2VwdGVkTWV0aG9kc0ZvckRpc3BsYXkgPSBidXNpbmVzc0FjY2VwdGVkTWV0aG9kcy5sZW5ndGggPiAwIFxuICAgID8gYnVzaW5lc3NBY2NlcHRlZE1ldGhvZHMgXG4gICAgOiBbXCJjYXJkXCJdOyAvLyBEZWZhdWx0IHRvIGNhcmQgaWYgbm8gbWV0aG9kcyBzcGVjaWZpZWRcblxuICBjb25zdCBwb2xpY2llcyA9IHdvcmtzcGFjZS5wb2xpY2llcztcbiAgY29uc3QgdGltZXpvbmUgPSB3b3Jrc3BhY2UuaWRlbnRpdHkubG9jYXRpb24udGltZXpvbmUgfHwgXCJVVENcIjtcblxuICBjb25zdCBoYW5kbGVTZWxlY3RTZXJ2aWNlID0gKHNlcnZpY2VJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRTZXJ2aWNlSWQoc2VydmljZUlkKTtcbiAgICBzZXRTZWxlY3RlZFN0YWZmSWQoXCJhbnlcIik7XG4gICAgc2V0U2VsZWN0ZWRTbG90KG51bGwpO1xuICAgIHNldFN0ZXAoXCJhdmFpbGFiaWxpdHlcIik7XG4gICAgc2V0R2lmdENhcmRTdGF0ZShudWxsKTtcbiAgICBzZXRHaWZ0Q2FyZElucHV0KFwiXCIpO1xuICAgIHNldEdpZnRDYXJkRXJyb3IobnVsbCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VsZWN0U2xvdCA9IChzbG90OiBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QpID0+IHtcbiAgICBzZXRTZWxlY3RlZFNsb3Qoc2xvdCk7XG4gICAgc2V0R2lmdENhcmRTdGF0ZShudWxsKTtcbiAgICBzZXRHaWZ0Q2FyZElucHV0KFwiXCIpO1xuICAgIHNldEdpZnRDYXJkRXJyb3IobnVsbCk7XG4gICAgc2V0U3RlcChcImNoZWNrb3V0XCIpO1xuICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6IFwic21vb3RoXCIgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQXBwbHlHaWZ0Q2FyZCA9ICgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSkgcmV0dXJuO1xuICAgIGNvbnN0IGNvZGUgPSBnaWZ0Q2FyZElucHV0LnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgIGlmIChjb2RlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0R2lmdENhcmRFcnJvcihcIkVudGVyIGEgZ2lmdCBjYXJkIGNvZGUgdG8gYXBwbHkuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm9ncmFtID0gd29ya3NwYWNlLmdpZnRDYXJkcztcbiAgICBpZiAoIXByb2dyYW0uY29uZmlnLmVuYWJsZWQpIHtcbiAgICAgIHNldEdpZnRDYXJkRXJyb3IoXCJHaWZ0IGNhcmRzIGFyZSBub3QgZW5hYmxlZCBmb3IgdGhpcyBidXNpbmVzcy5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFsbENvZGVzID0gbmV3IFNldChbXG4gICAgICAuLi5wcm9ncmFtLmNvbmZpZy5nZW5lcmF0ZWRDb2Rlcy5tYXAoKGVudHJ5KSA9PiBlbnRyeS50b1VwcGVyQ2FzZSgpKSxcbiAgICAgIC4uLnByb2dyYW0ubGVkZ2VyLm1hcCgoZW50cnkpID0+IGVudHJ5LmNvZGUudG9VcHBlckNhc2UoKSlcbiAgICBdKTtcbiAgICBpZiAoIWFsbENvZGVzLmhhcyhjb2RlKSkge1xuICAgICAgc2V0R2lmdENhcmRFcnJvcihcIlRoYXQgY29kZSBpcyBub3QgcmVjb2duaXplZC4gQ2hlY2sgdGhlIHNwZWxsaW5nIGFuZCB0cnkgYWdhaW4uXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhbW91bnRDZW50cyA9XG4gICAgICBwcm9ncmFtLmNvbmZpZy5hbW91bnRUeXBlID09PSBcImFtb3VudFwiXG4gICAgICAgID8gcHJvZ3JhbS5jb25maWcuYW1vdW50VmFsdWVcbiAgICAgICAgOiBNYXRoLnJvdW5kKChzZWxlY3RlZFNlcnZpY2UucHJpY2VDZW50cyAqIHByb2dyYW0uY29uZmlnLmFtb3VudFZhbHVlKSAvIDEwMCk7XG4gICAgY29uc3QgYXBwbGllZEFtb3VudCA9IE1hdGgubWluKGFtb3VudENlbnRzLCBzZWxlY3RlZFNlcnZpY2UucHJpY2VDZW50cyk7XG4gICAgaWYgKGFwcGxpZWRBbW91bnQgPD0gMCkge1xuICAgICAgc2V0R2lmdENhcmRFcnJvcihcIlRoaXMgZ2lmdCBjYXJkIGhhcyBubyBiYWxhbmNlIHJlbWFpbmluZy5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldEdpZnRDYXJkRXJyb3IobnVsbCk7XG4gICAgc2V0R2lmdENhcmRTdGF0ZSh7XG4gICAgICBjb2RlLFxuICAgICAgYW1vdW50Q2VudHM6IGFwcGxpZWRBbW91bnQsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgcHJvZ3JhbS5jb25maWcuYW1vdW50VHlwZSA9PT0gXCJhbW91bnRcIlxuICAgICAgICAgID8gYCR7Zm9ybWF0Q3VycmVuY3koYXBwbGllZEFtb3VudCl9IGFwcGxpZWRgXG4gICAgICAgICAgOiBgJHtwcm9ncmFtLmNvbmZpZy5hbW91bnRWYWx1ZX0lIG9mZiAoJHtmb3JtYXRDdXJyZW5jeShhcHBsaWVkQW1vdW50KX0pYFxuICAgIH0pO1xuICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICB0aXRsZTogXCJHaWZ0IGNhcmQgYXBwbGllZFwiLFxuICAgICAgZGVzY3JpcHRpb246IGBXZSBkZWR1Y3RlZCAke2Zvcm1hdEN1cnJlbmN5KGFwcGxpZWRBbW91bnQpfSBmcm9tIHRvZGF5J3MgdG90YWwuYCxcbiAgICAgIGludGVudDogXCJzdWNjZXNzXCJcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXRDaGVja291dCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSB8fCAhc2VsZWN0ZWRTbG90KSByZXR1cm47XG4gICAgaWYgKGN1c3RvbWVyTmFtZS50cmltKCkubGVuZ3RoIDwgMikge1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiQWRkIHlvdXIgbmFtZVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJXZSBuZWVkIHlvdXIgZmlyc3QgYW5kIGxhc3QgbmFtZSB0byBwZXJzb25hbGl6ZSBub3RpZmljYXRpb25zLlwiLFxuICAgICAgICBpbnRlbnQ6IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNWYWxpZEVtYWlsKGN1c3RvbWVyRW1haWwpKSB7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJFbnRlciBhIHZhbGlkIGVtYWlsXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIldlIHVzZSB5b3VyIGVtYWlsIGZvciBjb25maXJtYXRpb25zIGFuZCByZWNlaXB0cy5cIixcbiAgICAgICAgaW50ZW50OiBcImVycm9yXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWRQaG9uZShjdXN0b21lclBob25lKSkge1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiUGhvbmUgbnVtYmVyIHJlcXVpcmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkFkZCBhIHBob25lIG51bWJlciBzbyB3ZSBjYW4gc2VuZCByZW1pbmRlcnMgb3IgcmVhY2ggeW91IGFib3V0IGNoYW5nZXMuXCIsXG4gICAgICAgIGludGVudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFjb25zZW50Q2hlY2tlZCkge1xuICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiQ29uc2VudCByZXF1aXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJSZXZpZXcgdGhlIHBvbGljaWVzIGFuZCBjb25maXJtIHlvdSBhZ3JlZSBiZWZvcmUgYm9va2luZy5cIixcbiAgICAgICAgaW50ZW50OiBcImVycm9yXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBQYXltZW50IG1ldGhvZCBtdXN0IGJlIHNldCB2aWEgU3RyaXBlIEVsZW1lbnRzIGJlZm9yZSBzdWJtaXR0aW5nXG4gICAgaWYgKCFwYXltZW50TWV0aG9kSWQgJiYgIXNldHVwSW50ZW50Q2xpZW50U2VjcmV0KSB7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJQYXltZW50IG1ldGhvZCByZXF1aXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJQbGVhc2UgY29tcGxldGUgdGhlIHBheW1lbnQgZm9ybS4gWW91ciBjYXJkIHdpbGwgYmUgc2F2ZWQgc2VjdXJlbHkgYnV0IG5vdCBjaGFyZ2VkLlwiLFxuICAgICAgICBpbnRlbnQ6IFwiZXJyb3JcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNTdWJtaXR0aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgdGhlIGJvb2tpbmcgdmlhIEFQSSB0byBnZXQgU2V0dXBJbnRlbnQgY2xpZW50IHNlY3JldFxuICAgICAgY29uc3QgYXBpUGF5bG9hZCA9IHtcbiAgICAgICAgc2VydmljZV9pZDogc2VsZWN0ZWRTZXJ2aWNlLmlkLFxuICAgICAgICBzdGFmZl9pZDogc2VsZWN0ZWRTbG90LnN0YWZmSWQsXG4gICAgICAgIHN0YXJ0X2F0OiBzZWxlY3RlZFNsb3Quc3RhcnREYXRlVGltZSxcbiAgICAgICAgY3VzdG9tZXI6IHtcbiAgICAgICAgICBuYW1lOiBjdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgIGVtYWlsOiBjdXN0b21lckVtYWlsLnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIHBob25lOiBjdXN0b21lclBob25lLnRyaW0oKVxuICAgICAgICB9LFxuICAgICAgICBnaWZ0X2NhcmRfY29kZTogZ2lmdENhcmRTdGF0ZT8uY29kZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvcHVibGljLyR7YnVzaW5lc3Muc2x1Z30vYm9va2luZ3NgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYXBpUGF5bG9hZCksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgYm9va2luZycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhcGlSZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgLy8gU3RvcmUgdGhlIFNldHVwSW50ZW50IGNsaWVudCBzZWNyZXQgYW5kIGJvb2tpbmcgaW5mb1xuICAgICAgaWYgKGFwaVJlc3BvbnNlLmNsaWVudF9zZWNyZXQpIHtcbiAgICAgICAgc2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXQoYXBpUmVzcG9uc2UuY2xpZW50X3NlY3JldCk7XG4gICAgICAgIHNldENyZWF0ZWRCb29raW5nSWQoYXBpUmVzcG9uc2UuYm9va2luZ19pZCk7XG4gICAgICAgIHNldENyZWF0ZWRCb29raW5nQ29kZShhcGlSZXNwb25zZS5ib29raW5nX2NvZGUpO1xuICAgICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIkNvbXBsZXRlIHBheW1lbnQgc2V0dXBcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJQbGVhc2UgY29uZmlybSB5b3VyIHBheW1lbnQgbWV0aG9kIGJlbG93LiBZb3VyIGNhcmQgd2lsbCBiZSBzYXZlZCBzZWN1cmVseS5cIixcbiAgICAgICAgICBpbnRlbnQ6IFwiaW5mb1wiXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGNsaWVudCBzZWNyZXQsIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgcGF5bWVudCBzZXR1cCBpbmZvcm1hdGlvbicpO1xuICAgICAgXG4gICAgICAvLyBWYWxpZGF0ZSBkYXRlIGJlZm9yZSBmb3JtYXR0aW5nXG4gICAgICBpZiAoY29tcGxldGVCb29raW5nLnN0YXJ0RGF0ZVRpbWUpIHtcbiAgICAgICAgY29uc3QgYm9va2luZ0RhdGUgPSBuZXcgRGF0ZShjb21wbGV0ZUJvb2tpbmcuc3RhcnREYXRlVGltZSk7XG4gICAgICAgIGlmICghaXNOYU4oYm9va2luZ0RhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgIHRvYXN0LnB1c2hUb2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJCb29raW5nIGNvbmZpcm1lZFwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGAke3NlbGVjdGVkU2VydmljZS5uYW1lfSBvbiAke2Zvcm1hdEluVGltZVpvbmUoXG4gICAgICAgICAgICAgIGNvbXBsZXRlQm9va2luZy5zdGFydERhdGVUaW1lLFxuICAgICAgICAgICAgICB0aW1lem9uZSxcbiAgICAgICAgICAgICAgeyB3ZWVrZGF5OiBcImxvbmdcIiwgbW9udGg6IFwic2hvcnRcIiwgZGF5OiBcIm51bWVyaWNcIiwgaG91cjogXCJudW1lcmljXCIsIG1pbnV0ZTogXCIyLWRpZ2l0XCIgfVxuICAgICAgICAgICAgKX0uIE5vIGNoYXJnZSB5ZXTigJRjYXJkIHNhdmVkIHNlY3VyZWx5LmAsXG4gICAgICAgICAgICBpbnRlbnQ6IFwic3VjY2Vzc1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkJvb2tpbmcgY29uZmlybWVkXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYCR7c2VsZWN0ZWRTZXJ2aWNlLm5hbWV9IGJvb2tpbmcgY3JlYXRlZC4gTm8gY2hhcmdlIHlldOKAlGNhcmQgc2F2ZWQgc2VjdXJlbHkuYCxcbiAgICAgICAgICAgIGludGVudDogXCJzdWNjZXNzXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogXCJCb29raW5nIGNvbmZpcm1lZFwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtzZWxlY3RlZFNlcnZpY2UubmFtZX0gYm9va2luZyBjcmVhdGVkLiBObyBjaGFyZ2UgeWV04oCUY2FyZCBzYXZlZCBzZWN1cmVseS5gLFxuICAgICAgICAgIGludGVudDogXCJzdWNjZXNzXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN1Ym1pdHRpbmcgYm9va2luZzonLCBlcnJvcik7XG4gICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJCb29raW5nIGZhaWxlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIldlIGNvdWxkbid0IGNyZWF0ZSB5b3VyIGJvb2tpbmcuIFBsZWFzZSB0cnkgYWdhaW4uXCIsXG4gICAgICAgIGludGVudDogXCJlcnJvclwiXG4gICAgICB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUmVzZXRGbG93ID0gKCkgPT4ge1xuICAgIHNldFN0ZXAoXCJjYXRhbG9nXCIpO1xuICAgIHNldFNlbGVjdGVkU2VydmljZUlkKG51bGwpO1xuICAgIHNldFNlbGVjdGVkU3RhZmZJZChcImFueVwiKTtcbiAgICBzZXRTZWxlY3RlZFNsb3QobnVsbCk7XG4gICAgc2V0R2lmdENhcmRTdGF0ZShudWxsKTtcbiAgICBzZXRHaWZ0Q2FyZElucHV0KFwiXCIpO1xuICAgIHNldEdpZnRDYXJkRXJyb3IobnVsbCk7XG4gICAgc2V0Q3VzdG9tZXJOYW1lKFwiXCIpO1xuICAgIHNldEN1c3RvbWVyRW1haWwoXCJcIik7XG4gICAgc2V0Q3VzdG9tZXJQaG9uZShcIlwiKTtcbiAgICBzZXRTZXR1cEludGVudENsaWVudFNlY3JldChudWxsKTtcbiAgICBzZXRQYXltZW50TWV0aG9kSWQobnVsbCk7XG4gICAgc2V0Q3JlYXRlZEJvb2tpbmdJZChudWxsKTtcbiAgICBzZXRDcmVhdGVkQm9va2luZ0NvZGUobnVsbCk7XG4gICAgc2V0Q29uc2VudENoZWNrZWQoZmFsc2UpO1xuICAgIHNldElzUG9saWN5TW9kYWxPcGVuKGZhbHNlKTtcbiAgICBzZXRDcmVhdGVkQm9va2luZyhudWxsKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgbWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmxhY2sgdmlhLXNsYXRlLTk1MCB0by1bIzBiMGQxYV0gdGV4dC13aGl0ZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIC16LTEwIGJnLVtyYWRpYWwtZ3JhZGllbnQoY2lyY2xlX2F0X3RvcCxfcmdiYSg5MSwxMDAsMjU1LDAuMjUpLF90cmFuc3BhcmVudF82MCUpXVwiIC8+XG4gICAgICB7c3RlcCA9PT0gXCJjb25maXJtYXRpb25cIiA/IDxDb25mZXR0aU92ZXJsYXkgLz4gOiBudWxsfVxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJteC1hdXRvIG1heC13LTV4bCBweC00IHB5LTEyIHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTYgbWQ6ZmxleC1yb3cgbWQ6aXRlbXMtc3RhcnQgbWQ6anVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIDxCYWRnZSBpbnRlbnQ9XCJpbmZvXCIgY2xhc3NOYW1lPVwidy1maXRcIj5cbiAgICAgICAgICAgICAgTWFudWFsIGNhcHR1cmUg4oCUIG5vIGNoYXJnZSBhdCBib29raW5nXG4gICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImZvbnQtZGlzcGxheSB0ZXh0LTR4bCBzbTp0ZXh0LTV4bFwiPlxuICAgICAgICAgICAgICAgIEJvb2sge3dvcmtzcGFjZS5pZGVudGl0eS5idXNpbmVzcy5idXNpbmVzc05hbWV9XG4gICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgbWF4LXctMnhsIHRleHQtYmFzZSB0ZXh0LXdoaXRlLzcwXCI+XG4gICAgICAgICAgICAgICAge3dvcmtzcGFjZS5pZGVudGl0eS5idXNpbmVzcy5kZXNjcmlwdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgXCJTZWxlY3QgYSBzZXJ2aWNlLCBjaG9vc2UgdGhlIGJlc3QgdGltZSwgYW5kIHNlY3VyZSB5b3VyIGFwcG9pbnRtZW50LiBZb3VyIGNhcmQgaXMgc3RvcmVkIHNlY3VyZWx5IGFuZCBvbmx5IGNoYXJnZWQgYWZ0ZXIgdGhlIHZpc2l0IG9yIGlmIGEgcG9saWN5IGZlZSBhcHBsaWVzLlwifVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0zIHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC0zIHB5LTFcIj5cbiAgICAgICAgICAgICAgICA8TWFwUGluIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgIHtmb3JtYXRBZGRyZXNzKHdvcmtzcGFjZS5pZGVudGl0eS5sb2NhdGlvbil9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0xXCI+XG4gICAgICAgICAgICAgICAgPENsb2NrIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgIEFsbCB0aW1lcyBzaG93biBpbiB7dGltZXpvbmV9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcHgtMyBweS0xXCI+XG4gICAgICAgICAgICAgICAgPFNoaWVsZENoZWNrIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgIENhcmQgc2F2ZWQgc2VjdXJlbHkg4oCUIGNhcHR1cmUgaGFwcGVucyBsYXRlclxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Y3JlYXRlZEJvb2tpbmcgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItZW1lcmFsZC00MDAvMzAgYmctZW1lcmFsZC01MDAvMTAgcC02IHRleHQtZW1lcmFsZC0xMDAgc2hhZG93LVswXzBfNDBweF9yZ2JhKDUyLDIxMSwxNTMsMC4yNSldXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdXBwZXJjYXNlIHRyYWNraW5nLVswLjM1ZW1dIHRleHQtZW1lcmFsZC0yMDAvNzBcIj5cbiAgICAgICAgICAgICAgICBDb25maXJtYXRpb25cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIGZvbnQtZGlzcGxheSB0ZXh0LTJ4bFwiPlxuICAgICAgICAgICAgICAgIHtzZWxlY3RlZFNlcnZpY2U/Lm5hbWUgPz8gY3JlYXRlZEJvb2tpbmcuc2VydmljZU5hbWV9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtZW1lcmFsZC0xMDAvODBcIj5cbiAgICAgICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShjcmVhdGVkQm9va2luZy5zdGFydERhdGVUaW1lLCB0aW1lem9uZSwge1xuICAgICAgICAgICAgICAgICAgd2Vla2RheTogXCJsb25nXCIsXG4gICAgICAgICAgICAgICAgICBtb250aDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICAgICAgZGF5OiBcIm51bWVyaWNcIixcbiAgICAgICAgICAgICAgICAgIGhvdXI6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgICAgICAgbWludXRlOiBcIjItZGlnaXRcIlxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTMgdGV4dC1zbSB0ZXh0LWVtZXJhbGQtMTAwLzgwXCI+XG4gICAgICAgICAgICAgICAgV2Ugc2VudCBhIGNvbmZpcm1hdGlvbiBlbWFpbCB0byB7Y3JlYXRlZEJvb2tpbmcuY3VzdG9tZXIuZW1haWx9LiBNYW51YWwgY2FwdHVyZSBrZWVwc1xuICAgICAgICAgICAgICAgIHlvdSBpbiBjb250cm9s4oCUbm90aGluZyBjaGFyZ2VzIHVubGVzcyB5b3UgcHJlc3MgYSBtb25leSBidXR0b24uXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICA8bWFpbiBjbGFzc05hbWU9XCJteC1hdXRvIG1heC13LTV4bCBweC00IHBiLTE2IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgICA8U3RlcEluZGljYXRvciBjdXJyZW50U3RlcD17c3RlcH0gb25SZXNldD17aGFuZGxlUmVzZXRGbG93fSAvPlxuXG4gICAgICAgIHtzdGVwID09PSBcImNhdGFsb2dcIiA/IChcbiAgICAgICAgICA8Q2F0YWxvZ1N0ZXBcbiAgICAgICAgICAgIGNhdGFsb2c9e3dvcmtzcGFjZS5jYXRhbG9nfVxuICAgICAgICAgICAgb25TZWxlY3RTZXJ2aWNlPXtoYW5kbGVTZWxlY3RTZXJ2aWNlfVxuICAgICAgICAgICAgdGltZXpvbmU9e3RpbWV6b25lfVxuICAgICAgICAgIC8+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIHtzdGVwID09PSBcImF2YWlsYWJpbGl0eVwiICYmIHNlbGVjdGVkU2VydmljZSA/IChcbiAgICAgICAgICA8QXZhaWxhYmlsaXR5U3RlcFxuICAgICAgICAgICAgc2VydmljZT17c2VsZWN0ZWRTZXJ2aWNlfVxuICAgICAgICAgICAgc2xvdHNCeURheT17Z3JvdXBlZFNsb3RzfVxuICAgICAgICAgICAgc2VsZWN0ZWRTdGFmZklkPXtzZWxlY3RlZFN0YWZmSWR9XG4gICAgICAgICAgICBzZXRTZWxlY3RlZFN0YWZmSWQ9e3NldFNlbGVjdGVkU3RhZmZJZH1cbiAgICAgICAgICAgIG9uQmFjaz17KCkgPT4gc2V0U3RlcChcImNhdGFsb2dcIil9XG4gICAgICAgICAgICBvblNlbGVjdFNsb3Q9e2hhbmRsZVNlbGVjdFNsb3R9XG4gICAgICAgICAgICBzdGFmZj17d29ya3NwYWNlLnN0YWZmfVxuICAgICAgICAgICAgdGltZXpvbmU9e3RpbWV6b25lfVxuICAgICAgICAgICAgc3VwcG9ydEVtYWlsPXt3b3Jrc3BhY2UuaWRlbnRpdHkubG9jYXRpb24uc3VwcG9ydEVtYWlsfVxuICAgICAgICAgICAgaXNMb2FkaW5nPXtpc0xvYWRpbmdBdmFpbGFiaWxpdHl9XG4gICAgICAgICAgICBlcnJvcj17YXZhaWxhYmlsaXR5RXJyb3J9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge3N0ZXAgPT09IFwiY2hlY2tvdXRcIiAmJiBzZWxlY3RlZFNlcnZpY2UgJiYgc2VsZWN0ZWRTbG90ID8gKFxuICAgICAgICAgIDxDaGVja291dFN0ZXBcbiAgICAgICAgICAgIHNlcnZpY2U9e3NlbGVjdGVkU2VydmljZX1cbiAgICAgICAgICAgIHNsb3Q9e3NlbGVjdGVkU2xvdH1cbiAgICAgICAgICAgIG9uQmFjaz17KCkgPT4gc2V0U3RlcChcImF2YWlsYWJpbGl0eVwiKX1cbiAgICAgICAgICAgIGN1c3RvbWVyTmFtZT17Y3VzdG9tZXJOYW1lfVxuICAgICAgICAgICAgc2V0Q3VzdG9tZXJOYW1lPXtzZXRDdXN0b21lck5hbWV9XG4gICAgICAgICAgICBjdXN0b21lckVtYWlsPXtjdXN0b21lckVtYWlsfVxuICAgICAgICAgICAgc2V0Q3VzdG9tZXJFbWFpbD17c2V0Q3VzdG9tZXJFbWFpbH1cbiAgICAgICAgICAgIGN1c3RvbWVyUGhvbmU9e2N1c3RvbWVyUGhvbmV9XG4gICAgICAgICAgICBzZXRDdXN0b21lclBob25lPXtzZXRDdXN0b21lclBob25lfVxuICAgICAgICAgICAgc2V0dXBJbnRlbnRDbGllbnRTZWNyZXQ9e3NldHVwSW50ZW50Q2xpZW50U2VjcmV0fVxuICAgICAgICAgICAgc2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXQ9e3NldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0fVxuICAgICAgICAgICAgcGF5bWVudE1ldGhvZElkPXtwYXltZW50TWV0aG9kSWR9XG4gICAgICAgICAgICBzZXRQYXltZW50TWV0aG9kSWQ9e3NldFBheW1lbnRNZXRob2RJZH1cbiAgICAgICAgICAgIGNyZWF0ZWRCb29raW5nSWQ9e2NyZWF0ZWRCb29raW5nSWR9XG4gICAgICAgICAgICBjcmVhdGVkQm9va2luZ0NvZGU9e2NyZWF0ZWRCb29raW5nQ29kZX1cbiAgICAgICAgICAgIHdvcmtzcGFjZT17d29ya3NwYWNlfVxuICAgICAgICAgICAgY3VzdG9tZXJOYW1lPXtjdXN0b21lck5hbWV9XG4gICAgICAgICAgICBjdXN0b21lckVtYWlsPXtjdXN0b21lckVtYWlsfVxuICAgICAgICAgICAgY3VzdG9tZXJQaG9uZT17Y3VzdG9tZXJQaG9uZX1cbiAgICAgICAgICAgIGxpc3RQcmljZUNlbnRzPXtsaXN0UHJpY2VDZW50c31cbiAgICAgICAgICAgIGdpZnRDYXJkU3RhdGU9e2dpZnRDYXJkU3RhdGV9XG4gICAgICAgICAgICBwb2xpY2llcz17cG9saWNpZXN9XG4gICAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgICAgICBzZWxlY3RlZFNlcnZpY2U9e3NlbGVjdGVkU2VydmljZX1cbiAgICAgICAgICAgIHNlbGVjdGVkU2xvdD17c2VsZWN0ZWRTbG90fVxuICAgICAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmc9e3NldENyZWF0ZWRCb29raW5nfVxuICAgICAgICAgICAgc2V0U3RlcD17c2V0U3RlcH1cbiAgICAgICAgICAgIHRvYXN0PXt0b2FzdH1cbiAgICAgICAgICAgIGNvbnNlbnRDaGVja2VkPXtjb25zZW50Q2hlY2tlZH1cbiAgICAgICAgICAgIHNldENvbnNlbnRDaGVja2VkPXtzZXRDb25zZW50Q2hlY2tlZH1cbiAgICAgICAgICAgIGdpZnRDYXJkSW5wdXQ9e2dpZnRDYXJkSW5wdXR9XG4gICAgICAgICAgICBzZXRHaWZ0Q2FyZElucHV0PXtzZXRHaWZ0Q2FyZElucHV0fVxuICAgICAgICAgICAgZ2lmdENhcmRFcnJvcj17Z2lmdENhcmRFcnJvcn1cbiAgICAgICAgICAgIGdpZnRDYXJkU3RhdGU9e2dpZnRDYXJkU3RhdGV9XG4gICAgICAgICAgICBvbkFwcGx5R2lmdENhcmQ9e2hhbmRsZUFwcGx5R2lmdENhcmR9XG4gICAgICAgICAgICBhY2NlcHRlZE1ldGhvZHM9e2FjY2VwdGVkTWV0aG9kc0ZvckRpc3BsYXl9XG4gICAgICAgICAgICBwb2xpY2llcz17cG9saWNpZXN9XG4gICAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgICAgICBhbW91bnREdWVDZW50cz17YW1vdW50RHVlQ2VudHN9XG4gICAgICAgICAgICBsaXN0UHJpY2VDZW50cz17bGlzdFByaWNlQ2VudHN9XG4gICAgICAgICAgICBpc1N1Ym1pdHRpbmc9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgIG9uU3VibWl0PXtoYW5kbGVTdWJtaXRDaGVja291dH1cbiAgICAgICAgICAgIG9uT3BlblBvbGljaWVzPXsoKSA9PiBzZXRJc1BvbGljeU1vZGFsT3Blbih0cnVlKX1cbiAgICAgICAgICAgIGJ1c2luZXNzPXtidXNpbmVzc31cbiAgICAgICAgICAvPlxuICAgICAgICApIDogbnVsbH1cblxuICAgICAgICB7c3RlcCA9PT0gXCJjb25maXJtYXRpb25cIiAmJiBjcmVhdGVkQm9va2luZyA/IChcbiAgICAgICAgICA8Q29uZmlybWF0aW9uU3RlcFxuICAgICAgICAgICAgYm9va2luZz17Y3JlYXRlZEJvb2tpbmd9XG4gICAgICAgICAgICBzZXJ2aWNlPXtzZWxlY3RlZFNlcnZpY2V9XG4gICAgICAgICAgICBhbW91bnREdWVDZW50cz17YW1vdW50RHVlQ2VudHN9XG4gICAgICAgICAgICBwb2xpY2llcz17cG9saWNpZXN9XG4gICAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgICAgICBvbkJvb2tBbm90aGVyPXtoYW5kbGVSZXNldEZsb3d9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8L21haW4+XG5cbiAgICAgIHtpc1BvbGljeU1vZGFsT3BlbiA/IChcbiAgICAgICAgPFBvbGljeU1vZGFsXG4gICAgICAgICAgcG9saWNpZXM9e3BvbGljaWVzfVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzUG9saWN5TW9kYWxPcGVuKGZhbHNlKX1cbiAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgIC8+XG4gICAgICApIDogbnVsbH1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ2F0YWxvZ1N0ZXAoe1xuICBjYXRhbG9nLFxuICBvblNlbGVjdFNlcnZpY2Vcbn06IHtcbiAgY2F0YWxvZzogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wiY2F0YWxvZ1wiXTtcbiAgb25TZWxlY3RTZXJ2aWNlOiAoc2VydmljZUlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHRpbWV6b25lOiBzdHJpbmc7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwic3BhY2UteS0xMlwiPlxuICAgICAge2NhdGFsb2cubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICA8ZGl2IGtleT17Y2F0ZWdvcnkuaWR9IGNsYXNzTmFtZT1cInNwYWNlLXktNVwiPlxuICAgICAgICAgIDxoZWFkZXI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xNSBiZy13aGl0ZS81IHB4LTQgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLVswLjM1ZW1dIHRleHQtd2hpdGUvNTVcIj5cbiAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cImgtMy41IHctMy41XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTMgdGV4dC1iYXNlIHRleHQtd2hpdGUvNzAgbWF4LXctMnhsXCI+e2NhdGVnb3J5LmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICA8L2hlYWRlcj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTYgbWQ6Z3JpZC1jb2xzLTJcIj5cbiAgICAgICAgICAgIHtjYXRlZ29yeS5zZXJ2aWNlcy5tYXAoKHNlcnZpY2UpID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17c2VydmljZS5pZH1cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNlbGVjdFNlcnZpY2Uoc2VydmljZS5pZCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ3JvdXAgZmxleCBmbGV4LWNvbCBnYXAtNCByb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcC02IHRleHQtbGVmdCB0cmFuc2l0aW9uIGhvdmVyOmJvcmRlci13aGl0ZS8yNSBob3ZlcjpiZy13aGl0ZS8xMCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcHJpbWFyeS83MCBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC1ibGFja1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZm9udC1kaXNwbGF5IHRleHQtMnhsIHRleHQtd2hpdGVcIj57c2VydmljZS5uYW1lfTwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+e3NlcnZpY2UuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLVswLjI1ZW1dIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgICAgICAgICAge2Zvcm1hdER1cmF0aW9uKHNlcnZpY2UuZHVyYXRpb25NaW51dGVzKX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7c2VydmljZS5pbnN0cnVjdGlvbnMgPyAoXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtd2hpdGUvNDBcIj57c2VydmljZS5pbnN0cnVjdGlvbnN9PC9wPlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtYXV0byBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICAgICAgICBTdGFydGluZyBhdCA8c3Ryb25nIGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIj57Zm9ybWF0Q3VycmVuY3koc2VydmljZS5wcmljZUNlbnRzKX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXByaW1hcnkgZ3JvdXAtaG92ZXI6dHJhbnNsYXRlLXgtMSB0cmFuc2l0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIFNlbGVjdCA8QXJyb3dSaWdodCBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApKX1cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59XG5cbmZ1bmN0aW9uIEF2YWlsYWJpbGl0eVN0ZXAoe1xuICBzZXJ2aWNlLFxuICBzbG90c0J5RGF5LFxuICBzZWxlY3RlZFN0YWZmSWQsXG4gIHNldFNlbGVjdGVkU3RhZmZJZCxcbiAgb25CYWNrLFxuICBvblNlbGVjdFNsb3QsXG4gIHN0YWZmLFxuICB0aW1lem9uZSxcbiAgc3VwcG9ydEVtYWlsLFxuICBpc0xvYWRpbmcsXG4gIGVycm9yXG59OiB7XG4gIHNlcnZpY2U6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlcjtcbiAgICBwcmljZUNlbnRzOiBudW1iZXI7XG4gICAgY2F0ZWdvcnlOYW1lOiBzdHJpbmc7XG4gICAgc3RhZmZJZHM6IHN0cmluZ1tdO1xuICB9O1xuICBzbG90c0J5RGF5OiBSZWNvcmQ8c3RyaW5nLCBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3RbXT47XG4gIHNlbGVjdGVkU3RhZmZJZDogc3RyaW5nO1xuICBzZXRTZWxlY3RlZFN0YWZmSWQ6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkJhY2s6ICgpID0+IHZvaWQ7XG4gIG9uU2VsZWN0U2xvdDogKHNsb3Q6IEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdCkgPT4gdm9pZDtcbiAgc3RhZmY6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInN0YWZmXCJdO1xuICB0aW1lem9uZTogc3RyaW5nO1xuICBzdXBwb3J0RW1haWw/OiBzdHJpbmc7XG4gIGlzTG9hZGluZz86IGJvb2xlYW47XG4gIGVycm9yPzogc3RyaW5nIHwgbnVsbDtcbn0pIHtcbiAgY29uc3QgW2N1cnJlbnRXZWVrU3RhcnQsIHNldEN1cnJlbnRXZWVrU3RhcnRdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkYXlPZldlZWsgPSB0b2RheS5nZXREYXkoKTtcbiAgICBjb25zdCBkaWZmID0gdG9kYXkuZ2V0RGF0ZSgpIC0gZGF5T2ZXZWVrOyAvLyBHZXQgU3VuZGF5IG9mIHRoaXMgd2Vla1xuICAgIGNvbnN0IHN1bmRheSA9IG5ldyBEYXRlKHRvZGF5LnNldERhdGUoZGlmZikpO1xuICAgIHN1bmRheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICByZXR1cm4gc3VuZGF5O1xuICB9KTtcblxuICBjb25zdCBzdGFmZk9wdGlvbnMgPSBzdGFmZi5maWx0ZXIoKG1lbWJlcikgPT4gc2VydmljZS5zdGFmZklkcy5pbmNsdWRlcyhtZW1iZXIuaWQpKTtcbiAgY29uc3QgdG90YWxTbG90cyA9IE9iamVjdC52YWx1ZXMoc2xvdHNCeURheSkucmVkdWNlKChzdW0sIGVudHJpZXMpID0+IHN1bSArIGVudHJpZXMubGVuZ3RoLCAwKTtcblxuICAvLyBHZW5lcmF0ZSBob3VycyBmcm9tIDggQU0gdG8gOCBQTVxuICBjb25zdCBob3VycyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEzIH0sIChfLCBpKSA9PiBpICsgOCk7IC8vIDggQU0gdG8gOCBQTVxuXG4gIC8vIEdlbmVyYXRlIGRheXMgb2YgdGhlIHdlZWtcbiAgY29uc3Qgd2Vla0RheXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBkYXlzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjdXJyZW50V2Vla1N0YXJ0KTtcbiAgICAgIGRhdGUuc2V0RGF0ZShjdXJyZW50V2Vla1N0YXJ0LmdldERhdGUoKSArIGkpO1xuICAgICAgZGF5cy5wdXNoKGRhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gZGF5cztcbiAgfSwgW2N1cnJlbnRXZWVrU3RhcnRdKTtcblxuICAvLyBHcm91cCBzbG90cyBieSBkYXkgYW5kIGhvdXIsIHJlbW92aW5nIGR1cGxpY2F0ZXNcbiAgY29uc3Qgc2xvdHNCeURheUFuZEhvdXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBncm91cGVkOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8bnVtYmVyLCBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3RbXT4+ID0ge307XG4gICAgXG4gICAgLy8gRmxhdHRlbiBhbGwgc2xvdHMgZnJvbSBhbGwgZGF5c1xuICAgIGNvbnN0IGFsbFNsb3RzID0gT2JqZWN0LnZhbHVlcyhzbG90c0J5RGF5KS5mbGF0KCk7XG4gICAgXG4gICAgYWxsU2xvdHMuZm9yRWFjaChzbG90ID0+IHtcbiAgICAgIGNvbnN0IHNsb3REYXRlID0gbmV3IERhdGUoc2xvdC5zdGFydERhdGVUaW1lKTtcbiAgICAgIGNvbnN0IGRhdGVLZXkgPSBmb3JtYXRJblRpbWVab25lKHNsb3REYXRlLCB0aW1lem9uZSwgXCJ5eXl5LU1NLWRkXCIpO1xuICAgICAgY29uc3QgaG91ciA9IGZvcm1hdEluVGltZVpvbmUoc2xvdERhdGUsIHRpbWV6b25lLCB7IGhvdXI6IFwibnVtZXJpY1wiLCBob3VyMTI6IGZhbHNlIH0pO1xuICAgICAgY29uc3QgaG91ck51bSA9IHBhcnNlSW50KGhvdXIsIDEwKTtcbiAgICAgIFxuICAgICAgLy8gT25seSBpbmNsdWRlIHNsb3RzIHRoYXQgYXJlIGluIHRoZSBjdXJyZW50IHdlZWtcbiAgICAgIGNvbnN0IGlzSW5DdXJyZW50V2VlayA9IHdlZWtEYXlzLnNvbWUoZGF5ID0+IHtcbiAgICAgICAgY29uc3QgZGF5S2V5ID0gZm9ybWF0SW5UaW1lWm9uZShkYXksIHRpbWV6b25lLCBcInl5eXktTU0tZGRcIik7XG4gICAgICAgIHJldHVybiBkYXlLZXkgPT09IGRhdGVLZXk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFpc0luQ3VycmVudFdlZWspIHJldHVybjtcbiAgICAgIFxuICAgICAgaWYgKCFncm91cGVkW2RhdGVLZXldKSB7XG4gICAgICAgIGdyb3VwZWRbZGF0ZUtleV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dKSB7XG4gICAgICAgIGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0gPSBbXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIGR1cGxpY2F0ZXMgKHNhbWUgaG91ciwgc2FtZSBzdGFmZiwgc2FtZSBkYXRlKVxuICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLnNvbWUoXG4gICAgICAgIGV4aXN0aW5nID0+IGV4aXN0aW5nLnN0YWZmSWQgPT09IHNsb3Quc3RhZmZJZFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xuICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLnB1c2goc2xvdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGdyb3VwZWQ7XG4gIH0sIFtzbG90c0J5RGF5LCB3ZWVrRGF5cywgdGltZXpvbmVdKTtcblxuICBjb25zdCBuYXZpZ2F0ZVdlZWsgPSAoZGlyZWN0aW9uOiAncHJldicgfCAnbmV4dCcpID0+IHtcbiAgICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoY3VycmVudFdlZWtTdGFydCk7XG4gICAgbmV3RGF0ZS5zZXREYXRlKG5ld0RhdGUuZ2V0RGF0ZSgpICsgKGRpcmVjdGlvbiA9PT0gJ25leHQnID8gNyA6IC03KSk7XG4gICAgc2V0Q3VycmVudFdlZWtTdGFydChuZXdEYXRlKTtcbiAgfTtcblxuICBjb25zdCBtb250aFllYXIgPSBmb3JtYXRJblRpbWVab25lKHdlZWtEYXlzWzBdLCB0aW1lem9uZSwgeyBtb250aDogXCJsb25nXCIsIHllYXI6IFwibnVtZXJpY1wiIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS81IHAtOCBzaGFkb3ctWzBfMF82MHB4X3JnYmEoOTEsMTAwLDI1NSwwLjE1KV1cIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtNCBtZDpmbGV4LXJvdyBtZDppdGVtcy1jZW50ZXIgbWQ6anVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS80MFwiPlN0ZXAgMiDCtyBDaG9vc2UgeW91ciB0aW1lPC9wPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJtdC0yIGZvbnQtZGlzcGxheSB0ZXh0LTN4bCB0ZXh0LXdoaXRlXCI+e3NlcnZpY2UubmFtZX08L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICB7Zm9ybWF0Q3VycmVuY3koc2VydmljZS5wcmljZUNlbnRzKX0gwrcge2Zvcm1hdER1cmF0aW9uKHNlcnZpY2UuZHVyYXRpb25NaW51dGVzKX0g4oCUIEFsbCBzbG90c1xuICAgICAgICAgICAgc2hvd24gaW4ge3RpbWV6b25lfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgb25DbGljaz17b25CYWNrfSBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC13aGl0ZS83MFwiPlxuICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgQmFjayB0byBzZXJ2aWNlc1xuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgIDxTdGFmZlBpbGxcbiAgICAgICAgICBsYWJlbD1cIkkgZG9uJ3QgbWluZFwiXG4gICAgICAgICAgYWN0aXZlPXtzZWxlY3RlZFN0YWZmSWQgPT09IFwiYW55XCJ9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRTdGFmZklkKFwiYW55XCIpfVxuICAgICAgICAvPlxuICAgICAgICB7c3RhZmZPcHRpb25zLm1hcCgobWVtYmVyKSA9PiAoXG4gICAgICAgICAgPFN0YWZmUGlsbFxuICAgICAgICAgICAga2V5PXttZW1iZXIuaWR9XG4gICAgICAgICAgICBsYWJlbD17bWVtYmVyLm5hbWV9XG4gICAgICAgICAgICBjb2xvcj17bWVtYmVyLmNvbG9yfVxuICAgICAgICAgICAgYWN0aXZlPXtzZWxlY3RlZFN0YWZmSWQgPT09IG1lbWJlci5pZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkU3RhZmZJZChtZW1iZXIuaWQpfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay82MCBwLTggdGV4dC1jZW50ZXIgdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cIm14LWF1dG8gaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC13aGl0ZS80MFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LWJhc2VcIj5Mb2FkaW5nIGF2YWlsYWJpbGl0eS4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogZXJyb3IgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzIwIGJnLXJlZC01MDAvMTAgcC04IHRleHQtY2VudGVyIHRleHQtcmVkLTIwMFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmFzZVwiPntlcnJvcn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IHRvdGFsU2xvdHMgPT09IDAgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay82MCBwLTggdGV4dC1jZW50ZXIgdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmFzZVwiPk5vIGF2YWlsYWJpbGl0eSBmb3VuZCBpbiB0aGUgbmV4dCB0d28gd2Vla3MuPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgVHJ5IHNlbGVjdGluZyBhIGRpZmZlcmVudCBzdGFmZiBtZW1iZXIgb3IgY29udGFjdCB1cyBhdHtcIiBcIn1cbiAgICAgICAgICAgIDxhIGhyZWY9e2BtYWlsdG86JHtzdXBwb3J0RW1haWwgPz8gXCJzdXBwb3J0QHRpdGhpLmNvbVwifWB9IGNsYXNzTmFtZT1cInVuZGVybGluZVwiPlxuICAgICAgICAgICAgICB7c3VwcG9ydEVtYWlsID8/IFwic3VwcG9ydEB0aXRoaS5jb21cIn1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIC5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xMFwiPlxuICAgICAgICAgIHsvKiBXZWVrIE5hdmlnYXRpb24gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBuYXZpZ2F0ZVdlZWsoJ3ByZXYnKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCBob3Zlcjp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPnttb250aFllYXJ9PC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBuYXZpZ2F0ZVdlZWsoJ25leHQnKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCBob3Zlcjp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIENhbGVuZGFyIEdyaWQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG9cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctZnVsbFwiPlxuICAgICAgICAgICAgICB7LyogRGF5IEhlYWRlcnMgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtOCBnYXAtMiBib3JkZXItYiBib3JkZXItd2hpdGUvMTAgcGItMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtd2hpdGUvNjBcIj5UaW1lPC9kaXY+XG4gICAgICAgICAgICAgICAge3dlZWtEYXlzLm1hcCgoZGF5LCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUoZGF5LCB0aW1lem9uZSwgeyB3ZWVrZGF5OiBcInNob3J0XCIgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShkYXksIHRpbWV6b25lLCB7IGRheTogXCJudW1lcmljXCIgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogSG91ciBSb3dzICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAge2hvdXJzLm1hcCgoaG91cikgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaG91ckxhYmVsID0gaG91ciA9PT0gMTIgPyAnMTIgUE0nIDogaG91ciA+IDEyID8gYCR7aG91ciAtIDEyfSBQTWAgOiBgJHtob3VyfSBBTWA7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aG91cn0gY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtOCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC14cyB0ZXh0LXdoaXRlLzYwIHB5LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtob3VyTGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge3dlZWtEYXlzLm1hcCgoZGF5LCBkYXlJZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNsb3RzRm9ySG91ciA9IHNsb3RzQnlEYXlBbmRIb3VyW2RhdGVLZXldPy5baG91cl0gfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFNsb3RzID0gc2VsZWN0ZWRTdGFmZklkID09PSBcImFueVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gc2xvdHNGb3JIb3VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogc2xvdHNGb3JIb3VyLmZpbHRlcihzbG90ID0+IHNsb3Quc3RhZmZJZCA9PT0gc2VsZWN0ZWRTdGFmZklkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2RheUlkeH0gY2xhc3NOYW1lPVwicHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXJlZFNsb3RzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmlsdGVyZWRTbG90cy5tYXAoKHNsb3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFmZk1lbWJlciA9IHN0YWZmLmZpbmQocyA9PiBzLmlkID09PSBzbG90LnN0YWZmSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17c2xvdC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0U2xvdChzbG90KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1wcmltYXJ5LzQwIGJnLXByaW1hcnkvMjAgcHgtMiBweS0xLjUgdGV4dC1sZWZ0IHRyYW5zaXRpb24gaG92ZXI6Ym9yZGVyLXByaW1hcnkvNjAgaG92ZXI6YmctcHJpbWFyeS8zMCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcHJpbWFyeS83MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHN0YWZmTWVtYmVyPy5jb2xvciA/IGAke3N0YWZmTWVtYmVyLmNvbG9yfTgwYCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHN0YWZmTWVtYmVyPy5jb2xvciA/IGAke3N0YWZmTWVtYmVyLmNvbG9yfTIwYCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShuZXcgRGF0ZShzbG90LnN0YXJ0RGF0ZVRpbWUpLCB0aW1lem9uZSwgeyBob3VyOiBcIm51bWVyaWNcIiwgbWludXRlOiBcIjItZGlnaXRcIiB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LXdoaXRlLzcwIG10LTAuNSB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzbG90LnN0YWZmTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgcm91bmRlZC1sZyBiZy13aGl0ZS81IGJvcmRlciBib3JkZXItd2hpdGUvNSBweS0xLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC13aGl0ZS8yMCB0ZXh0LWNlbnRlclwiPuKAlDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9zZWN0aW9uPlxuICApO1xufVxuXG5mdW5jdGlvbiBDaGVja291dFN0ZXAocHJvcHM6IHtcbiAgc2VydmljZToge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGR1cmF0aW9uTWludXRlczogbnVtYmVyO1xuICAgIHByaWNlQ2VudHM6IG51bWJlcjtcbiAgICBjYXRlZ29yeU5hbWU6IHN0cmluZztcbiAgfTtcbiAgc2xvdDogRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90O1xuICBvbkJhY2s6ICgpID0+IHZvaWQ7XG4gIGN1c3RvbWVyTmFtZTogc3RyaW5nO1xuICBzZXRDdXN0b21lck5hbWU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBjdXN0b21lckVtYWlsOiBzdHJpbmc7XG4gIHNldEN1c3RvbWVyRW1haWw6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBjdXN0b21lclBob25lOiBzdHJpbmc7XG4gIHNldEN1c3RvbWVyUGhvbmU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBzZXR1cEludGVudENsaWVudFNlY3JldDogc3RyaW5nIHwgbnVsbDtcbiAgc2V0U2V0dXBJbnRlbnRDbGllbnRTZWNyZXQ6ICh2YWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgcGF5bWVudE1ldGhvZElkOiBzdHJpbmcgfCBudWxsO1xuICBzZXRQYXltZW50TWV0aG9kSWQ6ICh2YWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgY3JlYXRlZEJvb2tpbmdJZDogc3RyaW5nIHwgbnVsbDtcbiAgY3JlYXRlZEJvb2tpbmdDb2RlOiBzdHJpbmcgfCBudWxsO1xuICB3b3Jrc3BhY2U6IEZha2VCdXNpbmVzc1dvcmtzcGFjZTtcbiAgY3VzdG9tZXJOYW1lOiBzdHJpbmc7XG4gIGN1c3RvbWVyRW1haWw6IHN0cmluZztcbiAgY3VzdG9tZXJQaG9uZTogc3RyaW5nO1xuICBsaXN0UHJpY2VDZW50czogbnVtYmVyO1xuICBnaWZ0Q2FyZFN0YXRlOiBHaWZ0Q2FyZFN0YXRlIHwgbnVsbDtcbiAgcG9saWNpZXM6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInBvbGljaWVzXCJdO1xuICB0aW1lem9uZTogc3RyaW5nO1xuICBzZWxlY3RlZFNlcnZpY2U6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlcjtcbiAgICBwcmljZUNlbnRzOiBudW1iZXI7XG4gICAgY2F0ZWdvcnlOYW1lOiBzdHJpbmc7XG4gIH0gfCB1bmRlZmluZWQ7XG4gIHNlbGVjdGVkU2xvdDogRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90IHwgbnVsbDtcbiAgc2V0Q3JlYXRlZEJvb2tpbmc6IChib29raW5nOiBGYWtlQm9va2luZyB8IG51bGwpID0+IHZvaWQ7XG4gIHNldFN0ZXA6IChzdGVwOiBTdGVwKSA9PiB2b2lkO1xuICB0b2FzdDogUmV0dXJuVHlwZTx0eXBlb2YgdXNlVG9hc3Q+O1xuICBjb25zZW50Q2hlY2tlZDogYm9vbGVhbjtcbiAgc2V0Q29uc2VudENoZWNrZWQ6ICh2YWx1ZTogYm9vbGVhbikgPT4gdm9pZDtcbiAgZ2lmdENhcmRJbnB1dDogc3RyaW5nO1xuICBzZXRHaWZ0Q2FyZElucHV0OiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcbiAgZ2lmdENhcmRFcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgZ2lmdENhcmRTdGF0ZTogR2lmdENhcmRTdGF0ZSB8IG51bGw7XG4gIG9uQXBwbHlHaWZ0Q2FyZDogKCkgPT4gdm9pZDtcbiAgYWNjZXB0ZWRNZXRob2RzOiBzdHJpbmdbXTtcbiAgcG9saWNpZXM6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInBvbGljaWVzXCJdO1xuICB0aW1lem9uZTogc3RyaW5nO1xuICBhbW91bnREdWVDZW50czogbnVtYmVyO1xuICBsaXN0UHJpY2VDZW50czogbnVtYmVyO1xuICBpc1N1Ym1pdHRpbmc6IGJvb2xlYW47XG4gIG9uU3VibWl0OiAoKSA9PiB2b2lkO1xuICBvbk9wZW5Qb2xpY2llczogKCkgPT4gdm9pZDtcbiAgYnVzaW5lc3M6IEZha2VCdXNpbmVzcztcbn0pIHtcbiAgY29uc3Qge1xuICAgIHNlcnZpY2UsXG4gICAgc2xvdCxcbiAgICBvbkJhY2ssXG4gICAgY3VzdG9tZXJOYW1lLFxuICAgIHNldEN1c3RvbWVyTmFtZSxcbiAgICBjdXN0b21lckVtYWlsLFxuICAgIHNldEN1c3RvbWVyRW1haWwsXG4gICAgY3VzdG9tZXJQaG9uZSxcbiAgICBzZXRDdXN0b21lclBob25lLFxuICAgIHNldHVwSW50ZW50Q2xpZW50U2VjcmV0LFxuICAgIHNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0LFxuICAgIHBheW1lbnRNZXRob2RJZCxcbiAgICBzZXRQYXltZW50TWV0aG9kSWQsXG4gICAgY3JlYXRlZEJvb2tpbmdJZCxcbiAgICBjcmVhdGVkQm9va2luZ0NvZGUsXG4gICAgd29ya3NwYWNlLFxuICAgIGxpc3RQcmljZUNlbnRzLFxuICAgIGdpZnRDYXJkU3RhdGUsXG4gICAgcG9saWNpZXMsXG4gICAgdGltZXpvbmUsXG4gICAgc2VsZWN0ZWRTZXJ2aWNlLFxuICAgIHNlbGVjdGVkU2xvdCxcbiAgICBzZXRDcmVhdGVkQm9va2luZyxcbiAgICBzZXRTdGVwLFxuICAgIHRvYXN0LFxuICAgIGNvbnNlbnRDaGVja2VkLFxuICAgIHNldENvbnNlbnRDaGVja2VkLFxuICAgIGdpZnRDYXJkSW5wdXQsXG4gICAgc2V0R2lmdENhcmRJbnB1dCxcbiAgICBnaWZ0Q2FyZEVycm9yLFxuICAgIG9uQXBwbHlHaWZ0Q2FyZCxcbiAgICBhY2NlcHRlZE1ldGhvZHMsXG4gICAgYW1vdW50RHVlQ2VudHMsXG4gICAgaXNTdWJtaXR0aW5nLFxuICAgIG9uU3VibWl0LFxuICAgIG9uT3BlblBvbGljaWVzLFxuICAgIGJ1c2luZXNzXG4gIH0gPSBwcm9wcztcblxuICAvLyBDcmVhdGUgU2V0dXBJbnRlbnQgd2hlbiBjaGVja291dCBzdGVwIGxvYWRzIHNvIHBheW1lbnQgZm9ybSBpcyBpbW1lZGlhdGVseSBhdmFpbGFibGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBPbmx5IGNyZWF0ZSBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgb25lIGFuZCB3ZSBoYXZlIHRoZSByZXF1aXJlZCBkYXRhXG4gICAgaWYgKCFzZXR1cEludGVudENsaWVudFNlY3JldCAmJiBzZWxlY3RlZFNlcnZpY2UgJiYgc2VsZWN0ZWRTbG90ICYmIGN1c3RvbWVyTmFtZSAmJiBjdXN0b21lckVtYWlsICYmIGN1c3RvbWVyUGhvbmUpIHtcbiAgICAgIC8vIENyZWF0ZSBib29raW5nIGVhcmx5IHRvIGdldCBTZXR1cEludGVudCAtIHRoaXMgYWxsb3dzIHRoZSBwYXltZW50IGZvcm0gdG8gc2hvdyBpbW1lZGlhdGVseVxuICAgICAgY29uc3QgY3JlYXRlU2V0dXBJbnRlbnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgYXBpUGF5bG9hZCA9IHtcbiAgICAgICAgICAgIHNlcnZpY2VfaWQ6IHNlbGVjdGVkU2VydmljZS5pZCxcbiAgICAgICAgICAgIHN0YWZmX2lkOiBzZWxlY3RlZFNsb3Quc3RhZmZJZCxcbiAgICAgICAgICAgIHN0YXJ0X2F0OiBzZWxlY3RlZFNsb3Quc3RhcnREYXRlVGltZSxcbiAgICAgICAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgICAgICAgIG5hbWU6IGN1c3RvbWVyTmFtZS50cmltKCksXG4gICAgICAgICAgICAgIGVtYWlsOiBjdXN0b21lckVtYWlsLnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICBwaG9uZTogY3VzdG9tZXJQaG9uZS50cmltKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnaWZ0X2NhcmRfY29kZTogZ2lmdENhcmRTdGF0ZT8uY29kZSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9wdWJsaWMvJHtidXNpbmVzcy5zbHVnfS9ib29raW5nc2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGFwaVBheWxvYWQpLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBlcnJvciBpZiBib29raW5nIGNyZWF0aW9uIGZhaWxzIC0gdXNlciBoYXNuJ3QgY2xpY2tlZCBjb25maXJtIHlldFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBTZXR1cEludGVudDonLCBhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGFwaVJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChhcGlSZXNwb25zZS5jbGllbnRfc2VjcmV0KSB7XG4gICAgICAgICAgICBzZXRTZXR1cEludGVudENsaWVudFNlY3JldChhcGlSZXNwb25zZS5jbGllbnRfc2VjcmV0KTtcbiAgICAgICAgICAgIGlmIChhcGlSZXNwb25zZS5ib29raW5nX2lkKSB7XG4gICAgICAgICAgICAgIC8vIFN0b3JlIGJvb2tpbmcgSUQgaWYgcmV0dXJuZWQgKHRob3VnaCB3ZSBzaG91bGRuJ3QgdXNlIGl0IHVudGlsIHBheW1lbnQgaXMgY29uZmlybWVkKVxuICAgICAgICAgICAgICAvLyBXZSdsbCBoYW5kbGUgdGhpcyBpbiB0aGUgc3VibWl0IGZsb3dcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgU2V0dXBJbnRlbnQ6JywgZXJyb3IpO1xuICAgICAgICAgIC8vIERvbid0IHNob3cgZXJyb3IgdG8gdXNlciAtIHRoZXkgaGF2ZW4ndCB0cmllZCB0byBzdWJtaXQgeWV0XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNyZWF0ZVNldHVwSW50ZW50KCk7XG4gICAgfVxuICB9LCBbc2V0dXBJbnRlbnRDbGllbnRTZWNyZXQsIHNlbGVjdGVkU2VydmljZSwgc2VsZWN0ZWRTbG90LCBjdXN0b21lck5hbWUsIGN1c3RvbWVyRW1haWwsIGN1c3RvbWVyUGhvbmUsIGJ1c2luZXNzLnNsdWcsIGdpZnRDYXJkU3RhdGUsIHNldFNldHVwSW50ZW50Q2xpZW50U2VjcmV0XSk7XG5cbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJncmlkIGdhcC04IHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTggc2hhZG93LVswXzBfNjBweF9yZ2JhKDkxLDEwMCwyNTUsMC4yKV0gbWQ6Z3JpZC1jb2xzLVsxLjRmcl8xZnJdXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy1bMC4zNWVtXSB0ZXh0LXdoaXRlLzQwXCI+U3RlcCAzIMK3IENoZWNrb3V0PC9wPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cIm10LTIgZm9udC1kaXNwbGF5IHRleHQtM3hsIHRleHQtd2hpdGVcIj57c2VydmljZS5uYW1lfTwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAge2Zvcm1hdER1cmF0aW9uKHNlcnZpY2UuZHVyYXRpb25NaW51dGVzKX0gwrcge2Zvcm1hdEN1cnJlbmN5KGxpc3RQcmljZUNlbnRzKX0g4oCUIHdpdGh7XCIgXCJ9XG4gICAgICAgICAgICAgIHtzbG90LnN0YWZmTmFtZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIG9uQ2xpY2s9e29uQmFja30gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICBQaWNrIGFub3RoZXIgc2xvdFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTQgbWQ6Z3JpZC1jb2xzLTJcIj5cbiAgICAgICAgICA8RmllbGQgbGFiZWw9XCJGdWxsIG5hbWVcIj5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17Y3VzdG9tZXJOYW1lfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRDdXN0b21lck5hbWUoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJKb3JkYW4gQmxha2VcIlxuICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJuYW1lXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9GaWVsZD5cbiAgICAgICAgICA8RmllbGQgbGFiZWw9XCJFbWFpbFwiPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21lckVtYWlsfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRDdXN0b21lckVtYWlsKGV2ZW50LnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieW91QGV4YW1wbGUuY29tXCJcbiAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPVwiZW1haWxcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0ZpZWxkPlxuICAgICAgICAgIDxGaWVsZCBsYWJlbD1cIlBob25lXCI+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRlbFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21lclBob25lfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRDdXN0b21lclBob25lKGV2ZW50LnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiKzEgNTU1IDAxMCAyMDMwXCJcbiAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPVwidGVsXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9GaWVsZD5cbiAgICAgICAgICA8RmllbGQgbGFiZWw9XCJHaWZ0IGNhcmQgb3IgY29kZVwiIGhlbHBlcj1cIk9wdGlvbmFsIOKAlCBhbW91bnQgb3IgcGVyY2VudCBvZmYgd2lsbCBhcHBseSBpbW1lZGlhdGVseS5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICB2YWx1ZT17Z2lmdENhcmRJbnB1dH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRHaWZ0Q2FyZElucHV0KGV2ZW50LnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJXRUxDT01FMTIwXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgdXBwZXJjYXNlXCJcbiAgICAgICAgICAgICAgICBhdXRvQ2FwaXRhbGl6ZT1cImNoYXJhY3RlcnNcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJidXR0b25cIiB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e29uQXBwbHlHaWZ0Q2FyZH0+XG4gICAgICAgICAgICAgICAgQXBwbHlcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtnaWZ0Q2FyZEVycm9yID8gKFxuICAgICAgICAgICAgICA8SGVscGVyVGV4dCBpbnRlbnQ9XCJlcnJvclwiIGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgICAgICB7Z2lmdENhcmRFcnJvcn1cbiAgICAgICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICB7Z2lmdENhcmRTdGF0ZSA/IChcbiAgICAgICAgICAgICAgPEhlbHBlclRleHQgaW50ZW50PVwic3VjY2Vzc1wiIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1lbWVyYWxkLTIwMFwiPlxuICAgICAgICAgICAgICAgIDxHaWZ0IGNsYXNzTmFtZT1cIm1yLTEuNSBpbmxpbmUgaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICAgICAge2dpZnRDYXJkU3RhdGUuZGVzY3JpcHRpb259ICh7Z2lmdENhcmRTdGF0ZS5jb2RlfSlcbiAgICAgICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC9GaWVsZD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzYwIHAtNlwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICA8Q3JlZGl0Q2FyZCBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIFBheW1lbnQgbWV0aG9kIOKAlCBjYXJkIHNhdmVkIG5vdywgY2hhcmdlZCBsYXRlclxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIHRleHQteHMgdGV4dC13aGl0ZS81MFwiPlxuICAgICAgICAgICAge2FjY2VwdGVkTWV0aG9kcy5sZW5ndGggPiAwIFxuICAgICAgICAgICAgICA/IGAke2Rlc2NyaWJlQWNjZXB0ZWRNZXRob2RzKGFjY2VwdGVkTWV0aG9kcyl9LiBgIFxuICAgICAgICAgICAgICA6ICcnfUEgY3JlZGl0IGNhcmQgaXMgcmVxdWlyZWQgZm9yIGFsbCBib29raW5ncy4gRXZlbiBpZiB5b3UgcGxhbiB0byBwYXkgd2l0aCBjYXNoLCB3ZSBzdG9yZSBhIGNhcmRcbiAgICAgICAgICAgIGluIGNhc2UgYSBwb2xpY3kgZmVlIGFwcGxpZXMgKGUuZy4sIG5vLXNob3cgZmVlcykuXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHtzZXR1cEludGVudENsaWVudFNlY3JldCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICA8RWxlbWVudHNcbiAgICAgICAgICAgICAgICBzdHJpcGU9e3N0cmlwZVByb21pc2V9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17e1xuICAgICAgICAgICAgICAgICAgY2xpZW50U2VjcmV0OiBzZXR1cEludGVudENsaWVudFNlY3JldCxcbiAgICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhlbWU6ICduaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yUHJpbWFyeTogJyM1QjY0RkYnLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yQmFja2dyb3VuZDogJyMwMDAwMDAnLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yVGV4dDogJyNmZmZmZmYnLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yRGFuZ2VyOiAnI2VmNDQ0NCcsXG4gICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ3N5c3RlbS11aSwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgICAgICAgICAgc3BhY2luZ1VuaXQ6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U3RyaXBlUGF5bWVudEZvcm1cbiAgICAgICAgICAgICAgICAgIG9uUGF5bWVudE1ldGhvZFJlYWR5PXthc3luYyAocG1JZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFBheW1lbnRNZXRob2RJZChwbUlkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25jZSBwYXltZW50IG1ldGhvZCBpcyBjb25maXJtZWQsIHByb2NlZWQgdG8gY29uZmlybWF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBib29raW5nIHdhcyBhbHJlYWR5IGNyZWF0ZWQgYnkgdGhlIEFQSVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRTZXJ2aWNlICYmIHNlbGVjdGVkU2xvdCAmJiBjcmVhdGVkQm9va2luZ0lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9va2luZzogRmFrZUJvb2tpbmcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogY3JlYXRlZEJvb2tpbmdJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNyZWF0ZWRCb29raW5nQ29kZSB8fCBgVElUSEktJHtjcmVhdGVkQm9va2luZ0lkLnNsaWNlKDAsIDgpLnRvVXBwZXJDYXNlKCl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZUlkOiBzZWxlY3RlZFNlcnZpY2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZTogc2VsZWN0ZWRTZXJ2aWNlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeU5hbWU6IHNlbGVjdGVkU2VydmljZS5jYXRlZ29yeU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbk1pbnV0ZXM6IHNlbGVjdGVkU2VydmljZS5kdXJhdGlvbk1pbnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGVUaW1lOiBzZWxlY3RlZFNsb3Quc3RhcnREYXRlVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZERhdGVUaW1lOiBzZWxlY3RlZFNsb3QuZW5kRGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFmZjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogc2VsZWN0ZWRTbG90LnN0YWZmSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNlbGVjdGVkU2xvdC5zdGFmZk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB3b3Jrc3BhY2Uuc3RhZmYuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2xvdC5zdGFmZklkKT8uY29sb3IgfHwgXCIjMDAwMDAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY3VzdG9tZXJOYW1lLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGN1c3RvbWVyRW1haWwudHJpbSgpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lOiBjdXN0b21lclBob25lLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbmNpYWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RQcmljZUNlbnRzOiBsaXN0UHJpY2VDZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2lmdENhcmRBbW91bnRDZW50czogZ2lmdENhcmRTdGF0ZT8uYW1vdW50Q2VudHMgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1GZWVDZW50czogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBlRmVlRXN0aW1hdGVDZW50czogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV0UGF5b3V0Q2VudHM6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAndXNkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2xpY3lDb25zZW50OiBjcmVhdGVQb2xpY3lDb25zZW50KHBvbGljaWVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVzQWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIHNldENyZWF0ZWRCb29raW5nKGJvb2tpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFN0ZXAoXCJjb25maXJtYXRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgdG9hc3QucHVzaFRvYXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkJvb2tpbmcgY29uZmlybWVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYCR7c2VsZWN0ZWRTZXJ2aWNlLm5hbWV9IG9uICR7Zm9ybWF0SW5UaW1lWm9uZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTbG90LnN0YXJ0RGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWV6b25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7IHdlZWtkYXk6IFwibG9uZ1wiLCBtb250aDogXCJzaG9ydFwiLCBkYXk6IFwibnVtZXJpY1wiLCBob3VyOiBcIm51bWVyaWNcIiwgbWludXRlOiBcIjItZGlnaXRcIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICApfS4gTm8gY2hhcmdlIHlldOKAlGNhcmQgc2F2ZWQgc2VjdXJlbHkuYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVudDogXCJzdWNjZXNzXCJcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGFjY2VwdGVkTWV0aG9kcz17YWNjZXB0ZWRNZXRob2RzfVxuICAgICAgICAgICAgICAgICAgYnVzaW5lc3NTbHVnPXtidXNpbmVzcy5zbHVnfVxuICAgICAgICAgICAgICAgICAgYm9va2luZ0lkPXtjcmVhdGVkQm9va2luZ0lkIHx8IFwiXCJ9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9FbGVtZW50cz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgICAgPEhlbHBlclRleHQgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICAgIENsaWNrIFwiQ29uZmlybSBib29raW5nXCIgYmVsb3cgdG8gc2V0IHVwIHlvdXIgcGF5bWVudCBtZXRob2QuIFlvdXIgY2FyZCB3aWxsIGJlIHNhdmVkIHNlY3VyZWx5IGJ1dCBub3QgY2hhcmdlZC5cbiAgICAgICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8SGVscGVyVGV4dCBjbGFzc05hbWU9XCJtdC0yXCI+XG4gICAgICAgICAgICBZb3UncmUgYXV0aG9yaXppbmcgYSBjYXJkIG9uIGZpbGUuIFBlciBUaXRoaSdzIG1hbnVhbCBjYXB0dXJlIHJ1bGVzLCBub3RoaW5nIGlzIGNoYXJnZWQgdW50aWxcbiAgICAgICAgICAgIHlvdXIgYXBwb2ludG1lbnQgaXMgY29tcGxldGVkIG9yIGEgcG9saWN5IGZlZSBhcHBsaWVzLlxuICAgICAgICAgIDwvSGVscGVyVGV4dD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00IHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNjAgcC02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgaWQ9XCJwb2xpY3ktY29uc2VudFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2NvbnNlbnRDaGVja2VkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRDb25zZW50Q2hlY2tlZChldmVudC50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgaC01IHctNSByb3VuZGVkIGJvcmRlci13aGl0ZS8yMCBiZy1ibGFjayB0ZXh0LXByaW1hcnkgZm9jdXM6cmluZy1wcmltYXJ5XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInBvbGljeS1jb25zZW50XCIgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXdoaXRlLzcwXCI+XG4gICAgICAgICAgICAgIEkgYWdyZWUgdG8gdGhlIGNhbmNlbGxhdGlvbiwgbm8tc2hvdywgcmVmdW5kLCBhbmQgY2FzaCBwb2xpY2llcy4gTXkgY2FyZCBpcyBzYXZlZCB2aWEgU3RyaXBlXG4gICAgICAgICAgICAgIGZvciBtYW51YWwgY2FwdHVyZSBsYXRlci57XCIgXCJ9XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbk9wZW5Qb2xpY2llc31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXByaW1hcnkgdW5kZXJsaW5lLW9mZnNldC0yIGhvdmVyOnVuZGVybGluZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBWaWV3IHBvbGljaWVzXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAuXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICBvbkNsaWNrPXtvblN1Ym1pdH1cbiAgICAgICAgICAgIGlzTG9hZGluZz17aXNTdWJtaXR0aW5nfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZyB8fCAhIXNldHVwSW50ZW50Q2xpZW50U2VjcmV0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHRleHQtYmFzZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENoZWNrQ2lyY2xlMiBjbGFzc05hbWU9XCJoLTUgdy01XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIHtzZXR1cEludGVudENsaWVudFNlY3JldCA/ICdDb21wbGV0ZSBwYXltZW50IHNldHVwIGJlbG93JyA6ICdDb25maXJtIGJvb2tpbmcg4oCUIG5vIGNoYXJnZSB0b2RheSd9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxhc2lkZSBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00IHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctYmxhY2svNjAgcC02XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS80MFwiPlN1bW1hcnk8L3A+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cIm10LTIgZm9udC1kaXNwbGF5IHRleHQtMnhsIHRleHQtd2hpdGVcIj57c2VydmljZS5uYW1lfTwvaDM+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgIDxDYWxlbmRhckRheXMgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICB7Zm9ybWF0SW5UaW1lWm9uZShzbG90LnN0YXJ0RGF0ZVRpbWUsIHRpbWV6b25lLCB7XG4gICAgICAgICAgICAgIHdlZWtkYXk6IFwibG9uZ1wiLFxuICAgICAgICAgICAgICBtb250aDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgIDxDbG9jayBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKHNsb3Quc3RhcnREYXRlVGltZSwgdGltZXpvbmUsIHtcbiAgICAgICAgICAgICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgICAgICAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCJcbiAgICAgICAgICAgIH0pfXtcIiBcIn1cbiAgICAgICAgICAgIOKAlCB7Zm9ybWF0RHVyYXRpb24oc2VydmljZS5kdXJhdGlvbk1pbnV0ZXMpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAge3Nsb3Quc3RhZmZOYW1lfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwIHB0LTQgdGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxzcGFuPlNlcnZpY2UgcHJpY2U8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCI+e2Zvcm1hdEN1cnJlbmN5KGxpc3RQcmljZUNlbnRzKX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge2dpZnRDYXJkU3RhdGUgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtZW1lcmFsZC0yMDBcIj5cbiAgICAgICAgICAgICAgPHNwYW4+R2lmdCBjYXJkICh7Z2lmdENhcmRTdGF0ZS5jb2RlfSk8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPi17Zm9ybWF0Q3VycmVuY3koZ2lmdENhcmRTdGF0ZS5hbW91bnRDZW50cyl9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICA8c3Bhbj5EdWUgdG9kYXk8L3NwYW4+XG4gICAgICAgICAgICA8c3Bhbj57Zm9ybWF0Q3VycmVuY3koYW1vdW50RHVlQ2VudHMpfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8SGVscGVyVGV4dCBjbGFzc05hbWU9XCJtdC0zXCI+XG4gICAgICAgICAgICBUaGlzIGFtb3VudCBpcyBhdXRob3JpemVkIGJ1dCBub3QgY2FwdHVyZWQuIE1hbnVhbCBjYXB0dXJlIGVuc3VyZXMgeW91IG9ubHkgY2hhcmdlIGN1c3RvbWVyc1xuICAgICAgICAgICAgYWZ0ZXIgc2VydmljZXMgYXJlIGRlbGl2ZXJlZCBvciBpZiBhIHBvbGljeSBmZWUgYXBwbGllcy5cbiAgICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9hc2lkZT5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59XG5cbmZ1bmN0aW9uIENvbmZpcm1hdGlvblN0ZXAoe1xuICBib29raW5nLFxuICBzZXJ2aWNlLFxuICBhbW91bnREdWVDZW50cyxcbiAgcG9saWNpZXMsXG4gIHRpbWV6b25lLFxuICBvbkJvb2tBbm90aGVyXG59OiB7XG4gIGJvb2tpbmc6IEZha2VCb29raW5nO1xuICBzZXJ2aWNlPzoge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlcjtcbiAgICBwcmljZUNlbnRzOiBudW1iZXI7XG4gIH07XG4gIGFtb3VudER1ZUNlbnRzOiBudW1iZXI7XG4gIHBvbGljaWVzOiBGYWtlQnVzaW5lc3NXb3Jrc3BhY2VbXCJwb2xpY2llc1wiXTtcbiAgdGltZXpvbmU6IHN0cmluZztcbiAgb25Cb29rQW5vdGhlcjogKCkgPT4gdm9pZDtcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNDAwLzQwIGJnLWVtZXJhbGQtNTAwLzEwIHAtMTAgdGV4dC1lbWVyYWxkLTUwIHNoYWRvdy1bMF8wXzgwcHhfcmdiYSgxNiwxODUsMTI5LDAuMzUpXVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC02IG1kOmZsZXgtcm93IG1kOml0ZW1zLWNlbnRlciBtZDpqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1lbWVyYWxkLTQwMC81MCBiZy1lbWVyYWxkLTQwMC8yMCBweC00IHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy1bMC4zNWVtXSB0ZXh0LWVtZXJhbGQtMTAwXCI+XG4gICAgICAgICAgICA8UGFydHlQb3BwZXIgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICBCb29raW5nIGNvbmZpcm1lZFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJtdC00IGZvbnQtZGlzcGxheSB0ZXh0LTR4bCB0ZXh0LWVtZXJhbGQtNTBcIj5cbiAgICAgICAgICAgIHtzZXJ2aWNlPy5uYW1lID8/IGJvb2tpbmcuc2VydmljZU5hbWV9XG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1lbWVyYWxkLTEwMC84MFwiPlxuICAgICAgICAgICAgV2UgZW1haWxlZCB7Ym9va2luZy5jdXN0b21lci5lbWFpbH0gYW5kIHdpbGwgc2VuZCByZW1pbmRlcnMgdmlhIFNNUy4gWW91ciBjYXJkIGlzIHNhdmVkIGJ1dFxuICAgICAgICAgICAgd29u4oCZdCBiZSBjaGFyZ2VkIHVudGlsIHRoZSBhcHBvaW50bWVudCBpcyBjb21wbGV0ZWTigJRvciBpZiBhIG1hbnVhbCBwb2xpY3kgZmVlIGFwcGxpZXMuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNDAwLzUwIGJnLWJsYWNrLzQwIHAtNiB0ZXh0LXNtIHRleHQtZW1lcmFsZC0xMDAvODBcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPENhbGVuZGFyRGF5cyBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKGJvb2tpbmcuc3RhcnREYXRlVGltZSwgdGltZXpvbmUsIHtcbiAgICAgICAgICAgICAgd2Vla2RheTogXCJsb25nXCIsXG4gICAgICAgICAgICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgICAgICAgICAgIGRheTogXCJudW1lcmljXCIsXG4gICAgICAgICAgICAgIGhvdXI6IFwibnVtZXJpY1wiLFxuICAgICAgICAgICAgICBtaW51dGU6IFwiMi1kaWdpdFwiXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAge2Jvb2tpbmcuc3RhZmYgPyAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxVc2VycyBjbGFzc05hbWU9XCJoLTQgdy00XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAge2Jvb2tpbmcuc3RhZmYubmFtZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgICB7Zm9ybWF0RHVyYXRpb24oc2VydmljZT8uZHVyYXRpb25NaW51dGVzID8/IGJvb2tpbmcuZHVyYXRpb25NaW51dGVzKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGJvcmRlci10IGJvcmRlci1lbWVyYWxkLTQwMC8zMCBwdC0zIHRleHQtc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxzcGFuPkF1dGhvcml6ZWQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPntmb3JtYXRDdXJyZW5jeShzZXJ2aWNlPy5wcmljZUNlbnRzID8/IGJvb2tpbmcuZmluYW5jaWFscy5saXN0UHJpY2VDZW50cyl9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7YW1vdW50RHVlQ2VudHMgPCAoc2VydmljZT8ucHJpY2VDZW50cyA/PyBib29raW5nLmZpbmFuY2lhbHMubGlzdFByaWNlQ2VudHMpID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LWVtZXJhbGQtMjAwXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+R2lmdCBjYXJkPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPi17Zm9ybWF0Q3VycmVuY3koKHNlcnZpY2U/LnByaWNlQ2VudHMgPz8gYm9va2luZy5maW5hbmNpYWxzLmxpc3RQcmljZUNlbnRzKSAtIGFtb3VudER1ZUNlbnRzKX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtZW1lcmFsZC01MFwiPlxuICAgICAgICAgICAgICA8c3Bhbj5EdWUgYWZ0ZXIgYXBwb2ludG1lbnQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPntmb3JtYXRDdXJyZW5jeShhbW91bnREdWVDZW50cyl9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMTAgZ3JpZCBnYXAtNiBtZDpncmlkLWNvbHMtMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItZW1lcmFsZC00MDAvNDAgYmctZW1lcmFsZC00MDAvMTAgcC02IHRleHQtc21cIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWVtZXJhbGQtMjAwLzkwXCI+V2hhdCBoYXBwZW5zIG5leHQ8L3A+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm10LTMgc3BhY2UteS0yIHRleHQtZW1lcmFsZC0xMDAvODBcIj5cbiAgICAgICAgICAgIDxsaT5DaGVjayB5b3VyIGVtYWlsIGFuZCBTTVMgZm9yIGNvbmZpcm1hdGlvbiBkZXRhaWxzIGFuZCByZW1pbmRlcnMuPC9saT5cbiAgICAgICAgICAgIDxsaT5SZXNjaGVkdWxlIG9yIGNhbmNlbCBhdCBsZWFzdCAyNGggaW4gYWR2YW5jZSB0byBhdm9pZCBwb2xpY3kgZmVlcy48L2xpPlxuICAgICAgICAgICAgPGxpPk1hbnVhbCBjYXB0dXJlIGtlZXBzIG1vbmV5IGluIHlvdXIgY29udHJvbOKAlG5vIGNoYXJnZXMgcnVuIGF1dG9tYXRpY2FsbHkuPC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLWVtZXJhbGQtNDAwLzQwIGJnLWJsYWNrLzQwIHAtNiB0ZXh0LXNtXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1lbWVyYWxkLTIwMC85MFwiPlBvbGljaWVzIHNuYXBzaG90PC9wPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJtdC0zIHNwYWNlLXktMiB0ZXh0LWVtZXJhbGQtMTAwLzgwXCI+XG4gICAgICAgICAgICA8bGk+e3BvbGljaWVzLmNhbmNlbGxhdGlvblBvbGljeX08L2xpPlxuICAgICAgICAgICAgPGxpPntwb2xpY2llcy5ub1Nob3dQb2xpY3l9PC9saT5cbiAgICAgICAgICAgIDxsaT57cG9saWNpZXMucmVmdW5kUG9saWN5fTwvbGk+XG4gICAgICAgICAgICA8bGk+e3BvbGljaWVzLmNhc2hQb2xpY3l9PC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEwIGZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgIG9uQ2xpY2s9e29uQm9va0Fub3RoZXJ9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGJvcmRlci1lbWVyYWxkLTQwMC80MCB0ZXh0LWVtZXJhbGQtMTAwIGhvdmVyOmJvcmRlci1lbWVyYWxkLTMwMCBob3Zlcjp0ZXh0LWVtZXJhbGQtNTBcIlxuICAgICAgICA+XG4gICAgICAgICAgQm9vayBhbm90aGVyIGFwcG9pbnRtZW50XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZW1lcmFsZC0xMDAvNzBcIj5cbiAgICAgICAgICBOZWVkIGhlbHA/IFJlcGx5IHRvIHRoZSBjb25maXJtYXRpb24gZW1haWwgb3IgdGV4dCB1cyBhdCB7Ym9va2luZy5jdXN0b21lci5waG9uZX0uXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gUG9saWN5TW9kYWwoe1xuICBwb2xpY2llcyxcbiAgb25DbG9zZSxcbiAgdGltZXpvbmVcbn06IHtcbiAgcG9saWNpZXM6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInBvbGljaWVzXCJdO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICB0aW1lem9uZTogc3RyaW5nO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjay84MCBweC00IHB5LThcIlxuICAgICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtYXgtaC1bOTB2aF0gdy1mdWxsIG1heC13LTN4bCBvdmVyZmxvdy15LWF1dG8gcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy13aGl0ZS8xMCBwLTggYmFja2Ryb3AtYmx1clwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC02IHRvcC02IHRleHQtd2hpdGUvNjAgdHJhbnNpdGlvbiBob3Zlcjp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2UgcG9saWNpZXNcIlxuICAgICAgICA+XG4gICAgICAgICAg4pyVXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZm9udC1kaXNwbGF5IHRleHQtM3hsIHRleHQtd2hpdGVcIj5Cb29raW5nIHBvbGljaWVzPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICBBbGwgdGltZXMgcmVmZXJlbmNlZCBhbGlnbiB0byB7dGltZXpvbmV9LiBDb25zZW50IGlzIHJlcXVpcmVkIGJlZm9yZSBzdWJtaXR0aW5nIHlvdXIgYm9va2luZy5cbiAgICAgICAgPC9wPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgc3BhY2UteS01IHRleHQtc20gbGVhZGluZy1yZWxheGVkIHRleHQtd2hpdGUvNzVcIj5cbiAgICAgICAgICA8UG9saWN5QmxvY2sgdGl0bGU9XCJDYW5jZWxsYXRpb24gcG9saWN5XCIgYm9keT17cG9saWNpZXMuY2FuY2VsbGF0aW9uUG9saWN5fSAvPlxuICAgICAgICAgIDxQb2xpY3lCbG9jayB0aXRsZT1cIkNhbmNlbGxhdGlvbiBmZWVzXCIgYm9keT17ZGVzY3JpYmVGZWUocG9saWNpZXMuY2FuY2VsbGF0aW9uRmVlVHlwZSwgcG9saWNpZXMuY2FuY2VsbGF0aW9uRmVlVmFsdWUpfSAvPlxuICAgICAgICAgIDxQb2xpY3lCbG9jayB0aXRsZT1cIk5vLXNob3cgcG9saWN5XCIgYm9keT17cG9saWNpZXMubm9TaG93UG9saWN5fSAvPlxuICAgICAgICAgIDxQb2xpY3lCbG9jayB0aXRsZT1cIk5vLXNob3cgZmVlXCIgYm9keT17ZGVzY3JpYmVGZWUocG9saWNpZXMubm9TaG93RmVlVHlwZSwgcG9saWNpZXMubm9TaG93RmVlVmFsdWUpfSAvPlxuICAgICAgICAgIDxQb2xpY3lCbG9jayB0aXRsZT1cIlJlZnVuZCBwb2xpY3lcIiBib2R5PXtwb2xpY2llcy5yZWZ1bmRQb2xpY3l9IC8+XG4gICAgICAgICAgPFBvbGljeUJsb2NrIHRpdGxlPVwiQ2FzaCBwb2xpY3lcIiBib2R5PXtwb2xpY2llcy5jYXNoUG9saWN5fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IGZsZXgganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPENoZWNrIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgSSB1bmRlcnN0YW5kXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFN0ZXBJbmRpY2F0b3IoeyBjdXJyZW50U3RlcCwgb25SZXNldCB9OiB7IGN1cnJlbnRTdGVwOiBTdGVwOyBvblJlc2V0OiAoKSA9PiB2b2lkIH0pIHtcbiAgY29uc3Qgc3RlcHM6IEFycmF5PHsgaWQ6IFN0ZXA7IGxhYmVsOiBzdHJpbmcgfT4gPSBbXG4gICAgeyBpZDogXCJjYXRhbG9nXCIsIGxhYmVsOiBcIlNlcnZpY2VcIiB9LFxuICAgIHsgaWQ6IFwiYXZhaWxhYmlsaXR5XCIsIGxhYmVsOiBcIlRpbWVcIiB9LFxuICAgIHsgaWQ6IFwiY2hlY2tvdXRcIiwgbGFiZWw6IFwiQ2hlY2tvdXRcIiB9LFxuICAgIHsgaWQ6IFwiY29uZmlybWF0aW9uXCIsIGxhYmVsOiBcIkRvbmVcIiB9XG4gIF07XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0zIHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC02IHB5LTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgdGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS80MFwiPlxuICAgICAgICB7c3RlcHMubWFwKChzdGVwLCBpbmRleCkgPT4gKFxuICAgICAgICAgIDxkaXYga2V5PXtzdGVwLmlkfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICBcImlubGluZS1mbGV4IGgtOCB3LTggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBib3JkZXIgdGV4dC1zbSBmb250LXNlbWlib2xkXCIsXG4gICAgICAgICAgICAgICAgY3VycmVudFN0ZXAgPT09IHN0ZXAuaWRcbiAgICAgICAgICAgICAgICAgID8gXCJib3JkZXItcHJpbWFyeSBiZy1wcmltYXJ5LzMwIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgOiBcImJvcmRlci13aGl0ZS8yMCBiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlLzUwXCJcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2luZGV4ICsgMX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y3VycmVudFN0ZXAgPT09IHN0ZXAuaWQgPyBcInRleHQtd2hpdGVcIiA6IFwidGV4dC13aGl0ZS81MFwifT5cbiAgICAgICAgICAgICAge3N0ZXAubGFiZWx9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7aW5kZXggPCBzdGVwcy5sZW5ndGggLSAxID8gKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoLXB4IHctMTIgYmctd2hpdGUvMTBcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgICB7Y3VycmVudFN0ZXAgIT09IFwiY2F0YWxvZ1wiICYmIGN1cnJlbnRTdGVwICE9PSBcImNvbmZpcm1hdGlvblwiID8gKFxuICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIG9uQ2xpY2s9e29uUmVzZXR9IGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICBTdGFydCBvdmVyXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgKSA6IG51bGx9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIEZpZWxkKHtcbiAgbGFiZWwsXG4gIGhlbHBlcixcbiAgY2hpbGRyZW5cbn06IHtcbiAgbGFiZWw6IHN0cmluZztcbiAgaGVscGVyPzogc3RyaW5nO1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0yIHRleHQtc20gdGV4dC13aGl0ZS83MFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+e2xhYmVsfTwvc3Bhbj5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICAgIHtoZWxwZXIgPyA8SGVscGVyVGV4dCBjbGFzc05hbWU9XCJ0ZXh0LVsxM3B4XSB0ZXh0LXdoaXRlLzQwXCI+e2hlbHBlcn08L0hlbHBlclRleHQ+IDogbnVsbH1cbiAgICA8L2xhYmVsPlxuICApO1xufVxuXG5mdW5jdGlvbiBTdGFmZlBpbGwoe1xuICBsYWJlbCxcbiAgY29sb3IsXG4gIGFjdGl2ZSxcbiAgb25DbGlja1xufToge1xuICBsYWJlbDogc3RyaW5nO1xuICBjb2xvcj86IHN0cmluZztcbiAgYWN0aXZlOiBib29sZWFuO1xuICBvbkNsaWNrOiAoKSA9PiB2b2lkO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwicm91bmRlZC1mdWxsIGJvcmRlciBweC00IHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1wcmltYXJ5LzcwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LWJsYWNrXCIsXG4gICAgICAgIGFjdGl2ZSA/IFwiYm9yZGVyLXdoaXRlLzYwIGJnLXdoaXRlLzE1IHRleHQtd2hpdGVcIiA6IFwiYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgdGV4dC13aGl0ZS82MCBob3Zlcjp0ZXh0LXdoaXRlLzgwXCJcbiAgICAgICl9XG4gICAgICBzdHlsZT17YWN0aXZlICYmIGNvbG9yID8geyBib3JkZXJDb2xvcjogY29sb3IsIGJveFNoYWRvdzogYDAgMCAyNXB4ICR7Y29sb3J9MzNgIH0gOiB1bmRlZmluZWR9XG4gICAgPlxuICAgICAge2xhYmVsfVxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuXG5mdW5jdGlvbiBQb2xpY3lCbG9jayh7IHRpdGxlLCBib2R5IH06IHsgdGl0bGU6IHN0cmluZzsgYm9keTogc3RyaW5nIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB1cHBlcmNhc2UgdHJhY2tpbmctWzAuMzVlbV0gdGV4dC13aGl0ZS80MFwiPnt0aXRsZX08L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC13aGl0ZS83MCBsZWFkaW5nLXJlbGF4ZWRcIj57Ym9keX08L3A+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIENvbmZldHRpT3ZlcmxheSgpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgaW5zZXQtMCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiAxNTAgfSkubWFwKChfLCBpbmRleCkgPT4gKFxuICAgICAgICA8c3BhblxuICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiY29uZmV0dGktcGllY2VcIlxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBsZWZ0OiBgJHtNYXRoLnJhbmRvbSgpICogMTAwfSVgLFxuICAgICAgICAgICAgYW5pbWF0aW9uRGVsYXk6IGAke01hdGgucmFuZG9tKCkgKiAwLjV9c2AsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHJhbmRvbUNvbmZldHRpQ29sb3IoKVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApKX1cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgQGtleWZyYW1lcyBjb25mZXR0aS1mYWxsIHtcbiAgICAgICAgICAwJSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwdmgpIHJvdGF0ZSgwZGVnKTtcbiAgICAgICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIDEwJSB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICAxMDAlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMTB2aCkgcm90YXRlKDcyMGRlZyk7XG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAuY29uZmV0dGktcGllY2Uge1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB3aWR0aDogNnB4O1xuICAgICAgICAgIGhlaWdodDogMTJweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICBhbmltYXRpb246IGNvbmZldHRpLWZhbGwgMi4zcyBlYXNlLWluIGJvdGg7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tQ29uZmV0dGlDb2xvcigpIHtcbiAgY29uc3QgcGFsZXR0ZSA9IFtcIiM1QjY0RkZcIiwgXCIjNTdEMEZGXCIsIFwiI0ZGOUE4QlwiLCBcIiNGRkQxNjZcIiwgXCIjOEFGRkNGXCIsIFwiI0M0QTVGRlwiXTtcbiAgcmV0dXJuIHBhbGV0dGVbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcGFsZXR0ZS5sZW5ndGgpXTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0RHVyYXRpb24obWludXRlczogbnVtYmVyKSB7XG4gIGlmIChtaW51dGVzIDwgNjApIHJldHVybiBgJHttaW51dGVzfSBtaW5gO1xuICBjb25zdCBocnMgPSBNYXRoLmZsb29yKG1pbnV0ZXMgLyA2MCk7XG4gIGNvbnN0IG1pbnMgPSBtaW51dGVzICUgNjA7XG4gIHJldHVybiBtaW5zID09PSAwID8gYCR7aHJzfSBocmAgOiBgJHtocnN9IGhyICR7bWluc30gbWluYDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0Q3VycmVuY3koY2VudHM6IG51bWJlcikge1xuICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KFwiZW4tVVNcIiwge1xuICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgY3VycmVuY3k6IFwiVVNEXCJcbiAgfSkuZm9ybWF0KGNlbnRzIC8gMTAwKTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVBY2NlcHRlZE1ldGhvZHMobWV0aG9kczogc3RyaW5nW10pIHtcbiAgY29uc3QgdW5pcXVlID0gQXJyYXkuZnJvbShuZXcgU2V0KG1ldGhvZHMpKTtcbiAgY29uc3QgbWV0aG9kTGFiZWxzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgIGNhcmQ6IFwiQ3JlZGl0ICYgRGViaXQgQ2FyZHNcIixcbiAgICBjYXNoOiBcIkNhc2hcIixcbiAgICB3YWxsZXRzOiBcIkRpZ2l0YWwgV2FsbGV0cyAoQXBwbGUgUGF5LCBHb29nbGUgUGF5KVwiLFxuICAgIGFwcGxlX3BheTogXCJBcHBsZSBQYXlcIixcbiAgICBcImFwcGxlLXBheVwiOiBcIkFwcGxlIFBheVwiLFxuICAgIGdvb2dsZV9wYXk6IFwiR29vZ2xlIFBheVwiLFxuICAgIFwiZ29vZ2xlLXBheVwiOiBcIkdvb2dsZSBQYXlcIixcbiAgfTtcbiAgY29uc3QgbGFiZWxzID0gdW5pcXVlLm1hcCgobWV0aG9kKSA9PiBtZXRob2RMYWJlbHNbbWV0aG9kLnRvTG93ZXJDYXNlKCldIHx8IG1ldGhvZC50b1VwcGVyQ2FzZSgpKTtcbiAgcmV0dXJuIGxhYmVscy5sZW5ndGggPiAwID8gYEFjY2VwdGVkOiAke2xhYmVscy5qb2luKFwiLCBcIil9YCA6IFwiQWNjZXB0ZWQ6IENyZWRpdCAmIERlYml0IENhcmRzXCI7XG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlRmVlKHR5cGU6IFwiZmxhdFwiIHwgXCJwZXJjZW50XCIsIHZhbHVlOiBudW1iZXIpIHtcbiAgaWYgKHZhbHVlIDw9IDApIHJldHVybiBcIk5vIGZlZVwiO1xuICByZXR1cm4gdHlwZSA9PT0gXCJwZXJjZW50XCIgPyBgJHt2YWx1ZX0lIG9mIHRoZSBzZXJ2aWNlIHByaWNlYCA6IGZvcm1hdEN1cnJlbmN5KE1hdGgucm91bmQodmFsdWUgKiAxMDApKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0QWRkcmVzcyhsb2NhdGlvbjogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wiaWRlbnRpdHlcIl1bXCJsb2NhdGlvblwiXSkge1xuICBjb25zdCBwYXJ0cyA9IFtcbiAgICBsb2NhdGlvbi5hZGRyZXNzTGluZTEsXG4gICAgbG9jYXRpb24uYWRkcmVzc0xpbmUyLFxuICAgIGAke2xvY2F0aW9uLmNpdHl9LCAke2xvY2F0aW9uLnN0YXRlUHJvdmluY2V9YCxcbiAgICBsb2NhdGlvbi5jb3VudHJ5XG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xuICByZXR1cm4gcGFydHMuam9pbihcIiDCtyBcIik7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRFbWFpbChlbWFpbDogc3RyaW5nKSB7XG4gIHJldHVybiAvXFxTK0BcXFMrXFwuXFxTKy8udGVzdChlbWFpbCk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRQaG9uZShwaG9uZTogc3RyaW5nKSB7XG4gIHJldHVybiBwaG9uZS50cmltKCkubGVuZ3RoID49IDc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvbGljeUNvbnNlbnQocG9saWNpZXM6IEZha2VCdXNpbmVzc1dvcmtzcGFjZVtcInBvbGljaWVzXCJdKSB7XG4gIGNvbnN0IGhhc2hCYXNlID0gSlNPTi5zdHJpbmdpZnkocG9saWNpZXMpO1xuICBjb25zdCBoYXNoID0gc2ltcGxlSGFzaChoYXNoQmFzZSk7XG4gIHJldHVybiB7XG4gICAgaGFzaCxcbiAgICBhY2NlcHRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgaXA6IFwiMjAzLjAuMTEzLjVcIixcbiAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnRcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlSGFzaChpbnB1dDogc3RyaW5nKSB7XG4gIGxldCBoYXNoID0gMDtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGlucHV0Lmxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBpbnB1dC5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICBoYXNoIHw9IDA7XG4gIH1cbiAgcmV0dXJuIE1hdGguYWJzKGhhc2gpLnRvU3RyaW5nKDE2KTtcbn1cblxuLy8gU3RyaXBlIFBheW1lbnQgRm9ybSBDb21wb25lbnRcbmZ1bmN0aW9uIFN0cmlwZVBheW1lbnRGb3JtKHtcbiAgb25QYXltZW50TWV0aG9kUmVhZHksXG4gIGFjY2VwdGVkTWV0aG9kcyxcbiAgYnVzaW5lc3NTbHVnLFxuICBib29raW5nSWQsXG4gIGNyZWF0ZWRCb29raW5nSWQsXG4gIGNyZWF0ZWRCb29raW5nQ29kZSxcbiAgd29ya3NwYWNlLFxuICBjdXN0b21lck5hbWUsXG4gIGN1c3RvbWVyRW1haWwsXG4gIGN1c3RvbWVyUGhvbmUsXG4gIGxpc3RQcmljZUNlbnRzLFxuICBnaWZ0Q2FyZFN0YXRlLFxuICBwb2xpY2llcyxcbiAgdGltZXpvbmUsXG4gIHNlbGVjdGVkU2VydmljZSxcbiAgc2VsZWN0ZWRTbG90LFxuICBzZXRDcmVhdGVkQm9va2luZyxcbiAgc2V0U3RlcCxcbiAgdG9hc3Rcbn06IHtcbiAgb25QYXltZW50TWV0aG9kUmVhZHk6IChwYXltZW50TWV0aG9kSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgYWNjZXB0ZWRNZXRob2RzOiBzdHJpbmdbXTtcbiAgYnVzaW5lc3NTbHVnOiBzdHJpbmc7XG4gIGJvb2tpbmdJZDogc3RyaW5nO1xuICBjcmVhdGVkQm9va2luZ0lkOiBzdHJpbmcgfCBudWxsO1xuICBjcmVhdGVkQm9va2luZ0NvZGU6IHN0cmluZyB8IG51bGw7XG4gIHdvcmtzcGFjZTogRmFrZUJ1c2luZXNzV29ya3NwYWNlO1xuICBjdXN0b21lck5hbWU6IHN0cmluZztcbiAgY3VzdG9tZXJFbWFpbDogc3RyaW5nO1xuICBjdXN0b21lclBob25lOiBzdHJpbmc7XG4gIGxpc3RQcmljZUNlbnRzOiBudW1iZXI7XG4gIGdpZnRDYXJkU3RhdGU6IEdpZnRDYXJkU3RhdGUgfCBudWxsO1xuICBwb2xpY2llczogRmFrZUJ1c2luZXNzV29ya3NwYWNlW1wicG9saWNpZXNcIl07XG4gIHRpbWV6b25lOiBzdHJpbmc7XG4gIHNlbGVjdGVkU2VydmljZToge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGR1cmF0aW9uTWludXRlczogbnVtYmVyO1xuICAgIHByaWNlQ2VudHM6IG51bWJlcjtcbiAgICBjYXRlZ29yeU5hbWU6IHN0cmluZztcbiAgfSB8IHVuZGVmaW5lZDtcbiAgc2VsZWN0ZWRTbG90OiBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QgfCBudWxsO1xuICBzZXRDcmVhdGVkQm9va2luZzogKGJvb2tpbmc6IEZha2VCb29raW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgc2V0U3RlcDogKHN0ZXA6IFN0ZXApID0+IHZvaWQ7XG4gIHRvYXN0OiBSZXR1cm5UeXBlPHR5cGVvZiB1c2VUb2FzdD47XG59KSB7XG4gIGNvbnN0IHN0cmlwZSA9IHVzZVN0cmlwZSgpO1xuICBjb25zdCBlbGVtZW50cyA9IHVzZUVsZW1lbnRzKCk7XG4gIGNvbnN0IFtpc1Byb2Nlc3NpbmcsIHNldElzUHJvY2Vzc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICBpZiAoIXN0cmlwZSB8fCAhZWxlbWVudHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ29uZmlybSB0aGUgU2V0dXBJbnRlbnRcbiAgICAgIGNvbnN0IHsgZXJyb3I6IGNvbmZpcm1FcnJvciwgc2V0dXBJbnRlbnQgfSA9IGF3YWl0IHN0cmlwZS5jb25maXJtU2V0dXAoe1xuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgcmVkaXJlY3Q6ICdpZl9yZXF1aXJlZCcsXG4gICAgICB9KTtcblxuICAgICAgaWYgKGNvbmZpcm1FcnJvcikge1xuICAgICAgICBzZXRFcnJvcihjb25maXJtRXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNhdmUgcGF5bWVudCBtZXRob2QnKTtcbiAgICAgICAgc2V0SXNQcm9jZXNzaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2V0dXBJbnRlbnQgJiYgc2V0dXBJbnRlbnQucGF5bWVudF9tZXRob2QpIHtcbiAgICAgICAgY29uc3QgcG1JZCA9IHR5cGVvZiBzZXR1cEludGVudC5wYXltZW50X21ldGhvZCA9PT0gJ3N0cmluZycgXG4gICAgICAgICAgPyBzZXR1cEludGVudC5wYXltZW50X21ldGhvZCBcbiAgICAgICAgICA6IHNldHVwSW50ZW50LnBheW1lbnRfbWV0aG9kLmlkO1xuICAgICAgICBvblBheW1lbnRNZXRob2RSZWFkeShwbUlkKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgYm9va2luZyBvYmplY3QgYW5kIHByb2NlZWQgdG8gY29uZmlybWF0aW9uXG4gICAgICAgIGlmIChzZWxlY3RlZFNlcnZpY2UgJiYgc2VsZWN0ZWRTbG90ICYmIGNyZWF0ZWRCb29raW5nSWQpIHtcbiAgICAgICAgICBjb25zdCBib29raW5nOiBGYWtlQm9va2luZyA9IHtcbiAgICAgICAgICAgIGlkOiBjcmVhdGVkQm9va2luZ0lkLFxuICAgICAgICAgICAgY29kZTogY3JlYXRlZEJvb2tpbmdDb2RlIHx8IGBUSVRISS0ke2NyZWF0ZWRCb29raW5nSWQuc2xpY2UoMCwgOCkudG9VcHBlckNhc2UoKX1gLFxuICAgICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgICAgICBzZXJ2aWNlSWQ6IHNlbGVjdGVkU2VydmljZS5pZCxcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lOiBzZWxlY3RlZFNlcnZpY2UubmFtZSxcbiAgICAgICAgICAgIGNhdGVnb3J5TmFtZTogc2VsZWN0ZWRTZXJ2aWNlLmNhdGVnb3J5TmFtZSxcbiAgICAgICAgICAgIGR1cmF0aW9uTWludXRlczogc2VsZWN0ZWRTZXJ2aWNlLmR1cmF0aW9uTWludXRlcyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZVRpbWU6IHNlbGVjdGVkU2xvdC5zdGFydERhdGVUaW1lLFxuICAgICAgICAgICAgZW5kRGF0ZVRpbWU6IHNlbGVjdGVkU2xvdC5lbmREYXRlVGltZSxcbiAgICAgICAgICAgIHN0YWZmOiB7XG4gICAgICAgICAgICAgIGlkOiBzZWxlY3RlZFNsb3Quc3RhZmZJZCxcbiAgICAgICAgICAgICAgbmFtZTogc2VsZWN0ZWRTbG90LnN0YWZmTmFtZSxcbiAgICAgICAgICAgICAgY29sb3I6IHdvcmtzcGFjZS5zdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTbG90LnN0YWZmSWQpPy5jb2xvciB8fCBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXN0b21lcjoge1xuICAgICAgICAgICAgICBuYW1lOiBjdXN0b21lck5hbWUudHJpbSgpLFxuICAgICAgICAgICAgICBlbWFpbDogY3VzdG9tZXJFbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgcGhvbmU6IGN1c3RvbWVyUGhvbmUudHJpbSgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBheW1lbnRzOiBbXSxcbiAgICAgICAgICAgIGZpbmFuY2lhbHM6IHtcbiAgICAgICAgICAgICAgbGlzdFByaWNlQ2VudHM6IGxpc3RQcmljZUNlbnRzLFxuICAgICAgICAgICAgICBnaWZ0Q2FyZEFtb3VudENlbnRzOiBnaWZ0Q2FyZFN0YXRlPy5hbW91bnRDZW50cyB8fCAwLFxuICAgICAgICAgICAgICBwbGF0Zm9ybUZlZUNlbnRzOiAwLFxuICAgICAgICAgICAgICBzdHJpcGVGZWVFc3RpbWF0ZUNlbnRzOiAwLFxuICAgICAgICAgICAgICBuZXRQYXlvdXRDZW50czogMCxcbiAgICAgICAgICAgICAgY3VycmVuY3k6ICd1c2QnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvbGljeUNvbnNlbnQ6IGNyZWF0ZVBvbGljeUNvbnNlbnQocG9saWNpZXMpLFxuICAgICAgICAgICAgcmVxdWlyZXNBY3Rpb246IGZhbHNlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgc2V0Q3JlYXRlZEJvb2tpbmcoYm9va2luZyk7XG4gICAgICAgICAgc2V0U3RlcChcImNvbmZpcm1hdGlvblwiKTtcbiAgICAgICAgICB0b2FzdC5wdXNoVG9hc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwiQm9va2luZyBjb25maXJtZWRcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtzZWxlY3RlZFNlcnZpY2UubmFtZX0gb24gJHtmb3JtYXRJblRpbWVab25lKFxuICAgICAgICAgICAgICBzZWxlY3RlZFNsb3Quc3RhcnREYXRlVGltZSxcbiAgICAgICAgICAgICAgdGltZXpvbmUsXG4gICAgICAgICAgICAgIHsgd2Vla2RheTogXCJsb25nXCIsIG1vbnRoOiBcInNob3J0XCIsIGRheTogXCJudW1lcmljXCIsIGhvdXI6IFwibnVtZXJpY1wiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH1cbiAgICAgICAgICAgICl9LiBObyBjaGFyZ2UgeWV04oCUY2FyZCBzYXZlZCBzZWN1cmVseS5gLFxuICAgICAgICAgICAgaW50ZW50OiBcInN1Y2Nlc3NcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIGVycm9yIG9jY3VycmVkJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzUHJvY2Vzc2luZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENvbmZpZ3VyZSBwYXltZW50IG1ldGhvZCB0eXBlcyAtIGNhcmQgaXMgQUxXQVlTIHJlcXVpcmVkIHJlZ2FyZGxlc3Mgb2YgYnVzaW5lc3Mgc2V0dGluZ3NcbiAgLy8gVGhpcyBlbnN1cmVzIGNhcmQgaXMgYWx3YXlzIGF2YWlsYWJsZSBhcyBiYWNrdXAgZm9yIG5vLXNob3cgZmVlcyAoZXZlbiBmb3IgY2FzaCBwYXltZW50cylcbiAgY29uc3QgcGF5bWVudE1ldGhvZFR5cGVzOiBzdHJpbmdbXSA9IFsnY2FyZCddO1xuXG4gIC8vIE1hcCBhY2NlcHRlZCBtZXRob2RzIHRvIFN0cmlwZSBwYXltZW50IG1ldGhvZCB0eXBlc1xuICAvLyBOb3RlOiBjYXJkIGlzIGFsd2F5cyBpbmNsdWRlZCBhYm92ZSwgc28gd2Ugb25seSBhZGQgYWRkaXRpb25hbCBtZXRob2RzXG4gIGlmIChhY2NlcHRlZE1ldGhvZHMuaW5jbHVkZXMoJ2FwcGxlX3BheScpIHx8IGFjY2VwdGVkTWV0aG9kcy5pbmNsdWRlcygnYXBwbGUtcGF5JykpIHtcbiAgICBwYXltZW50TWV0aG9kVHlwZXMucHVzaCgnYXBwbGVfcGF5Jyk7XG4gIH1cbiAgaWYgKGFjY2VwdGVkTWV0aG9kcy5pbmNsdWRlcygnZ29vZ2xlX3BheScpIHx8IGFjY2VwdGVkTWV0aG9kcy5pbmNsdWRlcygnZ29vZ2xlLXBheScpKSB7XG4gICAgcGF5bWVudE1ldGhvZFR5cGVzLnB1c2goJ2dvb2dsZV9wYXknKTtcbiAgfVxuICAvLyBBbHNvIGNoZWNrIGZvciAnd2FsbGV0cycgd2hpY2ggbWlnaHQgaW5jbHVkZSBib3RoXG4gIGlmIChhY2NlcHRlZE1ldGhvZHMuaW5jbHVkZXMoJ3dhbGxldHMnKSkge1xuICAgIGlmICghcGF5bWVudE1ldGhvZFR5cGVzLmluY2x1ZGVzKCdhcHBsZV9wYXknKSkgcGF5bWVudE1ldGhvZFR5cGVzLnB1c2goJ2FwcGxlX3BheScpO1xuICAgIGlmICghcGF5bWVudE1ldGhvZFR5cGVzLmluY2x1ZGVzKCdnb29nbGVfcGF5JykpIHBheW1lbnRNZXRob2RUeXBlcy5wdXNoKCdnb29nbGVfcGF5Jyk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxQYXltZW50RWxlbWVudFxuICAgICAgICAgIG9wdGlvbnM9e3tcbiAgICAgICAgICAgIHBheW1lbnRNZXRob2RUeXBlczogcGF5bWVudE1ldGhvZFR5cGVzLFxuICAgICAgICAgICAgLy8gVXNlIHRhYnMgb25seSBpZiB3ZSBoYXZlIG11bHRpcGxlIHBheW1lbnQgbWV0aG9kcywgb3RoZXJ3aXNlIHVzZSBkZWZhdWx0IGxheW91dFxuICAgICAgICAgICAgLi4uKHBheW1lbnRNZXRob2RUeXBlcy5sZW5ndGggPiAxID8geyBsYXlvdXQ6ICd0YWJzJyBhcyBjb25zdCB9IDoge30pLFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPEhlbHBlclRleHQgaW50ZW50PVwiZXJyb3JcIiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDAgbXQtMlwiPlxuICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgIDwvSGVscGVyVGV4dD5cbiAgICAgICAgKX1cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgIGRpc2FibGVkPXtpc1Byb2Nlc3NpbmcgfHwgIXN0cmlwZX1cbiAgICAgICAgICBpc0xvYWRpbmc9e2lzUHJvY2Vzc2luZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbXQtNFwiXG4gICAgICAgID5cbiAgICAgICAgICB7aXNQcm9jZXNzaW5nID8gJ1NhdmluZyBwYXltZW50IG1ldGhvZC4uLicgOiAnU2F2ZSBwYXltZW50IG1ldGhvZCd9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPlxuICApO1xufVxuXG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJBcnJvd0xlZnQiLCJBcnJvd1JpZ2h0IiwiQ2FsZW5kYXJEYXlzIiwiQ2hlY2siLCJDaGVja0NpcmNsZTIiLCJDaGV2cm9uTGVmdCIsIkNoZXZyb25SaWdodCIsIkNsb2NrIiwiQ3JlZGl0Q2FyZCIsIkdpZnQiLCJMb2FkZXIyIiwiTWFwUGluIiwiUGFydHlQb3BwZXIiLCJTaGllbGRDaGVjayIsIlNwYXJrbGVzIiwiVXNlcnMiLCJsb2FkU3RyaXBlIiwiRWxlbWVudHMiLCJQYXltZW50RWxlbWVudCIsInVzZVN0cmlwZSIsInVzZUVsZW1lbnRzIiwiQmFkZ2UiLCJCdXR0b24iLCJIZWxwZXJUZXh0IiwiSW5wdXQiLCJ1c2VUb2FzdCIsImNuIiwiZ3JvdXBTbG90c0J5RGF5IiwiZm9ybWF0SW5UaW1lWm9uZSIsInN0cmlwZVByb21pc2UiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSIsIlB1YmxpY0Jvb2tpbmdFeHBlcmllbmNlIiwiYnVzaW5lc3MiLCJ3b3Jrc3BhY2UiLCJyZWNvcmRCb29raW5nIiwidG9hc3QiLCJzdGVwIiwic2V0U3RlcCIsInNlbGVjdGVkU2VydmljZUlkIiwic2V0U2VsZWN0ZWRTZXJ2aWNlSWQiLCJzZWxlY3RlZFN0YWZmSWQiLCJzZXRTZWxlY3RlZFN0YWZmSWQiLCJzZWxlY3RlZFNsb3QiLCJzZXRTZWxlY3RlZFNsb3QiLCJnaWZ0Q2FyZFN0YXRlIiwic2V0R2lmdENhcmRTdGF0ZSIsImdpZnRDYXJkSW5wdXQiLCJzZXRHaWZ0Q2FyZElucHV0IiwiZ2lmdENhcmRFcnJvciIsInNldEdpZnRDYXJkRXJyb3IiLCJjdXN0b21lck5hbWUiLCJzZXRDdXN0b21lck5hbWUiLCJjdXN0b21lckVtYWlsIiwic2V0Q3VzdG9tZXJFbWFpbCIsImN1c3RvbWVyUGhvbmUiLCJzZXRDdXN0b21lclBob25lIiwic2V0dXBJbnRlbnRDbGllbnRTZWNyZXQiLCJzZXRTZXR1cEludGVudENsaWVudFNlY3JldCIsInBheW1lbnRNZXRob2RJZCIsInNldFBheW1lbnRNZXRob2RJZCIsImNyZWF0ZWRCb29raW5nSWQiLCJzZXRDcmVhdGVkQm9va2luZ0lkIiwiY3JlYXRlZEJvb2tpbmdDb2RlIiwic2V0Q3JlYXRlZEJvb2tpbmdDb2RlIiwiY29uc2VudENoZWNrZWQiLCJzZXRDb25zZW50Q2hlY2tlZCIsImlzUG9saWN5TW9kYWxPcGVuIiwic2V0SXNQb2xpY3lNb2RhbE9wZW4iLCJpc1N1Ym1pdHRpbmciLCJzZXRJc1N1Ym1pdHRpbmciLCJjcmVhdGVkQm9va2luZyIsInNldENyZWF0ZWRCb29raW5nIiwiZmV0Y2hlZFNsb3RzIiwic2V0RmV0Y2hlZFNsb3RzIiwiaXNMb2FkaW5nQXZhaWxhYmlsaXR5Iiwic2V0SXNMb2FkaW5nQXZhaWxhYmlsaXR5IiwiYXZhaWxhYmlsaXR5RXJyb3IiLCJzZXRBdmFpbGFiaWxpdHlFcnJvciIsInNlbGVjdGVkU2VydmljZSIsInVuZGVmaW5lZCIsImNhdGVnb3J5IiwiY2F0YWxvZyIsInNlcnZpY2UiLCJzZXJ2aWNlcyIsImZpbmQiLCJzdmMiLCJpZCIsImNhdGVnb3J5TmFtZSIsIm5hbWUiLCJjYXRlZ29yeUNvbG9yIiwiY29sb3IiLCJmZXRjaEF2YWlsYWJpbGl0eSIsInRvZGF5IiwiRGF0ZSIsImFsbFNsb3RzIiwidGltZXpvbmUiLCJpZGVudGl0eSIsImxvY2F0aW9uIiwiZGF5Rm9ybWF0dGVyIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwidGltZVpvbmUiLCJ3ZWVrZGF5IiwiaSIsImRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRhdGVTdHIiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiZGF0YSIsInJlc3BvbnNlIiwiZmV0Y2giLCJzbHVnIiwib2siLCJjb25zb2xlIiwid2FybiIsInN0YXR1cyIsImpzb24iLCJsb2ciLCJzbG90c0NvdW50Iiwic2xvdHMiLCJsZW5ndGgiLCJoYXNTbG90cyIsIkFycmF5IiwiaXNBcnJheSIsInNhbXBsZVNsb3QiLCJzbG90Iiwic3RhcnREYXRlIiwic3RhcnRfYXQiLCJlbmREYXRlIiwiZW5kX2F0IiwiZGF5TGFiZWwiLCJmb3JtYXQiLCJzdGFmZk1lbWJlciIsInN0YWZmIiwicyIsInN0YWZmX2lkIiwic3RhZmZDb2xvciIsInB1c2giLCJzZXJ2aWNlSWQiLCJzdGFmZklkIiwic3RhZmZOYW1lIiwic3RhZmZfbmFtZSIsInN0YXJ0RGF0ZVRpbWUiLCJlbmREYXRlVGltZSIsImVyciIsImVycm9yIiwic2VydmljZUF2YWlsYWJpbGl0eSIsImdyb3VwZWRTbG90cyIsImZpbHRlcmVkIiwiZmlsdGVyIiwibGlzdFByaWNlQ2VudHMiLCJwcmljZUNlbnRzIiwiYXBwbGllZEdpZnRDYXJkQ2VudHMiLCJhbW91bnRDZW50cyIsImFtb3VudER1ZUNlbnRzIiwiTWF0aCIsIm1heCIsImJ1c2luZXNzQWNjZXB0ZWRNZXRob2RzIiwicGF5bWVudCIsImFjY2VwdGVkTWV0aG9kcyIsImFjY2VwdGVkTWV0aG9kc0ZvckRpc3BsYXkiLCJwb2xpY2llcyIsImhhbmRsZVNlbGVjdFNlcnZpY2UiLCJoYW5kbGVTZWxlY3RTbG90Iiwid2luZG93Iiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsImhhbmRsZUFwcGx5R2lmdENhcmQiLCJjb2RlIiwidHJpbSIsInRvVXBwZXJDYXNlIiwicHJvZ3JhbSIsImdpZnRDYXJkcyIsImNvbmZpZyIsImVuYWJsZWQiLCJhbGxDb2RlcyIsIlNldCIsImdlbmVyYXRlZENvZGVzIiwibWFwIiwiZW50cnkiLCJsZWRnZXIiLCJoYXMiLCJhbW91bnRUeXBlIiwiYW1vdW50VmFsdWUiLCJyb3VuZCIsImFwcGxpZWRBbW91bnQiLCJtaW4iLCJkZXNjcmlwdGlvbiIsImZvcm1hdEN1cnJlbmN5IiwicHVzaFRvYXN0IiwidGl0bGUiLCJpbnRlbnQiLCJoYW5kbGVTdWJtaXRDaGVja291dCIsImlzVmFsaWRFbWFpbCIsImlzVmFsaWRQaG9uZSIsImFwaVBheWxvYWQiLCJzZXJ2aWNlX2lkIiwiY3VzdG9tZXIiLCJlbWFpbCIsInRvTG93ZXJDYXNlIiwicGhvbmUiLCJnaWZ0X2NhcmRfY29kZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yRGF0YSIsImNhdGNoIiwiRXJyb3IiLCJhcGlSZXNwb25zZSIsImNsaWVudF9zZWNyZXQiLCJib29raW5nX2lkIiwiYm9va2luZ19jb2RlIiwiY29tcGxldGVCb29raW5nIiwiYm9va2luZ0RhdGUiLCJpc05hTiIsImdldFRpbWUiLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJtZXNzYWdlIiwiaGFuZGxlUmVzZXRGbG93IiwiZGl2IiwiY2xhc3NOYW1lIiwiQ29uZmV0dGlPdmVybGF5IiwiaGVhZGVyIiwiaDEiLCJidXNpbmVzc05hbWUiLCJwIiwic3BhbiIsImFyaWEtaGlkZGVuIiwiZm9ybWF0QWRkcmVzcyIsInNlcnZpY2VOYW1lIiwibWFpbiIsIlN0ZXBJbmRpY2F0b3IiLCJjdXJyZW50U3RlcCIsIm9uUmVzZXQiLCJDYXRhbG9nU3RlcCIsIm9uU2VsZWN0U2VydmljZSIsIkF2YWlsYWJpbGl0eVN0ZXAiLCJzbG90c0J5RGF5Iiwib25CYWNrIiwib25TZWxlY3RTbG90Iiwic3VwcG9ydEVtYWlsIiwiaXNMb2FkaW5nIiwiQ2hlY2tvdXRTdGVwIiwib25BcHBseUdpZnRDYXJkIiwib25TdWJtaXQiLCJvbk9wZW5Qb2xpY2llcyIsIkNvbmZpcm1hdGlvblN0ZXAiLCJib29raW5nIiwib25Cb29rQW5vdGhlciIsIlBvbGljeU1vZGFsIiwib25DbG9zZSIsInNlY3Rpb24iLCJidXR0b24iLCJ0eXBlIiwib25DbGljayIsImgyIiwiZm9ybWF0RHVyYXRpb24iLCJkdXJhdGlvbk1pbnV0ZXMiLCJpbnN0cnVjdGlvbnMiLCJzdHJvbmciLCJjdXJyZW50V2Vla1N0YXJ0Iiwic2V0Q3VycmVudFdlZWtTdGFydCIsImRheU9mV2VlayIsImdldERheSIsImRpZmYiLCJzdW5kYXkiLCJzZXRIb3VycyIsInN0YWZmT3B0aW9ucyIsIm1lbWJlciIsInN0YWZmSWRzIiwiaW5jbHVkZXMiLCJ0b3RhbFNsb3RzIiwiT2JqZWN0IiwidmFsdWVzIiwicmVkdWNlIiwic3VtIiwiZW50cmllcyIsImhvdXJzIiwiZnJvbSIsIl8iLCJ3ZWVrRGF5cyIsImRheXMiLCJzbG90c0J5RGF5QW5kSG91ciIsImdyb3VwZWQiLCJmbGF0IiwiZm9yRWFjaCIsInNsb3REYXRlIiwiZGF0ZUtleSIsImhvdXIxMiIsImhvdXJOdW0iLCJwYXJzZUludCIsImlzSW5DdXJyZW50V2VlayIsInNvbWUiLCJkYXlLZXkiLCJpc0R1cGxpY2F0ZSIsImV4aXN0aW5nIiwibmF2aWdhdGVXZWVrIiwiZGlyZWN0aW9uIiwibmV3RGF0ZSIsIm1vbnRoWWVhciIsInllYXIiLCJ2YXJpYW50IiwiU3RhZmZQaWxsIiwibGFiZWwiLCJhY3RpdmUiLCJhIiwiaHJlZiIsImgzIiwiaWR4IiwiaG91ckxhYmVsIiwiZGF5SWR4Iiwic2xvdHNGb3JIb3VyIiwiZmlsdGVyZWRTbG90cyIsInN0eWxlIiwiYm9yZGVyQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwcm9wcyIsImNyZWF0ZVNldHVwSW50ZW50IiwidGV4dCIsIkZpZWxkIiwidmFsdWUiLCJvbkNoYW5nZSIsImV2ZW50IiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJhdXRvQ29tcGxldGUiLCJoZWxwZXIiLCJhdXRvQ2FwaXRhbGl6ZSIsImRlc2NyaWJlQWNjZXB0ZWRNZXRob2RzIiwic3RyaXBlIiwib3B0aW9ucyIsImNsaWVudFNlY3JldCIsImFwcGVhcmFuY2UiLCJ0aGVtZSIsInZhcmlhYmxlcyIsImNvbG9yUHJpbWFyeSIsImNvbG9yQmFja2dyb3VuZCIsImNvbG9yVGV4dCIsImNvbG9yRGFuZ2VyIiwiZm9udEZhbWlseSIsInNwYWNpbmdVbml0IiwiYm9yZGVyUmFkaXVzIiwiU3RyaXBlUGF5bWVudEZvcm0iLCJvblBheW1lbnRNZXRob2RSZWFkeSIsInBtSWQiLCJzbGljZSIsInBheW1lbnRzIiwiZmluYW5jaWFscyIsImdpZnRDYXJkQW1vdW50Q2VudHMiLCJwbGF0Zm9ybUZlZUNlbnRzIiwic3RyaXBlRmVlRXN0aW1hdGVDZW50cyIsIm5ldFBheW91dENlbnRzIiwiY3VycmVuY3kiLCJwb2xpY3lDb25zZW50IiwiY3JlYXRlUG9saWN5Q29uc2VudCIsInJlcXVpcmVzQWN0aW9uIiwiYnVzaW5lc3NTbHVnIiwiYm9va2luZ0lkIiwiaW5wdXQiLCJjaGVja2VkIiwiaHRtbEZvciIsInNpemUiLCJkaXNhYmxlZCIsImFzaWRlIiwidWwiLCJsaSIsImNhbmNlbGxhdGlvblBvbGljeSIsIm5vU2hvd1BvbGljeSIsInJlZnVuZFBvbGljeSIsImNhc2hQb2xpY3kiLCJyb2xlIiwiYXJpYS1tb2RhbCIsImFyaWEtbGFiZWwiLCJQb2xpY3lCbG9jayIsImRlc2NyaWJlRmVlIiwiY2FuY2VsbGF0aW9uRmVlVHlwZSIsImNhbmNlbGxhdGlvbkZlZVZhbHVlIiwibm9TaG93RmVlVHlwZSIsIm5vU2hvd0ZlZVZhbHVlIiwic3RlcHMiLCJpbmRleCIsImNoaWxkcmVuIiwiYm94U2hhZG93IiwibGVmdCIsInJhbmRvbSIsImFuaW1hdGlvbkRlbGF5IiwicmFuZG9tQ29uZmV0dGlDb2xvciIsInBhbGV0dGUiLCJmbG9vciIsIm1pbnV0ZXMiLCJocnMiLCJtaW5zIiwiY2VudHMiLCJOdW1iZXJGb3JtYXQiLCJtZXRob2RzIiwidW5pcXVlIiwibWV0aG9kTGFiZWxzIiwiY2FyZCIsImNhc2giLCJ3YWxsZXRzIiwiYXBwbGVfcGF5IiwiZ29vZ2xlX3BheSIsImxhYmVscyIsImpvaW4iLCJwYXJ0cyIsImFkZHJlc3NMaW5lMSIsImFkZHJlc3NMaW5lMiIsImNpdHkiLCJzdGF0ZVByb3ZpbmNlIiwiY291bnRyeSIsIkJvb2xlYW4iLCJ0ZXN0IiwiaGFzaEJhc2UiLCJoYXNoIiwic2ltcGxlSGFzaCIsImFjY2VwdGVkQXQiLCJpcCIsInVzZXJBZ2VudCIsIm5hdmlnYXRvciIsImNoYXJDb2RlQXQiLCJhYnMiLCJ0b1N0cmluZyIsImVsZW1lbnRzIiwiaXNQcm9jZXNzaW5nIiwic2V0SXNQcm9jZXNzaW5nIiwic2V0RXJyb3IiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJjb25maXJtRXJyb3IiLCJzZXR1cEludGVudCIsImNvbmZpcm1TZXR1cCIsInJlZGlyZWN0IiwicGF5bWVudF9tZXRob2QiLCJwYXltZW50TWV0aG9kVHlwZXMiLCJmb3JtIiwibGF5b3V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/public-booking/booking-flow.tsx\n"));

/***/ })

});