"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/onboarding/page",{

/***/ "(app-pages-browser)/./src/components/onboarding/availability-step.tsx":
/*!*********************************************************!*\
  !*** ./src/components/onboarding/availability-step.tsx ***!
  \*********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AvailabilityStep: function() { return /* binding */ AvailabilityStep; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/calendar-check-2.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=CalendarCheck2,ChevronLeft,ChevronRight,Save,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_helper_text__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/helper-text */ \"(app-pages-browser)/./src/components/ui/helper-text.tsx\");\n/* harmony import */ var _components_ui_label__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/label */ \"(app-pages-browser)/./src/components/ui/label.tsx\");\n/* harmony import */ var _components_onboarding_step_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/onboarding/step-actions */ \"(app-pages-browser)/./src/components/onboarding/step-actions.tsx\");\n/* harmony import */ var _components_onboarding_test_data_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/onboarding/test-data-button */ \"(app-pages-browser)/./src/components/onboarding/test-data-button.tsx\");\n/* harmony import */ var _lib_test_data_generator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/test-data-generator */ \"(app-pages-browser)/./src/lib/test-data-generator.ts\");\n/* harmony import */ var _lib_timezone__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/timezone */ \"(app-pages-browser)/./src/lib/timezone.ts\");\n/* harmony import */ var _lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/availability-utils */ \"(app-pages-browser)/./src/lib/availability-utils.ts\");\n/* harmony import */ var _lib_supabase_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/supabase-client */ \"(app-pages-browser)/./src/lib/supabase-client.ts\");\n/* __next_internal_client_entry_do_not_use__ AvailabilityStep auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nfunction AvailabilityStep(param) {\n    let { services, staff, defaultValues, onNext, onBack, timezone = \"America/New_York\" // Default timezone\n     } = param;\n    var _staff_find;\n    _s();\n    const [currentWeekStart, setCurrentWeekStart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        const today = new Date();\n        const dayOfWeek = today.getDay();\n        const diff = today.getDate() - dayOfWeek;\n        const sunday = new Date(today.setDate(diff));\n        sunday.setHours(0, 0, 0, 0);\n        return sunday;\n    });\n    const [selectedServiceId, setSelectedServiceId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedStaffId, setSelectedStaffId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"any\"); // \"any\" means show all staff\n    const [fetchedSlots, setFetchedSlots] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isSavingAvailability, setIsSavingAvailability] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Track saved availability during this onboarding session\n    const [savedAvailability, setSavedAvailability] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Pending availability additions - slots clicked but not yet saved\n    const [pendingAvailabilityAdditions, setPendingAvailabilityAdditions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Get all services for dropdown\n    const allServices = services.flatMap((category)=>category.services.map((service)=>({\n                ...service,\n                categoryName: category.name\n            })));\n    // When service changes, load saved availability for that service\n    // This ensures saved slots persist when switching between services\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!selectedServiceId) {\n            setFetchedSlots([]);\n            return;\n        }\n        const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n        if (!selectedService) {\n            setFetchedSlots([]);\n            return;\n        }\n        // Check if we have saved availability for this service in state\n        const serviceAvail = savedAvailability.find((avail)=>avail.serviceId === selectedServiceId);\n        if (serviceAvail) {\n            // Expand saved slots for this service\n            const weekStart = new Date(currentWeekStart);\n            weekStart.setHours(0, 0, 0, 0);\n            const expandedSlots = (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.buildExpandedSlots)({\n                service: selectedService,\n                serviceAvailability: serviceAvail,\n                staff: staff,\n                timezone: timezone,\n                startDate: weekStart,\n                horizonDays: 14,\n                includePastSlots: true\n            });\n            setFetchedSlots(expandedSlots);\n        } else {\n            // No saved availability for this service yet - start with empty calendar\n            setFetchedSlots([]);\n        }\n    }, [\n        selectedServiceId,\n        savedAvailability,\n        allServices,\n        staff,\n        timezone,\n        currentWeekStart\n    ]);\n    // Group slots by day - during onboarding, we only show pending slots and saved slots from this session\n    const groupedSlots = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!selectedServiceId) return {};\n        // Combine fetched slots (saved during this session) with any additional slots\n        return (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.groupSlotsByDay)(fetchedSlots, timezone);\n    }, [\n        fetchedSlots,\n        timezone,\n        selectedServiceId\n    ]);\n    // Generate days of the week\n    const weekDays = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const days = [];\n        for(let i = 0; i < 7; i++){\n            const date = new Date(currentWeekStart);\n            date.setDate(currentWeekStart.getDate() + i);\n            days.push(date);\n        }\n        return days;\n    }, [\n        currentWeekStart\n    ]);\n    // Generate hours from 8 AM to 8 PM (matching booking flow)\n    const hours = Array.from({\n        length: 13\n    }, (_, i)=>i + 8);\n    // Group availability slots by day and hour (including pending additions)\n    const slotsByDayAndHour = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const grouped = {};\n        // Flatten all slots from all days\n        const allSlots = Object.values(groupedSlots).flat();\n        // Add fetched slots\n        allSlots.forEach((slot)=>{\n            const slotDate = new Date(slot.startDateTime);\n            const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(slotDate, timezone, \"yyyy-MM-dd\");\n            const hour = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(slotDate, timezone, {\n                hour: \"numeric\",\n                hour12: false\n            });\n            const hourNum = parseInt(hour, 10);\n            // Only include slots that are in the current week\n            const isInCurrentWeek = weekDays.some((day)=>{\n                const dayKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                return dayKey === dateKey;\n            });\n            if (!isInCurrentWeek) return;\n            if (!grouped[dateKey]) {\n                grouped[dateKey] = {};\n            }\n            if (!grouped[dateKey][hourNum]) {\n                grouped[dateKey][hourNum] = [];\n            }\n            // Check for duplicates (same hour, same staff, same date)\n            const isDuplicate = grouped[dateKey][hourNum].some((existing)=>existing.staffId === slot.staffId && existing.startDateTime === slot.startDateTime);\n            if (!isDuplicate) {\n                grouped[dateKey][hourNum].push(slot);\n            }\n        });\n        // Add pending availability additions as visual slots\n        if (selectedServiceId) {\n            const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n            if (selectedService) {\n                pendingAvailabilityAdditions.forEach((pending)=>{\n                    const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(pending.date, timezone, \"yyyy-MM-dd\");\n                    const hourNum = pending.hour;\n                    // Only include if in current week\n                    const isInCurrentWeek = weekDays.some((day)=>{\n                        const dayKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                        return dayKey === dateKey;\n                    });\n                    if (!isInCurrentWeek) return;\n                    if (!grouped[dateKey]) {\n                        grouped[dateKey] = {};\n                    }\n                    if (!grouped[dateKey][hourNum]) {\n                        grouped[dateKey][hourNum] = [];\n                    }\n                    // Check if this pending slot already exists as pending (don't duplicate)\n                    const alreadyPending = grouped[dateKey][hourNum].some((existing)=>existing.staffId === pending.staffId && existing.id && existing.id.startsWith(\"pending-\"));\n                    if (!alreadyPending) {\n                        // Remove any saved slot for the same time/staff (pending replaces saved)\n                        grouped[dateKey][hourNum] = grouped[dateKey][hourNum].filter((existing)=>{\n                            var _existing_id;\n                            return !(existing.staffId === pending.staffId && !((_existing_id = existing.id) === null || _existing_id === void 0 ? void 0 : _existing_id.startsWith(\"pending-\")));\n                        });\n                        const staffMember = staff.find((s)=>s.id === pending.staffId);\n                        const startDateTime = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.zonedMinutesToDate)(pending.date, pending.hour * 60, timezone);\n                        const endDateTime = new Date(startDateTime.getTime() + selectedService.durationMinutes * 60 * 1000);\n                        grouped[dateKey][hourNum].push({\n                            id: \"pending-\".concat(pending.staffId, \"-\").concat(dateKey, \"-\").concat(hourNum),\n                            serviceId: selectedServiceId,\n                            staffId: pending.staffId,\n                            staffName: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.name) || \"Unknown\",\n                            staffColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) || \"#000000\",\n                            startDateTime: startDateTime.toISOString(),\n                            endDateTime: endDateTime.toISOString(),\n                            dayLabel: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(pending.date, timezone, {\n                                weekday: \"long\"\n                            })\n                        });\n                    }\n                });\n            }\n        }\n        return grouped;\n    }, [\n        groupedSlots,\n        weekDays,\n        timezone,\n        pendingAvailabilityAdditions,\n        selectedServiceId,\n        allServices,\n        staff\n    ]);\n    const navigateWeek = (direction)=>{\n        const newDate = new Date(currentWeekStart);\n        newDate.setDate(newDate.getDate() + (direction === \"next\" ? 7 : -7));\n        setCurrentWeekStart(newDate);\n    };\n    const handleEmptySlotClick = (day, hour)=>{\n        if (!selectedServiceId) {\n            setError(\"Please select a service first\");\n            return;\n        }\n        const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n        if (!selectedService) {\n            setError(\"Service not found\");\n            return;\n        }\n        // Get staff members assigned to this service\n        const serviceStaff = staff.filter((member)=>{\n            if (member.active === false) return false;\n            return selectedService.staffIds.includes(member.id);\n        });\n        if (serviceStaff.length === 0) {\n            setError(\"No staff members assigned to this service\");\n            return;\n        }\n        // Determine which staff members to add/remove availability for\n        const staffToProcess = selectedStaffId !== \"any\" ? [\n            serviceStaff.find((m)=>m.id === selectedStaffId)\n        ].filter(Boolean) : serviceStaff;\n        if (staffToProcess.length === 0) {\n            return;\n        }\n        // Check if ALL selected staff already have this slot pending\n        const allPending = staffToProcess.every((member)=>pendingAvailabilityAdditions.some((pending)=>pending.staffId === member.id && pending.date.toDateString() === day.toDateString() && pending.hour === hour));\n        if (allPending) {\n            // Remove for all selected staff (toggle off)\n            setPendingAvailabilityAdditions((prev)=>prev.filter((pending)=>{\n                    const isSelectedStaff = staffToProcess.some((m)=>m.id === pending.staffId);\n                    return !(isSelectedStaff && pending.date.toDateString() === day.toDateString() && pending.hour === hour);\n                }));\n        } else {\n            // Add for all selected staff (or just the one selected)\n            const newAdditions = staffToProcess.filter((member)=>{\n                // Only add if not already pending\n                return !pendingAvailabilityAdditions.some((pending)=>pending.staffId === member.id && pending.date.toDateString() === day.toDateString() && pending.hour === hour);\n            }).map((member)=>({\n                    staffId: member.id,\n                    date: day,\n                    hour\n                }));\n            if (newAdditions.length > 0) {\n                setPendingAvailabilityAdditions((prev)=>[\n                        ...prev,\n                        ...newAdditions\n                    ]);\n            }\n        }\n        setError(null);\n    };\n    const handleSaveAvailability = async ()=>{\n        if (!selectedServiceId || pendingAvailabilityAdditions.length === 0) return true;\n        setIsSavingAvailability(true);\n        setError(null);\n        try {\n            // Get auth token from Supabase client\n            const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_10__.createClientClient)();\n            const { data: { session } } = await supabase.auth.getSession();\n            const authToken = session === null || session === void 0 ? void 0 : session.access_token;\n            const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n            if (!selectedService) {\n                throw new Error(\"Selected service not found\");\n            }\n            // Use savedAvailability state (which has temporary IDs) as the base\n            // This ensures consistency - we don't mix real UUIDs from API with temporary IDs\n            // The API handles ID mapping when saving, but our state keeps temporary IDs\n            let allAvailability = [\n                ...savedAvailability\n            ];\n            // Find or create service availability entry for the current service\n            let serviceAvailability = allAvailability.find((avail)=>avail.serviceId === selectedServiceId);\n            if (!serviceAvailability) {\n                serviceAvailability = {\n                    serviceId: selectedServiceId,\n                    staff: []\n                };\n                allAvailability.push(serviceAvailability);\n            }\n            // Process all pending additions\n            for (const pending of pendingAvailabilityAdditions){\n                const targetDate = pending.date;\n                const targetHour = pending.hour;\n                const staffId = pending.staffId;\n                // Get weekday name from the date (timezone-aware)\n                // Store as lowercase to match buildExpandedSlots expectation and API format\n                const weekdayName = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(targetDate, timezone, {\n                    weekday: \"long\"\n                });\n                const weekday = weekdayName.toLowerCase();\n                // Format time as HH:mm\n                const startTime = \"\".concat(String(targetHour).padStart(2, \"0\"), \":00\");\n                // Calculate end time based on service duration\n                const startMinutes = targetHour * 60;\n                const endMinutes = startMinutes + selectedService.durationMinutes;\n                const endHour = Math.floor(endMinutes / 60);\n                const endMin = endMinutes % 60;\n                const endTime = \"\".concat(String(endHour).padStart(2, \"0\"), \":\").concat(String(endMin).padStart(2, \"0\"));\n                // Find or create staff availability entry\n                let staffAvailability = serviceAvailability.staff.find((s)=>s.staffId === staffId);\n                if (!staffAvailability) {\n                    staffAvailability = {\n                        staffId: staffId,\n                        slots: []\n                    };\n                    serviceAvailability.staff.push(staffAvailability);\n                }\n                // Check if this slot already exists\n                const slotExists = staffAvailability.slots.some((slot)=>slot.day === weekday && slot.startTime === startTime && slot.endTime === endTime);\n                if (!slotExists) {\n                    // Add the new slot\n                    staffAvailability.slots.push({\n                        id: \"slot-\".concat(Date.now(), \"-\").concat(Math.random()),\n                        day: weekday,\n                        startTime: startTime,\n                        endTime: endTime\n                    });\n                }\n            }\n            // Save all changes to API\n            const saveResponse = await fetch(\"/api/business/onboarding/step-7-availability\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    ...authToken && {\n                        \"Authorization\": \"Bearer \".concat(authToken)\n                    }\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    availability: allAvailability\n                })\n            });\n            if (!saveResponse.ok) {\n                const errorData = await saveResponse.json().catch(()=>({}));\n                throw new Error(errorData.error || \"Failed to save availability\");\n            }\n            // Update saved availability state with the data we just saved\n            // allAvailability already contains all services (merged from savedAvailability state)\n            // and now has the updated slots for the current service\n            // This preserves availability for all services with temporary IDs\n            setSavedAvailability(allAvailability);\n            // Expand the saved slots FIRST before clearing pending additions\n            // This ensures a smooth transition from pending to saved\n            const serviceAvail = allAvailability.find((avail)=>avail.serviceId === selectedServiceId);\n            if (selectedService && serviceAvail) {\n                // Start from the beginning of the current week to show all slots in the week view\n                const weekStart = new Date(currentWeekStart);\n                weekStart.setHours(0, 0, 0, 0);\n                const expandedSlots = (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.buildExpandedSlots)({\n                    service: selectedService,\n                    serviceAvailability: serviceAvail,\n                    staff: staff,\n                    timezone: timezone,\n                    startDate: weekStart,\n                    horizonDays: 14,\n                    includePastSlots: true // Show all slots in the current week view for onboarding\n                });\n                // Update fetchedSlots with saved slots BEFORE clearing pending\n                // This ensures saved slots appear immediately\n                setFetchedSlots(expandedSlots);\n            } else {\n                setFetchedSlots([]);\n            }\n            // Clear pending additions AFTER we've updated the saved slots\n            // This ensures slots switch from \"Pending\" to \"Saved\" smoothly\n            setPendingAvailabilityAdditions([]);\n            return true; // Success\n        } catch (error) {\n            console.error(\"Error saving availability:\", error);\n            setError(\"Failed to save availability: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n            return false; // Failure\n        } finally{\n            setIsSavingAvailability(false);\n        }\n    };\n    const handleContinue = async ()=>{\n        setError(null);\n        // Before continuing, save any pending availability\n        if (pendingAvailabilityAdditions.length > 0 && selectedServiceId) {\n            const saveSuccess = await handleSaveAvailability();\n            if (!saveSuccess) {\n                // Error already set by handleSaveAvailability\n                return; // Don't continue if save failed\n            }\n        }\n        // Convert saved availability to ServiceAvailability format\n        // Use saved availability from this session, or convert pending if nothing saved yet\n        let result = savedAvailability.length > 0 ? savedAvailability : [];\n        // If we have no saved availability but have pending, convert pending\n        if (result.length === 0 && pendingAvailabilityAdditions.length > 0 && selectedServiceId) {\n            result = mapPendingToServiceAvailability();\n        }\n        // Validate that services with staff have at least one slot\n        const servicesNeedingAvailability = result.filter((service)=>{\n            // Check if this service has staff assigned\n            const serviceDef = allServices.find((s)=>s.id === service.serviceId);\n            if (!serviceDef || serviceDef.staffIds.length === 0) return false;\n            // Check if all staff have slots\n            return service.staff.length > 0 && service.staff.every((staffEntry)=>staffEntry.slots.length === 0);\n        });\n        if (servicesNeedingAvailability.length) {\n            const serviceDef = allServices.find((s)=>s.id === servicesNeedingAvailability[0].serviceId);\n            setError('Add at least one availability slot for service \"'.concat((serviceDef === null || serviceDef === void 0 ? void 0 : serviceDef.name) || servicesNeedingAvailability[0].serviceId, '\". Each service with staff needs availability to appear in booking.'));\n            return;\n        }\n        await onNext(result);\n    };\n    const mapPendingToServiceAvailability = ()=>{\n        // This is a fallback if no current availability exists\n        // Convert pending additions to ServiceAvailability format\n        const result = [];\n        if (!selectedServiceId || pendingAvailabilityAdditions.length === 0) {\n            return result;\n        }\n        const serviceAvailability = {\n            serviceId: selectedServiceId,\n            staff: []\n        };\n        const staffMap = new Map();\n        const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n        if (!selectedService) return result;\n        for (const pending of pendingAvailabilityAdditions){\n            const staffId = pending.staffId;\n            const targetDate = pending.date;\n            const targetHour = pending.hour;\n            // Store weekday as lowercase to match buildExpandedSlots expectation and API format\n            const weekdayName = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(targetDate, timezone, {\n                weekday: \"long\"\n            });\n            const weekday = weekdayName.toLowerCase();\n            const startTime = \"\".concat(String(targetHour).padStart(2, \"0\"), \":00\");\n            const startMinutes = targetHour * 60;\n            const endMinutes = startMinutes + selectedService.durationMinutes;\n            const endHour = Math.floor(endMinutes / 60);\n            const endMin = endMinutes % 60;\n            const endTime = \"\".concat(String(endHour).padStart(2, \"0\"), \":\").concat(String(endMin).padStart(2, \"0\"));\n            if (!staffMap.has(staffId)) {\n                staffMap.set(staffId, []);\n            }\n            const slots = staffMap.get(staffId);\n            const slotExists = slots.some((slot)=>slot.day === weekday && slot.startTime === startTime && slot.endTime === endTime);\n            if (!slotExists) {\n                slots.push({\n                    id: \"slot-\".concat(Date.now(), \"-\").concat(Math.random()),\n                    day: weekday,\n                    startTime: startTime,\n                    endTime: endTime\n                });\n            }\n        }\n        for (const [staffId, slots] of staffMap.entries()){\n            serviceAvailability.staff.push({\n                staffId,\n                slots\n            });\n        }\n        if (serviceAvailability.staff.length > 0) {\n            result.push(serviceAvailability);\n        }\n        return result;\n    };\n    const handleFillTestData = async ()=>{\n        const testData = (0,_lib_test_data_generator__WEBPACK_IMPORTED_MODULE_7__.generateAvailabilityData)(services, staff);\n        // Save test data via API\n        try {\n            const supabase = (0,_lib_supabase_client__WEBPACK_IMPORTED_MODULE_10__.createClientClient)();\n            const { data: { session } } = await supabase.auth.getSession();\n            const authToken = session === null || session === void 0 ? void 0 : session.access_token;\n            const response = await fetch(\"/api/business/onboarding/step-7-availability\", {\n                method: \"PUT\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    ...authToken && {\n                        \"Authorization\": \"Bearer \".concat(authToken)\n                    }\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    availability: testData\n                })\n            });\n            if (response.ok) {\n                setSavedAvailability(testData);\n                if (selectedServiceId) {\n                    const serviceAvail = testData.find((avail)=>avail.serviceId === selectedServiceId);\n                    const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n                    if (selectedService && serviceAvail) {\n                        const today = new Date();\n                        const expandedSlots = (0,_lib_availability_utils__WEBPACK_IMPORTED_MODULE_9__.buildExpandedSlots)({\n                            service: selectedService,\n                            serviceAvailability: serviceAvail,\n                            staff: staff,\n                            timezone: timezone,\n                            startDate: today,\n                            horizonDays: 14\n                        });\n                        setFetchedSlots(expandedSlots);\n                    }\n                }\n                setError(null);\n            }\n        } catch (error) {\n            console.error(\"Error filling test data:\", error);\n            setError(\"Failed to load test data\");\n        }\n    };\n    const monthYear = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(weekDays[0], timezone, {\n        month: \"long\",\n        year: \"numeric\"\n    });\n    const selectedService = allServices.find((s)=>s.id === selectedServiceId);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-8\",\n        \"aria-labelledby\": \"availability-step-heading\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"inline-flex items-center gap-2 rounded-full border border-primary/30 bg-primary/10 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-primary/90\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                className: \"h-4 w-4\",\n                                \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 623,\n                                columnNumber: 11\n                            }, this),\n                            \"Step 7 \\xb7 Availability\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 622,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        id: \"availability-step-heading\",\n                        className: \"font-display text-3xl text-white\",\n                        children: \"Set availability by clicking time slots\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 626,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"max-w-3xl text-base text-white/70\",\n                        children: 'Select a service and staff member, then click empty time slots to add availability. Click again to remove. Click \"Save Availability\" when done, then continue to the next step. This availability will be used in your booking flow.'\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 629,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 621,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"rounded-3xl border border-white/10 bg-white/5 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_label__WEBPACK_IMPORTED_MODULE_4__.Label, {\n                        className: \"text-white/70 mb-2 block\",\n                        children: \"Filter by Service\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 636,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        className: \"w-full rounded-2xl border border-white/15 bg-[#050F2C]/60 px-4 py-3 text-sm text-white focus:border-primary focus:outline-none\",\n                        value: selectedServiceId || \"\",\n                        onChange: (e)=>{\n                            setSelectedServiceId(e.target.value || null);\n                            // Clear pending availability when changing service\n                            setPendingAvailabilityAdditions([]);\n                            setError(null);\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"\",\n                                className: \"bg-[#050F2C] text-white\",\n                                children: \"All Services\"\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 647,\n                                columnNumber: 11\n                            }, this),\n                            allServices.map((service)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: service.id,\n                                    className: \"bg-[#050F2C] text-white\",\n                                    children: [\n                                        service.categoryName,\n                                        \" - \",\n                                        service.name,\n                                        \" (\",\n                                        service.durationMinutes,\n                                        \" min \\xb7 $\",\n                                        (service.priceCents / 100).toFixed(2),\n                                        \")\"\n                                    ]\n                                }, service.id, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 651,\n                                    columnNumber: 13\n                                }, this))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 637,\n                        columnNumber: 9\n                    }, this),\n                    selectedService && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-xs text-white/60\",\n                        children: [\n                            \"Showing availability for: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                className: \"text-white\",\n                                children: selectedService.name\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 659,\n                                columnNumber: 39\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 658,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 635,\n                columnNumber: 7\n            }, this),\n            selectedServiceId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"rounded-3xl border border-white/10 bg-white/5 p-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_label__WEBPACK_IMPORTED_MODULE_4__.Label, {\n                        className: \"text-white/70 mb-3 block\",\n                        children: \"Select Staff Member\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 667,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                                label: \"All Staff\",\n                                active: selectedStaffId === \"any\",\n                                onClick: ()=>{\n                                    setSelectedStaffId(\"any\");\n                                // Don't clear pending - keep all pending slots visible\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 669,\n                                columnNumber: 13\n                            }, this),\n                            staff.filter((member)=>{\n                                if (member.active === false) return false;\n                                // Only show staff assigned to this service\n                                if (selectedService) {\n                                    return selectedService.staffIds.includes(member.id);\n                                }\n                                return true;\n                            }).map((member)=>{\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StaffPill, {\n                                    label: member.name,\n                                    color: member.color,\n                                    active: selectedStaffId === member.id,\n                                    onClick: ()=>{\n                                        // Don't clear pending - keep all pending slots visible when switching staff\n                                        setSelectedStaffId(member.id);\n                                    }\n                                }, member.id, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 688,\n                                    columnNumber: 19\n                                }, this);\n                            })\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 668,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_3__.HelperText, {\n                        className: \"mt-3 text-white/50\",\n                        children: selectedStaffId === \"any\" ? \"Select a staff member above, then click empty time slots to add availability\" : \"Adding availability for \".concat((_staff_find = staff.find((s)=>s.id === selectedStaffId)) === null || _staff_find === void 0 ? void 0 : _staff_find.name, '. Click empty time slots to add availability. Click \"Save\" when done.')\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 702,\n                        columnNumber: 11\n                    }, this),\n                    pendingAvailabilityAdditions.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 flex items-center justify-between rounded-2xl border border-primary/40 bg-primary/10 px-4 py-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm font-semibold text-white\",\n                                        children: [\n                                            pendingAvailabilityAdditions.length,\n                                            \" availability slot\",\n                                            pendingAvailabilityAdditions.length > 1 ? \"s\" : \"\",\n                                            \" pending\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 710,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-white/60\",\n                                        children: 'Click \"Save\" to apply changes to the booking system'\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 713,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 709,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        variant: \"ghost\",\n                                        onClick: ()=>setPendingAvailabilityAdditions([]),\n                                        disabled: isSavingAvailability,\n                                        children: \"Clear\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 718,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        onClick: handleSaveAvailability,\n                                        isLoading: isSavingAvailability,\n                                        disabled: isSavingAvailability,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                className: \"mr-2 h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                lineNumber: 730,\n                                                columnNumber: 19\n                                            }, this),\n                                            \"Save Availability\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 725,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 717,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 708,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 666,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between rounded-3xl border border-white/10 bg-white/5 px-6 py-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"ghost\",\n                        onClick: ()=>navigateWeek(\"prev\"),\n                        className: \"text-white/70 hover:text-white\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                            className: \"h-5 w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 746,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 741,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold text-white\",\n                                children: monthYear\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 749,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-white/60\",\n                                children: [\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(weekDays[0], timezone, {\n                                        month: \"short\",\n                                        day: \"numeric\"\n                                    }),\n                                    \" -\",\n                                    \" \",\n                                    (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(weekDays[6], timezone, {\n                                        month: \"short\",\n                                        day: \"numeric\"\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 750,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 748,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"ghost\",\n                        onClick: ()=>navigateWeek(\"next\"),\n                        className: \"text-white/70 hover:text-white\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                            className: \"h-5 w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 760,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 755,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 740,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-[0_0_60px_rgba(91,100,255,0.15)]\",\n                children: !selectedServiceId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"rounded-3xl border border-white/10 bg-black/60 p-8 text-center text-white/60\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-base\",\n                        children: \"Select a service above to add availability\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 768,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 767,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"overflow-x-auto\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"min-w-full\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-8 gap-2 border-b border-white/10 pb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs font-semibold text-white/60\",\n                                        children: \"Time\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 775,\n                                        columnNumber: 17\n                                    }, this),\n                                    weekDays.map((day, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs font-semibold text-white/60\",\n                                                    children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, {\n                                                        weekday: \"short\"\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                    lineNumber: 778,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm font-semibold text-white\",\n                                                    children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, {\n                                                        day: \"numeric\"\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                    lineNumber: 781,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, idx, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 777,\n                                            columnNumber: 19\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 774,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 space-y-1\",\n                                children: hours.map((hour)=>{\n                                    const hourLabel = hour === 12 ? \"12 PM\" : hour > 12 ? \"\".concat(hour - 12, \" PM\") : \"\".concat(hour, \" AM\");\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-8 gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center text-xs text-white/60 py-2\",\n                                                children: hourLabel\n                                            }, void 0, false, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                lineNumber: 794,\n                                                columnNumber: 23\n                                            }, this),\n                                            weekDays.map((day, dayIdx)=>{\n                                                var _slotsByDayAndHour_dateKey;\n                                                const dateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                                                const slotsForHour = ((_slotsByDayAndHour_dateKey = slotsByDayAndHour[dateKey]) === null || _slotsByDayAndHour_dateKey === void 0 ? void 0 : _slotsByDayAndHour_dateKey[hour]) || [];\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"py-1\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-1\",\n                                                        children: [\n                                                            slotsForHour.map((slot)=>{\n                                                                const staffMember = staff.find((s)=>s.id === slot.staffId);\n                                                                const isPending = slot.id && slot.id.startsWith(\"pending-\");\n                                                                const isSelectedStaff = selectedStaffId !== \"any\" && slot.staffId === selectedStaffId;\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    type: \"button\",\n                                                                    onClick: isPending && isSelectedStaff ? ()=>{\n                                                                        // Remove pending slot on click\n                                                                        const slotDateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(day, timezone, \"yyyy-MM-dd\");\n                                                                        setPendingAvailabilityAdditions((prev)=>prev.filter((pending)=>{\n                                                                                const pendingDateKey = (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(pending.date, timezone, \"yyyy-MM-dd\");\n                                                                                return !(pending.staffId === slot.staffId && pendingDateKey === slotDateKey && pending.hour === hour);\n                                                                            }));\n                                                                    } : undefined,\n                                                                    className: \"w-full rounded-lg border px-2 py-1.5 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 \".concat(isPending ? \"border-primary/60 bg-primary/20 hover:border-red-500/60 hover:bg-red-500/20\" : \"border-primary/40 bg-primary/20 hover:border-primary/60 hover:bg-primary/30\"),\n                                                                    style: {\n                                                                        borderColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"80\") : undefined,\n                                                                        backgroundColor: (staffMember === null || staffMember === void 0 ? void 0 : staffMember.color) ? \"\".concat(staffMember.color, \"20\") : undefined\n                                                                    },\n                                                                    title: isPending && isSelectedStaff ? \"Click to remove\" : undefined,\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs font-semibold text-white\",\n                                                                            children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(new Date(slot.startDateTime), timezone, {\n                                                                                hour: \"numeric\",\n                                                                                minute: \"2-digit\"\n                                                                            })\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                            lineNumber: 839,\n                                                                            columnNumber: 37\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] text-white/70 mt-0.5 truncate\",\n                                                                            children: slot.staffName\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                            lineNumber: 842,\n                                                                            columnNumber: 37\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-[10px] mt-0.5 truncate \".concat(isPending ? \"text-primary/90 font-semibold\" : \"text-emerald-400/90 font-semibold\"),\n                                                                            children: isPending ? \" Pending\" : \" Saved\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                            lineNumber: 845,\n                                                                            columnNumber: 37\n                                                                        }, this)\n                                                                    ]\n                                                                }, slot.id, true, {\n                                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                    lineNumber: 811,\n                                                                    columnNumber: 35\n                                                                }, this);\n                                                            }),\n                                                            slotsForHour.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                type: \"button\",\n                                                                onClick: ()=>handleEmptySlotClick(day, hour),\n                                                                className: \"h-full w-full rounded-lg bg-white/5 border border-white/5 hover:border-primary/40 hover:bg-primary/10 py-1.5 transition cursor-pointer\",\n                                                                title: \"Click to add availability\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-[10px] text-white/20 text-center\",\n                                                                    children: \"+ Add\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                    lineNumber: 860,\n                                                                    columnNumber: 35\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                lineNumber: 854,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                        lineNumber: 803,\n                                                        columnNumber: 29\n                                                    }, this)\n                                                }, dayIdx, false, {\n                                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                    lineNumber: 802,\n                                                    columnNumber: 27\n                                                }, this);\n                                            })\n                                        ]\n                                    }, hour, true, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 793,\n                                        columnNumber: 21\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                lineNumber: 789,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 772,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 771,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 765,\n                columnNumber: 7\n            }, this),\n            error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_helper_text__WEBPACK_IMPORTED_MODULE_3__.HelperText, {\n                intent: \"error\",\n                role: \"alert\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 877,\n                columnNumber: 9\n            }, this) : null,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-8 flex items-center justify-end gap-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_test_data_button__WEBPACK_IMPORTED_MODULE_6__.TestDataButton, {\n                    onClick: handleFillTestData\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 883,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 882,\n                columnNumber: 7\n            }, this),\n            addingAvailability && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AddAvailabilityModal, {\n                date: addingAvailability.date,\n                hour: addingAvailability.hour,\n                service: selectedService,\n                staff: staff.filter((member)=>{\n                    if (member.active === false) return false;\n                    // Only show staff assigned to this service\n                    if (selectedService) {\n                        return selectedService.staffIds.includes(member.id);\n                    }\n                    return true;\n                }),\n                onSelectStaff: handleAddAvailabilityForStaff,\n                onCancel: ()=>setAddingAvailability(null),\n                isSaving: isSavingAvailability,\n                timezone: timezone\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 888,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_onboarding_step_actions__WEBPACK_IMPORTED_MODULE_5__.StepActions, {\n                onBack: onBack,\n                onNext: handleContinue\n            }, void 0, false, {\n                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                lineNumber: 907,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n        lineNumber: 620,\n        columnNumber: 5\n    }, this);\n}\n_s(AvailabilityStep, \"DKHOWPDmbaS3BrHC5AI19g8x/jA=\");\n_c = AvailabilityStep;\nfunction AddAvailabilityModal(param) {\n    let { date, hour, service, staff, onSelectStaff, onCancel, isSaving, timezone } = param;\n    if (!service) return null;\n    // Calculate end time\n    const startMinutes = hour * 60;\n    const endMinutes = startMinutes + service.durationMinutes;\n    const endHour = Math.floor(endMinutes / 60);\n    const endMin = endMinutes % 60;\n    const startTimeStr = \"\".concat(String(hour).padStart(2, \"0\"), \":00\");\n    const endTimeStr = \"\".concat(String(endHour).padStart(2, \"0\"), \":\").concat(String(endMin).padStart(2, \"0\"));\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/80 px-4 py-8\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative max-h-[90vh] w-full max-w-2xl overflow-y-auto rounded-3xl border border-white/10 bg-black/90 p-8 shadow-[0_60px_160px_rgba(4,12,35,0.7)]\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    className: \"absolute right-6 top-6 rounded-full border border-white/20 bg-white/5 px-4 py-1 text-xs font-semibold uppercase tracking-wide text-white/70 transition hover:text-white\",\n                    onClick: onCancel,\n                    disabled: isSaving,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CalendarCheck2_ChevronLeft_ChevronRight_Save_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                        className: \"h-4 w-4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 950,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 944,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                    className: \"space-y-2 pr-16\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"font-display text-3xl text-white\",\n                            children: \"Add Availability\"\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 954,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-white/60\",\n                            children: \"Select a staff member to add availability for this time slot.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 955,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 953,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 space-y-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-2xl border border-white/10 bg-black/70 p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-sm font-semibold uppercase tracking-wide text-white/50 mb-4\",\n                                    children: \"Service\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 963,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-white font-semibold\",\n                                            children: service.name\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 967,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-white/70\",\n                                            children: [\n                                                service.durationMinutes,\n                                                \" minutes\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 968,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 966,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 962,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-2xl border border-white/10 bg-black/70 p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-sm font-semibold uppercase tracking-wide text-white/50 mb-4\",\n                                    children: \"Time Slot\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 974,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-white\",\n                                            children: (0,_lib_timezone__WEBPACK_IMPORTED_MODULE_8__.formatInTimeZone)(date, timezone, {\n                                                weekday: \"long\",\n                                                month: \"short\",\n                                                day: \"numeric\"\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 978,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-white\",\n                                            children: [\n                                                startTimeStr,\n                                                \" - \",\n                                                endTimeStr\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 985,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 977,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 973,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_label__WEBPACK_IMPORTED_MODULE_4__.Label, {\n                                    className: \"text-white/70 mb-2 block\",\n                                    children: \"Select Staff Member\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 993,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: staff.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-white/60\",\n                                        children: \"No staff members available\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                        lineNumber: 996,\n                                        columnNumber: 17\n                                    }, this) : staff.map((member)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: ()=>onSelectStaff(member.id),\n                                            disabled: isSaving,\n                                            className: \"w-full rounded-2xl border border-white/15 bg-[#050F2C]/60 px-4 py-3 text-left transition hover:border-primary hover:bg-primary/10 focus:border-primary focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed\",\n                                            style: {\n                                                borderColor: member.color ? \"\".concat(member.color, \"80\") : undefined\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-3\",\n                                                children: [\n                                                    member.color && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"h-4 w-4 rounded-full\",\n                                                        style: {\n                                                            backgroundColor: member.color\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                        lineNumber: 1011,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm font-semibold text-white\",\n                                                                children: member.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                lineNumber: 1017,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            member.role && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-xs text-white/60\",\n                                                                children: member.role\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                                lineNumber: 1019,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                        lineNumber: 1016,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                                lineNumber: 1009,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, member.id, false, {\n                                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                            lineNumber: 999,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                                    lineNumber: 994,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                            lineNumber: 992,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 960,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 flex items-center justify-end gap-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"ghost\",\n                        onClick: onCancel,\n                        disabled: isSaving,\n                        children: \"Cancel\"\n                    }, void 0, false, {\n                        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                        lineNumber: 1032,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n                    lineNumber: 1031,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n            lineNumber: 943,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n        lineNumber: 942,\n        columnNumber: 5\n    }, this);\n}\n_c1 = AddAvailabilityModal;\nfunction StaffPill(param) {\n    let { label, color, active, onClick } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"button\",\n        onClick: onClick,\n        className: \"rounded-full border px-4 py-2 text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-black \".concat(active ? \"border-white/60 bg-white/15 text-white\" : \"border-white/10 bg-white/5 text-white/60 hover:text-white/80\"),\n        style: active && color ? {\n            borderColor: color,\n            boxShadow: \"0 0 25px \".concat(color, \"33\")\n        } : undefined,\n        children: label\n    }, void 0, false, {\n        fileName: \"/Users/3017387smacbookm/Downloads/Career/Tithi/apps/web/src/components/onboarding/availability-step.tsx\",\n        lineNumber: 1053,\n        columnNumber: 5\n    }, this);\n}\n_c2 = StaffPill;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"AvailabilityStep\");\n$RefreshReg$(_c1, \"AddAvailabilityModal\");\n$RefreshReg$(_c2, \"StaffPill\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL29uYm9hcmRpbmcvYXZhaWxhYmlsaXR5LXN0ZXAudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXFEO0FBQzZCO0FBRWxDO0FBQ1M7QUFDWDtBQUNxQjtBQUNPO0FBQ0w7QUFDc0I7QUFDbUI7QUFDbkQ7QUFrQnBELFNBQVNtQixpQkFBaUIsS0FPVDtRQVBTLEVBQy9CQyxRQUFRLEVBQ1JDLEtBQUssRUFDTEMsYUFBYSxFQUNiQyxNQUFNLEVBQ05DLE1BQU0sRUFDTkMsV0FBVyxtQkFBbUIsbUJBQW1CO0lBQXBCLEVBQ1AsR0FQUztRQWlxQlVKOztJQXpwQnpDLE1BQU0sQ0FBQ0ssa0JBQWtCQyxvQkFBb0IsR0FBRzFCLCtDQUFRQSxDQUFDO1FBQ3ZELE1BQU0yQixRQUFRLElBQUlDO1FBQ2xCLE1BQU1DLFlBQVlGLE1BQU1HLE1BQU07UUFDOUIsTUFBTUMsT0FBT0osTUFBTUssT0FBTyxLQUFLSDtRQUMvQixNQUFNSSxTQUFTLElBQUlMLEtBQUtELE1BQU1PLE9BQU8sQ0FBQ0g7UUFDdENFLE9BQU9FLFFBQVEsQ0FBQyxHQUFHLEdBQUcsR0FBRztRQUN6QixPQUFPRjtJQUNUO0lBQ0EsTUFBTSxDQUFDRyxtQkFBbUJDLHFCQUFxQixHQUFHckMsK0NBQVFBLENBQWdCO0lBQzFFLE1BQU0sQ0FBQ3NDLGlCQUFpQkMsbUJBQW1CLEdBQUd2QywrQ0FBUUEsQ0FBUyxRQUFRLDZCQUE2QjtJQUNwRyxNQUFNLENBQUN3QyxjQUFjQyxnQkFBZ0IsR0FBR3pDLCtDQUFRQSxDQUE2QixFQUFFO0lBQy9FLE1BQU0sQ0FBQzBDLHNCQUFzQkMsd0JBQXdCLEdBQUczQywrQ0FBUUEsQ0FBQztJQUNqRSwwREFBMEQ7SUFDMUQsTUFBTSxDQUFDNEMsbUJBQW1CQyxxQkFBcUIsR0FBRzdDLCtDQUFRQSxDQUF3QixFQUFFO0lBQ3BGLG1FQUFtRTtJQUNuRSxNQUFNLENBQUM4Qyw4QkFBOEJD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OzhCQUNiLDRFQUFDaE0seURBQU1BO3dCQUFDbU4sU0FBUTt3QkFBUUQsU0FBUzBCO3dCQUFVeEIsVUFBVTBCO2tDQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3pFO01BL0hTTDtBQWlJVCxTQUFTekIsVUFBVSxLQVVsQjtRQVZrQixFQUNqQkMsS0FBSyxFQUNMdkcsS0FBSyxFQUNMVSxNQUFNLEVBQ044RixPQUFPLEVBTVIsR0FWa0I7SUFXakIscUJBQ0UsOERBQUNVO1FBQ0NDLE1BQUs7UUFDTFgsU0FBU0E7UUFDVGxCLFdBQVcsME1BSVYsT0FIQzVFLFNBQ0ksMkNBQ0E7UUFFTjZHLE9BQU83RyxVQUFVVixRQUFRO1lBQUV3SCxhQUFheEg7WUFBT3VJLFdBQVcsWUFBa0IsT0FBTnZJLE9BQU07UUFBSSxJQUFJc0g7a0JBRW5GZjs7Ozs7O0FBR1A7TUF6QlNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL29uYm9hcmRpbmcvYXZhaWxhYmlsaXR5LXN0ZXAudHN4P2NkOGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENoZXZyb25MZWZ0LCBDaGV2cm9uUmlnaHQsIFNhdmUsIENhbGVuZGFyQ2hlY2syLCBYIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgSGVscGVyVGV4dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaGVscGVyLXRleHRcIjtcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9sYWJlbFwiO1xuaW1wb3J0IHsgU3RlcEFjdGlvbnMgfSBmcm9tIFwiQC9jb21wb25lbnRzL29uYm9hcmRpbmcvc3RlcC1hY3Rpb25zXCI7XG5pbXBvcnQgeyBUZXN0RGF0YUJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvb25ib2FyZGluZy90ZXN0LWRhdGEtYnV0dG9uXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUF2YWlsYWJpbGl0eURhdGEgfSBmcm9tIFwiQC9saWIvdGVzdC1kYXRhLWdlbmVyYXRvclwiO1xuaW1wb3J0IHsgZm9ybWF0SW5UaW1lWm9uZSwgem9uZWRNaW51dGVzVG9EYXRlLCB0aW1lU3RyaW5nVG9NaW51dGVzIH0gZnJvbSBcIkAvbGliL3RpbWV6b25lXCI7XG5pbXBvcnQgeyBidWlsZEV4cGFuZGVkU2xvdHMsIGdyb3VwU2xvdHNCeURheSwgdHlwZSBFeHBhbmRlZEF2YWlsYWJpbGl0eVNsb3QgfSBmcm9tIFwiQC9saWIvYXZhaWxhYmlsaXR5LXV0aWxzXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2UtY2xpZW50XCI7XG5pbXBvcnQgdHlwZSB7XG4gIEF2YWlsYWJpbGl0eVNsb3QsXG4gIFNlcnZpY2VBdmFpbGFiaWxpdHksXG4gIFNlcnZpY2VDYXRlZ29yeSxcbiAgU2VydmljZURlZmluaXRpb24sXG4gIFN0YWZmTWVtYmVyXG59IGZyb20gXCJAL2xpYi9vbmJvYXJkaW5nLWNvbnRleHRcIjtcblxuaW50ZXJmYWNlIEF2YWlsYWJpbGl0eVN0ZXBQcm9wcyB7XG4gIHNlcnZpY2VzOiBTZXJ2aWNlQ2F0ZWdvcnlbXTtcbiAgc3RhZmY6IFN0YWZmTWVtYmVyW107XG4gIGRlZmF1bHRWYWx1ZXM6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXTtcbiAgb25OZXh0OiAodmFsdWVzOiBTZXJ2aWNlQXZhaWxhYmlsaXR5W10pID0+IFByb21pc2U8dm9pZD4gfCB2b2lkO1xuICBvbkJhY2s6ICgpID0+IHZvaWQ7XG4gIHRpbWV6b25lPzogc3RyaW5nOyAvLyBPcHRpb25hbCB0aW1lem9uZSBwcm9wXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdmFpbGFiaWxpdHlTdGVwKHtcbiAgc2VydmljZXMsXG4gIHN0YWZmLFxuICBkZWZhdWx0VmFsdWVzLFxuICBvbk5leHQsXG4gIG9uQmFjayxcbiAgdGltZXpvbmUgPSBcIkFtZXJpY2EvTmV3X1lvcmtcIiAvLyBEZWZhdWx0IHRpbWV6b25lXG59OiBBdmFpbGFiaWxpdHlTdGVwUHJvcHMpIHtcbiAgY29uc3QgW2N1cnJlbnRXZWVrU3RhcnQsIHNldEN1cnJlbnRXZWVrU3RhcnRdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkYXlPZldlZWsgPSB0b2RheS5nZXREYXkoKTtcbiAgICBjb25zdCBkaWZmID0gdG9kYXkuZ2V0RGF0ZSgpIC0gZGF5T2ZXZWVrO1xuICAgIGNvbnN0IHN1bmRheSA9IG5ldyBEYXRlKHRvZGF5LnNldERhdGUoZGlmZikpO1xuICAgIHN1bmRheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICByZXR1cm4gc3VuZGF5O1xuICB9KTtcbiAgY29uc3QgW3NlbGVjdGVkU2VydmljZUlkLCBzZXRTZWxlY3RlZFNlcnZpY2VJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkU3RhZmZJZCwgc2V0U2VsZWN0ZWRTdGFmZklkXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJhbnlcIik7IC8vIFwiYW55XCIgbWVhbnMgc2hvdyBhbGwgc3RhZmZcbiAgY29uc3QgW2ZldGNoZWRTbG90cywgc2V0RmV0Y2hlZFNsb3RzXSA9IHVzZVN0YXRlPEV4cGFuZGVkQXZhaWxhYmlsaXR5U2xvdFtdPihbXSk7XG4gIGNvbnN0IFtpc1NhdmluZ0F2YWlsYWJpbGl0eSwgc2V0SXNTYXZpbmdBdmFpbGFiaWxpdHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBUcmFjayBzYXZlZCBhdmFpbGFiaWxpdHkgZHVyaW5nIHRoaXMgb25ib2FyZGluZyBzZXNzaW9uXG4gIGNvbnN0IFtzYXZlZEF2YWlsYWJpbGl0eSwgc2V0U2F2ZWRBdmFpbGFiaWxpdHldID0gdXNlU3RhdGU8U2VydmljZUF2YWlsYWJpbGl0eVtdPihbXSk7XG4gIC8vIFBlbmRpbmcgYXZhaWxhYmlsaXR5IGFkZGl0aW9ucyAtIHNsb3RzIGNsaWNrZWQgYnV0IG5vdCB5ZXQgc2F2ZWRcbiAgY29uc3QgW3BlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMsIHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnNdID0gdXNlU3RhdGU8QXJyYXk8e1xuICAgIHN0YWZmSWQ6IHN0cmluZztcbiAgICBkYXRlOiBEYXRlO1xuICAgIGhvdXI6IG51bWJlcjtcbiAgfT4+KFtdKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBHZXQgYWxsIHNlcnZpY2VzIGZvciBkcm9wZG93blxuICBjb25zdCBhbGxTZXJ2aWNlcyA9IHNlcnZpY2VzLmZsYXRNYXAoKGNhdGVnb3J5KSA9PlxuICAgIGNhdGVnb3J5LnNlcnZpY2VzLm1hcCgoc2VydmljZSkgPT4gKHtcbiAgICAgIC4uLnNlcnZpY2UsXG4gICAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5Lm5hbWVcbiAgICB9KSlcbiAgKTtcblxuICAvLyBXaGVuIHNlcnZpY2UgY2hhbmdlcywgbG9hZCBzYXZlZCBhdmFpbGFiaWxpdHkgZm9yIHRoYXQgc2VydmljZVxuICAvLyBUaGlzIGVuc3VyZXMgc2F2ZWQgc2xvdHMgcGVyc2lzdCB3aGVuIHN3aXRjaGluZyBiZXR3ZWVuIHNlcnZpY2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2VJZCkge1xuICAgICAgc2V0RmV0Y2hlZFNsb3RzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc2VsZWN0ZWRTZXJ2aWNlID0gYWxsU2VydmljZXMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSkge1xuICAgICAgc2V0RmV0Y2hlZFNsb3RzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBzYXZlZCBhdmFpbGFiaWxpdHkgZm9yIHRoaXMgc2VydmljZSBpbiBzdGF0ZVxuICAgIGNvbnN0IHNlcnZpY2VBdmFpbCA9IHNhdmVkQXZhaWxhYmlsaXR5LmZpbmQoXG4gICAgICAoYXZhaWw6IFNlcnZpY2VBdmFpbGFiaWxpdHkpID0+IGF2YWlsLnNlcnZpY2VJZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWRcbiAgICApO1xuICAgIFxuICAgIGlmIChzZXJ2aWNlQXZhaWwpIHtcbiAgICAgIC8vIEV4cGFuZCBzYXZlZCBzbG90cyBmb3IgdGhpcyBzZXJ2aWNlXG4gICAgICBjb25zdCB3ZWVrU3RhcnQgPSBuZXcgRGF0ZShjdXJyZW50V2Vla1N0YXJ0KTtcbiAgICAgIHdlZWtTdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIFxuICAgICAgY29uc3QgZXhwYW5kZWRTbG90cyA9IGJ1aWxkRXhwYW5kZWRTbG90cyh7XG4gICAgICAgIHNlcnZpY2U6IHNlbGVjdGVkU2VydmljZSxcbiAgICAgICAgc2VydmljZUF2YWlsYWJpbGl0eTogc2VydmljZUF2YWlsLFxuICAgICAgICBzdGFmZjogc3RhZmYsXG4gICAgICAgIHRpbWV6b25lOiB0aW1lem9uZSxcbiAgICAgICAgc3RhcnREYXRlOiB3ZWVrU3RhcnQsXG4gICAgICAgIGhvcml6b25EYXlzOiAxNCxcbiAgICAgICAgaW5jbHVkZVBhc3RTbG90czogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBzZXRGZXRjaGVkU2xvdHMoZXhwYW5kZWRTbG90cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIHNhdmVkIGF2YWlsYWJpbGl0eSBmb3IgdGhpcyBzZXJ2aWNlIHlldCAtIHN0YXJ0IHdpdGggZW1wdHkgY2FsZW5kYXJcbiAgICAgIHNldEZldGNoZWRTbG90cyhbXSk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRTZXJ2aWNlSWQsIHNhdmVkQXZhaWxhYmlsaXR5LCBhbGxTZXJ2aWNlcywgc3RhZmYsIHRpbWV6b25lLCBjdXJyZW50V2Vla1N0YXJ0XSk7XG5cbiAgLy8gR3JvdXAgc2xvdHMgYnkgZGF5IC0gZHVyaW5nIG9uYm9hcmRpbmcsIHdlIG9ubHkgc2hvdyBwZW5kaW5nIHNsb3RzIGFuZCBzYXZlZCBzbG90cyBmcm9tIHRoaXMgc2Vzc2lvblxuICBjb25zdCBncm91cGVkU2xvdHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZUlkKSByZXR1cm4ge307XG4gICAgLy8gQ29tYmluZSBmZXRjaGVkIHNsb3RzIChzYXZlZCBkdXJpbmcgdGhpcyBzZXNzaW9uKSB3aXRoIGFueSBhZGRpdGlvbmFsIHNsb3RzXG4gICAgcmV0dXJuIGdyb3VwU2xvdHNCeURheShmZXRjaGVkU2xvdHMsIHRpbWV6b25lKTtcbiAgfSwgW2ZldGNoZWRTbG90cywgdGltZXpvbmUsIHNlbGVjdGVkU2VydmljZUlkXSk7XG5cbiAgLy8gR2VuZXJhdGUgZGF5cyBvZiB0aGUgd2Vla1xuICBjb25zdCB3ZWVrRGF5cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGRheXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRXZWVrU3RhcnQpO1xuICAgICAgZGF0ZS5zZXREYXRlKGN1cnJlbnRXZWVrU3RhcnQuZ2V0RGF0ZSgpICsgaSk7XG4gICAgICBkYXlzLnB1c2goZGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBkYXlzO1xuICB9LCBbY3VycmVudFdlZWtTdGFydF0pO1xuXG4gIC8vIEdlbmVyYXRlIGhvdXJzIGZyb20gOCBBTSB0byA4IFBNIChtYXRjaGluZyBib29raW5nIGZsb3cpXG4gIGNvbnN0IGhvdXJzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTMgfSwgKF8sIGkpID0+IGkgKyA4KTtcblxuICAvLyBHcm91cCBhdmFpbGFiaWxpdHkgc2xvdHMgYnkgZGF5IGFuZCBob3VyIChpbmNsdWRpbmcgcGVuZGluZyBhZGRpdGlvbnMpXG4gIGNvbnN0IHNsb3RzQnlEYXlBbmRIb3VyID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZ3JvdXBlZDogUmVjb3JkPHN0cmluZywgUmVjb3JkPG51bWJlciwgRXhwYW5kZWRBdmFpbGFiaWxpdHlTbG90W10+PiA9IHt9O1xuICAgIFxuICAgIC8vIEZsYXR0ZW4gYWxsIHNsb3RzIGZyb20gYWxsIGRheXNcbiAgICBjb25zdCBhbGxTbG90cyA9IE9iamVjdC52YWx1ZXMoZ3JvdXBlZFNsb3RzKS5mbGF0KCk7XG4gICAgXG4gICAgLy8gQWRkIGZldGNoZWQgc2xvdHNcbiAgICBhbGxTbG90cy5mb3JFYWNoKHNsb3QgPT4ge1xuICAgICAgY29uc3Qgc2xvdERhdGUgPSBuZXcgRGF0ZShzbG90LnN0YXJ0RGF0ZVRpbWUpO1xuICAgICAgY29uc3QgZGF0ZUtleSA9IGZvcm1hdEluVGltZVpvbmUoc2xvdERhdGUsIHRpbWV6b25lLCBcInl5eXktTU0tZGRcIik7XG4gICAgICBjb25zdCBob3VyID0gZm9ybWF0SW5UaW1lWm9uZShzbG90RGF0ZSwgdGltZXpvbmUsIHsgaG91cjogXCJudW1lcmljXCIsIGhvdXIxMjogZmFsc2UgfSk7XG4gICAgICBjb25zdCBob3VyTnVtID0gcGFyc2VJbnQoaG91ciwgMTApO1xuICAgICAgXG4gICAgICAvLyBPbmx5IGluY2x1ZGUgc2xvdHMgdGhhdCBhcmUgaW4gdGhlIGN1cnJlbnQgd2Vla1xuICAgICAgY29uc3QgaXNJbkN1cnJlbnRXZWVrID0gd2Vla0RheXMuc29tZShkYXkgPT4ge1xuICAgICAgICBjb25zdCBkYXlLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgcmV0dXJuIGRheUtleSA9PT0gZGF0ZUtleTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIWlzSW5DdXJyZW50V2VlaykgcmV0dXJuO1xuICAgICAgXG4gICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV0pIHtcbiAgICAgICAgZ3JvdXBlZFtkYXRlS2V5XSA9IHt9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0pIHtcbiAgICAgICAgZ3JvdXBlZFtkYXRlS2V5XVtob3VyTnVtXSA9IFtdO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3IgZHVwbGljYXRlcyAoc2FtZSBob3VyLCBzYW1lIHN0YWZmLCBzYW1lIGRhdGUpXG4gICAgICBjb25zdCBpc0R1cGxpY2F0ZSA9IGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0uc29tZShcbiAgICAgICAgZXhpc3RpbmcgPT4gZXhpc3Rpbmcuc3RhZmZJZCA9PT0gc2xvdC5zdGFmZklkICYmIGV4aXN0aW5nLnN0YXJ0RGF0ZVRpbWUgPT09IHNsb3Quc3RhcnREYXRlVGltZVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xuICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLnB1c2goc2xvdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQWRkIHBlbmRpbmcgYXZhaWxhYmlsaXR5IGFkZGl0aW9ucyBhcyB2aXN1YWwgc2xvdHNcbiAgICBpZiAoc2VsZWN0ZWRTZXJ2aWNlSWQpIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG4gICAgICBpZiAoc2VsZWN0ZWRTZXJ2aWNlKSB7XG4gICAgICAgIHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMuZm9yRWFjaCgocGVuZGluZykgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGVLZXkgPSBmb3JtYXRJblRpbWVab25lKHBlbmRpbmcuZGF0ZSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICBjb25zdCBob3VyTnVtID0gcGVuZGluZy5ob3VyO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSBpZiBpbiBjdXJyZW50IHdlZWtcbiAgICAgICAgICBjb25zdCBpc0luQ3VycmVudFdlZWsgPSB3ZWVrRGF5cy5zb21lKGRheSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXlLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBkYXlLZXkgPT09IGRhdGVLZXk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFpc0luQ3VycmVudFdlZWspIHJldHVybjtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIWdyb3VwZWRbZGF0ZUtleV0pIHtcbiAgICAgICAgICAgIGdyb3VwZWRbZGF0ZUtleV0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dKSB7XG4gICAgICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgcGVuZGluZyBzbG90IGFscmVhZHkgZXhpc3RzIGFzIHBlbmRpbmcgKGRvbid0IGR1cGxpY2F0ZSlcbiAgICAgICAgICBjb25zdCBhbHJlYWR5UGVuZGluZyA9IGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0uc29tZShcbiAgICAgICAgICAgIGV4aXN0aW5nID0+IGV4aXN0aW5nLnN0YWZmSWQgPT09IHBlbmRpbmcuc3RhZmZJZCAmJiBcbiAgICAgICAgICAgIGV4aXN0aW5nLmlkICYmIGV4aXN0aW5nLmlkLnN0YXJ0c1dpdGgoJ3BlbmRpbmctJylcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghYWxyZWFkeVBlbmRpbmcpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgc2F2ZWQgc2xvdCBmb3IgdGhlIHNhbWUgdGltZS9zdGFmZiAocGVuZGluZyByZXBsYWNlcyBzYXZlZClcbiAgICAgICAgICAgIGdyb3VwZWRbZGF0ZUtleV1baG91ck51bV0gPSBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLmZpbHRlcihcbiAgICAgICAgICAgICAgZXhpc3RpbmcgPT4gIShleGlzdGluZy5zdGFmZklkID09PSBwZW5kaW5nLnN0YWZmSWQgJiYgIWV4aXN0aW5nLmlkPy5zdGFydHNXaXRoKCdwZW5kaW5nLScpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc3RhZmZNZW1iZXIgPSBzdGFmZi5maW5kKChzOiBTdGFmZk1lbWJlcikgPT4gcy5pZCA9PT0gcGVuZGluZy5zdGFmZklkKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWUgPSB6b25lZE1pbnV0ZXNUb0RhdGUocGVuZGluZy5kYXRlLCBwZW5kaW5nLmhvdXIgKiA2MCwgdGltZXpvbmUpO1xuICAgICAgICAgICAgY29uc3QgZW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZShzdGFydERhdGVUaW1lLmdldFRpbWUoKSArIHNlbGVjdGVkU2VydmljZS5kdXJhdGlvbk1pbnV0ZXMgKiA2MCAqIDEwMDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBncm91cGVkW2RhdGVLZXldW2hvdXJOdW1dLnB1c2goe1xuICAgICAgICAgICAgICBpZDogYHBlbmRpbmctJHtwZW5kaW5nLnN0YWZmSWR9LSR7ZGF0ZUtleX0tJHtob3VyTnVtfWAsXG4gICAgICAgICAgICAgIHNlcnZpY2VJZDogc2VsZWN0ZWRTZXJ2aWNlSWQsXG4gICAgICAgICAgICAgIHN0YWZmSWQ6IHBlbmRpbmcuc3RhZmZJZCxcbiAgICAgICAgICAgICAgc3RhZmZOYW1lOiBzdGFmZk1lbWJlcj8ubmFtZSB8fCAnVW5rbm93bicsXG4gICAgICAgICAgICAgIHN0YWZmQ29sb3I6IHN0YWZmTWVtYmVyPy5jb2xvciB8fCBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgICAgc3RhcnREYXRlVGltZTogc3RhcnREYXRlVGltZS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICBlbmREYXRlVGltZTogZW5kRGF0ZVRpbWUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgZGF5TGFiZWw6IGZvcm1hdEluVGltZVpvbmUocGVuZGluZy5kYXRlLCB0aW1lem9uZSwgeyB3ZWVrZGF5OiBcImxvbmdcIiB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBncm91cGVkO1xuICB9LCBbZ3JvdXBlZFNsb3RzLCB3ZWVrRGF5cywgdGltZXpvbmUsIHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMsIHNlbGVjdGVkU2VydmljZUlkLCBhbGxTZXJ2aWNlcywgc3RhZmZdKTtcblxuICBjb25zdCBuYXZpZ2F0ZVdlZWsgPSAoZGlyZWN0aW9uOiBcInByZXZcIiB8IFwibmV4dFwiKSA9PiB7XG4gICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRXZWVrU3RhcnQpO1xuICAgIG5ld0RhdGUuc2V0RGF0ZShuZXdEYXRlLmdldERhdGUoKSArIChkaXJlY3Rpb24gPT09IFwibmV4dFwiID8gNyA6IC03KSk7XG4gICAgc2V0Q3VycmVudFdlZWtTdGFydChuZXdEYXRlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFbXB0eVNsb3RDbGljayA9IChkYXk6IERhdGUsIGhvdXI6IG51bWJlcikgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlSWQpIHtcbiAgICAgIHNldEVycm9yKCdQbGVhc2Ugc2VsZWN0IGEgc2VydmljZSBmaXJzdCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBzZWxlY3RlZFNlcnZpY2UgPSBhbGxTZXJ2aWNlcy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWQpO1xuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlKSB7XG4gICAgICBzZXRFcnJvcignU2VydmljZSBub3QgZm91bmQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IHN0YWZmIG1lbWJlcnMgYXNzaWduZWQgdG8gdGhpcyBzZXJ2aWNlXG4gICAgY29uc3Qgc2VydmljZVN0YWZmID0gc3RhZmYuZmlsdGVyKG1lbWJlciA9PiB7XG4gICAgICBpZiAobWVtYmVyLmFjdGl2ZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBzZWxlY3RlZFNlcnZpY2Uuc3RhZmZJZHMuaW5jbHVkZXMobWVtYmVyLmlkKTtcbiAgICB9KTtcbiAgICBcbiAgICBpZiAoc2VydmljZVN0YWZmLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0RXJyb3IoJ05vIHN0YWZmIG1lbWJlcnMgYXNzaWduZWQgdG8gdGhpcyBzZXJ2aWNlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIERldGVybWluZSB3aGljaCBzdGFmZiBtZW1iZXJzIHRvIGFkZC9yZW1vdmUgYXZhaWxhYmlsaXR5IGZvclxuICAgIGNvbnN0IHN0YWZmVG9Qcm9jZXNzID0gc2VsZWN0ZWRTdGFmZklkICE9PSBcImFueVwiIFxuICAgICAgPyBbc2VydmljZVN0YWZmLmZpbmQobSA9PiBtLmlkID09PSBzZWxlY3RlZFN0YWZmSWQpXS5maWx0ZXIoQm9vbGVhbilcbiAgICAgIDogc2VydmljZVN0YWZmO1xuICAgIFxuICAgIGlmIChzdGFmZlRvUHJvY2Vzcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgQUxMIHNlbGVjdGVkIHN0YWZmIGFscmVhZHkgaGF2ZSB0aGlzIHNsb3QgcGVuZGluZ1xuICAgIGNvbnN0IGFsbFBlbmRpbmcgPSBzdGFmZlRvUHJvY2Vzcy5ldmVyeShtZW1iZXIgPT4gXG4gICAgICBwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLnNvbWUoXG4gICAgICAgIChwZW5kaW5nKSA9PlxuICAgICAgICAgIHBlbmRpbmcuc3RhZmZJZCA9PT0gbWVtYmVyLmlkICYmXG4gICAgICAgICAgcGVuZGluZy5kYXRlLnRvRGF0ZVN0cmluZygpID09PSBkYXkudG9EYXRlU3RyaW5nKCkgJiZcbiAgICAgICAgICBwZW5kaW5nLmhvdXIgPT09IGhvdXJcbiAgICAgIClcbiAgICApO1xuICAgIFxuICAgIGlmIChhbGxQZW5kaW5nKSB7XG4gICAgICAvLyBSZW1vdmUgZm9yIGFsbCBzZWxlY3RlZCBzdGFmZiAodG9nZ2xlIG9mZilcbiAgICAgIHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMoKHByZXYpID0+XG4gICAgICAgIHByZXYuZmlsdGVyKFxuICAgICAgICAgIChwZW5kaW5nKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkU3RhZmYgPSBzdGFmZlRvUHJvY2Vzcy5zb21lKG0gPT4gbS5pZCA9PT0gcGVuZGluZy5zdGFmZklkKTtcbiAgICAgICAgICAgIHJldHVybiAhKGlzU2VsZWN0ZWRTdGFmZiAmJlxuICAgICAgICAgICAgICBwZW5kaW5nLmRhdGUudG9EYXRlU3RyaW5nKCkgPT09IGRheS50b0RhdGVTdHJpbmcoKSAmJlxuICAgICAgICAgICAgICBwZW5kaW5nLmhvdXIgPT09IGhvdXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQWRkIGZvciBhbGwgc2VsZWN0ZWQgc3RhZmYgKG9yIGp1c3QgdGhlIG9uZSBzZWxlY3RlZClcbiAgICAgIGNvbnN0IG5ld0FkZGl0aW9ucyA9IHN0YWZmVG9Qcm9jZXNzXG4gICAgICAgIC5maWx0ZXIobWVtYmVyID0+IHtcbiAgICAgICAgICAvLyBPbmx5IGFkZCBpZiBub3QgYWxyZWFkeSBwZW5kaW5nXG4gICAgICAgICAgcmV0dXJuICFwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLnNvbWUoXG4gICAgICAgICAgICAocGVuZGluZykgPT5cbiAgICAgICAgICAgICAgcGVuZGluZy5zdGFmZklkID09PSBtZW1iZXIuaWQgJiZcbiAgICAgICAgICAgICAgcGVuZGluZy5kYXRlLnRvRGF0ZVN0cmluZygpID09PSBkYXkudG9EYXRlU3RyaW5nKCkgJiZcbiAgICAgICAgICAgICAgcGVuZGluZy5ob3VyID09PSBob3VyXG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm1hcChtZW1iZXIgPT4gKHtcbiAgICAgICAgICBzdGFmZklkOiBtZW1iZXIuaWQsXG4gICAgICAgICAgZGF0ZTogZGF5LFxuICAgICAgICAgIGhvdXJcbiAgICAgICAgfSkpO1xuICAgICAgXG4gICAgICBpZiAobmV3QWRkaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2V0UGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucygocHJldikgPT4gWy4uLnByZXYsIC4uLm5ld0FkZGl0aW9uc10pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgfTtcblxuXG4gIGNvbnN0IGhhbmRsZVNhdmVBdmFpbGFiaWxpdHkgPSBhc3luYyAoKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFNlcnZpY2VJZCB8fCBwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG5cbiAgICBzZXRJc1NhdmluZ0F2YWlsYWJpbGl0eSh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGF1dGggdG9rZW4gZnJvbSBTdXBhYmFzZSBjbGllbnRcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50Q2xpZW50KCk7XG4gICAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IHNlc3Npb24/LmFjY2Vzc190b2tlbjtcblxuICAgICAgY29uc3Qgc2VsZWN0ZWRTZXJ2aWNlID0gYWxsU2VydmljZXMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0ZWQgc2VydmljZSBub3QgZm91bmQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXNlIHNhdmVkQXZhaWxhYmlsaXR5IHN0YXRlICh3aGljaCBoYXMgdGVtcG9yYXJ5IElEcykgYXMgdGhlIGJhc2VcbiAgICAgIC8vIFRoaXMgZW5zdXJlcyBjb25zaXN0ZW5jeSAtIHdlIGRvbid0IG1peCByZWFsIFVVSURzIGZyb20gQVBJIHdpdGggdGVtcG9yYXJ5IElEc1xuICAgICAgLy8gVGhlIEFQSSBoYW5kbGVzIElEIG1hcHBpbmcgd2hlbiBzYXZpbmcsIGJ1dCBvdXIgc3RhdGUga2VlcHMgdGVtcG9yYXJ5IElEc1xuICAgICAgbGV0IGFsbEF2YWlsYWJpbGl0eTogU2VydmljZUF2YWlsYWJpbGl0eVtdID0gWy4uLnNhdmVkQXZhaWxhYmlsaXR5XTtcblxuICAgICAgLy8gRmluZCBvciBjcmVhdGUgc2VydmljZSBhdmFpbGFiaWxpdHkgZW50cnkgZm9yIHRoZSBjdXJyZW50IHNlcnZpY2VcbiAgICAgIGxldCBzZXJ2aWNlQXZhaWxhYmlsaXR5ID0gYWxsQXZhaWxhYmlsaXR5LmZpbmQoKGF2YWlsOiBTZXJ2aWNlQXZhaWxhYmlsaXR5KSA9PiBhdmFpbC5zZXJ2aWNlSWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICAgIFxuICAgICAgaWYgKCFzZXJ2aWNlQXZhaWxhYmlsaXR5KSB7XG4gICAgICAgIHNlcnZpY2VBdmFpbGFiaWxpdHkgPSB7XG4gICAgICAgICAgc2VydmljZUlkOiBzZWxlY3RlZFNlcnZpY2VJZCxcbiAgICAgICAgICBzdGFmZjogW11cbiAgICAgICAgfTtcbiAgICAgICAgYWxsQXZhaWxhYmlsaXR5LnB1c2goc2VydmljZUF2YWlsYWJpbGl0eSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFByb2Nlc3MgYWxsIHBlbmRpbmcgYWRkaXRpb25zXG4gICAgICBmb3IgKGNvbnN0IHBlbmRpbmcgb2YgcGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucykge1xuICAgICAgICBjb25zdCB0YXJnZXREYXRlID0gcGVuZGluZy5kYXRlO1xuICAgICAgICBjb25zdCB0YXJnZXRIb3VyID0gcGVuZGluZy5ob3VyO1xuICAgICAgICBjb25zdCBzdGFmZklkID0gcGVuZGluZy5zdGFmZklkO1xuXG4gICAgICAgIC8vIEdldCB3ZWVrZGF5IG5hbWUgZnJvbSB0aGUgZGF0ZSAodGltZXpvbmUtYXdhcmUpXG4gICAgICAgIC8vIFN0b3JlIGFzIGxvd2VyY2FzZSB0byBtYXRjaCBidWlsZEV4cGFuZGVkU2xvdHMgZXhwZWN0YXRpb24gYW5kIEFQSSBmb3JtYXRcbiAgICAgICAgY29uc3Qgd2Vla2RheU5hbWUgPSBmb3JtYXRJblRpbWVab25lKHRhcmdldERhdGUsIHRpbWV6b25lLCB7IHdlZWtkYXk6IFwibG9uZ1wiIH0pO1xuICAgICAgICBjb25zdCB3ZWVrZGF5ID0gd2Vla2RheU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZvcm1hdCB0aW1lIGFzIEhIOm1tXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IGAke1N0cmluZyh0YXJnZXRIb3VyKS5wYWRTdGFydCgyLCAnMCcpfTowMGA7XG4gICAgICAgIFxuICAgICAgICAvLyBDYWxjdWxhdGUgZW5kIHRpbWUgYmFzZWQgb24gc2VydmljZSBkdXJhdGlvblxuICAgICAgICBjb25zdCBzdGFydE1pbnV0ZXMgPSB0YXJnZXRIb3VyICogNjA7XG4gICAgICAgIGNvbnN0IGVuZE1pbnV0ZXMgPSBzdGFydE1pbnV0ZXMgKyBzZWxlY3RlZFNlcnZpY2UuZHVyYXRpb25NaW51dGVzO1xuICAgICAgICBjb25zdCBlbmRIb3VyID0gTWF0aC5mbG9vcihlbmRNaW51dGVzIC8gNjApO1xuICAgICAgICBjb25zdCBlbmRNaW4gPSBlbmRNaW51dGVzICUgNjA7XG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBgJHtTdHJpbmcoZW5kSG91cikucGFkU3RhcnQoMiwgJzAnKX06JHtTdHJpbmcoZW5kTWluKS5wYWRTdGFydCgyLCAnMCcpfWA7XG5cbiAgICAgICAgLy8gRmluZCBvciBjcmVhdGUgc3RhZmYgYXZhaWxhYmlsaXR5IGVudHJ5XG4gICAgICAgIGxldCBzdGFmZkF2YWlsYWJpbGl0eSA9IHNlcnZpY2VBdmFpbGFiaWxpdHkuc3RhZmYuZmluZCgoczogYW55KSA9PiBzLnN0YWZmSWQgPT09IHN0YWZmSWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFzdGFmZkF2YWlsYWJpbGl0eSkge1xuICAgICAgICAgIHN0YWZmQXZhaWxhYmlsaXR5ID0ge1xuICAgICAgICAgICAgc3RhZmZJZDogc3RhZmZJZCxcbiAgICAgICAgICAgIHNsb3RzOiBbXVxuICAgICAgICAgIH07XG4gICAgICAgICAgc2VydmljZUF2YWlsYWJpbGl0eS5zdGFmZi5wdXNoKHN0YWZmQXZhaWxhYmlsaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgc2xvdCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zdCBzbG90RXhpc3RzID0gc3RhZmZBdmFpbGFiaWxpdHkuc2xvdHMuc29tZSgoc2xvdDogQXZhaWxhYmlsaXR5U2xvdCkgPT4gXG4gICAgICAgICAgc2xvdC5kYXkgPT09IHdlZWtkYXkgJiYgc2xvdC5zdGFydFRpbWUgPT09IHN0YXJ0VGltZSAmJiBzbG90LmVuZFRpbWUgPT09IGVuZFRpbWVcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIXNsb3RFeGlzdHMpIHtcbiAgICAgICAgICAvLyBBZGQgdGhlIG5ldyBzbG90XG4gICAgICAgICAgc3RhZmZBdmFpbGFiaWxpdHkuc2xvdHMucHVzaCh7XG4gICAgICAgICAgICBpZDogYHNsb3QtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCl9YCxcbiAgICAgICAgICAgIGRheTogd2Vla2RheSBhcyBBdmFpbGFiaWxpdHlTbG90W1wiZGF5XCJdLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU2F2ZSBhbGwgY2hhbmdlcyB0byBBUElcbiAgICAgIGNvbnN0IHNhdmVSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC03LWF2YWlsYWJpbGl0eScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgLi4uKGF1dGhUb2tlbiAmJiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2F1dGhUb2tlbn1gIH0pLFxuICAgICAgICB9LFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYXZhaWxhYmlsaXR5OiBhbGxBdmFpbGFiaWxpdHlcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFzYXZlUmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgc2F2ZVJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCAnRmFpbGVkIHRvIHNhdmUgYXZhaWxhYmlsaXR5Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBzYXZlZCBhdmFpbGFiaWxpdHkgc3RhdGUgd2l0aCB0aGUgZGF0YSB3ZSBqdXN0IHNhdmVkXG4gICAgICAvLyBhbGxBdmFpbGFiaWxpdHkgYWxyZWFkeSBjb250YWlucyBhbGwgc2VydmljZXMgKG1lcmdlZCBmcm9tIHNhdmVkQXZhaWxhYmlsaXR5IHN0YXRlKVxuICAgICAgLy8gYW5kIG5vdyBoYXMgdGhlIHVwZGF0ZWQgc2xvdHMgZm9yIHRoZSBjdXJyZW50IHNlcnZpY2VcbiAgICAgIC8vIFRoaXMgcHJlc2VydmVzIGF2YWlsYWJpbGl0eSBmb3IgYWxsIHNlcnZpY2VzIHdpdGggdGVtcG9yYXJ5IElEc1xuICAgICAgc2V0U2F2ZWRBdmFpbGFiaWxpdHkoYWxsQXZhaWxhYmlsaXR5KTtcbiAgICAgIFxuICAgICAgLy8gRXhwYW5kIHRoZSBzYXZlZCBzbG90cyBGSVJTVCBiZWZvcmUgY2xlYXJpbmcgcGVuZGluZyBhZGRpdGlvbnNcbiAgICAgIC8vIFRoaXMgZW5zdXJlcyBhIHNtb290aCB0cmFuc2l0aW9uIGZyb20gcGVuZGluZyB0byBzYXZlZFxuICAgICAgY29uc3Qgc2VydmljZUF2YWlsID0gYWxsQXZhaWxhYmlsaXR5LmZpbmQoXG4gICAgICAgIChhdmFpbDogU2VydmljZUF2YWlsYWJpbGl0eSkgPT4gYXZhaWwuc2VydmljZUlkID09PSBzZWxlY3RlZFNlcnZpY2VJZFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKHNlbGVjdGVkU2VydmljZSAmJiBzZXJ2aWNlQXZhaWwpIHtcbiAgICAgICAgLy8gU3RhcnQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjdXJyZW50IHdlZWsgdG8gc2hvdyBhbGwgc2xvdHMgaW4gdGhlIHdlZWsgdmlld1xuICAgICAgICBjb25zdCB3ZWVrU3RhcnQgPSBuZXcgRGF0ZShjdXJyZW50V2Vla1N0YXJ0KTtcbiAgICAgICAgd2Vla1N0YXJ0LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZXhwYW5kZWRTbG90cyA9IGJ1aWxkRXhwYW5kZWRTbG90cyh7XG4gICAgICAgICAgc2VydmljZTogc2VsZWN0ZWRTZXJ2aWNlLFxuICAgICAgICAgIHNlcnZpY2VBdmFpbGFiaWxpdHk6IHNlcnZpY2VBdmFpbCxcbiAgICAgICAgICBzdGFmZjogc3RhZmYsXG4gICAgICAgICAgdGltZXpvbmU6IHRpbWV6b25lLFxuICAgICAgICAgIHN0YXJ0RGF0ZTogd2Vla1N0YXJ0LFxuICAgICAgICAgIGhvcml6b25EYXlzOiAxNCxcbiAgICAgICAgICBpbmNsdWRlUGFzdFNsb3RzOiB0cnVlIC8vIFNob3cgYWxsIHNsb3RzIGluIHRoZSBjdXJyZW50IHdlZWsgdmlldyBmb3Igb25ib2FyZGluZ1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBmZXRjaGVkU2xvdHMgd2l0aCBzYXZlZCBzbG90cyBCRUZPUkUgY2xlYXJpbmcgcGVuZGluZ1xuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgc2F2ZWQgc2xvdHMgYXBwZWFyIGltbWVkaWF0ZWx5XG4gICAgICAgIHNldEZldGNoZWRTbG90cyhleHBhbmRlZFNsb3RzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEZldGNoZWRTbG90cyhbXSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFyIHBlbmRpbmcgYWRkaXRpb25zIEFGVEVSIHdlJ3ZlIHVwZGF0ZWQgdGhlIHNhdmVkIHNsb3RzXG4gICAgICAvLyBUaGlzIGVuc3VyZXMgc2xvdHMgc3dpdGNoIGZyb20gXCJQZW5kaW5nXCIgdG8gXCJTYXZlZFwiIHNtb290aGx5XG4gICAgICBzZXRQZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zKFtdKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7IC8vIFN1Y2Nlc3NcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGF2YWlsYWJpbGl0eTonLCBlcnJvcik7XG4gICAgICBzZXRFcnJvcihgRmFpbGVkIHRvIHNhdmUgYXZhaWxhYmlsaXR5OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBGYWlsdXJlXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU2F2aW5nQXZhaWxhYmlsaXR5KGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29udGludWUgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgXG4gICAgLy8gQmVmb3JlIGNvbnRpbnVpbmcsIHNhdmUgYW55IHBlbmRpbmcgYXZhaWxhYmlsaXR5XG4gICAgaWYgKHBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZFNlcnZpY2VJZCkge1xuICAgICAgY29uc3Qgc2F2ZVN1Y2Nlc3MgPSBhd2FpdCBoYW5kbGVTYXZlQXZhaWxhYmlsaXR5KCk7XG4gICAgICBpZiAoIXNhdmVTdWNjZXNzKSB7XG4gICAgICAgIC8vIEVycm9yIGFscmVhZHkgc2V0IGJ5IGhhbmRsZVNhdmVBdmFpbGFiaWxpdHlcbiAgICAgICAgcmV0dXJuOyAvLyBEb24ndCBjb250aW51ZSBpZiBzYXZlIGZhaWxlZFxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDb252ZXJ0IHNhdmVkIGF2YWlsYWJpbGl0eSB0byBTZXJ2aWNlQXZhaWxhYmlsaXR5IGZvcm1hdFxuICAgIC8vIFVzZSBzYXZlZCBhdmFpbGFiaWxpdHkgZnJvbSB0aGlzIHNlc3Npb24sIG9yIGNvbnZlcnQgcGVuZGluZyBpZiBub3RoaW5nIHNhdmVkIHlldFxuICAgIGxldCByZXN1bHQgPSBzYXZlZEF2YWlsYWJpbGl0eS5sZW5ndGggPiAwID8gc2F2ZWRBdmFpbGFiaWxpdHkgOiBbXTtcbiAgICBcbiAgICAvLyBJZiB3ZSBoYXZlIG5vIHNhdmVkIGF2YWlsYWJpbGl0eSBidXQgaGF2ZSBwZW5kaW5nLCBjb252ZXJ0IHBlbmRpbmdcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCAmJiBwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRTZXJ2aWNlSWQpIHtcbiAgICAgIHJlc3VsdCA9IG1hcFBlbmRpbmdUb1NlcnZpY2VBdmFpbGFiaWxpdHkoKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgdGhhdCBzZXJ2aWNlcyB3aXRoIHN0YWZmIGhhdmUgYXQgbGVhc3Qgb25lIHNsb3RcbiAgICBjb25zdCBzZXJ2aWNlc05lZWRpbmdBdmFpbGFiaWxpdHkgPSByZXN1bHQuZmlsdGVyKFxuICAgICAgKHNlcnZpY2UpID0+IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBzZXJ2aWNlIGhhcyBzdGFmZiBhc3NpZ25lZFxuICAgICAgICBjb25zdCBzZXJ2aWNlRGVmID0gYWxsU2VydmljZXMuZmluZChzID0+IHMuaWQgPT09IHNlcnZpY2Uuc2VydmljZUlkKTtcbiAgICAgICAgaWYgKCFzZXJ2aWNlRGVmIHx8IHNlcnZpY2VEZWYuc3RhZmZJZHMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiBhbGwgc3RhZmYgaGF2ZSBzbG90c1xuICAgICAgICByZXR1cm4gc2VydmljZS5zdGFmZi5sZW5ndGggPiAwICYmXG4gICAgICAgICAgc2VydmljZS5zdGFmZi5ldmVyeSgoc3RhZmZFbnRyeSkgPT4gc3RhZmZFbnRyeS5zbG90cy5sZW5ndGggPT09IDApO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBpZiAoc2VydmljZXNOZWVkaW5nQXZhaWxhYmlsaXR5Lmxlbmd0aCkge1xuICAgICAgY29uc3Qgc2VydmljZURlZiA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZXJ2aWNlc05lZWRpbmdBdmFpbGFiaWxpdHlbMF0uc2VydmljZUlkKTtcbiAgICAgIHNldEVycm9yKFxuICAgICAgICBgQWRkIGF0IGxlYXN0IG9uZSBhdmFpbGFiaWxpdHkgc2xvdCBmb3Igc2VydmljZSBcIiR7c2VydmljZURlZj8ubmFtZSB8fCBzZXJ2aWNlc05lZWRpbmdBdmFpbGFiaWxpdHlbMF0uc2VydmljZUlkfVwiLiBFYWNoIHNlcnZpY2Ugd2l0aCBzdGFmZiBuZWVkcyBhdmFpbGFiaWxpdHkgdG8gYXBwZWFyIGluIGJvb2tpbmcuYFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCBvbk5leHQocmVzdWx0KTtcbiAgfTtcblxuICBjb25zdCBtYXBQZW5kaW5nVG9TZXJ2aWNlQXZhaWxhYmlsaXR5ID0gKCk6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXSA9PiB7XG4gICAgLy8gVGhpcyBpcyBhIGZhbGxiYWNrIGlmIG5vIGN1cnJlbnQgYXZhaWxhYmlsaXR5IGV4aXN0c1xuICAgIC8vIENvbnZlcnQgcGVuZGluZyBhZGRpdGlvbnMgdG8gU2VydmljZUF2YWlsYWJpbGl0eSBmb3JtYXRcbiAgICBjb25zdCByZXN1bHQ6IFNlcnZpY2VBdmFpbGFiaWxpdHlbXSA9IFtdO1xuICAgIFxuICAgIGlmICghc2VsZWN0ZWRTZXJ2aWNlSWQgfHwgcGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHNlcnZpY2VBdmFpbGFiaWxpdHk6IFNlcnZpY2VBdmFpbGFiaWxpdHkgPSB7XG4gICAgICBzZXJ2aWNlSWQ6IHNlbGVjdGVkU2VydmljZUlkLFxuICAgICAgc3RhZmY6IFtdXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBzdGFmZk1hcCA9IG5ldyBNYXA8c3RyaW5nLCBBdmFpbGFiaWxpdHlTbG90W10+KCk7XG4gICAgXG4gICAgY29uc3Qgc2VsZWN0ZWRTZXJ2aWNlID0gYWxsU2VydmljZXMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkU2VydmljZUlkKTtcbiAgICBpZiAoIXNlbGVjdGVkU2VydmljZSkgcmV0dXJuIHJlc3VsdDtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHBlbmRpbmcgb2YgcGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucykge1xuICAgICAgY29uc3Qgc3RhZmZJZCA9IHBlbmRpbmcuc3RhZmZJZDtcbiAgICAgIGNvbnN0IHRhcmdldERhdGUgPSBwZW5kaW5nLmRhdGU7XG4gICAgICBjb25zdCB0YXJnZXRIb3VyID0gcGVuZGluZy5ob3VyO1xuICAgICAgXG4gICAgICAvLyBTdG9yZSB3ZWVrZGF5IGFzIGxvd2VyY2FzZSB0byBtYXRjaCBidWlsZEV4cGFuZGVkU2xvdHMgZXhwZWN0YXRpb24gYW5kIEFQSSBmb3JtYXRcbiAgICAgIGNvbnN0IHdlZWtkYXlOYW1lID0gZm9ybWF0SW5UaW1lWm9uZSh0YXJnZXREYXRlLCB0aW1lem9uZSwgeyB3ZWVrZGF5OiBcImxvbmdcIiB9KTtcbiAgICAgIGNvbnN0IHdlZWtkYXkgPSB3ZWVrZGF5TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gYCR7U3RyaW5nKHRhcmdldEhvdXIpLnBhZFN0YXJ0KDIsICcwJyl9OjAwYDtcbiAgICAgIGNvbnN0IHN0YXJ0TWludXRlcyA9IHRhcmdldEhvdXIgKiA2MDtcbiAgICAgIGNvbnN0IGVuZE1pbnV0ZXMgPSBzdGFydE1pbnV0ZXMgKyBzZWxlY3RlZFNlcnZpY2UuZHVyYXRpb25NaW51dGVzO1xuICAgICAgY29uc3QgZW5kSG91ciA9IE1hdGguZmxvb3IoZW5kTWludXRlcyAvIDYwKTtcbiAgICAgIGNvbnN0IGVuZE1pbiA9IGVuZE1pbnV0ZXMgJSA2MDtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBgJHtTdHJpbmcoZW5kSG91cikucGFkU3RhcnQoMiwgJzAnKX06JHtTdHJpbmcoZW5kTWluKS5wYWRTdGFydCgyLCAnMCcpfWA7XG4gICAgICBcbiAgICAgIGlmICghc3RhZmZNYXAuaGFzKHN0YWZmSWQpKSB7XG4gICAgICAgIHN0YWZmTWFwLnNldChzdGFmZklkLCBbXSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHNsb3RzID0gc3RhZmZNYXAuZ2V0KHN0YWZmSWQpITtcbiAgICAgIGNvbnN0IHNsb3RFeGlzdHMgPSBzbG90cy5zb21lKHNsb3QgPT4gXG4gICAgICAgIHNsb3QuZGF5ID09PSB3ZWVrZGF5ICYmIHNsb3Quc3RhcnRUaW1lID09PSBzdGFydFRpbWUgJiYgc2xvdC5lbmRUaW1lID09PSBlbmRUaW1lXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoIXNsb3RFeGlzdHMpIHtcbiAgICAgICAgc2xvdHMucHVzaCh7XG4gICAgICAgICAgaWQ6IGBzbG90LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpfWAsXG4gICAgICAgICAgZGF5OiB3ZWVrZGF5IGFzIEF2YWlsYWJpbGl0eVNsb3RbXCJkYXlcIl0sXG4gICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgICAgICAgZW5kVGltZTogZW5kVGltZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZm9yIChjb25zdCBbc3RhZmZJZCwgc2xvdHNdIG9mIHN0YWZmTWFwLmVudHJpZXMoKSkge1xuICAgICAgc2VydmljZUF2YWlsYWJpbGl0eS5zdGFmZi5wdXNoKHsgc3RhZmZJZCwgc2xvdHMgfSk7XG4gICAgfVxuICAgIFxuICAgIGlmIChzZXJ2aWNlQXZhaWxhYmlsaXR5LnN0YWZmLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlc3VsdC5wdXNoKHNlcnZpY2VBdmFpbGFiaWxpdHkpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZpbGxUZXN0RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB0ZXN0RGF0YSA9IGdlbmVyYXRlQXZhaWxhYmlsaXR5RGF0YShzZXJ2aWNlcywgc3RhZmYpO1xuICAgIC8vIFNhdmUgdGVzdCBkYXRhIHZpYSBBUElcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDbGllbnQoKTtcbiAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgICAgY29uc3QgYXV0aFRva2VuID0gc2Vzc2lvbj8uYWNjZXNzX3Rva2VuO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2J1c2luZXNzL29uYm9hcmRpbmcvc3RlcC03LWF2YWlsYWJpbGl0eScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgLi4uKGF1dGhUb2tlbiAmJiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2F1dGhUb2tlbn1gIH0pLFxuICAgICAgICB9LFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YWlsYWJpbGl0eTogdGVzdERhdGEgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHNldFNhdmVkQXZhaWxhYmlsaXR5KHRlc3REYXRhKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkU2VydmljZUlkKSB7XG4gICAgICAgICAgY29uc3Qgc2VydmljZUF2YWlsID0gdGVzdERhdGEuZmluZCgoYXZhaWw6IFNlcnZpY2VBdmFpbGFiaWxpdHkpID0+IGF2YWlsLnNlcnZpY2VJZCA9PT0gc2VsZWN0ZWRTZXJ2aWNlSWQpO1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkU2VydmljZSAmJiBzZXJ2aWNlQXZhaWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGFuZGVkU2xvdHMgPSBidWlsZEV4cGFuZGVkU2xvdHMoe1xuICAgICAgICAgICAgICBzZXJ2aWNlOiBzZWxlY3RlZFNlcnZpY2UsXG4gICAgICAgICAgICAgIHNlcnZpY2VBdmFpbGFiaWxpdHk6IHNlcnZpY2VBdmFpbCxcbiAgICAgICAgICAgICAgc3RhZmY6IHN0YWZmLFxuICAgICAgICAgICAgICB0aW1lem9uZTogdGltZXpvbmUsXG4gICAgICAgICAgICAgIHN0YXJ0RGF0ZTogdG9kYXksXG4gICAgICAgICAgICAgIGhvcml6b25EYXlzOiAxNFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRGZXRjaGVkU2xvdHMoZXhwYW5kZWRTbG90cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmaWxsaW5nIHRlc3QgZGF0YTonLCBlcnJvcik7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGxvYWQgdGVzdCBkYXRhJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG1vbnRoWWVhciA9IGZvcm1hdEluVGltZVpvbmUod2Vla0RheXNbMF0sIHRpbWV6b25lLCB7IG1vbnRoOiBcImxvbmdcIiwgeWVhcjogXCJudW1lcmljXCIgfSk7XG4gIGNvbnN0IHNlbGVjdGVkU2VydmljZSA9IGFsbFNlcnZpY2VzLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFNlcnZpY2VJZCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktOFwiIGFyaWEtbGFiZWxsZWRieT1cImF2YWlsYWJpbGl0eS1zdGVwLWhlYWRpbmdcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1wcmltYXJ5LzMwIGJnLXByaW1hcnkvMTAgcHgtNCBweS0xIHRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXByaW1hcnkvOTBcIj5cbiAgICAgICAgICA8Q2FsZW5kYXJDaGVjazIgY2xhc3NOYW1lPVwiaC00IHctNFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XG4gICAgICAgICAgU3RlcCA3IMK3IEF2YWlsYWJpbGl0eVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxoMiBpZD1cImF2YWlsYWJpbGl0eS1zdGVwLWhlYWRpbmdcIiBjbGFzc05hbWU9XCJmb250LWRpc3BsYXkgdGV4dC0zeGwgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgIFNldCBhdmFpbGFiaWxpdHkgYnkgY2xpY2tpbmcgdGltZSBzbG90c1xuICAgICAgICA8L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtYXgtdy0zeGwgdGV4dC1iYXNlIHRleHQtd2hpdGUvNzBcIj5cbiAgICAgICAgICBTZWxlY3QgYSBzZXJ2aWNlIGFuZCBzdGFmZiBtZW1iZXIsIHRoZW4gY2xpY2sgZW1wdHkgdGltZSBzbG90cyB0byBhZGQgYXZhaWxhYmlsaXR5LiBDbGljayBhZ2FpbiB0byByZW1vdmUuIENsaWNrIFwiU2F2ZSBBdmFpbGFiaWxpdHlcIiB3aGVuIGRvbmUsIHRoZW4gY29udGludWUgdG8gdGhlIG5leHQgc3RlcC4gVGhpcyBhdmFpbGFiaWxpdHkgd2lsbCBiZSB1c2VkIGluIHlvdXIgYm9va2luZyBmbG93LlxuICAgICAgICA8L3A+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgey8qIFNlcnZpY2UgRHJvcGRvd24gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTZcIj5cbiAgICAgICAgPExhYmVsIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNzAgbWItMiBibG9ja1wiPkZpbHRlciBieSBTZXJ2aWNlPC9MYWJlbD5cbiAgICAgICAgPHNlbGVjdFxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzE1IGJnLVsjMDUwRjJDXS82MCBweC00IHB5LTMgdGV4dC1zbSB0ZXh0LXdoaXRlIGZvY3VzOmJvcmRlci1wcmltYXJ5IGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgdmFsdWU9e3NlbGVjdGVkU2VydmljZUlkIHx8IFwiXCJ9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZFNlcnZpY2VJZChlLnRhcmdldC52YWx1ZSB8fCBudWxsKTtcbiAgICAgICAgICAgIC8vIENsZWFyIHBlbmRpbmcgYXZhaWxhYmlsaXR5IHdoZW4gY2hhbmdpbmcgc2VydmljZVxuICAgICAgICAgICAgc2V0UGVuZGluZ0F2YWlsYWJpbGl0eUFkZGl0aW9ucyhbXSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiIGNsYXNzTmFtZT1cImJnLVsjMDUwRjJDXSB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICBBbGwgU2VydmljZXNcbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICB7YWxsU2VydmljZXMubWFwKChzZXJ2aWNlKSA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17c2VydmljZS5pZH0gdmFsdWU9e3NlcnZpY2UuaWR9IGNsYXNzTmFtZT1cImJnLVsjMDUwRjJDXSB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgIHtzZXJ2aWNlLmNhdGVnb3J5TmFtZX0gLSB7c2VydmljZS5uYW1lfSAoe3NlcnZpY2UuZHVyYXRpb25NaW51dGVzfSBtaW4gwrcgJFxuICAgICAgICAgICAgICB7KHNlcnZpY2UucHJpY2VDZW50cyAvIDEwMCkudG9GaXhlZCgyKX0pXG4gICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIHtzZWxlY3RlZFNlcnZpY2UgJiYgKFxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC14cyB0ZXh0LXdoaXRlLzYwXCI+XG4gICAgICAgICAgICBTaG93aW5nIGF2YWlsYWJpbGl0eSBmb3I6IDxzdHJvbmcgY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPntzZWxlY3RlZFNlcnZpY2UubmFtZX08L3N0cm9uZz5cbiAgICAgICAgICA8L3A+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFN0YWZmIFNlbGVjdGlvbiBQaWxscyAtIE9ubHkgc2hvdyB3aGVuIHNlcnZpY2UgaXMgc2VsZWN0ZWQgKi99XG4gICAgICB7c2VsZWN0ZWRTZXJ2aWNlSWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBwLTZcIj5cbiAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCBtYi0zIGJsb2NrXCI+U2VsZWN0IFN0YWZmIE1lbWJlcjwvTGFiZWw+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxTdGFmZlBpbGxcbiAgICAgICAgICAgICAgbGFiZWw9XCJBbGwgU3RhZmZcIlxuICAgICAgICAgICAgICBhY3RpdmU9e3NlbGVjdGVkU3RhZmZJZCA9PT0gXCJhbnlcIn1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkU3RhZmZJZChcImFueVwiKTtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBjbGVhciBwZW5kaW5nIC0ga2VlcCBhbGwgcGVuZGluZyBzbG90cyB2aXNpYmxlXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAge3N0YWZmXG4gICAgICAgICAgICAgIC5maWx0ZXIobWVtYmVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyLmFjdGl2ZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHNob3cgc3RhZmYgYXNzaWduZWQgdG8gdGhpcyBzZXJ2aWNlXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkU2VydmljZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkU2VydmljZS5zdGFmZklkcy5pbmNsdWRlcyhtZW1iZXIuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm1hcCgobWVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxTdGFmZlBpbGxcbiAgICAgICAgICAgICAgICAgICAga2V5PXttZW1iZXIuaWR9XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXttZW1iZXIubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgY29sb3I9e21lbWJlci5jb2xvcn1cbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlPXtzZWxlY3RlZFN0YWZmSWQgPT09IG1lbWJlci5pZH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNsZWFyIHBlbmRpbmcgLSBrZWVwIGFsbCBwZW5kaW5nIHNsb3RzIHZpc2libGUgd2hlbiBzd2l0Y2hpbmcgc3RhZmZcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFN0YWZmSWQobWVtYmVyLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8SGVscGVyVGV4dCBjbGFzc05hbWU9XCJtdC0zIHRleHQtd2hpdGUvNTBcIj5cbiAgICAgICAgICAgIHtzZWxlY3RlZFN0YWZmSWQgPT09IFwiYW55XCIgXG4gICAgICAgICAgICAgID8gXCJTZWxlY3QgYSBzdGFmZiBtZW1iZXIgYWJvdmUsIHRoZW4gY2xpY2sgZW1wdHkgdGltZSBzbG90cyB0byBhZGQgYXZhaWxhYmlsaXR5XCJcbiAgICAgICAgICAgICAgOiBgQWRkaW5nIGF2YWlsYWJpbGl0eSBmb3IgJHtzdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTdGFmZklkKT8ubmFtZX0uIENsaWNrIGVtcHR5IHRpbWUgc2xvdHMgdG8gYWRkIGF2YWlsYWJpbGl0eS4gQ2xpY2sgXCJTYXZlXCIgd2hlbiBkb25lLmB9XG4gICAgICAgICAgPC9IZWxwZXJUZXh0PlxuICAgICAgICAgIHtwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXByaW1hcnkvNDAgYmctcHJpbWFyeS8xMCBweC00IHB5LTNcIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAge3BlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMubGVuZ3RofSBhdmFpbGFiaWxpdHkgc2xvdHtwZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gcGVuZGluZ1xuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgICAgICAgIENsaWNrIFwiU2F2ZVwiIHRvIGFwcGx5IGNoYW5nZXMgdG8gdGhlIGJvb2tpbmcgc3lzdGVtXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIiBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMoW10pfSBcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NhdmluZ0F2YWlsYWJpbGl0eX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBDbGVhclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlQXZhaWxhYmlsaXR5fSBcbiAgICAgICAgICAgICAgICAgIGlzTG9hZGluZz17aXNTYXZpbmdBdmFpbGFiaWxpdHl9IFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2F2aW5nQXZhaWxhYmlsaXR5fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxTYXZlIGNsYXNzTmFtZT1cIm1yLTIgaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICBTYXZlIEF2YWlsYWJpbGl0eVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIFdlZWsgTmF2aWdhdGlvbiAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHJvdW5kZWQtM3hsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBweC02IHB5LTRcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gbmF2aWdhdGVXZWVrKFwicHJldlwiKX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwIGhvdmVyOnRleHQtd2hpdGVcIlxuICAgICAgICA+XG4gICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiPnttb250aFllYXJ9PC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKHdlZWtEYXlzWzBdLCB0aW1lem9uZSwgeyBtb250aDogXCJzaG9ydFwiLCBkYXk6IFwibnVtZXJpY1wiIH0pfSAte1wiIFwifVxuICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUod2Vla0RheXNbNl0sIHRpbWV6b25lLCB7IG1vbnRoOiBcInNob3J0XCIsIGRheTogXCJudW1lcmljXCIgfSl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gbmF2aWdhdGVXZWVrKFwibmV4dFwiKX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwIGhvdmVyOnRleHQtd2hpdGVcIlxuICAgICAgICA+XG4gICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIENhbGVuZGFyIEdyaWQgLSBNYXRjaGluZyBBZG1pbiBWaWV3IFN0eWxlICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgcC04IHNoYWRvdy1bMF8wXzYwcHhfcmdiYSg5MSwxMDAsMjU1LDAuMTUpXVwiPlxuICAgICAgICB7IXNlbGVjdGVkU2VydmljZUlkID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay82MCBwLTggdGV4dC1jZW50ZXIgdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+U2VsZWN0IGEgc2VydmljZSBhYm92ZSB0byBhZGQgYXZhaWxhYmlsaXR5PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LWZ1bGxcIj5cbiAgICAgICAgICAgICAgey8qIERheSBIZWFkZXJzICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTggZ2FwLTIgYm9yZGVyLWIgYm9yZGVyLXdoaXRlLzEwIHBiLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlLzYwXCI+VGltZTwvZGl2PlxuICAgICAgICAgICAgICAgIHt3ZWVrRGF5cy5tYXAoKGRheSwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZS82MFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIHsgd2Vla2RheTogXCJzaG9ydFwiIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEluVGltZVpvbmUoZGF5LCB0aW1lem9uZSwgeyBkYXk6IFwibnVtZXJpY1wiIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIEhvdXIgUm93cyAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgIHtob3Vycy5tYXAoKGhvdXIpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJMYWJlbCA9IGhvdXIgPT09IDEyID8gXCIxMiBQTVwiIDogaG91ciA+IDEyID8gYCR7aG91ciAtIDEyfSBQTWAgOiBgJHtob3VyfSBBTWA7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aG91cn0gY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtOCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC14cyB0ZXh0LXdoaXRlLzYwIHB5LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtob3VyTGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge3dlZWtEYXlzLm1hcCgoZGF5LCBkYXlJZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVLZXkgPSBmb3JtYXRJblRpbWVab25lKGRheSwgdGltZXpvbmUsIFwieXl5eS1NTS1kZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNsb3RzRm9ySG91ciA9IHNsb3RzQnlEYXlBbmRIb3VyW2RhdGVLZXldPy5baG91cl0gfHwgW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtkYXlJZHh9IGNsYXNzTmFtZT1cInB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFNob3cgYXZhaWxhYmxlIHNsb3RzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nsb3RzRm9ySG91ci5tYXAoKHNsb3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhZmZNZW1iZXIgPSBzdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc2xvdC5zdGFmZklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNQZW5kaW5nID0gc2xvdC5pZCAmJiBzbG90LmlkLnN0YXJ0c1dpdGgoJ3BlbmRpbmctJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWRTdGFmZiA9IHNlbGVjdGVkU3RhZmZJZCAhPT0gXCJhbnlcIiAmJiBzbG90LnN0YWZmSWQgPT09IHNlbGVjdGVkU3RhZmZJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzbG90LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpc1BlbmRpbmcgJiYgaXNTZWxlY3RlZFN0YWZmID8gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgcGVuZGluZyBzbG90IG9uIGNsaWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNsb3REYXRlS2V5ID0gZm9ybWF0SW5UaW1lWm9uZShkYXksIHRpbWV6b25lLCBcInl5eXktTU0tZGRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGVuZGluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZW5kaW5nRGF0ZUtleSA9IGZvcm1hdEluVGltZVpvbmUocGVuZGluZy5kYXRlLCB0aW1lem9uZSwgXCJ5eXl5LU1NLWRkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIShwZW5kaW5nLnN0YWZmSWQgPT09IHNsb3Quc3RhZmZJZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdEYXRlS2V5ID09PSBzbG90RGF0ZUtleSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmcuaG91ciA9PT0gaG91cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCByb3VuZGVkLWxnIGJvcmRlciBweC0yIHB5LTEuNSB0ZXh0LWxlZnQgdHJhbnNpdGlvbiBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcHJpbWFyeS83MCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1BlbmRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYm9yZGVyLXByaW1hcnkvNjAgYmctcHJpbWFyeS8yMCBob3Zlcjpib3JkZXItcmVkLTUwMC82MCBob3ZlcjpiZy1yZWQtNTAwLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXByaW1hcnkvNDAgYmctcHJpbWFyeS8yMCBob3Zlcjpib3JkZXItcHJpbWFyeS82MCBob3ZlcjpiZy1wcmltYXJ5LzMwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IHN0YWZmTWVtYmVyPy5jb2xvciA/IGAke3N0YWZmTWVtYmVyLmNvbG9yfTgwYCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzdGFmZk1lbWJlcj8uY29sb3IgPyBgJHtzdGFmZk1lbWJlci5jb2xvcn0yMGAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2lzUGVuZGluZyAmJiBpc1NlbGVjdGVkU3RhZmYgPyBcIkNsaWNrIHRvIHJlbW92ZVwiIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKG5ldyBEYXRlKHNsb3Quc3RhcnREYXRlVGltZSksIHRpbWV6b25lLCB7IGhvdXI6IFwibnVtZXJpY1wiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gdGV4dC13aGl0ZS83MCBtdC0wLjUgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nsb3Quc3RhZmZOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC1bMTBweF0gbXQtMC41IHRydW5jYXRlICR7aXNQZW5kaW5nID8gXCJ0ZXh0LXByaW1hcnkvOTAgZm9udC1zZW1pYm9sZFwiIDogXCJ0ZXh0LWVtZXJhbGQtNDAwLzkwIGZvbnQtc2VtaWJvbGRcIn1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzUGVuZGluZyA/IFwi4pyTIFBlbmRpbmdcIiA6IFwi4pyTIFNhdmVkXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFNob3cgZW1wdHkgc3RhdGUgaWYgbm8gc2xvdHMgLSBtYWtlIGl0IGNsaWNrYWJsZSB0byBhZGQgYXZhaWxhYmlsaXR5ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nsb3RzRm9ySG91ci5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRW1wdHlTbG90Q2xpY2soZGF5LCBob3VyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtbGcgYmctd2hpdGUvNSBib3JkZXIgYm9yZGVyLXdoaXRlLzUgaG92ZXI6Ym9yZGVyLXByaW1hcnkvNDAgaG92ZXI6YmctcHJpbWFyeS8xMCBweS0xLjUgdHJhbnNpdGlvbiBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDbGljayB0byBhZGQgYXZhaWxhYmlsaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtd2hpdGUvMjAgdGV4dC1jZW50ZXJcIj4rIEFkZDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7ZXJyb3IgPyAoXG4gICAgICAgIDxIZWxwZXJUZXh0IGludGVudD1cImVycm9yXCIgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAge2Vycm9yfVxuICAgICAgICA8L0hlbHBlclRleHQ+XG4gICAgICApIDogbnVsbH1cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0zXCI+XG4gICAgICAgIDxUZXN0RGF0YUJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVGaWxsVGVzdERhdGF9IC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEFkZCBBdmFpbGFiaWxpdHkgTW9kYWwgKi99XG4gICAgICB7YWRkaW5nQXZhaWxhYmlsaXR5ICYmIChcbiAgICAgICAgPEFkZEF2YWlsYWJpbGl0eU1vZGFsXG4gICAgICAgICAgZGF0ZT17YWRkaW5nQXZhaWxhYmlsaXR5LmRhdGV9XG4gICAgICAgICAgaG91cj17YWRkaW5nQXZhaWxhYmlsaXR5LmhvdXJ9XG4gICAgICAgICAgc2VydmljZT17c2VsZWN0ZWRTZXJ2aWNlfVxuICAgICAgICAgIHN0YWZmPXtzdGFmZi5maWx0ZXIobWVtYmVyID0+IHtcbiAgICAgICAgICAgIGlmIChtZW1iZXIuYWN0aXZlID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgLy8gT25seSBzaG93IHN0YWZmIGFzc2lnbmVkIHRvIHRoaXMgc2VydmljZVxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkU2VydmljZSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRTZXJ2aWNlLnN0YWZmSWRzLmluY2x1ZGVzKG1lbWJlci5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICBvblNlbGVjdFN0YWZmPXtoYW5kbGVBZGRBdmFpbGFiaWxpdHlGb3JTdGFmZn1cbiAgICAgICAgICBvbkNhbmNlbD17KCkgPT4gc2V0QWRkaW5nQXZhaWxhYmlsaXR5KG51bGwpfVxuICAgICAgICAgIGlzU2F2aW5nPXtpc1NhdmluZ0F2YWlsYWJpbGl0eX1cbiAgICAgICAgICB0aW1lem9uZT17dGltZXpvbmV9XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICA8U3RlcEFjdGlvbnMgb25CYWNrPXtvbkJhY2t9IG9uTmV4dD17aGFuZGxlQ29udGludWV9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIEFkZEF2YWlsYWJpbGl0eU1vZGFsKHtcbiAgZGF0ZSxcbiAgaG91cixcbiAgc2VydmljZSxcbiAgc3RhZmYsXG4gIG9uU2VsZWN0U3RhZmYsXG4gIG9uQ2FuY2VsLFxuICBpc1NhdmluZyxcbiAgdGltZXpvbmVcbn06IHtcbiAgZGF0ZTogRGF0ZTtcbiAgaG91cjogbnVtYmVyO1xuICBzZXJ2aWNlOiB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgZHVyYXRpb25NaW51dGVzOiBudW1iZXI7IGNhdGVnb3J5TmFtZT86IHN0cmluZyB9IHwgdW5kZWZpbmVkO1xuICBzdGFmZjogU3RhZmZNZW1iZXJbXTtcbiAgb25TZWxlY3RTdGFmZjogKHN0YWZmSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25DYW5jZWw6ICgpID0+IHZvaWQ7XG4gIGlzU2F2aW5nOiBib29sZWFuO1xuICB0aW1lem9uZTogc3RyaW5nO1xufSkge1xuICBpZiAoIXNlcnZpY2UpIHJldHVybiBudWxsO1xuXG4gIC8vIENhbGN1bGF0ZSBlbmQgdGltZVxuICBjb25zdCBzdGFydE1pbnV0ZXMgPSBob3VyICogNjA7XG4gIGNvbnN0IGVuZE1pbnV0ZXMgPSBzdGFydE1pbnV0ZXMgKyBzZXJ2aWNlLmR1cmF0aW9uTWludXRlcztcbiAgY29uc3QgZW5kSG91ciA9IE1hdGguZmxvb3IoZW5kTWludXRlcyAvIDYwKTtcbiAgY29uc3QgZW5kTWluID0gZW5kTWludXRlcyAlIDYwO1xuICBjb25zdCBzdGFydFRpbWVTdHIgPSBgJHtTdHJpbmcoaG91cikucGFkU3RhcnQoMiwgJzAnKX06MDBgO1xuICBjb25zdCBlbmRUaW1lU3RyID0gYCR7U3RyaW5nKGVuZEhvdXIpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKGVuZE1pbikucGFkU3RhcnQoMiwgJzAnKX1gO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svODAgcHgtNCBweS04XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIG1heC1oLVs5MHZoXSB3LWZ1bGwgbWF4LXctMnhsIG92ZXJmbG93LXktYXV0byByb3VuZGVkLTN4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzkwIHAtOCBzaGFkb3ctWzBfNjBweF8xNjBweF9yZ2JhKDQsMTIsMzUsMC43KV1cIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTYgdG9wLTYgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMjAgYmctd2hpdGUvNSBweC00IHB5LTEgdGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIHRleHQtd2hpdGUvNzAgdHJhbnNpdGlvbiBob3Zlcjp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cbiAgICAgICAgICBkaXNhYmxlZD17aXNTYXZpbmd9XG4gICAgICAgID5cbiAgICAgICAgICA8WCBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJzcGFjZS15LTIgcHItMTZcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZm9udC1kaXNwbGF5IHRleHQtM3hsIHRleHQtd2hpdGVcIj5BZGQgQXZhaWxhYmlsaXR5PC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5cbiAgICAgICAgICAgIFNlbGVjdCBhIHN0YWZmIG1lbWJlciB0byBhZGQgYXZhaWxhYmlsaXR5IGZvciB0aGlzIHRpbWUgc2xvdC5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtOCBzcGFjZS15LTZcIj5cbiAgICAgICAgICB7LyogU2VydmljZSBJbmZvICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1ibGFjay83MCBwLTRcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGUgdGV4dC13aGl0ZS81MCBtYi00XCI+XG4gICAgICAgICAgICAgIFNlcnZpY2VcbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGRcIj57c2VydmljZS5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXdoaXRlLzcwXCI+e3NlcnZpY2UuZHVyYXRpb25NaW51dGVzfSBtaW51dGVzPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogVGltZSBTbG90IEluZm8gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGJnLWJsYWNrLzcwIHAtNFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LXdoaXRlLzUwIG1iLTRcIj5cbiAgICAgICAgICAgICAgVGltZSBTbG90XG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgIHtmb3JtYXRJblRpbWVab25lKGRhdGUsIHRpbWV6b25lLCB7XG4gICAgICAgICAgICAgICAgICB3ZWVrZGF5OiBcImxvbmdcIixcbiAgICAgICAgICAgICAgICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgICAgICAgICAgICAgICBkYXk6IFwibnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgIHtzdGFydFRpbWVTdHJ9IC0ge2VuZFRpbWVTdHJ9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFN0YWZmIFNlbGVjdGlvbiAqL31cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPExhYmVsIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNzAgbWItMiBibG9ja1wiPlNlbGVjdCBTdGFmZiBNZW1iZXI8L0xhYmVsPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAge3N0YWZmLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtd2hpdGUvNjBcIj5ObyBzdGFmZiBtZW1iZXJzIGF2YWlsYWJsZTwvcD5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICBzdGFmZi5tYXAoKG1lbWJlcikgPT4gKFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBrZXk9e21lbWJlci5pZH1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0U3RhZmYobWVtYmVyLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2F2aW5nfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xNSBiZy1bIzA1MEYyQ10vNjAgcHgtNCBweS0zIHRleHQtbGVmdCB0cmFuc2l0aW9uIGhvdmVyOmJvcmRlci1wcmltYXJ5IGhvdmVyOmJnLXByaW1hcnkvMTAgZm9jdXM6Ym9yZGVyLXByaW1hcnkgZm9jdXM6b3V0bGluZS1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogbWVtYmVyLmNvbG9yID8gYCR7bWVtYmVyLmNvbG9yfTgwYCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHttZW1iZXIuY29sb3IgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTQgdy00IHJvdW5kZWQtZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogbWVtYmVyLmNvbG9yIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+e21lbWJlci5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZW1iZXIucm9sZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC13aGl0ZS82MFwiPnttZW1iZXIucm9sZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEFjdGlvbiBCdXR0b25zICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTNcIj5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIG9uQ2xpY2s9e29uQ2FuY2VsfSBkaXNhYmxlZD17aXNTYXZpbmd9PlxuICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFN0YWZmUGlsbCh7XG4gIGxhYmVsLFxuICBjb2xvcixcbiAgYWN0aXZlLFxuICBvbkNsaWNrXG59OiB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGNvbG9yPzogc3RyaW5nO1xuICBhY3RpdmU6IGJvb2xlYW47XG4gIG9uQ2xpY2s6ICgpID0+IHZvaWQ7XG59KSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgY2xhc3NOYW1lPXtgcm91bmRlZC1mdWxsIGJvcmRlciBweC00IHB5LTIgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1wcmltYXJ5LzcwIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LWJsYWNrICR7XG4gICAgICAgIGFjdGl2ZSBcbiAgICAgICAgICA/IFwiYm9yZGVyLXdoaXRlLzYwIGJnLXdoaXRlLzE1IHRleHQtd2hpdGVcIiBcbiAgICAgICAgICA6IFwiYm9yZGVyLXdoaXRlLzEwIGJnLXdoaXRlLzUgdGV4dC13aGl0ZS82MCBob3Zlcjp0ZXh0LXdoaXRlLzgwXCJcbiAgICAgIH1gfVxuICAgICAgc3R5bGU9e2FjdGl2ZSAmJiBjb2xvciA/IHsgYm9yZGVyQ29sb3I6IGNvbG9yLCBib3hTaGFkb3c6IGAwIDAgMjVweCAke2NvbG9yfTMzYCB9IDogdW5kZWZpbmVkfVxuICAgID5cbiAgICAgIHtsYWJlbH1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJDaGV2cm9uTGVmdCIsIkNoZXZyb25SaWdodCIsIlNhdmUiLCJDYWxlbmRhckNoZWNrMiIsIlgiLCJCdXR0b24iLCJIZWxwZXJUZXh0IiwiTGFiZWwiLCJTdGVwQWN0aW9ucyIsIlRlc3REYXRhQnV0dG9uIiwiZ2VuZXJhdGVBdmFpbGFiaWxpdHlEYXRhIiwiZm9ybWF0SW5UaW1lWm9uZSIsInpvbmVkTWludXRlc1RvRGF0ZSIsImJ1aWxkRXhwYW5kZWRTbG90cyIsImdyb3VwU2xvdHNCeURheSIsImNyZWF0ZUNsaWVudENsaWVudCIsIkF2YWlsYWJpbGl0eVN0ZXAiLCJzZXJ2aWNlcyIsInN0YWZmIiwiZGVmYXVsdFZhbHVlcyIsIm9uTmV4dCIsIm9uQmFjayIsInRpbWV6b25lIiwiY3VycmVudFdlZWtTdGFydCIsInNldEN1cnJlbnRXZWVrU3RhcnQiLCJ0b2RheSIsIkRhdGUiLCJkYXlPZldlZWsiLCJnZXREYXkiLCJkaWZmIiwiZ2V0RGF0ZSIsInN1bmRheSIsInNldERhdGUiLCJzZXRIb3VycyIsInNlbGVjdGVkU2VydmljZUlkIiwic2V0U2VsZWN0ZWRTZXJ2aWNlSWQiLCJzZWxlY3RlZFN0YWZmSWQiLCJzZXRTZWxlY3RlZFN0YWZmSWQiLCJmZXRjaGVkU2xvdHMiLCJzZXRGZXRjaGVkU2xvdHMiLCJpc1NhdmluZ0F2YWlsYWJpbGl0eSIsInNldElzU2F2aW5nQXZhaWxhYmlsaXR5Iiwic2F2ZWRBdmFpbGFiaWxpdHkiLCJzZXRTYXZlZEF2YWlsYWJpbGl0eSIsInBlbmRpbmdBdmFpbGFiaWxpdHlBZGRpdGlvbnMiLCJzZXRQZW5kaW5nQXZhaWxhYmlsaXR5QWRkaXRpb25zIiwiZXJyb3IiLCJzZXRFcnJvciIsImFsbFNlcnZpY2VzIiwiZmxhdE1hcCIsImNhdGVnb3J5IiwibWFwIiwic2VydmljZSIsImNhdGVnb3J5TmFtZSIsIm5hbWUiLCJzZWxlY3RlZFNlcnZpY2UiLCJmaW5kIiwicyIsImlkIiwic2VydmljZUF2YWlsIiwiYXZhaWwiLCJzZXJ2aWNlSWQiLCJ3ZWVrU3RhcnQiLCJleHBhbmRlZFNsb3RzIiwic2VydmljZUF2YWlsYWJpbGl0eSIsInN0YXJ0RGF0ZSIsImhvcml6b25EYXlzIiwiaW5jbHVkZVBhc3RTbG90cyIsImdyb3VwZWRTbG90cyIsIndlZWtEYXlzIiwiZGF5cyIsImkiLCJkYXRlIiwicHVzaCIsImhvdXJzIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsInNsb3RzQnlEYXlBbmRIb3VyIiwiZ3JvdXBlZCIsImFsbFNsb3RzIiwiT2JqZWN0IiwidmFsdWVzIiwiZmxhdCIsImZvckVhY2giLCJzbG90Iiwic2xvdERhdGUiLCJzdGFydERhdGVUaW1lIiwiZGF0ZUtleSIsImhvdXIiLCJob3VyMTIiLCJob3VyTnVtIiwicGFyc2VJbnQiLCJpc0luQ3VycmVudFdlZWsiLCJzb21lIiwiZGF5IiwiZGF5S2V5IiwiaXNEdXBsaWNhdGUiLCJleGlzdGluZyIsInN0YWZmSWQiLCJwZW5kaW5nIiwiYWxyZWFkeVBlbmRpbmciLCJzdGFydHNXaXRoIiwiZmlsdGVyIiwic3RhZmZNZW1iZXIiLCJlbmREYXRlVGltZSIsImdldFRpbWUiLCJkdXJhdGlvbk1pbnV0ZXMiLCJzdGFmZk5hbWUiLCJzdGFmZkNvbG9yIiwiY29sb3IiLCJ0b0lTT1N0cmluZyIsImRheUxhYmVsIiwid2Vla2RheSIsIm5hdmlnYXRlV2VlayIsImRpcmVjdGlvbiIsIm5ld0RhdGUiLCJoYW5kbGVFbXB0eVNsb3RDbGljayIsInNlcnZpY2VTdGFmZiIsIm1lbWJlciIsImFjdGl2ZSIsInN0YWZmSWRzIiwiaW5jbHVkZXMiLCJzdGFmZlRvUHJvY2VzcyIsIm0iLCJCb29sZWFuIiwiYWxsUGVuZGluZyIsImV2ZXJ5IiwidG9EYXRlU3RyaW5nIiwicHJldiIsImlzU2VsZWN0ZWRTdGFmZiIsIm5ld0FkZGl0aW9ucyIsImhhbmRsZVNhdmVBdmFpbGFiaWxpdHkiLCJzdXBhYmFzZSIsImRhdGEiLCJzZXNzaW9uIiwiYXV0aCIsImdldFNlc3Npb24iLCJhdXRoVG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJFcnJvciIsImFsbEF2YWlsYWJpbGl0eSIsInRhcmdldERhdGUiLCJ0YXJnZXRIb3VyIiwid2Vla2RheU5hbWUiLCJ0b0xvd2VyQ2FzZSIsInN0YXJ0VGltZSIsIlN0cmluZyIsInBhZFN0YXJ0Iiwic3RhcnRNaW51dGVzIiwiZW5kTWludXRlcyIsImVuZEhvdXIiLCJNYXRoIiwiZmxvb3IiLCJlbmRNaW4iLCJlbmRUaW1lIiwic3RhZmZBdmFpbGFiaWxpdHkiLCJzbG90cyIsInNsb3RFeGlzdHMiLCJub3ciLCJyYW5kb20iLCJzYXZlUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJjcmVkZW50aWFscyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXZhaWxhYmlsaXR5Iiwib2siLCJlcnJvckRhdGEiLCJqc29uIiwiY2F0Y2giLCJjb25zb2xlIiwibWVzc2FnZSIsImhhbmRsZUNvbnRpbnVlIiwic2F2ZVN1Y2Nlc3MiLCJyZXN1bHQiLCJtYXBQZW5kaW5nVG9TZXJ2aWNlQXZhaWxhYmlsaXR5Iiwic2VydmljZXNOZWVkaW5nQXZhaWxhYmlsaXR5Iiwic2VydmljZURlZiIsInN0YWZmRW50cnkiLCJzdGFmZk1hcCIsIk1hcCIsImhhcyIsInNldCIsImdldCIsImVudHJpZXMiLCJoYW5kbGVGaWxsVGVzdERhdGEiLCJ0ZXN0RGF0YSIsInJlc3BvbnNlIiwibW9udGhZZWFyIiwibW9udGgiLCJ5ZWFyIiwiZGl2IiwiY2xhc3NOYW1lIiwiYXJpYS1sYWJlbGxlZGJ5IiwiaGVhZGVyIiwic3BhbiIsImFyaWEtaGlkZGVuIiwiaDIiLCJwIiwic2VsZWN0IiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJvcHRpb24iLCJwcmljZUNlbnRzIiwidG9GaXhlZCIsInN0cm9uZyIsIlN0YWZmUGlsbCIsImxhYmVsIiwib25DbGljayIsInZhcmlhbnQiLCJkaXNhYmxlZCIsImlzTG9hZGluZyIsImgzIiwiaWR4IiwiaG91ckxhYmVsIiwiZGF5SWR4Iiwic2xvdHNGb3JIb3VyIiwiaXNQZW5kaW5nIiwiYnV0dG9uIiwidHlwZSIsInNsb3REYXRlS2V5IiwicGVuZGluZ0RhdGVLZXkiLCJ1bmRlZmluZWQiLCJzdHlsZSIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwidGl0bGUiLCJtaW51dGUiLCJpbnRlbnQiLCJyb2xlIiwiYWRkaW5nQXZhaWxhYmlsaXR5IiwiQWRkQXZhaWxhYmlsaXR5TW9kYWwiLCJvblNlbGVjdFN0YWZmIiwiaGFuZGxlQWRkQXZhaWxhYmlsaXR5Rm9yU3RhZmYiLCJvbkNhbmNlbCIsInNldEFkZGluZ0F2YWlsYWJpbGl0eSIsImlzU2F2aW5nIiwic3RhcnRUaW1lU3RyIiwiZW5kVGltZVN0ciIsImJveFNoYWRvdyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/onboarding/availability-step.tsx\n"));

/***/ })

});